function BX(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function rH(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Zg={},FX={get exports(){return Zg},set exports(n){Zg=n}},$w={},N={},zX={get exports(){return N},set exports(n){N=n}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy=Symbol.for("react.element"),UX=Symbol.for("react.portal"),HX=Symbol.for("react.fragment"),GX=Symbol.for("react.strict_mode"),VX=Symbol.for("react.profiler"),WX=Symbol.for("react.provider"),jX=Symbol.for("react.context"),$X=Symbol.for("react.forward_ref"),KX=Symbol.for("react.suspense"),XX=Symbol.for("react.memo"),JX=Symbol.for("react.lazy"),kD=Symbol.iterator;function YX(n){return n===null||typeof n!="object"?null:(n=kD&&n[kD]||n["@@iterator"],typeof n=="function"?n:null)}var iH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sH=Object.assign,oH={};function xp(n,e,t){this.props=n,this.context=e,this.refs=oH,this.updater=t||iH}xp.prototype.isReactComponent={};xp.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};xp.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function aH(){}aH.prototype=xp.prototype;function PI(n,e,t){this.props=n,this.context=e,this.refs=oH,this.updater=t||iH}var RI=PI.prototype=new aH;RI.constructor=PI;sH(RI,xp.prototype);RI.isPureReactComponent=!0;var OD=Array.isArray,lH=Object.prototype.hasOwnProperty,II={current:null},cH={key:!0,ref:!0,__self:!0,__source:!0};function uH(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)lH.call(e,r)&&!cH.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:dy,type:n,key:s,ref:o,props:i,_owner:II.current}}function qX(n,e){return{$$typeof:dy,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function NI(n){return typeof n=="object"&&n!==null&&n.$$typeof===dy}function QX(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var LD=/\/+/g;function nC(n,e){return typeof n=="object"&&n!==null&&n.key!=null?QX(""+n.key):e.toString(36)}function kx(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case dy:case UX:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+nC(o,0):r,OD(i)?(t="",n!=null&&(t=n.replace(LD,"$&/")+"/"),kx(i,e,t,"",function(c){return c})):i!=null&&(NI(i)&&(i=qX(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(LD,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",OD(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+nC(s,a);o+=kx(s,e,t,l,i)}else if(l=YX(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+nC(s,a++),o+=kx(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function l_(n,e,t){if(n==null)return n;var r=[],i=0;return kx(n,r,"","",function(s){return e.call(t,s,i++)}),r}function ZX(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var $i={current:null},Ox={transition:null},eJ={ReactCurrentDispatcher:$i,ReactCurrentBatchConfig:Ox,ReactCurrentOwner:II};Ht.Children={map:l_,forEach:function(n,e,t){l_(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return l_(n,function(){e++}),e},toArray:function(n){return l_(n,function(e){return e})||[]},only:function(n){if(!NI(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ht.Component=xp;Ht.Fragment=HX;Ht.Profiler=VX;Ht.PureComponent=PI;Ht.StrictMode=GX;Ht.Suspense=KX;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eJ;Ht.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=sH({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=II.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)lH.call(e,l)&&!cH.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:dy,type:n.type,key:i,ref:s,props:r,_owner:o}};Ht.createContext=function(n){return n={$$typeof:jX,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:WX,_context:n},n.Consumer=n};Ht.createElement=uH;Ht.createFactory=function(n){var e=uH.bind(null,n);return e.type=n,e};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(n){return{$$typeof:$X,render:n}};Ht.isValidElement=NI;Ht.lazy=function(n){return{$$typeof:JX,_payload:{_status:-1,_result:n},_init:ZX}};Ht.memo=function(n,e){return{$$typeof:XX,type:n,compare:e===void 0?null:e}};Ht.startTransition=function(n){var e=Ox.transition;Ox.transition={};try{n()}finally{Ox.transition=e}};Ht.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ht.useCallback=function(n,e){return $i.current.useCallback(n,e)};Ht.useContext=function(n){return $i.current.useContext(n)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(n){return $i.current.useDeferredValue(n)};Ht.useEffect=function(n,e){return $i.current.useEffect(n,e)};Ht.useId=function(){return $i.current.useId()};Ht.useImperativeHandle=function(n,e,t){return $i.current.useImperativeHandle(n,e,t)};Ht.useInsertionEffect=function(n,e){return $i.current.useInsertionEffect(n,e)};Ht.useLayoutEffect=function(n,e){return $i.current.useLayoutEffect(n,e)};Ht.useMemo=function(n,e){return $i.current.useMemo(n,e)};Ht.useReducer=function(n,e,t){return $i.current.useReducer(n,e,t)};Ht.useRef=function(n){return $i.current.useRef(n)};Ht.useState=function(n){return $i.current.useState(n)};Ht.useSyncExternalStore=function(n,e,t){return $i.current.useSyncExternalStore(n,e,t)};Ht.useTransition=function(){return $i.current.useTransition()};Ht.version="18.2.0";(function(n){n.exports=Ht})(zX);const _e=jw(N),Nf=BX({__proto__:null,default:_e},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tJ=N,nJ=Symbol.for("react.element"),rJ=Symbol.for("react.fragment"),iJ=Object.prototype.hasOwnProperty,sJ=tJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oJ={key:!0,ref:!0,__self:!0,__source:!0};function dH(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)iJ.call(e,r)&&!oJ.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nJ,type:n,key:s,ref:o,props:i,_owner:sJ.current}}$w.Fragment=rJ;$w.jsx=dH;$w.jsxs=dH;(function(n){n.exports=$w})(FX);const fs=Zg.Fragment,y=Zg.jsx,F=Zg.jsxs,aJ=Object.freeze(Object.defineProperty({__proto__:null,Fragment:fs,jsx:y,jsxs:F},Symbol.toStringTag,{value:"Module"}));var BM={},pd={},lJ={get exports(){return pd},set exports(n){pd=n}},Os={},FM={},cJ={get exports(){return FM},set exports(n){FM=n}},hH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,z){var Z=D.length;D.push(z);e:for(;0<Z;){var he=Z-1>>>1,G=D[he];if(0<i(G,z))D[he]=z,D[Z]=G,Z=he;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var z=D[0],Z=D.pop();if(Z!==z){D[0]=Z;e:for(var he=0,G=D.length,te=G>>>1;he<te;){var re=2*(he+1)-1,q=D[re],$=re+1,me=D[$];if(0>i(q,Z))$<G&&0>i(me,q)?(D[he]=me,D[$]=Z,he=$):(D[he]=q,D[re]=Z,he=re);else if($<G&&0>i(me,Z))D[he]=me,D[$]=Z,he=$;else break e}}return z}function i(D,z){var Z=D.sortIndex-z.sortIndex;return Z!==0?Z:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,m=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var z=t(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=D)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(c)}}function E(D){if(v=!1,w(D),!g)if(t(l)!==null)g=!0,ee(A);else{var z=t(c);z!==null&&Q(E,z.startTime-D)}}function A(D,z){g=!1,v&&(v=!1,x(M),M=-1),m=!0;var Z=h;try{for(w(z),d=t(l);d!==null&&(!(d.expirationTime>z)||D&&!L());){var he=d.callback;if(typeof he=="function"){d.callback=null,h=d.priorityLevel;var G=he(d.expirationTime<=z);z=n.unstable_now(),typeof G=="function"?d.callback=G:d===t(l)&&r(l),w(z)}else r(l);d=t(l)}if(d!==null)var te=!0;else{var re=t(c);re!==null&&Q(E,re.startTime-z),te=!1}return te}finally{d=null,h=Z,m=!1}}var T=!1,I=null,M=-1,R=5,O=-1;function L(){return!(n.unstable_now()-O<R)}function X(){if(I!==null){var D=n.unstable_now();O=D;var z=!0;try{z=I(!0,D)}finally{z?W():(T=!1,I=null)}}else T=!1}var W;if(typeof b=="function")W=function(){b(X)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,U=K.port2;K.port1.onmessage=X,W=function(){U.postMessage(null)}}else W=function(){_(X,0)};function ee(D){I=D,T||(T=!0,W())}function Q(D,z){M=_(function(){D(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,ee(A))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Z=h;h=z;try{return D()}finally{h=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Z=h;h=D;try{return z()}finally{h=Z}},n.unstable_scheduleCallback=function(D,z,Z){var he=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?he+Z:he):Z=he,D){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Z+G,D={id:u++,callback:z,priorityLevel:D,startTime:Z,expirationTime:G,sortIndex:-1},Z>he?(D.sortIndex=Z,e(c,D),t(l)===null&&D===t(c)&&(v?(x(M),M=-1):v=!0,Q(E,Z-he))):(D.sortIndex=G,e(l,D),g||m||(g=!0,ee(A))),D},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(D){var z=h;return function(){var Z=h;h=z;try{return D.apply(this,arguments)}finally{h=Z}}}})(hH);(function(n){n.exports=hH})(cJ);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fH=N,Ps=FM;function Ge(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pH=new Set,ev={};function Od(n,e){kf(n,e),kf(n+"Capture",e)}function kf(n,e){for(ev[n]=e,n=0;n<e.length;n++)pH.add(e[n])}var gl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zM=Object.prototype.hasOwnProperty,uJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DD={},BD={};function dJ(n){return zM.call(BD,n)?!0:zM.call(DD,n)?!1:uJ.test(n)?BD[n]=!0:(DD[n]=!0,!1)}function hJ(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function fJ(n,e,t,r){if(e===null||typeof e>"u"||hJ(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ki(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ci={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ci[n]=new Ki(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];ci[e]=new Ki(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ci[n]=new Ki(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ci[n]=new Ki(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ci[n]=new Ki(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ci[n]=new Ki(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ci[n]=new Ki(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ci[n]=new Ki(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ci[n]=new Ki(n,5,!1,n.toLowerCase(),null,!1,!1)});var kI=/[\-:]([a-z])/g;function OI(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(kI,OI);ci[e]=new Ki(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(kI,OI);ci[e]=new Ki(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(kI,OI);ci[e]=new Ki(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ci[n]=new Ki(n,1,!1,n.toLowerCase(),null,!1,!1)});ci.xlinkHref=new Ki("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ci[n]=new Ki(n,1,!1,n.toLowerCase(),null,!0,!0)});function LI(n,e,t,r){var i=ci.hasOwnProperty(e)?ci[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fJ(e,t,i,r)&&(t=null),r||i===null?dJ(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Al=fH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c_=Symbol.for("react.element"),Hh=Symbol.for("react.portal"),Gh=Symbol.for("react.fragment"),DI=Symbol.for("react.strict_mode"),UM=Symbol.for("react.profiler"),mH=Symbol.for("react.provider"),gH=Symbol.for("react.context"),BI=Symbol.for("react.forward_ref"),HM=Symbol.for("react.suspense"),GM=Symbol.for("react.suspense_list"),FI=Symbol.for("react.memo"),rc=Symbol.for("react.lazy"),vH=Symbol.for("react.offscreen"),FD=Symbol.iterator;function mm(n){return n===null||typeof n!="object"?null:(n=FD&&n[FD]||n["@@iterator"],typeof n=="function"?n:null)}var tr=Object.assign,rC;function ag(n){if(rC===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);rC=e&&e[1]||""}return`
`+rC+n}var iC=!1;function sC(n,e){if(!n||iC)return"";iC=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{iC=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?ag(n):""}function pJ(n){switch(n.tag){case 5:return ag(n.type);case 16:return ag("Lazy");case 13:return ag("Suspense");case 19:return ag("SuspenseList");case 0:case 2:case 15:return n=sC(n.type,!1),n;case 11:return n=sC(n.type.render,!1),n;case 1:return n=sC(n.type,!0),n;default:return""}}function VM(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Gh:return"Fragment";case Hh:return"Portal";case UM:return"Profiler";case DI:return"StrictMode";case HM:return"Suspense";case GM:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case gH:return(n.displayName||"Context")+".Consumer";case mH:return(n._context.displayName||"Context")+".Provider";case BI:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case FI:return e=n.displayName||null,e!==null?e:VM(n.type)||"Memo";case rc:e=n._payload,n=n._init;try{return VM(n(e))}catch{}}return null}function mJ(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return VM(e);case 8:return e===DI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function yH(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gJ(n){var e=yH(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function u_(n){n._valueTracker||(n._valueTracker=gJ(n))}function _H(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=yH(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function hb(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function WM(n,e){var t=e.checked;return tr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function zD(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Dc(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xH(n,e){e=e.checked,e!=null&&LI(n,"checked",e,!1)}function jM(n,e){xH(n,e);var t=Dc(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?$M(n,e.type,t):e.hasOwnProperty("defaultValue")&&$M(n,e.type,Dc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function UD(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function $M(n,e,t){(e!=="number"||hb(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var lg=Array.isArray;function df(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Dc(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function KM(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return tr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function HD(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ge(92));if(lg(t)){if(1<t.length)throw Error(Ge(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Dc(t)}}function bH(n,e){var t=Dc(e.value),r=Dc(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function GD(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function wH(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function XM(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?wH(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var d_,SH=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(d_=d_||document.createElement("div"),d_.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=d_.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function tv(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var bg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vJ=["Webkit","ms","Moz","O"];Object.keys(bg).forEach(function(n){vJ.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),bg[e]=bg[n]})});function EH(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||bg.hasOwnProperty(n)&&bg[n]?(""+e).trim():e+"px"}function CH(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=EH(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var yJ=tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function JM(n,e){if(e){if(yJ[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ge(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ge(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ge(62))}}function YM(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qM=null;function zI(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var QM=null,hf=null,ff=null;function VD(n){if(n=py(n)){if(typeof QM!="function")throw Error(Ge(280));var e=n.stateNode;e&&(e=qw(e),QM(n.stateNode,n.type,e))}}function AH(n){hf?ff?ff.push(n):ff=[n]:hf=n}function MH(){if(hf){var n=hf,e=ff;if(ff=hf=null,VD(n),e)for(n=0;n<e.length;n++)VD(e[n])}}function TH(n,e){return n(e)}function PH(){}var oC=!1;function RH(n,e,t){if(oC)return n(e,t);oC=!0;try{return TH(n,e,t)}finally{oC=!1,(hf!==null||ff!==null)&&(PH(),MH())}}function nv(n,e){var t=n.stateNode;if(t===null)return null;var r=qw(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ge(231,e,typeof t));return t}var ZM=!1;if(gl)try{var gm={};Object.defineProperty(gm,"passive",{get:function(){ZM=!0}}),window.addEventListener("test",gm,gm),window.removeEventListener("test",gm,gm)}catch{ZM=!1}function _J(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var wg=!1,fb=null,pb=!1,eT=null,xJ={onError:function(n){wg=!0,fb=n}};function bJ(n,e,t,r,i,s,o,a,l){wg=!1,fb=null,_J.apply(xJ,arguments)}function wJ(n,e,t,r,i,s,o,a,l){if(bJ.apply(this,arguments),wg){if(wg){var c=fb;wg=!1,fb=null}else throw Error(Ge(198));pb||(pb=!0,eT=c)}}function Ld(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function IH(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function WD(n){if(Ld(n)!==n)throw Error(Ge(188))}function SJ(n){var e=n.alternate;if(!e){if(e=Ld(n),e===null)throw Error(Ge(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return WD(i),n;if(s===r)return WD(i),e;s=s.sibling}throw Error(Ge(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ge(189))}}if(t.alternate!==r)throw Error(Ge(190))}if(t.tag!==3)throw Error(Ge(188));return t.stateNode.current===t?n:e}function NH(n){return n=SJ(n),n!==null?kH(n):null}function kH(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=kH(n);if(e!==null)return e;n=n.sibling}return null}var OH=Ps.unstable_scheduleCallback,jD=Ps.unstable_cancelCallback,EJ=Ps.unstable_shouldYield,CJ=Ps.unstable_requestPaint,vr=Ps.unstable_now,AJ=Ps.unstable_getCurrentPriorityLevel,UI=Ps.unstable_ImmediatePriority,LH=Ps.unstable_UserBlockingPriority,mb=Ps.unstable_NormalPriority,MJ=Ps.unstable_LowPriority,DH=Ps.unstable_IdlePriority,Kw=null,va=null;function TJ(n){if(va&&typeof va.onCommitFiberRoot=="function")try{va.onCommitFiberRoot(Kw,n,void 0,(n.current.flags&128)===128)}catch{}}var Oo=Math.clz32?Math.clz32:IJ,PJ=Math.log,RJ=Math.LN2;function IJ(n){return n>>>=0,n===0?32:31-(PJ(n)/RJ|0)|0}var h_=64,f_=4194304;function cg(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function gb(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=cg(a):(s&=o,s!==0&&(r=cg(s)))}else o=t&~i,o!==0?r=cg(o):s!==0&&(r=cg(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Oo(e),i=1<<t,r|=n[t],e&=~i;return r}function NJ(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kJ(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Oo(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=NJ(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function tT(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function BH(){var n=h_;return h_<<=1,!(h_&4194240)&&(h_=64),n}function aC(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function hy(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Oo(e),n[e]=t}function OJ(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Oo(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function HI(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Oo(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var vn=0;function FH(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var zH,GI,UH,HH,GH,nT=!1,p_=[],yc=null,_c=null,xc=null,rv=new Map,iv=new Map,ac=[],LJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $D(n,e){switch(n){case"focusin":case"focusout":yc=null;break;case"dragenter":case"dragleave":_c=null;break;case"mouseover":case"mouseout":xc=null;break;case"pointerover":case"pointerout":rv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":iv.delete(e.pointerId)}}function vm(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=py(e),e!==null&&GI(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function DJ(n,e,t,r,i){switch(e){case"focusin":return yc=vm(yc,n,e,t,r,i),!0;case"dragenter":return _c=vm(_c,n,e,t,r,i),!0;case"mouseover":return xc=vm(xc,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return rv.set(s,vm(rv.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,iv.set(s,vm(iv.get(s)||null,n,e,t,r,i)),!0}return!1}function VH(n){var e=ju(n.target);if(e!==null){var t=Ld(e);if(t!==null){if(e=t.tag,e===13){if(e=IH(t),e!==null){n.blockedOn=e,GH(n.priority,function(){UH(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Lx(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=rT(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);qM=r,t.target.dispatchEvent(r),qM=null}else return e=py(t),e!==null&&GI(e),n.blockedOn=t,!1;e.shift()}return!0}function KD(n,e,t){Lx(n)&&t.delete(e)}function BJ(){nT=!1,yc!==null&&Lx(yc)&&(yc=null),_c!==null&&Lx(_c)&&(_c=null),xc!==null&&Lx(xc)&&(xc=null),rv.forEach(KD),iv.forEach(KD)}function ym(n,e){n.blockedOn===e&&(n.blockedOn=null,nT||(nT=!0,Ps.unstable_scheduleCallback(Ps.unstable_NormalPriority,BJ)))}function sv(n){function e(i){return ym(i,n)}if(0<p_.length){ym(p_[0],n);for(var t=1;t<p_.length;t++){var r=p_[t];r.blockedOn===n&&(r.blockedOn=null)}}for(yc!==null&&ym(yc,n),_c!==null&&ym(_c,n),xc!==null&&ym(xc,n),rv.forEach(e),iv.forEach(e),t=0;t<ac.length;t++)r=ac[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<ac.length&&(t=ac[0],t.blockedOn===null);)VH(t),t.blockedOn===null&&ac.shift()}var pf=Al.ReactCurrentBatchConfig,vb=!0;function FJ(n,e,t,r){var i=vn,s=pf.transition;pf.transition=null;try{vn=1,VI(n,e,t,r)}finally{vn=i,pf.transition=s}}function zJ(n,e,t,r){var i=vn,s=pf.transition;pf.transition=null;try{vn=4,VI(n,e,t,r)}finally{vn=i,pf.transition=s}}function VI(n,e,t,r){if(vb){var i=rT(n,e,t,r);if(i===null)vC(n,e,r,yb,t),$D(n,r);else if(DJ(i,n,e,t,r))r.stopPropagation();else if($D(n,r),e&4&&-1<LJ.indexOf(n)){for(;i!==null;){var s=py(i);if(s!==null&&zH(s),s=rT(n,e,t,r),s===null&&vC(n,e,r,yb,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else vC(n,e,r,null,t)}}var yb=null;function rT(n,e,t,r){if(yb=null,n=zI(r),n=ju(n),n!==null)if(e=Ld(n),e===null)n=null;else if(t=e.tag,t===13){if(n=IH(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return yb=n,null}function WH(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AJ()){case UI:return 1;case LH:return 4;case mb:case MJ:return 16;case DH:return 536870912;default:return 16}default:return 16}}var cc=null,WI=null,Dx=null;function jH(){if(Dx)return Dx;var n,e=WI,t=e.length,r,i="value"in cc?cc.value:cc.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Dx=i.slice(n,1<r?1-r:void 0)}function Bx(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function m_(){return!0}function XD(){return!1}function Ls(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?m_:XD,this.isPropagationStopped=XD,this}return tr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=m_)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=m_)},persist:function(){},isPersistent:m_}),e}var bp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jI=Ls(bp),fy=tr({},bp,{view:0,detail:0}),UJ=Ls(fy),lC,cC,_m,Xw=tr({},fy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$I,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_m&&(_m&&n.type==="mousemove"?(lC=n.screenX-_m.screenX,cC=n.screenY-_m.screenY):cC=lC=0,_m=n),lC)},movementY:function(n){return"movementY"in n?n.movementY:cC}}),JD=Ls(Xw),HJ=tr({},Xw,{dataTransfer:0}),GJ=Ls(HJ),VJ=tr({},fy,{relatedTarget:0}),uC=Ls(VJ),WJ=tr({},bp,{animationName:0,elapsedTime:0,pseudoElement:0}),jJ=Ls(WJ),$J=tr({},bp,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),KJ=Ls($J),XJ=tr({},bp,{data:0}),YD=Ls(XJ),JJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QJ(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=qJ[n])?!!e[n]:!1}function $I(){return QJ}var ZJ=tr({},fy,{key:function(n){if(n.key){var e=JJ[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Bx(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?YJ[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$I,charCode:function(n){return n.type==="keypress"?Bx(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Bx(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),eY=Ls(ZJ),tY=tr({},Xw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qD=Ls(tY),nY=tr({},fy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$I}),rY=Ls(nY),iY=tr({},bp,{propertyName:0,elapsedTime:0,pseudoElement:0}),sY=Ls(iY),oY=tr({},Xw,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),aY=Ls(oY),lY=[9,13,27,32],KI=gl&&"CompositionEvent"in window,Sg=null;gl&&"documentMode"in document&&(Sg=document.documentMode);var cY=gl&&"TextEvent"in window&&!Sg,$H=gl&&(!KI||Sg&&8<Sg&&11>=Sg),QD=String.fromCharCode(32),ZD=!1;function KH(n,e){switch(n){case"keyup":return lY.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XH(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Vh=!1;function uY(n,e){switch(n){case"compositionend":return XH(e);case"keypress":return e.which!==32?null:(ZD=!0,QD);case"textInput":return n=e.data,n===QD&&ZD?null:n;default:return null}}function dY(n,e){if(Vh)return n==="compositionend"||!KI&&KH(n,e)?(n=jH(),Dx=WI=cc=null,Vh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $H&&e.locale!=="ko"?null:e.data;default:return null}}var hY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eB(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!hY[n.type]:e==="textarea"}function JH(n,e,t,r){AH(r),e=_b(e,"onChange"),0<e.length&&(t=new jI("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Eg=null,ov=null;function fY(n){oG(n,0)}function Jw(n){var e=$h(n);if(_H(e))return n}function pY(n,e){if(n==="change")return e}var YH=!1;if(gl){var dC;if(gl){var hC="oninput"in document;if(!hC){var tB=document.createElement("div");tB.setAttribute("oninput","return;"),hC=typeof tB.oninput=="function"}dC=hC}else dC=!1;YH=dC&&(!document.documentMode||9<document.documentMode)}function nB(){Eg&&(Eg.detachEvent("onpropertychange",qH),ov=Eg=null)}function qH(n){if(n.propertyName==="value"&&Jw(ov)){var e=[];JH(e,ov,n,zI(n)),RH(fY,e)}}function mY(n,e,t){n==="focusin"?(nB(),Eg=e,ov=t,Eg.attachEvent("onpropertychange",qH)):n==="focusout"&&nB()}function gY(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Jw(ov)}function vY(n,e){if(n==="click")return Jw(e)}function yY(n,e){if(n==="input"||n==="change")return Jw(e)}function _Y(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Fo=typeof Object.is=="function"?Object.is:_Y;function av(n,e){if(Fo(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!zM.call(e,i)||!Fo(n[i],e[i]))return!1}return!0}function rB(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function iB(n,e){var t=rB(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=rB(t)}}function QH(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?QH(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function ZH(){for(var n=window,e=hb();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=hb(n.document)}return e}function XI(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function xY(n){var e=ZH(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&QH(t.ownerDocument.documentElement,t)){if(r!==null&&XI(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=iB(t,s);var o=iB(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var bY=gl&&"documentMode"in document&&11>=document.documentMode,Wh=null,iT=null,Cg=null,sT=!1;function sB(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;sT||Wh==null||Wh!==hb(r)||(r=Wh,"selectionStart"in r&&XI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cg&&av(Cg,r)||(Cg=r,r=_b(iT,"onSelect"),0<r.length&&(e=new jI("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Wh)))}function g_(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var jh={animationend:g_("Animation","AnimationEnd"),animationiteration:g_("Animation","AnimationIteration"),animationstart:g_("Animation","AnimationStart"),transitionend:g_("Transition","TransitionEnd")},fC={},eG={};gl&&(eG=document.createElement("div").style,"AnimationEvent"in window||(delete jh.animationend.animation,delete jh.animationiteration.animation,delete jh.animationstart.animation),"TransitionEvent"in window||delete jh.transitionend.transition);function Yw(n){if(fC[n])return fC[n];if(!jh[n])return n;var e=jh[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in eG)return fC[n]=e[t];return n}var tG=Yw("animationend"),nG=Yw("animationiteration"),rG=Yw("animationstart"),iG=Yw("transitionend"),sG=new Map,oB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eu(n,e){sG.set(n,e),Od(e,[n])}for(var pC=0;pC<oB.length;pC++){var mC=oB[pC],wY=mC.toLowerCase(),SY=mC[0].toUpperCase()+mC.slice(1);eu(wY,"on"+SY)}eu(tG,"onAnimationEnd");eu(nG,"onAnimationIteration");eu(rG,"onAnimationStart");eu("dblclick","onDoubleClick");eu("focusin","onFocus");eu("focusout","onBlur");eu(iG,"onTransitionEnd");kf("onMouseEnter",["mouseout","mouseover"]);kf("onMouseLeave",["mouseout","mouseover"]);kf("onPointerEnter",["pointerout","pointerover"]);kf("onPointerLeave",["pointerout","pointerover"]);Od("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Od("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Od("onBeforeInput",["compositionend","keypress","textInput","paste"]);Od("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Od("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Od("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ug="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EY=new Set("cancel close invalid load scroll toggle".split(" ").concat(ug));function aB(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,wJ(r,e,void 0,n),n.currentTarget=null}function oG(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;aB(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;aB(i,a,c),s=l}}}if(pb)throw n=eT,pb=!1,eT=null,n}function On(n,e){var t=e[uT];t===void 0&&(t=e[uT]=new Set);var r=n+"__bubble";t.has(r)||(aG(e,n,2,!1),t.add(r))}function gC(n,e,t){var r=0;e&&(r|=4),aG(t,n,r,e)}var v_="_reactListening"+Math.random().toString(36).slice(2);function lv(n){if(!n[v_]){n[v_]=!0,pH.forEach(function(t){t!=="selectionchange"&&(EY.has(t)||gC(t,!1,n),gC(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[v_]||(e[v_]=!0,gC("selectionchange",!1,e))}}function aG(n,e,t,r){switch(WH(e)){case 1:var i=FJ;break;case 4:i=zJ;break;default:i=VI}t=i.bind(null,e,t,n),i=void 0,!ZM||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function vC(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ju(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}RH(function(){var c=s,u=zI(t),d=[];e:{var h=sG.get(n);if(h!==void 0){var m=jI,g=n;switch(n){case"keypress":if(Bx(t)===0)break e;case"keydown":case"keyup":m=eY;break;case"focusin":g="focus",m=uC;break;case"focusout":g="blur",m=uC;break;case"beforeblur":case"afterblur":m=uC;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=JD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=GJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=rY;break;case tG:case nG:case rG:m=jJ;break;case iG:m=sY;break;case"scroll":m=UJ;break;case"wheel":m=aY;break;case"copy":case"cut":case"paste":m=KJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=qD}var v=(e&4)!==0,_=!v&&n==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var b=c,w;b!==null;){w=b;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,x!==null&&(E=nv(b,x),E!=null&&v.push(cv(b,E,w)))),_)break;b=b.return}0<v.length&&(h=new m(h,g,null,t,u),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",h&&t!==qM&&(g=t.relatedTarget||t.fromElement)&&(ju(g)||g[vl]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=c,g=g?ju(g):null,g!==null&&(_=Ld(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(v=JD,E="onMouseLeave",x="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(v=qD,E="onPointerLeave",x="onPointerEnter",b="pointer"),_=m==null?h:$h(m),w=g==null?h:$h(g),h=new v(E,b+"leave",m,t,u),h.target=_,h.relatedTarget=w,E=null,ju(u)===c&&(v=new v(x,b+"enter",g,t,u),v.target=w,v.relatedTarget=_,E=v),_=E,m&&g)t:{for(v=m,x=g,b=0,w=v;w;w=sh(w))b++;for(w=0,E=x;E;E=sh(E))w++;for(;0<b-w;)v=sh(v),b--;for(;0<w-b;)x=sh(x),w--;for(;b--;){if(v===x||x!==null&&v===x.alternate)break t;v=sh(v),x=sh(x)}v=null}else v=null;m!==null&&lB(d,h,m,v,!1),g!==null&&_!==null&&lB(d,_,g,v,!0)}}e:{if(h=c?$h(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var A=pY;else if(eB(h))if(YH)A=yY;else{A=gY;var T=mY}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=vY);if(A&&(A=A(n,c))){JH(d,A,t,u);break e}T&&T(n,h,c),n==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&$M(h,"number",h.value)}switch(T=c?$h(c):window,n){case"focusin":(eB(T)||T.contentEditable==="true")&&(Wh=T,iT=c,Cg=null);break;case"focusout":Cg=iT=Wh=null;break;case"mousedown":sT=!0;break;case"contextmenu":case"mouseup":case"dragend":sT=!1,sB(d,t,u);break;case"selectionchange":if(bY)break;case"keydown":case"keyup":sB(d,t,u)}var I;if(KI)e:{switch(n){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Vh?KH(n,t)&&(M="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(M="onCompositionStart");M&&($H&&t.locale!=="ko"&&(Vh||M!=="onCompositionStart"?M==="onCompositionEnd"&&Vh&&(I=jH()):(cc=u,WI="value"in cc?cc.value:cc.textContent,Vh=!0)),T=_b(c,M),0<T.length&&(M=new YD(M,n,null,t,u),d.push({event:M,listeners:T}),I?M.data=I:(I=XH(t),I!==null&&(M.data=I)))),(I=cY?uY(n,t):dY(n,t))&&(c=_b(c,"onBeforeInput"),0<c.length&&(u=new YD("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=I))}oG(d,e)})}function cv(n,e,t){return{instance:n,listener:e,currentTarget:t}}function _b(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=nv(n,t),s!=null&&r.unshift(cv(n,s,i)),s=nv(n,e),s!=null&&r.push(cv(n,s,i))),n=n.return}return r}function sh(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function lB(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=nv(t,s),l!=null&&o.unshift(cv(t,l,a))):i||(l=nv(t,s),l!=null&&o.push(cv(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var CY=/\r\n?/g,AY=/\u0000|\uFFFD/g;function cB(n){return(typeof n=="string"?n:""+n).replace(CY,`
`).replace(AY,"")}function y_(n,e,t){if(e=cB(e),cB(n)!==e&&t)throw Error(Ge(425))}function xb(){}var oT=null,aT=null;function lT(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cT=typeof setTimeout=="function"?setTimeout:void 0,MY=typeof clearTimeout=="function"?clearTimeout:void 0,uB=typeof Promise=="function"?Promise:void 0,TY=typeof queueMicrotask=="function"?queueMicrotask:typeof uB<"u"?function(n){return uB.resolve(null).then(n).catch(PY)}:cT;function PY(n){setTimeout(function(){throw n})}function yC(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),sv(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);sv(e)}function bc(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function dB(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var wp=Math.random().toString(36).slice(2),ha="__reactFiber$"+wp,uv="__reactProps$"+wp,vl="__reactContainer$"+wp,uT="__reactEvents$"+wp,RY="__reactListeners$"+wp,IY="__reactHandles$"+wp;function ju(n){var e=n[ha];if(e)return e;for(var t=n.parentNode;t;){if(e=t[vl]||t[ha]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=dB(n);n!==null;){if(t=n[ha])return t;n=dB(n)}return e}n=t,t=n.parentNode}return null}function py(n){return n=n[ha]||n[vl],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function $h(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ge(33))}function qw(n){return n[uv]||null}var dT=[],Kh=-1;function tu(n){return{current:n}}function Fn(n){0>Kh||(n.current=dT[Kh],dT[Kh]=null,Kh--)}function Rn(n,e){Kh++,dT[Kh]=n.current,n.current=e}var Bc={},Ii=tu(Bc),is=tu(!1),md=Bc;function Of(n,e){var t=n.type.contextTypes;if(!t)return Bc;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ss(n){return n=n.childContextTypes,n!=null}function bb(){Fn(is),Fn(Ii)}function hB(n,e,t){if(Ii.current!==Bc)throw Error(Ge(168));Rn(Ii,e),Rn(is,t)}function lG(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ge(108,mJ(n)||"Unknown",i));return tr({},t,r)}function wb(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Bc,md=Ii.current,Rn(Ii,n),Rn(is,is.current),!0}function fB(n,e,t){var r=n.stateNode;if(!r)throw Error(Ge(169));t?(n=lG(n,e,md),r.__reactInternalMemoizedMergedChildContext=n,Fn(is),Fn(Ii),Rn(Ii,n)):Fn(is),Rn(is,t)}var Za=null,Qw=!1,_C=!1;function cG(n){Za===null?Za=[n]:Za.push(n)}function NY(n){Qw=!0,cG(n)}function nu(){if(!_C&&Za!==null){_C=!0;var n=0,e=vn;try{var t=Za;for(vn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Za=null,Qw=!1}catch(i){throw Za!==null&&(Za=Za.slice(n+1)),OH(UI,nu),i}finally{vn=e,_C=!1}}return null}var Xh=[],Jh=0,Sb=null,Eb=0,qs=[],Qs=0,gd=null,nl=1,rl="";function Ru(n,e){Xh[Jh++]=Eb,Xh[Jh++]=Sb,Sb=n,Eb=e}function uG(n,e,t){qs[Qs++]=nl,qs[Qs++]=rl,qs[Qs++]=gd,gd=n;var r=nl;n=rl;var i=32-Oo(r)-1;r&=~(1<<i),t+=1;var s=32-Oo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,nl=1<<32-Oo(e)+i|t<<i|r,rl=s+n}else nl=1<<s|t<<i|r,rl=n}function JI(n){n.return!==null&&(Ru(n,1),uG(n,1,0))}function YI(n){for(;n===Sb;)Sb=Xh[--Jh],Xh[Jh]=null,Eb=Xh[--Jh],Xh[Jh]=null;for(;n===gd;)gd=qs[--Qs],qs[Qs]=null,rl=qs[--Qs],qs[Qs]=null,nl=qs[--Qs],qs[Qs]=null}var As=null,Es=null,jn=!1,Po=null;function dG(n,e){var t=to(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function pB(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,As=n,Es=bc(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,As=n,Es=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=gd!==null?{id:nl,overflow:rl}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=to(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,As=n,Es=null,!0):!1;default:return!1}}function hT(n){return(n.mode&1)!==0&&(n.flags&128)===0}function fT(n){if(jn){var e=Es;if(e){var t=e;if(!pB(n,e)){if(hT(n))throw Error(Ge(418));e=bc(t.nextSibling);var r=As;e&&pB(n,e)?dG(r,t):(n.flags=n.flags&-4097|2,jn=!1,As=n)}}else{if(hT(n))throw Error(Ge(418));n.flags=n.flags&-4097|2,jn=!1,As=n}}}function mB(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;As=n}function __(n){if(n!==As)return!1;if(!jn)return mB(n),jn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!lT(n.type,n.memoizedProps)),e&&(e=Es)){if(hT(n))throw hG(),Error(Ge(418));for(;e;)dG(n,e),e=bc(e.nextSibling)}if(mB(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ge(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Es=bc(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Es=null}}else Es=As?bc(n.stateNode.nextSibling):null;return!0}function hG(){for(var n=Es;n;)n=bc(n.nextSibling)}function Lf(){Es=As=null,jn=!1}function qI(n){Po===null?Po=[n]:Po.push(n)}var kY=Al.ReactCurrentBatchConfig;function Ao(n,e){if(n&&n.defaultProps){e=tr({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Cb=tu(null),Ab=null,Yh=null,QI=null;function ZI(){QI=Yh=Ab=null}function e2(n){var e=Cb.current;Fn(Cb),n._currentValue=e}function pT(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function mf(n,e){Ab=n,QI=Yh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ns=!0),n.firstContext=null)}function ao(n){var e=n._currentValue;if(QI!==n)if(n={context:n,memoizedValue:e,next:null},Yh===null){if(Ab===null)throw Error(Ge(308));Yh=n,Ab.dependencies={lanes:0,firstContext:n}}else Yh=Yh.next=n;return e}var $u=null;function t2(n){$u===null?$u=[n]:$u.push(n)}function fG(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,t2(e)):(t.next=i.next,i.next=t),e.interleaved=t,yl(n,r)}function yl(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ic=!1;function n2(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pG(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function cl(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function wc(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,en&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yl(n,t)}return i=r.interleaved,i===null?(e.next=e,t2(r)):(e.next=i.next,i.next=e),r.interleaved=e,yl(n,t)}function Fx(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,HI(n,t)}}function gB(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Mb(n,e,t,r){var i=n.updateQueue;ic=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,v=a;switch(h=e,m=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(m,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(m,d,h):g,h==null)break e;d=tr({},d,h);break e;case 2:ic=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);yd|=o,n.lanes=o,n.memoizedState=d}}function vB(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ge(191,i));i.call(r)}}}var mG=new fH.Component().refs;function mT(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:tr({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Zw={isMounted:function(n){return(n=n._reactInternals)?Ld(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Wi(),i=Ec(n),s=cl(r,i);s.payload=e,t!=null&&(s.callback=t),e=wc(n,s,i),e!==null&&(Lo(e,n,i,r),Fx(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Wi(),i=Ec(n),s=cl(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=wc(n,s,i),e!==null&&(Lo(e,n,i,r),Fx(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Wi(),r=Ec(n),i=cl(t,r);i.tag=2,e!=null&&(i.callback=e),e=wc(n,i,r),e!==null&&(Lo(e,n,r,t),Fx(e,n,r))}};function yB(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!av(t,r)||!av(i,s):!0}function gG(n,e,t){var r=!1,i=Bc,s=e.contextType;return typeof s=="object"&&s!==null?s=ao(s):(i=ss(e)?md:Ii.current,r=e.contextTypes,s=(r=r!=null)?Of(n,i):Bc),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zw,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function _B(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Zw.enqueueReplaceState(e,e.state,null)}function gT(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=mG,n2(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ao(s):(s=ss(e)?md:Ii.current,i.context=Of(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(mT(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zw.enqueueReplaceState(i,i.state,null),Mb(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function xm(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ge(309));var r=t.stateNode}if(!r)throw Error(Ge(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===mG&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ge(284));if(!t._owner)throw Error(Ge(290,n))}return n}function x_(n,e){throw n=Object.prototype.toString.call(e),Error(Ge(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function xB(n){var e=n._init;return e(n._payload)}function vG(n){function e(x,b){if(n){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function t(x,b){if(!n)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Cc(x,b),x.index=0,x.sibling=null,x}function s(x,b,w){return x.index=w,n?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,b,w,E){return b===null||b.tag!==6?(b=AC(w,x.mode,E),b.return=x,b):(b=i(b,w),b.return=x,b)}function l(x,b,w,E){var A=w.type;return A===Gh?u(x,b,w.props.children,E,w.key):b!==null&&(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===rc&&xB(A)===b.type)?(E=i(b,w.props),E.ref=xm(x,b,w),E.return=x,E):(E=Wx(w.type,w.key,w.props,null,x.mode,E),E.ref=xm(x,b,w),E.return=x,E)}function c(x,b,w,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=MC(w,x.mode,E),b.return=x,b):(b=i(b,w.children||[]),b.return=x,b)}function u(x,b,w,E,A){return b===null||b.tag!==7?(b=rd(w,x.mode,E,A),b.return=x,b):(b=i(b,w),b.return=x,b)}function d(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=AC(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case c_:return w=Wx(b.type,b.key,b.props,null,x.mode,w),w.ref=xm(x,null,b),w.return=x,w;case Hh:return b=MC(b,x.mode,w),b.return=x,b;case rc:var E=b._init;return d(x,E(b._payload),w)}if(lg(b)||mm(b))return b=rd(b,x.mode,w,null),b.return=x,b;x_(x,b)}return null}function h(x,b,w,E){var A=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return A!==null?null:a(x,b,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case c_:return w.key===A?l(x,b,w,E):null;case Hh:return w.key===A?c(x,b,w,E):null;case rc:return A=w._init,h(x,b,A(w._payload),E)}if(lg(w)||mm(w))return A!==null?null:u(x,b,w,E,null);x_(x,w)}return null}function m(x,b,w,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(w)||null,a(b,x,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case c_:return x=x.get(E.key===null?w:E.key)||null,l(b,x,E,A);case Hh:return x=x.get(E.key===null?w:E.key)||null,c(b,x,E,A);case rc:var T=E._init;return m(x,b,w,T(E._payload),A)}if(lg(E)||mm(E))return x=x.get(w)||null,u(b,x,E,A,null);x_(b,E)}return null}function g(x,b,w,E){for(var A=null,T=null,I=b,M=b=0,R=null;I!==null&&M<w.length;M++){I.index>M?(R=I,I=null):R=I.sibling;var O=h(x,I,w[M],E);if(O===null){I===null&&(I=R);break}n&&I&&O.alternate===null&&e(x,I),b=s(O,b,M),T===null?A=O:T.sibling=O,T=O,I=R}if(M===w.length)return t(x,I),jn&&Ru(x,M),A;if(I===null){for(;M<w.length;M++)I=d(x,w[M],E),I!==null&&(b=s(I,b,M),T===null?A=I:T.sibling=I,T=I);return jn&&Ru(x,M),A}for(I=r(x,I);M<w.length;M++)R=m(I,x,M,w[M],E),R!==null&&(n&&R.alternate!==null&&I.delete(R.key===null?M:R.key),b=s(R,b,M),T===null?A=R:T.sibling=R,T=R);return n&&I.forEach(function(L){return e(x,L)}),jn&&Ru(x,M),A}function v(x,b,w,E){var A=mm(w);if(typeof A!="function")throw Error(Ge(150));if(w=A.call(w),w==null)throw Error(Ge(151));for(var T=A=null,I=b,M=b=0,R=null,O=w.next();I!==null&&!O.done;M++,O=w.next()){I.index>M?(R=I,I=null):R=I.sibling;var L=h(x,I,O.value,E);if(L===null){I===null&&(I=R);break}n&&I&&L.alternate===null&&e(x,I),b=s(L,b,M),T===null?A=L:T.sibling=L,T=L,I=R}if(O.done)return t(x,I),jn&&Ru(x,M),A;if(I===null){for(;!O.done;M++,O=w.next())O=d(x,O.value,E),O!==null&&(b=s(O,b,M),T===null?A=O:T.sibling=O,T=O);return jn&&Ru(x,M),A}for(I=r(x,I);!O.done;M++,O=w.next())O=m(I,x,M,O.value,E),O!==null&&(n&&O.alternate!==null&&I.delete(O.key===null?M:O.key),b=s(O,b,M),T===null?A=O:T.sibling=O,T=O);return n&&I.forEach(function(X){return e(x,X)}),jn&&Ru(x,M),A}function _(x,b,w,E){if(typeof w=="object"&&w!==null&&w.type===Gh&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case c_:e:{for(var A=w.key,T=b;T!==null;){if(T.key===A){if(A=w.type,A===Gh){if(T.tag===7){t(x,T.sibling),b=i(T,w.props.children),b.return=x,x=b;break e}}else if(T.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===rc&&xB(A)===T.type){t(x,T.sibling),b=i(T,w.props),b.ref=xm(x,T,w),b.return=x,x=b;break e}t(x,T);break}else e(x,T);T=T.sibling}w.type===Gh?(b=rd(w.props.children,x.mode,E,w.key),b.return=x,x=b):(E=Wx(w.type,w.key,w.props,null,x.mode,E),E.ref=xm(x,b,w),E.return=x,x=E)}return o(x);case Hh:e:{for(T=w.key;b!==null;){if(b.key===T)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){t(x,b.sibling),b=i(b,w.children||[]),b.return=x,x=b;break e}else{t(x,b);break}else e(x,b);b=b.sibling}b=MC(w,x.mode,E),b.return=x,x=b}return o(x);case rc:return T=w._init,_(x,b,T(w._payload),E)}if(lg(w))return g(x,b,w,E);if(mm(w))return v(x,b,w,E);x_(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(t(x,b.sibling),b=i(b,w),b.return=x,x=b):(t(x,b),b=AC(w,x.mode,E),b.return=x,x=b),o(x)):t(x,b)}return _}var Df=vG(!0),yG=vG(!1),my={},ya=tu(my),dv=tu(my),hv=tu(my);function Ku(n){if(n===my)throw Error(Ge(174));return n}function r2(n,e){switch(Rn(hv,e),Rn(dv,n),Rn(ya,my),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:XM(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=XM(e,n)}Fn(ya),Rn(ya,e)}function Bf(){Fn(ya),Fn(dv),Fn(hv)}function _G(n){Ku(hv.current);var e=Ku(ya.current),t=XM(e,n.type);e!==t&&(Rn(dv,n),Rn(ya,t))}function i2(n){dv.current===n&&(Fn(ya),Fn(dv))}var qn=tu(0);function Tb(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xC=[];function s2(){for(var n=0;n<xC.length;n++)xC[n]._workInProgressVersionPrimary=null;xC.length=0}var zx=Al.ReactCurrentDispatcher,bC=Al.ReactCurrentBatchConfig,vd=0,er=null,Rr=null,Vr=null,Pb=!1,Ag=!1,fv=0,OY=0;function vi(){throw Error(Ge(321))}function o2(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Fo(n[t],e[t]))return!1;return!0}function a2(n,e,t,r,i,s){if(vd=s,er=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zx.current=n===null||n.memoizedState===null?FY:zY,n=t(r,i),Ag){s=0;do{if(Ag=!1,fv=0,25<=s)throw Error(Ge(301));s+=1,Vr=Rr=null,e.updateQueue=null,zx.current=UY,n=t(r,i)}while(Ag)}if(zx.current=Rb,e=Rr!==null&&Rr.next!==null,vd=0,Vr=Rr=er=null,Pb=!1,e)throw Error(Ge(300));return n}function l2(){var n=fv!==0;return fv=0,n}function aa(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?er.memoizedState=Vr=n:Vr=Vr.next=n,Vr}function lo(){if(Rr===null){var n=er.alternate;n=n!==null?n.memoizedState:null}else n=Rr.next;var e=Vr===null?er.memoizedState:Vr.next;if(e!==null)Vr=e,Rr=n;else{if(n===null)throw Error(Ge(310));Rr=n,n={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Vr===null?er.memoizedState=Vr=n:Vr=Vr.next=n}return Vr}function pv(n,e){return typeof e=="function"?e(n):e}function wC(n){var e=lo(),t=e.queue;if(t===null)throw Error(Ge(311));t.lastRenderedReducer=n;var r=Rr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((vd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,er.lanes|=u,yd|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Fo(r,e.memoizedState)||(ns=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,er.lanes|=s,yd|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function SC(n){var e=lo(),t=e.queue;if(t===null)throw Error(Ge(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Fo(s,e.memoizedState)||(ns=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function xG(){}function bG(n,e){var t=er,r=lo(),i=e(),s=!Fo(r.memoizedState,i);if(s&&(r.memoizedState=i,ns=!0),r=r.queue,c2(EG.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Vr!==null&&Vr.memoizedState.tag&1){if(t.flags|=2048,mv(9,SG.bind(null,t,r,i,e),void 0,null),Kr===null)throw Error(Ge(349));vd&30||wG(t,e,i)}return i}function wG(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=er.updateQueue,e===null?(e={lastEffect:null,stores:null},er.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function SG(n,e,t,r){e.value=t,e.getSnapshot=r,CG(e)&&AG(n)}function EG(n,e,t){return t(function(){CG(e)&&AG(n)})}function CG(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Fo(n,t)}catch{return!0}}function AG(n){var e=yl(n,1);e!==null&&Lo(e,n,1,-1)}function bB(n){var e=aa();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pv,lastRenderedState:n},e.queue=n,n=n.dispatch=BY.bind(null,er,n),[e.memoizedState,n]}function mv(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=er.updateQueue,e===null?(e={lastEffect:null,stores:null},er.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function MG(){return lo().memoizedState}function Ux(n,e,t,r){var i=aa();er.flags|=n,i.memoizedState=mv(1|e,t,void 0,r===void 0?null:r)}function e1(n,e,t,r){var i=lo();r=r===void 0?null:r;var s=void 0;if(Rr!==null){var o=Rr.memoizedState;if(s=o.destroy,r!==null&&o2(r,o.deps)){i.memoizedState=mv(e,t,s,r);return}}er.flags|=n,i.memoizedState=mv(1|e,t,s,r)}function wB(n,e){return Ux(8390656,8,n,e)}function c2(n,e){return e1(2048,8,n,e)}function TG(n,e){return e1(4,2,n,e)}function PG(n,e){return e1(4,4,n,e)}function RG(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function IG(n,e,t){return t=t!=null?t.concat([n]):null,e1(4,4,RG.bind(null,e,n),t)}function u2(){}function NG(n,e){var t=lo();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&o2(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function kG(n,e){var t=lo();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&o2(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function OG(n,e,t){return vd&21?(Fo(t,e)||(t=BH(),er.lanes|=t,yd|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ns=!0),n.memoizedState=t)}function LY(n,e){var t=vn;vn=t!==0&&4>t?t:4,n(!0);var r=bC.transition;bC.transition={};try{n(!1),e()}finally{vn=t,bC.transition=r}}function LG(){return lo().memoizedState}function DY(n,e,t){var r=Ec(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},DG(n))BG(e,t);else if(t=fG(n,e,t,r),t!==null){var i=Wi();Lo(t,n,r,i),FG(t,e,r)}}function BY(n,e,t){var r=Ec(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(DG(n))BG(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Fo(a,o)){var l=e.interleaved;l===null?(i.next=i,t2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=fG(n,e,i,r),t!==null&&(i=Wi(),Lo(t,n,r,i),FG(t,e,r))}}function DG(n){var e=n.alternate;return n===er||e!==null&&e===er}function BG(n,e){Ag=Pb=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function FG(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,HI(n,t)}}var Rb={readContext:ao,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useInsertionEffect:vi,useLayoutEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useMutableSource:vi,useSyncExternalStore:vi,useId:vi,unstable_isNewReconciler:!1},FY={readContext:ao,useCallback:function(n,e){return aa().memoizedState=[n,e===void 0?null:e],n},useContext:ao,useEffect:wB,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Ux(4194308,4,RG.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Ux(4194308,4,n,e)},useInsertionEffect:function(n,e){return Ux(4,2,n,e)},useMemo:function(n,e){var t=aa();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=aa();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=DY.bind(null,er,n),[r.memoizedState,n]},useRef:function(n){var e=aa();return n={current:n},e.memoizedState=n},useState:bB,useDebugValue:u2,useDeferredValue:function(n){return aa().memoizedState=n},useTransition:function(){var n=bB(!1),e=n[0];return n=LY.bind(null,n[1]),aa().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=er,i=aa();if(jn){if(t===void 0)throw Error(Ge(407));t=t()}else{if(t=e(),Kr===null)throw Error(Ge(349));vd&30||wG(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,wB(EG.bind(null,r,s,n),[n]),r.flags|=2048,mv(9,SG.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=aa(),e=Kr.identifierPrefix;if(jn){var t=rl,r=nl;t=(r&~(1<<32-Oo(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=fv++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=OY++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},zY={readContext:ao,useCallback:NG,useContext:ao,useEffect:c2,useImperativeHandle:IG,useInsertionEffect:TG,useLayoutEffect:PG,useMemo:kG,useReducer:wC,useRef:MG,useState:function(){return wC(pv)},useDebugValue:u2,useDeferredValue:function(n){var e=lo();return OG(e,Rr.memoizedState,n)},useTransition:function(){var n=wC(pv)[0],e=lo().memoizedState;return[n,e]},useMutableSource:xG,useSyncExternalStore:bG,useId:LG,unstable_isNewReconciler:!1},UY={readContext:ao,useCallback:NG,useContext:ao,useEffect:c2,useImperativeHandle:IG,useInsertionEffect:TG,useLayoutEffect:PG,useMemo:kG,useReducer:SC,useRef:MG,useState:function(){return SC(pv)},useDebugValue:u2,useDeferredValue:function(n){var e=lo();return Rr===null?e.memoizedState=n:OG(e,Rr.memoizedState,n)},useTransition:function(){var n=SC(pv)[0],e=lo().memoizedState;return[n,e]},useMutableSource:xG,useSyncExternalStore:bG,useId:LG,unstable_isNewReconciler:!1};function Ff(n,e){try{var t="",r=e;do t+=pJ(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function EC(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function vT(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var HY=typeof WeakMap=="function"?WeakMap:Map;function zG(n,e,t){t=cl(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Nb||(Nb=!0,MT=r),vT(n,e)},t}function UG(n,e,t){t=cl(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){vT(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){vT(n,e),typeof r!="function"&&(Sc===null?Sc=new Set([this]):Sc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function SB(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new HY;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=tq.bind(null,n,e,t),e.then(n,n))}function EB(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function CB(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=cl(-1,1),e.tag=2,wc(t,e,1))),t.lanes|=1),n)}var GY=Al.ReactCurrentOwner,ns=!1;function Ui(n,e,t,r){e.child=n===null?yG(e,null,t,r):Df(e,n.child,t,r)}function AB(n,e,t,r,i){t=t.render;var s=e.ref;return mf(e,i),r=a2(n,e,t,r,s,i),t=l2(),n!==null&&!ns?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,_l(n,e,i)):(jn&&t&&JI(e),e.flags|=1,Ui(n,e,r,i),e.child)}function MB(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!y2(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,HG(n,e,s,r,i)):(n=Wx(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:av,t(o,r)&&n.ref===e.ref)return _l(n,e,i)}return e.flags|=1,n=Cc(s,r),n.ref=e.ref,n.return=e,e.child=n}function HG(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(av(s,r)&&n.ref===e.ref)if(ns=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(ns=!0);else return e.lanes=n.lanes,_l(n,e,i)}return yT(n,e,t,r,i)}function GG(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rn(Qh,bs),bs|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Rn(Qh,bs),bs|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Rn(Qh,bs),bs|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Rn(Qh,bs),bs|=r;return Ui(n,e,i,t),e.child}function VG(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function yT(n,e,t,r,i){var s=ss(t)?md:Ii.current;return s=Of(e,s),mf(e,i),t=a2(n,e,t,r,s,i),r=l2(),n!==null&&!ns?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,_l(n,e,i)):(jn&&r&&JI(e),e.flags|=1,Ui(n,e,t,i),e.child)}function TB(n,e,t,r,i){if(ss(t)){var s=!0;wb(e)}else s=!1;if(mf(e,i),e.stateNode===null)Hx(n,e),gG(e,t,r),gT(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=ao(c):(c=ss(t)?md:Ii.current,c=Of(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&_B(e,o,r,c),ic=!1;var h=e.memoizedState;o.state=h,Mb(e,r,o,i),l=e.memoizedState,a!==r||h!==l||is.current||ic?(typeof u=="function"&&(mT(e,t,u,r),l=e.memoizedState),(a=ic||yB(e,t,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,pG(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ao(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=ao(l):(l=ss(t)?md:Ii.current,l=Of(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&_B(e,o,r,l),ic=!1,h=e.memoizedState,o.state=h,Mb(e,r,o,i);var g=e.memoizedState;a!==d||h!==g||is.current||ic?(typeof m=="function"&&(mT(e,t,m,r),g=e.memoizedState),(c=ic||yB(e,t,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),r=!1)}return _T(n,e,t,r,s,i)}function _T(n,e,t,r,i,s){VG(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fB(e,t,!1),_l(n,e,s);r=e.stateNode,GY.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Df(e,n.child,null,s),e.child=Df(e,null,a,s)):Ui(n,e,a,s),e.memoizedState=r.state,i&&fB(e,t,!0),e.child}function WG(n){var e=n.stateNode;e.pendingContext?hB(n,e.pendingContext,e.pendingContext!==e.context):e.context&&hB(n,e.context,!1),r2(n,e.containerInfo)}function PB(n,e,t,r,i){return Lf(),qI(i),e.flags|=256,Ui(n,e,t,r),e.child}var xT={dehydrated:null,treeContext:null,retryLane:0};function bT(n){return{baseLanes:n,cachePool:null,transitions:null}}function jG(n,e,t){var r=e.pendingProps,i=qn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Rn(qn,i&1),n===null)return fT(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=r1(o,r,0,null),n=rd(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=bT(t),e.memoizedState=xT,n):d2(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return VY(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Cc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Cc(a,s):(s=rd(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?bT(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=xT,r}return s=n.child,n=s.sibling,r=Cc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function d2(n,e){return e=r1({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function b_(n,e,t,r){return r!==null&&qI(r),Df(e,n.child,null,t),n=d2(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function VY(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=EC(Error(Ge(422))),b_(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=r1({mode:"visible",children:r.children},i,0,null),s=rd(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Df(e,n.child,null,o),e.child.memoizedState=bT(o),e.memoizedState=xT,s);if(!(e.mode&1))return b_(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ge(419)),r=EC(s,r,void 0),b_(n,e,o,r)}if(a=(o&n.childLanes)!==0,ns||a){if(r=Kr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yl(n,i),Lo(r,n,i,-1))}return v2(),r=EC(Error(Ge(421))),b_(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=nq.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Es=bc(i.nextSibling),As=e,jn=!0,Po=null,n!==null&&(qs[Qs++]=nl,qs[Qs++]=rl,qs[Qs++]=gd,nl=n.id,rl=n.overflow,gd=e),e=d2(e,r.children),e.flags|=4096,e)}function RB(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),pT(n.return,e,t)}function CC(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function $G(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ui(n,e,r.children,t),r=qn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&RB(n,t,e);else if(n.tag===19)RB(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Rn(qn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Tb(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),CC(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Tb(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}CC(e,!0,t,null,s);break;case"together":CC(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hx(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function _l(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),yd|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ge(153));if(e.child!==null){for(n=e.child,t=Cc(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Cc(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function WY(n,e,t){switch(e.tag){case 3:WG(e),Lf();break;case 5:_G(e);break;case 1:ss(e.type)&&wb(e);break;case 4:r2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Rn(Cb,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rn(qn,qn.current&1),e.flags|=128,null):t&e.child.childLanes?jG(n,e,t):(Rn(qn,qn.current&1),n=_l(n,e,t),n!==null?n.sibling:null);Rn(qn,qn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return $G(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rn(qn,qn.current),r)break;return null;case 22:case 23:return e.lanes=0,GG(n,e,t)}return _l(n,e,t)}var KG,wT,XG,JG;KG=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};wT=function(){};XG=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Ku(ya.current);var s=null;switch(t){case"input":i=WM(n,i),r=WM(n,r),s=[];break;case"select":i=tr({},i,{value:void 0}),r=tr({},r,{value:void 0}),s=[];break;case"textarea":i=KM(n,i),r=KM(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=xb)}JM(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ev.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ev.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&On("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};JG=function(n,e,t,r){t!==r&&(e.flags|=4)};function bm(n,e){if(!jn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function yi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function jY(n,e,t){var r=e.pendingProps;switch(YI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yi(e),null;case 1:return ss(e.type)&&bb(),yi(e),null;case 3:return r=e.stateNode,Bf(),Fn(is),Fn(Ii),s2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(__(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Po!==null&&(RT(Po),Po=null))),wT(n,e),yi(e),null;case 5:i2(e);var i=Ku(hv.current);if(t=e.type,n!==null&&e.stateNode!=null)XG(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ge(166));return yi(e),null}if(n=Ku(ya.current),__(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[ha]=e,r[uv]=s,n=(e.mode&1)!==0,t){case"dialog":On("cancel",r),On("close",r);break;case"iframe":case"object":case"embed":On("load",r);break;case"video":case"audio":for(i=0;i<ug.length;i++)On(ug[i],r);break;case"source":On("error",r);break;case"img":case"image":case"link":On("error",r),On("load",r);break;case"details":On("toggle",r);break;case"input":zD(r,s),On("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},On("invalid",r);break;case"textarea":HD(r,s),On("invalid",r)}JM(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&y_(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&y_(r.textContent,a,n),i=["children",""+a]):ev.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&On("scroll",r)}switch(t){case"input":u_(r),UD(r,s,!0);break;case"textarea":u_(r),GD(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xb)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=wH(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[ha]=e,n[uv]=r,KG(n,e,!1,!1),e.stateNode=n;e:{switch(o=YM(t,r),t){case"dialog":On("cancel",n),On("close",n),i=r;break;case"iframe":case"object":case"embed":On("load",n),i=r;break;case"video":case"audio":for(i=0;i<ug.length;i++)On(ug[i],n);i=r;break;case"source":On("error",n),i=r;break;case"img":case"image":case"link":On("error",n),On("load",n),i=r;break;case"details":On("toggle",n),i=r;break;case"input":zD(n,r),i=WM(n,r),On("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=tr({},r,{value:void 0}),On("invalid",n);break;case"textarea":HD(n,r),i=KM(n,r),On("invalid",n);break;default:i=r}JM(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?CH(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&SH(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&tv(n,l):typeof l=="number"&&tv(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ev.hasOwnProperty(s)?l!=null&&s==="onScroll"&&On("scroll",n):l!=null&&LI(n,s,l,o))}switch(t){case"input":u_(n),UD(n,r,!1);break;case"textarea":u_(n),GD(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Dc(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?df(n,!!r.multiple,s,!1):r.defaultValue!=null&&df(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=xb)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yi(e),null;case 6:if(n&&e.stateNode!=null)JG(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ge(166));if(t=Ku(hv.current),Ku(ya.current),__(e)){if(r=e.stateNode,t=e.memoizedProps,r[ha]=e,(s=r.nodeValue!==t)&&(n=As,n!==null))switch(n.tag){case 3:y_(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&y_(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[ha]=e,e.stateNode=r}return yi(e),null;case 13:if(Fn(qn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(jn&&Es!==null&&e.mode&1&&!(e.flags&128))hG(),Lf(),e.flags|=98560,s=!1;else if(s=__(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ge(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ge(317));s[ha]=e}else Lf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yi(e),s=!1}else Po!==null&&(RT(Po),Po=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||qn.current&1?kr===0&&(kr=3):v2())),e.updateQueue!==null&&(e.flags|=4),yi(e),null);case 4:return Bf(),wT(n,e),n===null&&lv(e.stateNode.containerInfo),yi(e),null;case 10:return e2(e.type._context),yi(e),null;case 17:return ss(e.type)&&bb(),yi(e),null;case 19:if(Fn(qn),s=e.memoizedState,s===null)return yi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)bm(s,!1);else{if(kr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Tb(n),o!==null){for(e.flags|=128,bm(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Rn(qn,qn.current&1|2),e.child}n=n.sibling}s.tail!==null&&vr()>zf&&(e.flags|=128,r=!0,bm(s,!1),e.lanes=4194304)}else{if(!r)if(n=Tb(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),bm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!jn)return yi(e),null}else 2*vr()-s.renderingStartTime>zf&&t!==1073741824&&(e.flags|=128,r=!0,bm(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vr(),e.sibling=null,t=qn.current,Rn(qn,r?t&1|2:t&1),e):(yi(e),null);case 22:case 23:return g2(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bs&1073741824&&(yi(e),e.subtreeFlags&6&&(e.flags|=8192)):yi(e),null;case 24:return null;case 25:return null}throw Error(Ge(156,e.tag))}function $Y(n,e){switch(YI(e),e.tag){case 1:return ss(e.type)&&bb(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Bf(),Fn(is),Fn(Ii),s2(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return i2(e),null;case 13:if(Fn(qn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ge(340));Lf()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Fn(qn),null;case 4:return Bf(),null;case 10:return e2(e.type._context),null;case 22:case 23:return g2(),null;case 24:return null;default:return null}}var w_=!1,Ei=!1,KY=typeof WeakSet=="function"?WeakSet:Set,tt=null;function qh(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){cr(n,e,r)}else t.current=null}function ST(n,e,t){try{t()}catch(r){cr(n,e,r)}}var IB=!1;function XY(n,e){if(oT=vb,n=ZH(),XI(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=n,h=null;t:for(;;){for(var m;d!==t||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===n)break t;if(h===t&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(aT={focusedElem:n,selectionRange:t},vb=!1,tt=e;tt!==null;)if(e=tt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,tt=n;else for(;tt!==null;){e=tt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,_=g.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ao(e.type,v),_);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(E){cr(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,tt=n;break}tt=e.return}return g=IB,IB=!1,g}function Mg(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&ST(e,t,s)}i=i.next}while(i!==r)}}function t1(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function ET(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function YG(n){var e=n.alternate;e!==null&&(n.alternate=null,YG(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ha],delete e[uv],delete e[uT],delete e[RY],delete e[IY])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function qG(n){return n.tag===5||n.tag===3||n.tag===4}function NB(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||qG(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function CT(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=xb));else if(r!==4&&(n=n.child,n!==null))for(CT(n,e,t),n=n.sibling;n!==null;)CT(n,e,t),n=n.sibling}function AT(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(AT(n,e,t),n=n.sibling;n!==null;)AT(n,e,t),n=n.sibling}var ri=null,Mo=!1;function Vl(n,e,t){for(t=t.child;t!==null;)QG(n,e,t),t=t.sibling}function QG(n,e,t){if(va&&typeof va.onCommitFiberUnmount=="function")try{va.onCommitFiberUnmount(Kw,t)}catch{}switch(t.tag){case 5:Ei||qh(t,e);case 6:var r=ri,i=Mo;ri=null,Vl(n,e,t),ri=r,Mo=i,ri!==null&&(Mo?(n=ri,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ri.removeChild(t.stateNode));break;case 18:ri!==null&&(Mo?(n=ri,t=t.stateNode,n.nodeType===8?yC(n.parentNode,t):n.nodeType===1&&yC(n,t),sv(n)):yC(ri,t.stateNode));break;case 4:r=ri,i=Mo,ri=t.stateNode.containerInfo,Mo=!0,Vl(n,e,t),ri=r,Mo=i;break;case 0:case 11:case 14:case 15:if(!Ei&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ST(t,e,o),i=i.next}while(i!==r)}Vl(n,e,t);break;case 1:if(!Ei&&(qh(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){cr(t,e,a)}Vl(n,e,t);break;case 21:Vl(n,e,t);break;case 22:t.mode&1?(Ei=(r=Ei)||t.memoizedState!==null,Vl(n,e,t),Ei=r):Vl(n,e,t);break;default:Vl(n,e,t)}}function kB(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new KY),e.forEach(function(r){var i=rq.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function _o(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ri=a.stateNode,Mo=!1;break e;case 3:ri=a.stateNode.containerInfo,Mo=!0;break e;case 4:ri=a.stateNode.containerInfo,Mo=!0;break e}a=a.return}if(ri===null)throw Error(Ge(160));QG(s,o,i),ri=null,Mo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){cr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ZG(e,n),e=e.sibling}function ZG(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(_o(e,n),ra(n),r&4){try{Mg(3,n,n.return),t1(3,n)}catch(v){cr(n,n.return,v)}try{Mg(5,n,n.return)}catch(v){cr(n,n.return,v)}}break;case 1:_o(e,n),ra(n),r&512&&t!==null&&qh(t,t.return);break;case 5:if(_o(e,n),ra(n),r&512&&t!==null&&qh(t,t.return),n.flags&32){var i=n.stateNode;try{tv(i,"")}catch(v){cr(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&xH(i,s),YM(a,o);var c=YM(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?CH(i,d):u==="dangerouslySetInnerHTML"?SH(i,d):u==="children"?tv(i,d):LI(i,u,d,c)}switch(a){case"input":jM(i,s);break;case"textarea":bH(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?df(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?df(i,!!s.multiple,s.defaultValue,!0):df(i,!!s.multiple,s.multiple?[]:"",!1))}i[uv]=s}catch(v){cr(n,n.return,v)}}break;case 6:if(_o(e,n),ra(n),r&4){if(n.stateNode===null)throw Error(Ge(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){cr(n,n.return,v)}}break;case 3:if(_o(e,n),ra(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{sv(e.containerInfo)}catch(v){cr(n,n.return,v)}break;case 4:_o(e,n),ra(n);break;case 13:_o(e,n),ra(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(p2=vr())),r&4&&kB(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Ei=(c=Ei)||u,_o(e,n),Ei=c):_o(e,n),ra(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(tt=n,u=n.child;u!==null;){for(d=tt=u;tt!==null;){switch(h=tt,m=h.child,h.tag){case 0:case 11:case 14:case 15:Mg(4,h,h.return);break;case 1:qh(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,t=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){cr(r,t,v)}}break;case 5:qh(h,h.return);break;case 22:if(h.memoizedState!==null){LB(d);continue}}m!==null?(m.return=h,tt=m):LB(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=EH("display",o))}catch(v){cr(n,n.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){cr(n,n.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_o(e,n),ra(n),r&4&&kB(n);break;case 21:break;default:_o(e,n),ra(n)}}function ra(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(qG(t)){var r=t;break e}t=t.return}throw Error(Ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(tv(i,""),r.flags&=-33);var s=NB(n);AT(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=NB(n);CT(n,a,o);break;default:throw Error(Ge(161))}}catch(l){cr(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function JY(n,e,t){tt=n,eV(n)}function eV(n,e,t){for(var r=(n.mode&1)!==0;tt!==null;){var i=tt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||w_;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ei;a=w_;var c=Ei;if(w_=o,(Ei=l)&&!c)for(tt=i;tt!==null;)o=tt,l=o.child,o.tag===22&&o.memoizedState!==null?DB(i):l!==null?(l.return=o,tt=l):DB(i);for(;s!==null;)tt=s,eV(s),s=s.sibling;tt=i,w_=a,Ei=c}OB(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,tt=s):OB(n)}}function OB(n){for(;tt!==null;){var e=tt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ei||t1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ei)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Ao(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vB(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}vB(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&sv(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}Ei||e.flags&512&&ET(e)}catch(h){cr(e,e.return,h)}}if(e===n){tt=null;break}if(t=e.sibling,t!==null){t.return=e.return,tt=t;break}tt=e.return}}function LB(n){for(;tt!==null;){var e=tt;if(e===n){tt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,tt=t;break}tt=e.return}}function DB(n){for(;tt!==null;){var e=tt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{t1(4,e)}catch(l){cr(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){cr(e,i,l)}}var s=e.return;try{ET(e)}catch(l){cr(e,s,l)}break;case 5:var o=e.return;try{ET(e)}catch(l){cr(e,o,l)}}}catch(l){cr(e,e.return,l)}if(e===n){tt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,tt=a;break}tt=e.return}}var YY=Math.ceil,Ib=Al.ReactCurrentDispatcher,h2=Al.ReactCurrentOwner,so=Al.ReactCurrentBatchConfig,en=0,Kr=null,Ar=null,ai=0,bs=0,Qh=tu(0),kr=0,gv=null,yd=0,n1=0,f2=0,Tg=null,Zi=null,p2=0,zf=1/0,Qa=null,Nb=!1,MT=null,Sc=null,S_=!1,uc=null,kb=0,Pg=0,TT=null,Gx=-1,Vx=0;function Wi(){return en&6?vr():Gx!==-1?Gx:Gx=vr()}function Ec(n){return n.mode&1?en&2&&ai!==0?ai&-ai:kY.transition!==null?(Vx===0&&(Vx=BH()),Vx):(n=vn,n!==0||(n=window.event,n=n===void 0?16:WH(n.type)),n):1}function Lo(n,e,t,r){if(50<Pg)throw Pg=0,TT=null,Error(Ge(185));hy(n,t,r),(!(en&2)||n!==Kr)&&(n===Kr&&(!(en&2)&&(n1|=t),kr===4&&lc(n,ai)),os(n,r),t===1&&en===0&&!(e.mode&1)&&(zf=vr()+500,Qw&&nu()))}function os(n,e){var t=n.callbackNode;kJ(n,e);var r=gb(n,n===Kr?ai:0);if(r===0)t!==null&&jD(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&jD(t),e===1)n.tag===0?NY(BB.bind(null,n)):cG(BB.bind(null,n)),TY(function(){!(en&6)&&nu()}),t=null;else{switch(FH(r)){case 1:t=UI;break;case 4:t=LH;break;case 16:t=mb;break;case 536870912:t=DH;break;default:t=mb}t=lV(t,tV.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function tV(n,e){if(Gx=-1,Vx=0,en&6)throw Error(Ge(327));var t=n.callbackNode;if(gf()&&n.callbackNode!==t)return null;var r=gb(n,n===Kr?ai:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Ob(n,r);else{e=r;var i=en;en|=2;var s=rV();(Kr!==n||ai!==e)&&(Qa=null,zf=vr()+500,nd(n,e));do try{ZY();break}catch(a){nV(n,a)}while(1);ZI(),Ib.current=s,en=i,Ar!==null?e=0:(Kr=null,ai=0,e=kr)}if(e!==0){if(e===2&&(i=tT(n),i!==0&&(r=i,e=PT(n,i))),e===1)throw t=gv,nd(n,0),lc(n,r),os(n,vr()),t;if(e===6)lc(n,r);else{if(i=n.current.alternate,!(r&30)&&!qY(i)&&(e=Ob(n,r),e===2&&(s=tT(n),s!==0&&(r=s,e=PT(n,s))),e===1))throw t=gv,nd(n,0),lc(n,r),os(n,vr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ge(345));case 2:Iu(n,Zi,Qa);break;case 3:if(lc(n,r),(r&130023424)===r&&(e=p2+500-vr(),10<e)){if(gb(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Wi(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=cT(Iu.bind(null,n,Zi,Qa),e);break}Iu(n,Zi,Qa);break;case 4:if(lc(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Oo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=vr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YY(r/1960))-r,10<r){n.timeoutHandle=cT(Iu.bind(null,n,Zi,Qa),r);break}Iu(n,Zi,Qa);break;case 5:Iu(n,Zi,Qa);break;default:throw Error(Ge(329))}}}return os(n,vr()),n.callbackNode===t?tV.bind(null,n):null}function PT(n,e){var t=Tg;return n.current.memoizedState.isDehydrated&&(nd(n,e).flags|=256),n=Ob(n,e),n!==2&&(e=Zi,Zi=t,e!==null&&RT(e)),n}function RT(n){Zi===null?Zi=n:Zi.push.apply(Zi,n)}function qY(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Fo(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lc(n,e){for(e&=~f2,e&=~n1,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Oo(e),r=1<<t;n[t]=-1,e&=~r}}function BB(n){if(en&6)throw Error(Ge(327));gf();var e=gb(n,0);if(!(e&1))return os(n,vr()),null;var t=Ob(n,e);if(n.tag!==0&&t===2){var r=tT(n);r!==0&&(e=r,t=PT(n,r))}if(t===1)throw t=gv,nd(n,0),lc(n,e),os(n,vr()),t;if(t===6)throw Error(Ge(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Iu(n,Zi,Qa),os(n,vr()),null}function m2(n,e){var t=en;en|=1;try{return n(e)}finally{en=t,en===0&&(zf=vr()+500,Qw&&nu())}}function _d(n){uc!==null&&uc.tag===0&&!(en&6)&&gf();var e=en;en|=1;var t=so.transition,r=vn;try{if(so.transition=null,vn=1,n)return n()}finally{vn=r,so.transition=t,en=e,!(en&6)&&nu()}}function g2(){bs=Qh.current,Fn(Qh)}function nd(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,MY(t)),Ar!==null)for(t=Ar.return;t!==null;){var r=t;switch(YI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bb();break;case 3:Bf(),Fn(is),Fn(Ii),s2();break;case 5:i2(r);break;case 4:Bf();break;case 13:Fn(qn);break;case 19:Fn(qn);break;case 10:e2(r.type._context);break;case 22:case 23:g2()}t=t.return}if(Kr=n,Ar=n=Cc(n.current,null),ai=bs=e,kr=0,gv=null,f2=n1=yd=0,Zi=Tg=null,$u!==null){for(e=0;e<$u.length;e++)if(t=$u[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}$u=null}return n}function nV(n,e){do{var t=Ar;try{if(ZI(),zx.current=Rb,Pb){for(var r=er.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pb=!1}if(vd=0,Vr=Rr=er=null,Ag=!1,fv=0,h2.current=null,t===null||t.return===null){kr=1,gv=e,Ar=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=ai,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=EB(o);if(m!==null){m.flags&=-257,CB(m,o,a,s,e),m.mode&1&&SB(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){SB(s,c,e),v2();break e}l=Error(Ge(426))}}else if(jn&&a.mode&1){var _=EB(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),CB(_,o,a,s,e),qI(Ff(l,a));break e}}s=l=Ff(l,a),kr!==4&&(kr=2),Tg===null?Tg=[s]:Tg.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=zG(s,l,e);gB(s,x);break e;case 1:a=l;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Sc===null||!Sc.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=UG(s,a,e);gB(s,E);break e}}s=s.return}while(s!==null)}sV(t)}catch(A){e=A,Ar===t&&t!==null&&(Ar=t=t.return);continue}break}while(1)}function rV(){var n=Ib.current;return Ib.current=Rb,n===null?Rb:n}function v2(){(kr===0||kr===3||kr===2)&&(kr=4),Kr===null||!(yd&268435455)&&!(n1&268435455)||lc(Kr,ai)}function Ob(n,e){var t=en;en|=2;var r=rV();(Kr!==n||ai!==e)&&(Qa=null,nd(n,e));do try{QY();break}catch(i){nV(n,i)}while(1);if(ZI(),en=t,Ib.current=r,Ar!==null)throw Error(Ge(261));return Kr=null,ai=0,kr}function QY(){for(;Ar!==null;)iV(Ar)}function ZY(){for(;Ar!==null&&!EJ();)iV(Ar)}function iV(n){var e=aV(n.alternate,n,bs);n.memoizedProps=n.pendingProps,e===null?sV(n):Ar=e,h2.current=null}function sV(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=$Y(t,e),t!==null){t.flags&=32767,Ar=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{kr=6,Ar=null;return}}else if(t=jY(t,e,bs),t!==null){Ar=t;return}if(e=e.sibling,e!==null){Ar=e;return}Ar=e=n}while(e!==null);kr===0&&(kr=5)}function Iu(n,e,t){var r=vn,i=so.transition;try{so.transition=null,vn=1,eq(n,e,t,r)}finally{so.transition=i,vn=r}return null}function eq(n,e,t,r){do gf();while(uc!==null);if(en&6)throw Error(Ge(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ge(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(OJ(n,s),n===Kr&&(Ar=Kr=null,ai=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||S_||(S_=!0,lV(mb,function(){return gf(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=so.transition,so.transition=null;var o=vn;vn=1;var a=en;en|=4,h2.current=null,XY(n,t),ZG(t,n),xY(aT),vb=!!oT,aT=oT=null,n.current=t,JY(t),CJ(),en=a,vn=o,so.transition=s}else n.current=t;if(S_&&(S_=!1,uc=n,kb=i),s=n.pendingLanes,s===0&&(Sc=null),TJ(t.stateNode),os(n,vr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Nb)throw Nb=!1,n=MT,MT=null,n;return kb&1&&n.tag!==0&&gf(),s=n.pendingLanes,s&1?n===TT?Pg++:(Pg=0,TT=n):Pg=0,nu(),null}function gf(){if(uc!==null){var n=FH(kb),e=so.transition,t=vn;try{if(so.transition=null,vn=16>n?16:n,uc===null)var r=!1;else{if(n=uc,uc=null,kb=0,en&6)throw Error(Ge(331));var i=en;for(en|=4,tt=n.current;tt!==null;){var s=tt,o=s.child;if(tt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(tt=c;tt!==null;){var u=tt;switch(u.tag){case 0:case 11:case 15:Mg(8,u,s)}var d=u.child;if(d!==null)d.return=u,tt=d;else for(;tt!==null;){u=tt;var h=u.sibling,m=u.return;if(YG(u),u===c){tt=null;break}if(h!==null){h.return=m,tt=h;break}tt=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}tt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,tt=o;else e:for(;tt!==null;){if(s=tt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mg(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,tt=x;break e}tt=s.return}}var b=n.current;for(tt=b;tt!==null;){o=tt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,tt=w;else e:for(o=b;tt!==null;){if(a=tt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:t1(9,a)}}catch(A){cr(a,a.return,A)}if(a===o){tt=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,tt=E;break e}tt=a.return}}if(en=i,nu(),va&&typeof va.onPostCommitFiberRoot=="function")try{va.onPostCommitFiberRoot(Kw,n)}catch{}r=!0}return r}finally{vn=t,so.transition=e}}return!1}function FB(n,e,t){e=Ff(t,e),e=zG(n,e,1),n=wc(n,e,1),e=Wi(),n!==null&&(hy(n,1,e),os(n,e))}function cr(n,e,t){if(n.tag===3)FB(n,n,t);else for(;e!==null;){if(e.tag===3){FB(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sc===null||!Sc.has(r))){n=Ff(t,n),n=UG(e,n,1),e=wc(e,n,1),n=Wi(),e!==null&&(hy(e,1,n),os(e,n));break}}e=e.return}}function tq(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Wi(),n.pingedLanes|=n.suspendedLanes&t,Kr===n&&(ai&t)===t&&(kr===4||kr===3&&(ai&130023424)===ai&&500>vr()-p2?nd(n,0):f2|=t),os(n,e)}function oV(n,e){e===0&&(n.mode&1?(e=f_,f_<<=1,!(f_&130023424)&&(f_=4194304)):e=1);var t=Wi();n=yl(n,e),n!==null&&(hy(n,e,t),os(n,t))}function nq(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),oV(n,t)}function rq(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ge(314))}r!==null&&r.delete(e),oV(n,t)}var aV;aV=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||is.current)ns=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ns=!1,WY(n,e,t);ns=!!(n.flags&131072)}else ns=!1,jn&&e.flags&1048576&&uG(e,Eb,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hx(n,e),n=e.pendingProps;var i=Of(e,Ii.current);mf(e,t),i=a2(null,e,r,n,i,t);var s=l2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ss(r)?(s=!0,wb(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,n2(e),i.updater=Zw,e.stateNode=i,i._reactInternals=e,gT(e,r,n,t),e=_T(null,e,r,!0,s,t)):(e.tag=0,jn&&s&&JI(e),Ui(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Hx(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sq(r),n=Ao(r,n),i){case 0:e=yT(null,e,r,n,t);break e;case 1:e=TB(null,e,r,n,t);break e;case 11:e=AB(null,e,r,n,t);break e;case 14:e=MB(null,e,r,Ao(r.type,n),t);break e}throw Error(Ge(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ao(r,i),yT(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ao(r,i),TB(n,e,r,i,t);case 3:e:{if(WG(e),n===null)throw Error(Ge(387));r=e.pendingProps,s=e.memoizedState,i=s.element,pG(n,e),Mb(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ff(Error(Ge(423)),e),e=PB(n,e,r,t,i);break e}else if(r!==i){i=Ff(Error(Ge(424)),e),e=PB(n,e,r,t,i);break e}else for(Es=bc(e.stateNode.containerInfo.firstChild),As=e,jn=!0,Po=null,t=yG(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Lf(),r===i){e=_l(n,e,t);break e}Ui(n,e,r,t)}e=e.child}return e;case 5:return _G(e),n===null&&fT(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,lT(r,i)?o=null:s!==null&&lT(r,s)&&(e.flags|=32),VG(n,e),Ui(n,e,o,t),e.child;case 6:return n===null&&fT(e),null;case 13:return jG(n,e,t);case 4:return r2(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Df(e,null,r,t):Ui(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ao(r,i),AB(n,e,r,i,t);case 7:return Ui(n,e,e.pendingProps,t),e.child;case 8:return Ui(n,e,e.pendingProps.children,t),e.child;case 12:return Ui(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Rn(Cb,r._currentValue),r._currentValue=o,s!==null)if(Fo(s.value,o)){if(s.children===i.children&&!is.current){e=_l(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=cl(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),pT(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ge(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),pT(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ui(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,mf(e,t),i=ao(i),r=r(i),e.flags|=1,Ui(n,e,r,t),e.child;case 14:return r=e.type,i=Ao(r,e.pendingProps),i=Ao(r.type,i),MB(n,e,r,i,t);case 15:return HG(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ao(r,i),Hx(n,e),e.tag=1,ss(r)?(n=!0,wb(e)):n=!1,mf(e,t),gG(e,r,i),gT(e,r,i,t),_T(null,e,r,!0,n,t);case 19:return $G(n,e,t);case 22:return GG(n,e,t)}throw Error(Ge(156,e.tag))};function lV(n,e){return OH(n,e)}function iq(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function to(n,e,t,r){return new iq(n,e,t,r)}function y2(n){return n=n.prototype,!(!n||!n.isReactComponent)}function sq(n){if(typeof n=="function")return y2(n)?1:0;if(n!=null){if(n=n.$$typeof,n===BI)return 11;if(n===FI)return 14}return 2}function Cc(n,e){var t=n.alternate;return t===null?(t=to(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Wx(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")y2(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Gh:return rd(t.children,i,s,e);case DI:o=8,i|=8;break;case UM:return n=to(12,t,e,i|2),n.elementType=UM,n.lanes=s,n;case HM:return n=to(13,t,e,i),n.elementType=HM,n.lanes=s,n;case GM:return n=to(19,t,e,i),n.elementType=GM,n.lanes=s,n;case vH:return r1(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case mH:o=10;break e;case gH:o=9;break e;case BI:o=11;break e;case FI:o=14;break e;case rc:o=16,r=null;break e}throw Error(Ge(130,n==null?n:typeof n,""))}return e=to(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function rd(n,e,t,r){return n=to(7,n,r,e),n.lanes=t,n}function r1(n,e,t,r){return n=to(22,n,r,e),n.elementType=vH,n.lanes=t,n.stateNode={isHidden:!1},n}function AC(n,e,t){return n=to(6,n,null,e),n.lanes=t,n}function MC(n,e,t){return e=to(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function oq(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aC(0),this.expirationTimes=aC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aC(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _2(n,e,t,r,i,s,o,a,l){return n=new oq(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=to(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},n2(s),n}function aq(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hh,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function cV(n){if(!n)return Bc;n=n._reactInternals;e:{if(Ld(n)!==n||n.tag!==1)throw Error(Ge(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ss(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ge(171))}if(n.tag===1){var t=n.type;if(ss(t))return lG(n,t,e)}return e}function uV(n,e,t,r,i,s,o,a,l){return n=_2(t,r,!0,n,i,s,o,a,l),n.context=cV(null),t=n.current,r=Wi(),i=Ec(t),s=cl(r,i),s.callback=e??null,wc(t,s,i),n.current.lanes=i,hy(n,i,r),os(n,r),n}function i1(n,e,t,r){var i=e.current,s=Wi(),o=Ec(i);return t=cV(t),e.context===null?e.context=t:e.pendingContext=t,e=cl(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=wc(i,e,o),n!==null&&(Lo(n,i,o,s),Fx(n,i,o)),o}function Lb(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function zB(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function x2(n,e){zB(n,e),(n=n.alternate)&&zB(n,e)}function lq(){return null}var dV=typeof reportError=="function"?reportError:function(n){console.error(n)};function b2(n){this._internalRoot=n}s1.prototype.render=b2.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ge(409));i1(n,e,null,null)};s1.prototype.unmount=b2.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;_d(function(){i1(null,n,null,null)}),e[vl]=null}};function s1(n){this._internalRoot=n}s1.prototype.unstable_scheduleHydration=function(n){if(n){var e=HH();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ac.length&&e!==0&&e<ac[t].priority;t++);ac.splice(t,0,n),t===0&&VH(n)}};function w2(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function UB(){}function cq(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Lb(o);s.call(c)}}var o=uV(e,r,n,0,null,!1,!1,"",UB);return n._reactRootContainer=o,n[vl]=o.current,lv(n.nodeType===8?n.parentNode:n),_d(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Lb(l);a.call(c)}}var l=_2(n,0,!1,null,null,!1,!1,"",UB);return n._reactRootContainer=l,n[vl]=l.current,lv(n.nodeType===8?n.parentNode:n),_d(function(){i1(e,l,t,r)}),l}function a1(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Lb(o);a.call(l)}}i1(e,o,n,i)}else o=cq(t,e,n,i,r);return Lb(o)}zH=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=cg(e.pendingLanes);t!==0&&(HI(e,t|1),os(e,vr()),!(en&6)&&(zf=vr()+500,nu()))}break;case 13:_d(function(){var r=yl(n,1);if(r!==null){var i=Wi();Lo(r,n,1,i)}}),x2(n,1)}};GI=function(n){if(n.tag===13){var e=yl(n,134217728);if(e!==null){var t=Wi();Lo(e,n,134217728,t)}x2(n,134217728)}};UH=function(n){if(n.tag===13){var e=Ec(n),t=yl(n,e);if(t!==null){var r=Wi();Lo(t,n,e,r)}x2(n,e)}};HH=function(){return vn};GH=function(n,e){var t=vn;try{return vn=n,e()}finally{vn=t}};QM=function(n,e,t){switch(e){case"input":if(jM(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=qw(r);if(!i)throw Error(Ge(90));_H(r),jM(r,i)}}}break;case"textarea":bH(n,t);break;case"select":e=t.value,e!=null&&df(n,!!t.multiple,e,!1)}};TH=m2;PH=_d;var uq={usingClientEntryPoint:!1,Events:[py,$h,qw,AH,MH,m2]},wm={findFiberByHostInstance:ju,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},dq={bundleType:wm.bundleType,version:wm.version,rendererPackageName:wm.rendererPackageName,rendererConfig:wm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Al.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=NH(n),n===null?null:n.stateNode},findFiberByHostInstance:wm.findFiberByHostInstance||lq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var E_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!E_.isDisabled&&E_.supportsFiber)try{Kw=E_.inject(dq),va=E_}catch{}}Os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uq;Os.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w2(e))throw Error(Ge(200));return aq(n,e,null,t)};Os.createRoot=function(n,e){if(!w2(n))throw Error(Ge(299));var t=!1,r="",i=dV;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_2(n,1,!1,null,null,t,!1,r,i),n[vl]=e.current,lv(n.nodeType===8?n.parentNode:n),new b2(e)};Os.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ge(188)):(n=Object.keys(n).join(","),Error(Ge(268,n)));return n=NH(e),n=n===null?null:n.stateNode,n};Os.flushSync=function(n){return _d(n)};Os.hydrate=function(n,e,t){if(!o1(e))throw Error(Ge(200));return a1(null,n,e,!0,t)};Os.hydrateRoot=function(n,e,t){if(!w2(n))throw Error(Ge(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=dV;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=uV(e,null,n,1,t??null,i,!1,s,o),n[vl]=e.current,lv(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new s1(e)};Os.render=function(n,e,t){if(!o1(e))throw Error(Ge(200));return a1(null,n,e,!1,t)};Os.unmountComponentAtNode=function(n){if(!o1(n))throw Error(Ge(40));return n._reactRootContainer?(_d(function(){a1(null,null,n,!1,function(){n._reactRootContainer=null,n[vl]=null})}),!0):!1};Os.unstable_batchedUpdates=m2;Os.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!o1(t))throw Error(Ge(200));if(n==null||n._reactInternals===void 0)throw Error(Ge(38));return a1(n,e,t,!1,r)};Os.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=Os})(lJ);const Pi=jw(pd);var HB=pd;BM.createRoot=HB.createRoot,BM.hydrateRoot=HB.hydrateRoot;/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vv(){return vv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vv.apply(this,arguments)}var dc;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(dc||(dc={}));const GB="popstate";function hq(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return IT("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Db(i)}return pq(e,t,null,n)}function Lr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function S2(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fq(){return Math.random().toString(36).substr(2,8)}function VB(n,e){return{usr:n.state,key:n.key,idx:e}}function IT(n,e,t,r){return t===void 0&&(t=null),vv({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Sp(e):e,{state:t,key:e&&e.key||r||fq()})}function Db(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Sp(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function pq(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=dc.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(vv({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=dc.Pop;let _=u(),x=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:x})}function h(_,x){a=dc.Push;let b=IT(v.location,_,x);t&&t(b,_),c=u()+1;let w=VB(b,c),E=v.createHref(b);try{o.pushState(w,"",E)}catch{i.location.assign(E)}s&&l&&l({action:a,location:v.location,delta:1})}function m(_,x){a=dc.Replace;let b=IT(v.location,_,x);t&&t(b,_),c=u();let w=VB(b,c),E=v.createHref(b);o.replaceState(w,"",E),s&&l&&l({action:a,location:v.location,delta:0})}function g(_){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof _=="string"?_:Db(_);return Lr(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let v={get action(){return a},get location(){return n(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(GB,d),l=_,()=>{i.removeEventListener(GB,d),l=null}},createHref(_){return e(i,_)},createURL:g,encodeLocation(_){let x=g(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(_){return o.go(_)}};return v}var WB;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(WB||(WB={}));function mq(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?Sp(e):e,i=E2(r.pathname||"/",t);if(i==null)return null;let s=hV(n);gq(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Cq(s[a],Tq(i));return o}function hV(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Lr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ac([r,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(Lr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),hV(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Sq(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of fV(s.path))i(s,o,l)}),e}function fV(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=fV(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function gq(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Eq(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const vq=/^:\w+$/,yq=3,_q=2,xq=1,bq=10,wq=-2,jB=n=>n==="*";function Sq(n,e){let t=n.split("/"),r=t.length;return t.some(jB)&&(r+=wq),e&&(r+=_q),t.filter(i=>!jB(i)).reduce((i,s)=>i+(vq.test(s)?yq:s===""?xq:bq),r)}function Eq(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Cq(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=Aq({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Ac([i,u.pathname]),pathnameBase:Nq(Ac([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Ac([i,u.pathnameBase]))}return s}function Aq(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Mq(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let h=a[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return c[u]=Pq(a[d]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:n}}function Mq(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),S2(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Tq(n){try{return decodeURI(n)}catch(e){return S2(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Pq(n,e){try{return decodeURIComponent(n)}catch(t){return S2(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function E2(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Rq(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Sp(n):n;return{pathname:t?t.startsWith("/")?t:Iq(t,e):e,search:kq(r),hash:Oq(i)}}function Iq(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function TC(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function mV(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Sp(n):(i=vv({},n),Lr(!i.pathname||!i.pathname.includes("?"),TC("?","pathname","search",i)),Lr(!i.pathname||!i.pathname.includes("#"),TC("#","pathname","hash",i)),Lr(!i.search||!i.search.includes("#"),TC("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=t;else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=Rq(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ac=n=>n.join("/").replace(/\/\/+/g,"/"),Nq=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),kq=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Oq=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Lq(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Dq=["post","put","patch","delete"];[...Dq];/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bq(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const Fq=typeof Object.is=="function"?Object.is:Bq,{useState:zq,useEffect:Uq,useLayoutEffect:Hq,useDebugValue:Gq}=Nf;function Vq(n,e,t){const r=e(),[{inst:i},s]=zq({inst:{value:r,getSnapshot:e}});return Hq(()=>{i.value=r,i.getSnapshot=e,PC(i)&&s({inst:i})},[n,r,e]),Uq(()=>(PC(i)&&s({inst:i}),n(()=>{PC(i)&&s({inst:i})})),[n]),Gq(r),r}function PC(n){const e=n.getSnapshot,t=n.value;try{const r=e();return!Fq(t,r)}catch{return!0}}function Wq(n,e,t){return e()}const jq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$q=!jq,Kq=$q?Wq:Vq;"useSyncExternalStore"in Nf&&(n=>n.useSyncExternalStore)(Nf);const gV=N.createContext(null),vV=N.createContext(null),gy=N.createContext(null),l1=N.createContext(null),Ep=N.createContext({outlet:null,matches:[]}),yV=N.createContext(null);function NT(){return NT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},NT.apply(this,arguments)}function Xq(n,e){let{relative:t}=e===void 0?{}:e;vy()||Lr(!1);let{basename:r,navigator:i}=N.useContext(gy),{hash:s,pathname:o,search:a}=_V(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:Ac([r,o])),i.createHref({pathname:l,search:a,hash:s})}function vy(){return N.useContext(l1)!=null}function yy(){return vy()||Lr(!1),N.useContext(l1).location}function Jq(){vy()||Lr(!1);let{basename:n,navigator:e}=N.useContext(gy),{matches:t}=N.useContext(Ep),{pathname:r}=yy(),i=JSON.stringify(pV(t).map(a=>a.pathnameBase)),s=N.useRef(!1);return N.useEffect(()=>{s.current=!0}),N.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let c=mV(a,JSON.parse(i),r,l.relative==="path");n!=="/"&&(c.pathname=c.pathname==="/"?n:Ac([n,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[n,e,i,r])}function _V(n,e){let{relative:t}=e===void 0?{}:e,{matches:r}=N.useContext(Ep),{pathname:i}=yy(),s=JSON.stringify(pV(r).map(o=>o.pathnameBase));return N.useMemo(()=>mV(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function Yq(n,e){vy()||Lr(!1);let{navigator:t}=N.useContext(gy),r=N.useContext(vV),{matches:i}=N.useContext(Ep),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=yy(),c;if(e){var u;let v=typeof e=="string"?Sp(e):e;a==="/"||(u=v.pathname)!=null&&u.startsWith(a)||Lr(!1),c=v}else c=l;let d=c.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",m=mq(n,{pathname:h}),g=eQ(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Ac([a,t.encodeLocation?t.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Ac([a,t.encodeLocation?t.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r||void 0);return e&&g?N.createElement(l1.Provider,{value:{location:NT({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:dc.Pop}},g):g}function qq(){let n=iQ(),e=Lq(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:i},t):null,s)}class Qq extends N.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?N.createElement(Ep.Provider,{value:this.props.routeContext},N.createElement(yV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zq(n){let{routeContext:e,match:t,children:r}=n,i=N.useContext(gV);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Ep.Provider,{value:e},r)}function eQ(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let r=n,i=t==null?void 0:t.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Lr(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,c=null;t&&(o.route.ErrorBoundary?c=N.createElement(o.route.ErrorBoundary,null):o.route.errorElement?c=o.route.errorElement:c=N.createElement(qq,null));let u=e.concat(r.slice(0,a+1)),d=()=>{let h=s;return l?h=c:o.route.Component?h=N.createElement(o.route.Component,null):o.route.element&&(h=o.route.element),N.createElement(Zq,{match:o,routeContext:{outlet:s,matches:u},children:h})};return t&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?N.createElement(Qq,{location:t.location,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u}}):d()},null)}var $B;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator"})($B||($B={}));var Bb;(function(n){n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(Bb||(Bb={}));function tQ(n){let e=N.useContext(vV);return e||Lr(!1),e}function nQ(n){let e=N.useContext(Ep);return e||Lr(!1),e}function rQ(n){let e=nQ(),t=e.matches[e.matches.length-1];return t.route.id||Lr(!1),t.route.id}function iQ(){var n;let e=N.useContext(yV),t=tQ(Bb.UseRouteError),r=rQ(Bb.UseRouteError);return e||((n=t.errors)==null?void 0:n[r])}function Co(n){Lr(!1)}function sQ(n){let{basename:e="/",children:t=null,location:r,navigationType:i=dc.Pop,navigator:s,static:o=!1}=n;vy()&&Lr(!1);let a=e.replace(/^\/*/,"/"),l=N.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Sp(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:m="default"}=r,g=N.useMemo(()=>{let v=E2(c,a);return v==null?null:{location:{pathname:v,search:u,hash:d,state:h,key:m},navigationType:i}},[a,c,u,d,h,m,i]);return g==null?null:N.createElement(gy.Provider,{value:l},N.createElement(l1.Provider,{children:t,value:g}))}function oQ(n){let{children:e,location:t}=n,r=N.useContext(gV),i=r&&!e?r.router.routes:kT(e);return Yq(i,t)}var KB;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(KB||(KB={}));new Promise(()=>{});function kT(n,e){e===void 0&&(e=[]);let t=[];return N.Children.forEach(n,(r,i)=>{if(!N.isValidElement(r))return;if(r.type===N.Fragment){t.push.apply(t,kT(r.props.children,e));return}r.type!==Co&&Lr(!1),!r.props.index||!r.props.children||Lr(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kT(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function OT(){return OT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},OT.apply(this,arguments)}function aQ(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function lQ(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function cQ(n,e){return n.button===0&&(!e||e==="_self")&&!lQ(n)}const uQ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function dQ(n){let{basename:e,children:t,window:r}=n,i=N.useRef();i.current==null&&(i.current=hq({window:r,v5Compat:!0}));let s=i.current,[o,a]=N.useState({action:s.action,location:s.location});return N.useLayoutEffect(()=>s.listen(a),[s]),N.createElement(sQ,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}const hQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fQ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hi=N.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,d=aQ(e,uQ),{basename:h}=N.useContext(gy),m,g=!1;if(typeof c=="string"&&fQ.test(c)&&(m=c,hQ)){let b=new URL(window.location.href),w=c.startsWith("//")?new URL(b.protocol+c):new URL(c),E=E2(w.pathname,h);w.origin===b.origin&&E!=null?c=E+w.search+w.hash:g=!0}let v=Xq(c,{relative:i}),_=pQ(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i});function x(b){r&&r(b),b.defaultPrevented||_(b)}return N.createElement("a",OT({},d,{href:m||v,onClick:g||s?r:x,ref:t,target:l}))});var XB;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(XB||(XB={}));var JB;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(JB||(JB={}));function pQ(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Jq(),l=yy(),c=_V(n,{relative:o});return N.useCallback(u=>{if(cQ(u,t)){u.preventDefault();let d=r!==void 0?r:Db(l)===Db(c);a(n,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,t,n,s,o])}const mQ="/homepage.webm",gQ="/assets/web-logo-0d8575d2.png";var C2={},zo={},vQ={get exports(){return zo},set exports(n){zo=n}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(vQ);var RC={};function vf(){return vf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vf.apply(this,arguments)}function Hu(n){return n!==null&&typeof n=="object"&&n.constructor===Object}function xV(n){if(!Hu(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=xV(n[t])}),e}function ul(n,e,t={clone:!0}){const r=t.clone?vf({},n):n;return Hu(n)&&Hu(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Hu(e[i])&&i in n&&Hu(n[i])?r[i]=ul(n[i],e[i],t):t.clone?r[i]=Hu(e[i])?xV(e[i]):e[i]:r[i]=e[i])}),r}var Rg={},yQ={get exports(){return Rg},set exports(n){Rg=n}},_Q="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xQ=_Q,bQ=xQ;function bV(){}function wV(){}wV.resetWarningCache=bV;var wQ=function(){function n(r,i,s,o,a,l){if(l!==bQ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:wV,resetWarningCache:bV};return t.PropTypes=t,t};yQ.exports=wQ();function Uf(n){let e="https://mui.com/production-error/?code="+n;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+n+"; visit "+e+" for the full message."}var Fb={},SQ={get exports(){return Fb},set exports(n){Fb=n}},yn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A2=Symbol.for("react.element"),M2=Symbol.for("react.portal"),c1=Symbol.for("react.fragment"),u1=Symbol.for("react.strict_mode"),d1=Symbol.for("react.profiler"),h1=Symbol.for("react.provider"),f1=Symbol.for("react.context"),EQ=Symbol.for("react.server_context"),p1=Symbol.for("react.forward_ref"),m1=Symbol.for("react.suspense"),g1=Symbol.for("react.suspense_list"),v1=Symbol.for("react.memo"),y1=Symbol.for("react.lazy"),CQ=Symbol.for("react.offscreen"),SV;SV=Symbol.for("react.module.reference");function ho(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case A2:switch(n=n.type,n){case c1:case d1:case u1:case m1:case g1:return n;default:switch(n=n&&n.$$typeof,n){case EQ:case f1:case p1:case y1:case v1:case h1:return n;default:return e}}case M2:return e}}}yn.ContextConsumer=f1;yn.ContextProvider=h1;yn.Element=A2;yn.ForwardRef=p1;yn.Fragment=c1;yn.Lazy=y1;yn.Memo=v1;yn.Portal=M2;yn.Profiler=d1;yn.StrictMode=u1;yn.Suspense=m1;yn.SuspenseList=g1;yn.isAsyncMode=function(){return!1};yn.isConcurrentMode=function(){return!1};yn.isContextConsumer=function(n){return ho(n)===f1};yn.isContextProvider=function(n){return ho(n)===h1};yn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===A2};yn.isForwardRef=function(n){return ho(n)===p1};yn.isFragment=function(n){return ho(n)===c1};yn.isLazy=function(n){return ho(n)===y1};yn.isMemo=function(n){return ho(n)===v1};yn.isPortal=function(n){return ho(n)===M2};yn.isProfiler=function(n){return ho(n)===d1};yn.isStrictMode=function(n){return ho(n)===u1};yn.isSuspense=function(n){return ho(n)===m1};yn.isSuspenseList=function(n){return ho(n)===g1};yn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===c1||n===d1||n===u1||n===m1||n===g1||n===CQ||typeof n=="object"&&n!==null&&(n.$$typeof===y1||n.$$typeof===v1||n.$$typeof===h1||n.$$typeof===f1||n.$$typeof===p1||n.$$typeof===SV||n.getModuleId!==void 0)};yn.typeOf=ho;(function(n){n.exports=yn})(SQ);function pr(n){if(typeof n!="string")throw new Error(Uf(7));return n.charAt(0).toUpperCase()+n.slice(1)}function AQ(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function zb(n,e=166){let t;function r(...i){const s=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(s,e)}return r.clear=()=>{clearTimeout(t)},r}function MQ(n,e){return()=>null}function TQ(n,e){return N.isValidElement(n)&&e.indexOf(n.type.muiName)!==-1}function yv(n){return n&&n.ownerDocument||document}function T2(n){return yv(n).defaultView||window}function PQ(n,e){return()=>null}function Ub(n,e){typeof n=="function"?n(e):n&&(n.current=e)}const RQ=typeof window<"u"?N.useLayoutEffect:N.useEffect,Hf=RQ;let YB=0;function IQ(n){const[e,t]=N.useState(n),r=n||e;return N.useEffect(()=>{e==null&&(YB+=1,t(`mui-${YB}`))},[e]),r}const qB=Nf["useId"];function EV(n){if(qB!==void 0){const e=qB();return n??e}return IQ(n)}function NQ(n,e,t,r,i){return null}function P2({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=N.useRef(n!==void 0),[s,o]=N.useState(e),a=i?n:s,l=N.useCallback(c=>{i||o(c)},[]);return[a,l]}function il(n){const e=N.useRef(n);return Hf(()=>{e.current=n}),N.useCallback((...t)=>(0,e.current)(...t),[])}function Aa(...n){return N.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{Ub(t,e)})},n)}let _1=!0,LT=!1,QB;const kQ={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function OQ(n){const{type:e,tagName:t}=n;return!!(t==="INPUT"&&kQ[e]&&!n.readOnly||t==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function LQ(n){n.metaKey||n.altKey||n.ctrlKey||(_1=!0)}function IC(){_1=!1}function DQ(){this.visibilityState==="hidden"&&LT&&(_1=!0)}function BQ(n){n.addEventListener("keydown",LQ,!0),n.addEventListener("mousedown",IC,!0),n.addEventListener("pointerdown",IC,!0),n.addEventListener("touchstart",IC,!0),n.addEventListener("visibilitychange",DQ,!0)}function FQ(n){const{target:e}=n;try{return e.matches(":focus-visible")}catch{}return _1||OQ(e)}function R2(){const n=N.useCallback(i=>{i!=null&&BQ(i.ownerDocument)},[]),e=N.useRef(!1);function t(){return e.current?(LT=!0,window.clearTimeout(QB),QB=window.setTimeout(()=>{LT=!1},100),e.current=!1,!0):!1}function r(i){return FQ(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:t,ref:n}}let oh;function CV(){if(oh)return oh;const n=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",n.appendChild(e),n.dir="rtl",n.style.fontSize="14px",n.style.width="4px",n.style.height="1px",n.style.position="absolute",n.style.top="-1000px",n.style.overflow="scroll",document.body.appendChild(n),oh="reverse",n.scrollLeft>0?oh="default":(n.scrollLeft=1,n.scrollLeft===0&&(oh="negative")),document.body.removeChild(n),oh}function ZB(n,e){const t=n.scrollLeft;if(e!=="rtl")return t;switch(CV()){case"negative":return n.scrollWidth-n.clientWidth+t;case"reverse":return n.scrollWidth-n.clientWidth-t;default:return t}}function AV(n,e){const t=vf({},e);return Object.keys(n).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=vf({},n[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=n[r]||{},s=e[r];t[r]={},!s||!Object.keys(s)?t[r]=i:!i||!Object.keys(i)?t[r]=s:(t[r]=vf({},s),Object.keys(i).forEach(o=>{t[r][o]=AV(i[o],s[o])}))}else t[r]===void 0&&(t[r]=n[r])}),t}function ui(n,e,t){const r={};return Object.keys(n).forEach(i=>{r[i]=n[i].reduce((s,o)=>(o&&(s.push(e(o)),t&&t[o]&&s.push(t[o])),s),[]).join(" ")}),r}const e3=n=>n,zQ=()=>{let n=e3;return{configure(e){n=e},generate(e){return n(e)},reset(){n=e3}}},UQ=zQ(),I2=UQ,HQ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Jr(n,e,t="Mui"){const r=HQ[e];return r?`${t}-${r}`:`${I2.generate(n)}-${e}`}function Yr(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Jr(n,i,t)}),r}function Ne(){return Ne=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ne.apply(this,arguments)}function Xn(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function MV(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=MV(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Ft(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=MV(n))&&(r&&(r+=" "),r+=e);return r}function Mi(){return Mi=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mi.apply(this,arguments)}function GQ(n){return typeof n=="string"}function dg(n,e,t){return n===void 0||GQ(n)?e:Mi({},e,{ownerState:Mi({},e.ownerState,t)})}function VQ(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function WQ(n,e){return typeof n=="function"?n(e):n}function N2(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function t3(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function jQ(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:s}=n;if(!e){const m=Ft(i==null?void 0:i.className,r==null?void 0:r.className,s,t==null?void 0:t.className),g=Mi({},t==null?void 0:t.style,i==null?void 0:i.style,r==null?void 0:r.style),v=Mi({},t,i,r);return m.length>0&&(v.className=m),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:void 0}}const o=VQ(Mi({},i,r)),a=t3(r),l=t3(i),c=e(o),u=Ft(c==null?void 0:c.className,t==null?void 0:t.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=Mi({},c==null?void 0:c.style,t==null?void 0:t.style,i==null?void 0:i.style,r==null?void 0:r.style),h=Mi({},c,t,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}const $Q=["elementType","externalSlotProps","ownerState"];function KQ(n){var e;const{elementType:t,externalSlotProps:r,ownerState:i}=n,s=N2(n,$Q),o=WQ(r,i),{props:a,internalRef:l}=jQ(Mi({},s,{externalSlotProps:o})),c=Aa(l,o==null?void 0:o.ref,(e=n.additionalProps)==null?void 0:e.ref);return dg(t,Mi({},a,{ref:c}),i)}var as="top",co="bottom",uo="right",ls="left",k2="auto",_y=[as,co,uo,ls],Gf="start",_v="end",XQ="clippingParents",TV="viewport",Sm="popper",JQ="reference",n3=_y.reduce(function(n,e){return n.concat([e+"-"+Gf,e+"-"+_v])},[]),PV=[].concat(_y,[k2]).reduce(function(n,e){return n.concat([e,e+"-"+Gf,e+"-"+_v])},[]),YQ="beforeRead",qQ="read",QQ="afterRead",ZQ="beforeMain",eZ="main",tZ="afterMain",nZ="beforeWrite",rZ="write",iZ="afterWrite",sZ=[YQ,qQ,QQ,ZQ,eZ,tZ,nZ,rZ,iZ];function Ma(n){return n?(n.nodeName||"").toLowerCase():null}function fo(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function xd(n){var e=fo(n).Element;return n instanceof e||n instanceof Element}function oo(n){var e=fo(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function O2(n){if(typeof ShadowRoot>"u")return!1;var e=fo(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function oZ(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!oo(s)||!Ma(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function aZ(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!oo(i)||!Ma(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const lZ={name:"applyStyles",enabled:!0,phase:"write",fn:oZ,effect:aZ,requires:["computeStyles"]};function _a(n){return n.split("-")[0]}var id=Math.max,Hb=Math.min,Vf=Math.round;function DT(){var n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function RV(){return!/^((?!chrome|android).)*safari/i.test(DT())}function Wf(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&oo(n)&&(i=n.offsetWidth>0&&Vf(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&Vf(r.height)/n.offsetHeight||1);var o=xd(n)?fo(n):window,a=o.visualViewport,l=!RV()&&t,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function L2(n){var e=Wf(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function IV(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&O2(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function xl(n){return fo(n).getComputedStyle(n)}function cZ(n){return["table","td","th"].indexOf(Ma(n))>=0}function ru(n){return((xd(n)?n.ownerDocument:n.document)||window.document).documentElement}function x1(n){return Ma(n)==="html"?n:n.assignedSlot||n.parentNode||(O2(n)?n.host:null)||ru(n)}function r3(n){return!oo(n)||xl(n).position==="fixed"?null:n.offsetParent}function uZ(n){var e=/firefox/i.test(DT()),t=/Trident/i.test(DT());if(t&&oo(n)){var r=xl(n);if(r.position==="fixed")return null}var i=x1(n);for(O2(i)&&(i=i.host);oo(i)&&["html","body"].indexOf(Ma(i))<0;){var s=xl(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function xy(n){for(var e=fo(n),t=r3(n);t&&cZ(t)&&xl(t).position==="static";)t=r3(t);return t&&(Ma(t)==="html"||Ma(t)==="body"&&xl(t).position==="static")?e:t||uZ(n)||e}function D2(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Ig(n,e,t){return id(n,Hb(e,t))}function dZ(n,e,t){var r=Ig(n,e,t);return r>t?t:r}function NV(){return{top:0,right:0,bottom:0,left:0}}function kV(n){return Object.assign({},NV(),n)}function OV(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var hZ=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,kV(typeof e!="number"?e:OV(e,_y))};function fZ(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=_a(t.placement),l=D2(a),c=[ls,uo].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=hZ(i.padding,t),h=L2(s),m=l==="y"?as:ls,g=l==="y"?co:uo,v=t.rects.reference[u]+t.rects.reference[l]-o[l]-t.rects.popper[u],_=o[l]-t.rects.reference[l],x=xy(s),b=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,w=v/2-_/2,E=d[m],A=b-h[u]-d[g],T=b/2-h[u]/2+w,I=Ig(E,T,A),M=l;t.modifiersData[r]=(e={},e[M]=I,e.centerOffset=I-T,e)}}function pZ(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||IV(e.elements.popper,i)&&(e.elements.arrow=i))}const mZ={name:"arrow",enabled:!0,phase:"main",fn:fZ,effect:pZ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jf(n){return n.split("-")[1]}var gZ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vZ(n){var e=n.x,t=n.y,r=window,i=r.devicePixelRatio||1;return{x:Vf(e*i)/i||0,y:Vf(t*i)/i||0}}function i3(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,d=n.isFixed,h=o.x,m=h===void 0?0:h,g=o.y,v=g===void 0?0:g,_=typeof u=="function"?u({x:m,y:v}):{x:m,y:v};m=_.x,v=_.y;var x=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),w=ls,E=as,A=window;if(c){var T=xy(t),I="clientHeight",M="clientWidth";if(T===fo(t)&&(T=ru(t),xl(T).position!=="static"&&a==="absolute"&&(I="scrollHeight",M="scrollWidth")),T=T,i===as||(i===ls||i===uo)&&s===_v){E=co;var R=d&&T===A&&A.visualViewport?A.visualViewport.height:T[I];v-=R-r.height,v*=l?1:-1}if(i===ls||(i===as||i===co)&&s===_v){w=uo;var O=d&&T===A&&A.visualViewport?A.visualViewport.width:T[M];m-=O-r.width,m*=l?1:-1}}var L=Object.assign({position:a},c&&gZ),X=u===!0?vZ({x:m,y:v}):{x:m,y:v};if(m=X.x,v=X.y,l){var W;return Object.assign({},L,(W={},W[E]=b?"0":"",W[w]=x?"0":"",W.transform=(A.devicePixelRatio||1)<=1?"translate("+m+"px, "+v+"px)":"translate3d("+m+"px, "+v+"px, 0)",W))}return Object.assign({},L,(e={},e[E]=b?v+"px":"",e[w]=x?m+"px":"",e.transform="",e))}function yZ(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,o=s===void 0?!0:s,a=t.roundOffsets,l=a===void 0?!0:a,c={placement:_a(e.placement),variation:jf(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,i3(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,i3(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const _Z={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yZ,data:{}};var C_={passive:!0};function xZ(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=fo(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",t.update,C_)}),a&&l.addEventListener("resize",t.update,C_),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",t.update,C_)}),a&&l.removeEventListener("resize",t.update,C_)}}const bZ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xZ,data:{}};var wZ={left:"right",right:"left",bottom:"top",top:"bottom"};function jx(n){return n.replace(/left|right|bottom|top/g,function(e){return wZ[e]})}var SZ={start:"end",end:"start"};function s3(n){return n.replace(/start|end/g,function(e){return SZ[e]})}function B2(n){var e=fo(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function F2(n){return Wf(ru(n)).left+B2(n).scrollLeft}function EZ(n,e){var t=fo(n),r=ru(n),i=t.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=RV();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+F2(n),y:l}}function CZ(n){var e,t=ru(n),r=B2(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=id(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=id(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+F2(n),l=-r.scrollTop;return xl(i||t).direction==="rtl"&&(a+=id(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function z2(n){var e=xl(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function LV(n){return["html","body","#document"].indexOf(Ma(n))>=0?n.ownerDocument.body:oo(n)&&z2(n)?n:LV(x1(n))}function Ng(n,e){var t;e===void 0&&(e=[]);var r=LV(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=fo(r),o=i?[s].concat(s.visualViewport||[],z2(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Ng(x1(o)))}function BT(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function AZ(n,e){var t=Wf(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function o3(n,e,t){return e===TV?BT(EZ(n,t)):xd(e)?AZ(e,t):BT(CZ(ru(n)))}function MZ(n){var e=Ng(x1(n)),t=["absolute","fixed"].indexOf(xl(n).position)>=0,r=t&&oo(n)?xy(n):n;return xd(r)?e.filter(function(i){return xd(i)&&IV(i,r)&&Ma(i)!=="body"}):[]}function TZ(n,e,t,r){var i=e==="clippingParents"?MZ(n):[].concat(e),s=[].concat(i,[t]),o=s[0],a=s.reduce(function(l,c){var u=o3(n,c,r);return l.top=id(u.top,l.top),l.right=Hb(u.right,l.right),l.bottom=Hb(u.bottom,l.bottom),l.left=id(u.left,l.left),l},o3(n,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function DV(n){var e=n.reference,t=n.element,r=n.placement,i=r?_a(r):null,s=r?jf(r):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(i){case as:l={x:o,y:e.y-t.height};break;case co:l={x:o,y:e.y+e.height};break;case uo:l={x:e.x+e.width,y:a};break;case ls:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?D2(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Gf:l[c]=l[c]-(e[u]/2-t[u]/2);break;case _v:l[c]=l[c]+(e[u]/2-t[u]/2);break}}return l}function xv(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,o=s===void 0?n.strategy:s,a=t.boundary,l=a===void 0?XQ:a,c=t.rootBoundary,u=c===void 0?TV:c,d=t.elementContext,h=d===void 0?Sm:d,m=t.altBoundary,g=m===void 0?!1:m,v=t.padding,_=v===void 0?0:v,x=kV(typeof _!="number"?_:OV(_,_y)),b=h===Sm?JQ:Sm,w=n.rects.popper,E=n.elements[g?b:h],A=TZ(xd(E)?E:E.contextElement||ru(n.elements.popper),l,u,o),T=Wf(n.elements.reference),I=DV({reference:T,element:w,strategy:"absolute",placement:i}),M=BT(Object.assign({},w,I)),R=h===Sm?M:T,O={top:A.top-R.top+x.top,bottom:R.bottom-A.bottom+x.bottom,left:A.left-R.left+x.left,right:R.right-A.right+x.right},L=n.modifiersData.offset;if(h===Sm&&L){var X=L[i];Object.keys(O).forEach(function(W){var K=[uo,co].indexOf(W)>=0?1:-1,U=[as,co].indexOf(W)>=0?"y":"x";O[W]+=X[U]*K})}return O}function PZ(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?PV:l,u=jf(r),d=u?a?n3:n3.filter(function(g){return jf(g)===u}):_y,h=d.filter(function(g){return c.indexOf(g)>=0});h.length===0&&(h=d);var m=h.reduce(function(g,v){return g[v]=xv(n,{placement:v,boundary:i,rootBoundary:s,padding:o})[_a(v)],g},{});return Object.keys(m).sort(function(g,v){return m[g]-m[v]})}function RZ(n){if(_a(n)===k2)return[];var e=jx(n);return[s3(n),e,s3(e)]}function IZ(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,c=t.padding,u=t.boundary,d=t.rootBoundary,h=t.altBoundary,m=t.flipVariations,g=m===void 0?!0:m,v=t.allowedAutoPlacements,_=e.options.placement,x=_a(_),b=x===_,w=l||(b||!g?[jx(_)]:RZ(_)),E=[_].concat(w).reduce(function(re,q){return re.concat(_a(q)===k2?PZ(e,{placement:q,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:v}):q)},[]),A=e.rects.reference,T=e.rects.popper,I=new Map,M=!0,R=E[0],O=0;O<E.length;O++){var L=E[O],X=_a(L),W=jf(L)===Gf,K=[as,co].indexOf(X)>=0,U=K?"width":"height",ee=xv(e,{placement:L,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),Q=K?W?uo:ls:W?co:as;A[U]>T[U]&&(Q=jx(Q));var D=jx(Q),z=[];if(s&&z.push(ee[X]<=0),a&&z.push(ee[Q]<=0,ee[D]<=0),z.every(function(re){return re})){R=L,M=!1;break}I.set(L,z)}if(M)for(var Z=g?3:1,he=function(q){var $=E.find(function(me){var ae=I.get(me);if(ae)return ae.slice(0,q).every(function(xe){return xe})});if($)return R=$,"break"},G=Z;G>0;G--){var te=he(G);if(te==="break")break}e.placement!==R&&(e.modifiersData[r]._skip=!0,e.placement=R,e.reset=!0)}}const NZ={name:"flip",enabled:!0,phase:"main",fn:IZ,requiresIfExists:["offset"],data:{_skip:!1}};function a3(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function l3(n){return[as,uo,co,ls].some(function(e){return n[e]>=0})}function kZ(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=xv(e,{elementContext:"reference"}),a=xv(e,{altBoundary:!0}),l=a3(o,r),c=a3(a,i,s),u=l3(l),d=l3(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const OZ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:kZ};function LZ(n,e,t){var r=_a(n),i=[ls,as].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[ls,uo].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function DZ(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,o=PV.reduce(function(u,d){return u[d]=LZ(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const BZ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:DZ};function FZ(n){var e=n.state,t=n.name;e.modifiersData[t]=DV({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const zZ={name:"popperOffsets",enabled:!0,phase:"read",fn:FZ,data:{}};function UZ(n){return n==="x"?"y":"x"}function HZ(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,c=t.rootBoundary,u=t.altBoundary,d=t.padding,h=t.tether,m=h===void 0?!0:h,g=t.tetherOffset,v=g===void 0?0:g,_=xv(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),x=_a(e.placement),b=jf(e.placement),w=!b,E=D2(x),A=UZ(E),T=e.modifiersData.popperOffsets,I=e.rects.reference,M=e.rects.popper,R=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,O=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,X={x:0,y:0};if(T){if(s){var W,K=E==="y"?as:ls,U=E==="y"?co:uo,ee=E==="y"?"height":"width",Q=T[E],D=Q+_[K],z=Q-_[U],Z=m?-M[ee]/2:0,he=b===Gf?I[ee]:M[ee],G=b===Gf?-M[ee]:-I[ee],te=e.elements.arrow,re=m&&te?L2(te):{width:0,height:0},q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:NV(),$=q[K],me=q[U],ae=Ig(0,I[ee],re[ee]),xe=w?I[ee]/2-Z-ae-$-O.mainAxis:he-ae-$-O.mainAxis,Ae=w?-I[ee]/2+Z+ae+me+O.mainAxis:G+ae+me+O.mainAxis,Me=e.elements.arrow&&xy(e.elements.arrow),ce=Me?E==="y"?Me.clientTop||0:Me.clientLeft||0:0,ve=(W=L==null?void 0:L[E])!=null?W:0,Ie=Q+xe-ve-ce,Le=Q+Ae-ve,De=Ig(m?Hb(D,Ie):D,Q,m?id(z,Le):z);T[E]=De,X[E]=De-Q}if(a){var ze,We=E==="x"?as:ls,et=E==="x"?co:uo,qe=T[A],it=A==="y"?"height":"width",j=qe+_[We],B=qe-_[et],ne=[as,ls].indexOf(x)!==-1,Se=(ze=L==null?void 0:L[A])!=null?ze:0,Be=ne?j:qe-I[it]-M[it]-Se+O.altAxis,He=ne?qe+I[it]+M[it]-Se-O.altAxis:B,we=m&&ne?dZ(Be,qe,He):Ig(m?Be:j,qe,m?He:B);T[A]=we,X[A]=we-qe}e.modifiersData[r]=X}}const GZ={name:"preventOverflow",enabled:!0,phase:"main",fn:HZ,requiresIfExists:["offset"]};function VZ(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function WZ(n){return n===fo(n)||!oo(n)?B2(n):VZ(n)}function jZ(n){var e=n.getBoundingClientRect(),t=Vf(e.width)/n.offsetWidth||1,r=Vf(e.height)/n.offsetHeight||1;return t!==1||r!==1}function $Z(n,e,t){t===void 0&&(t=!1);var r=oo(e),i=oo(e)&&jZ(e),s=ru(e),o=Wf(n,i,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&((Ma(e)!=="body"||z2(s))&&(a=WZ(e)),oo(e)?(l=Wf(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=F2(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function KZ(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function XZ(n){var e=KZ(n);return sZ.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function JZ(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function YZ(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var c3={placement:"bottom",modifiers:[],strategy:"absolute"};function u3(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function qZ(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?c3:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},c3,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,m={state:u,setOptions:function(x){var b=typeof x=="function"?x(u.options):x;v(),u.options=Object.assign({},s,u.options,b),u.scrollParents={reference:xd(a)?Ng(a):a.contextElement?Ng(a.contextElement):[],popper:Ng(l)};var w=XZ(YZ([].concat(r,u.options.modifiers)));return u.orderedModifiers=w.filter(function(E){return E.enabled}),g(),m.update()},forceUpdate:function(){if(!h){var x=u.elements,b=x.reference,w=x.popper;if(u3(b,w)){u.rects={reference:$Z(b,xy(w),u.options.strategy==="fixed"),popper:L2(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(O){return u.modifiersData[O.name]=Object.assign({},O.data)});for(var E=0;E<u.orderedModifiers.length;E++){if(u.reset===!0){u.reset=!1,E=-1;continue}var A=u.orderedModifiers[E],T=A.fn,I=A.options,M=I===void 0?{}:I,R=A.name;typeof T=="function"&&(u=T({state:u,options:M,name:R,instance:m})||u)}}}},update:JZ(function(){return new Promise(function(_){m.forceUpdate(),_(u)})}),destroy:function(){v(),h=!0}};if(!u3(a,l))return m;m.setOptions(c).then(function(_){!h&&c.onFirstUpdate&&c.onFirstUpdate(_)});function g(){u.orderedModifiers.forEach(function(_){var x=_.name,b=_.options,w=b===void 0?{}:b,E=_.effect;if(typeof E=="function"){var A=E({state:u,name:x,instance:m,options:w}),T=function(){};d.push(A||T)}})}function v(){d.forEach(function(_){return _()}),d=[]}return m}}var QZ=[bZ,zZ,_Z,lZ,BZ,NZ,GZ,mZ,OZ],ZZ=qZ({defaultModifiers:QZ});function eee(n){return typeof n=="function"?n():n}const tee=N.forwardRef(function(e,t){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=N.useState(null),l=Aa(N.isValidElement(r)?r.ref:null,t);if(Hf(()=>{s||a(eee(i)||document.body)},[i,s]),Hf(()=>{if(o&&!s)return Ub(t,o),()=>{Ub(t,null)}},[t,o,s]),s){if(N.isValidElement(r)){const c={ref:l};return N.cloneElement(r,c)}return y(N.Fragment,{children:r})}return y(N.Fragment,{children:o&&pd.createPortal(r,o)})}),nee=tee;function ree(n){return Jr("MuiPopperUnstyled",n)}Yr("MuiPopperUnstyled",["root"]);const iee=["anchorEl","children","component","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","slotProps","slots","TransitionProps"],see=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function oee(n,e){if(e==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function FT(n){return typeof n=="function"?n():n}function aee(n){return n.nodeType!==void 0}const lee=()=>ui({root:["root"]},ree,{}),cee={},uee=N.forwardRef(function(e,t){var r;const{anchorEl:i,children:s,component:o,direction:a,disablePortal:l,modifiers:c,open:u,ownerState:d,placement:h,popperOptions:m,popperRef:g,slotProps:v={},slots:_={},TransitionProps:x}=e,b=N2(e,iee),w=N.useRef(null),E=Aa(w,t),A=N.useRef(null),T=Aa(A,g),I=N.useRef(T);Hf(()=>{I.current=T},[T]),N.useImperativeHandle(g,()=>A.current,[]);const M=oee(h,a),[R,O]=N.useState(M),[L,X]=N.useState(FT(i));N.useEffect(()=>{A.current&&A.current.forceUpdate()}),N.useEffect(()=>{i&&X(FT(i))},[i]),Hf(()=>{if(!L||!u)return;const Q=Z=>{O(Z.placement)};let D=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Z})=>{Q(Z)}}];c!=null&&(D=D.concat(c)),m&&m.modifiers!=null&&(D=D.concat(m.modifiers));const z=ZZ(L,w.current,Mi({placement:M},m,{modifiers:D}));return I.current(z),()=>{z.destroy(),I.current(null)}},[L,l,c,u,m,M]);const W={placement:R};x!==null&&(W.TransitionProps=x);const K=lee(),U=(r=o??_.root)!=null?r:"div",ee=KQ({elementType:U,externalSlotProps:v.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:E},ownerState:Mi({},e,d),className:K.root});return y(U,Mi({},ee,{children:typeof s=="function"?s(W):s}))}),dee=N.forwardRef(function(e,t){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=cee,popperRef:m,style:g,transition:v=!1,slotProps:_={},slots:x={}}=e,b=N2(e,see),[w,E]=N.useState(!0),A=()=>{E(!1)},T=()=>{E(!0)};if(!l&&!u&&(!v||w))return null;let I;if(s)I=s;else if(r){const O=FT(r);I=O&&aee(O)?yv(O).body:yv(null).body}const M=!u&&l&&(!v||w)?"none":void 0,R=v?{in:u,onEnter:A,onExited:T}:void 0;return y(nee,{disablePortal:a,container:I,children:y(uee,Mi({anchorEl:r,direction:o,disablePortal:a,modifiers:c,ref:t,open:v?!w:u,placement:d,popperOptions:h,popperRef:m,slotProps:_,slots:x},b,{style:Mi({position:"fixed",top:0,left:0,display:M},g),TransitionProps:R,children:i}))})}),hee=dee;function zT(){return zT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zT.apply(this,arguments)}function BV(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var fee=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,UT=BV(function(n){return fee.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});function pee(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function mee(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var gee=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mee(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=pee(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),bi="-ms-",Gb="-moz-",cn="-webkit-",FV="comm",U2="rule",H2="decl",vee="@import",zV="@keyframes",yee=Math.abs,b1=String.fromCharCode,_ee=Object.assign;function xee(n,e){return ii(n,0)^45?(((e<<2^ii(n,0))<<2^ii(n,1))<<2^ii(n,2))<<2^ii(n,3):0}function UV(n){return n.trim()}function bee(n,e){return(n=e.exec(n))?n[0]:n}function fn(n,e,t){return n.replace(e,t)}function HT(n,e){return n.indexOf(e)}function ii(n,e){return n.charCodeAt(e)|0}function bv(n,e,t){return n.slice(e,t)}function ca(n){return n.length}function G2(n){return n.length}function A_(n,e){return e.push(n),n}function wee(n,e){return n.map(e).join("")}var w1=1,$f=1,HV=0,ds=0,Er=0,Cp="";function S1(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:w1,column:$f,length:o,return:""}}function Em(n,e){return _ee(S1("",null,null,"",null,null,0),n,{length:-n.length},e)}function See(){return Er}function Eee(){return Er=ds>0?ii(Cp,--ds):0,$f--,Er===10&&($f=1,w1--),Er}function Ms(){return Er=ds<HV?ii(Cp,ds++):0,$f++,Er===10&&($f=1,w1++),Er}function xa(){return ii(Cp,ds)}function $x(){return ds}function by(n,e){return bv(Cp,n,e)}function wv(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function GV(n){return w1=$f=1,HV=ca(Cp=n),ds=0,[]}function VV(n){return Cp="",n}function Kx(n){return UV(by(ds-1,GT(n===91?n+2:n===40?n+1:n)))}function Cee(n){for(;(Er=xa())&&Er<33;)Ms();return wv(n)>2||wv(Er)>3?"":" "}function Aee(n,e){for(;--e&&Ms()&&!(Er<48||Er>102||Er>57&&Er<65||Er>70&&Er<97););return by(n,$x()+(e<6&&xa()==32&&Ms()==32))}function GT(n){for(;Ms();)switch(Er){case n:return ds;case 34:case 39:n!==34&&n!==39&&GT(Er);break;case 40:n===41&&GT(n);break;case 92:Ms();break}return ds}function Mee(n,e){for(;Ms()&&n+Er!==47+10;)if(n+Er===42+42&&xa()===47)break;return"/*"+by(e,ds-1)+"*"+b1(n===47?n:Ms())}function Tee(n){for(;!wv(xa());)Ms();return by(n,ds)}function Pee(n){return VV(Xx("",null,null,null,[""],n=GV(n),0,[0],n))}function Xx(n,e,t,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,m=0,g=0,v=1,_=1,x=1,b=0,w="",E=i,A=s,T=r,I=w;_;)switch(g=b,b=Ms()){case 40:if(g!=108&&ii(I,d-1)==58){HT(I+=fn(Kx(b),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:I+=Kx(b);break;case 9:case 10:case 13:case 32:I+=Cee(g);break;case 92:I+=Aee($x()-1,7);continue;case 47:switch(xa()){case 42:case 47:A_(Ree(Mee(Ms(),$x()),e,t),l);break;default:I+="/"}break;case 123*v:a[c++]=ca(I)*x;case 125*v:case 59:case 0:switch(b){case 0:case 125:_=0;case 59+u:m>0&&ca(I)-d&&A_(m>32?h3(I+";",r,t,d-1):h3(fn(I," ","")+";",r,t,d-2),l);break;case 59:I+=";";default:if(A_(T=d3(I,e,t,c,u,i,a,w,E=[],A=[],d),s),b===123)if(u===0)Xx(I,e,T,T,E,s,d,a,A);else switch(h===99&&ii(I,3)===110?100:h){case 100:case 109:case 115:Xx(n,T,T,r&&A_(d3(n,T,T,0,0,i,a,w,i,E=[],d),A),i,A,d,a,r?E:A);break;default:Xx(I,T,T,T,[""],A,0,a,A)}}c=u=m=0,v=x=1,w=I="",d=o;break;case 58:d=1+ca(I),m=g;default:if(v<1){if(b==123)--v;else if(b==125&&v++==0&&Eee()==125)continue}switch(I+=b1(b),b*v){case 38:x=u>0?1:(I+="\f",-1);break;case 44:a[c++]=(ca(I)-1)*x,x=1;break;case 64:xa()===45&&(I+=Kx(Ms())),h=xa(),u=d=ca(w=I+=Tee($x())),b++;break;case 45:g===45&&ca(I)==2&&(v=0)}}return s}function d3(n,e,t,r,i,s,o,a,l,c,u){for(var d=i-1,h=i===0?s:[""],m=G2(h),g=0,v=0,_=0;g<r;++g)for(var x=0,b=bv(n,d+1,d=yee(v=o[g])),w=n;x<m;++x)(w=UV(v>0?h[x]+" "+b:fn(b,/&\f/g,h[x])))&&(l[_++]=w);return S1(n,e,t,i===0?U2:a,l,c,u)}function Ree(n,e,t){return S1(n,e,t,FV,b1(See()),bv(n,2,-2),0)}function h3(n,e,t,r){return S1(n,e,t,H2,bv(n,0,r),bv(n,r+1,-1),r)}function yf(n,e){for(var t="",r=G2(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function Iee(n,e,t,r){switch(n.type){case vee:case H2:return n.return=n.return||n.value;case FV:return"";case zV:return n.return=n.value+"{"+yf(n.children,r)+"}";case U2:n.value=n.props.join(",")}return ca(t=yf(n.children,r))?n.return=n.value+"{"+t+"}":""}function Nee(n){var e=G2(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function kee(n){return function(e){e.root||(e=e.return)&&n(e)}}var Oee=function(e,t,r){for(var i=0,s=0;i=s,s=xa(),i===38&&s===12&&(t[r]=1),!wv(s);)Ms();return by(e,ds)},Lee=function(e,t){var r=-1,i=44;do switch(wv(i)){case 0:i===38&&xa()===12&&(t[r]=1),e[r]+=Oee(ds-1,t,r);break;case 2:e[r]+=Kx(i);break;case 4:if(i===44){e[++r]=xa()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=b1(i)}while(i=Ms());return e},Dee=function(e,t){return VV(Lee(GV(e),t))},f3=new WeakMap,Bee=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!f3.get(r))&&!i){f3.set(e,!0);for(var s=[],o=Dee(t,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},Fee=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function WV(n,e){switch(xee(n,e)){case 5103:return cn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return cn+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return cn+n+Gb+n+bi+n+n;case 6828:case 4268:return cn+n+bi+n+n;case 6165:return cn+n+bi+"flex-"+n+n;case 5187:return cn+n+fn(n,/(\w+).+(:[^]+)/,cn+"box-$1$2"+bi+"flex-$1$2")+n;case 5443:return cn+n+bi+"flex-item-"+fn(n,/flex-|-self/,"")+n;case 4675:return cn+n+bi+"flex-line-pack"+fn(n,/align-content|flex-|-self/,"")+n;case 5548:return cn+n+bi+fn(n,"shrink","negative")+n;case 5292:return cn+n+bi+fn(n,"basis","preferred-size")+n;case 6060:return cn+"box-"+fn(n,"-grow","")+cn+n+bi+fn(n,"grow","positive")+n;case 4554:return cn+fn(n,/([^-])(transform)/g,"$1"+cn+"$2")+n;case 6187:return fn(fn(fn(n,/(zoom-|grab)/,cn+"$1"),/(image-set)/,cn+"$1"),n,"")+n;case 5495:case 3959:return fn(n,/(image-set\([^]*)/,cn+"$1$`$1");case 4968:return fn(fn(n,/(.+:)(flex-)?(.*)/,cn+"box-pack:$3"+bi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+cn+n+n;case 4095:case 3583:case 4068:case 2532:return fn(n,/(.+)-inline(.+)/,cn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ca(n)-1-e>6)switch(ii(n,e+1)){case 109:if(ii(n,e+4)!==45)break;case 102:return fn(n,/(.+:)(.+)-([^]+)/,"$1"+cn+"$2-$3$1"+Gb+(ii(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~HT(n,"stretch")?WV(fn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(ii(n,e+1)!==115)break;case 6444:switch(ii(n,ca(n)-3-(~HT(n,"!important")&&10))){case 107:return fn(n,":",":"+cn)+n;case 101:return fn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+cn+(ii(n,14)===45?"inline-":"")+"box$3$1"+cn+"$2$3$1"+bi+"$2box$3")+n}break;case 5936:switch(ii(n,e+11)){case 114:return cn+n+bi+fn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return cn+n+bi+fn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return cn+n+bi+fn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return cn+n+bi+n+n}return n}var zee=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case H2:e.return=WV(e.value,e.length);break;case zV:return yf([Em(e,{value:fn(e.value,"@","@"+cn)})],i);case U2:if(e.length)return wee(e.props,function(s){switch(bee(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return yf([Em(e,{props:[fn(s,/:(read-\w+)/,":"+Gb+"$1")]})],i);case"::placeholder":return yf([Em(e,{props:[fn(s,/:(plac\w+)/,":"+cn+"input-$1")]}),Em(e,{props:[fn(s,/:(plac\w+)/,":"+Gb+"$1")]}),Em(e,{props:[fn(s,/:(plac\w+)/,bi+"input-$1")]})],i)}return""})}},Uee=[zee],Hee=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var _=v.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||Uee,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(v){for(var _=v.getAttribute("data-emotion").split(" "),x=1;x<_.length;x++)s[_[x]]=!0;a.push(v)});var l,c=[Bee,Fee];{var u,d=[Iee,kee(function(v){u.insert(v)})],h=Nee(c.concat(i,d)),m=function(_){return yf(Pee(_),h)};l=function(_,x,b,w){u=b,m(_?_+"{"+x.styles+"}":x.styles),w&&(g.inserted[x.name]=!0)}}var g={key:t,sheet:new gee({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},VT={},Gee={get exports(){return VT},set exports(n){VT=n}},_n={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qr=typeof Symbol=="function"&&Symbol.for,V2=qr?Symbol.for("react.element"):60103,W2=qr?Symbol.for("react.portal"):60106,E1=qr?Symbol.for("react.fragment"):60107,C1=qr?Symbol.for("react.strict_mode"):60108,A1=qr?Symbol.for("react.profiler"):60114,M1=qr?Symbol.for("react.provider"):60109,T1=qr?Symbol.for("react.context"):60110,j2=qr?Symbol.for("react.async_mode"):60111,P1=qr?Symbol.for("react.concurrent_mode"):60111,R1=qr?Symbol.for("react.forward_ref"):60112,I1=qr?Symbol.for("react.suspense"):60113,Vee=qr?Symbol.for("react.suspense_list"):60120,N1=qr?Symbol.for("react.memo"):60115,k1=qr?Symbol.for("react.lazy"):60116,Wee=qr?Symbol.for("react.block"):60121,jee=qr?Symbol.for("react.fundamental"):60117,$ee=qr?Symbol.for("react.responder"):60118,Kee=qr?Symbol.for("react.scope"):60119;function Ds(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case V2:switch(n=n.type,n){case j2:case P1:case E1:case A1:case C1:case I1:return n;default:switch(n=n&&n.$$typeof,n){case T1:case R1:case k1:case N1:case M1:return n;default:return e}}case W2:return e}}}function jV(n){return Ds(n)===P1}_n.AsyncMode=j2;_n.ConcurrentMode=P1;_n.ContextConsumer=T1;_n.ContextProvider=M1;_n.Element=V2;_n.ForwardRef=R1;_n.Fragment=E1;_n.Lazy=k1;_n.Memo=N1;_n.Portal=W2;_n.Profiler=A1;_n.StrictMode=C1;_n.Suspense=I1;_n.isAsyncMode=function(n){return jV(n)||Ds(n)===j2};_n.isConcurrentMode=jV;_n.isContextConsumer=function(n){return Ds(n)===T1};_n.isContextProvider=function(n){return Ds(n)===M1};_n.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===V2};_n.isForwardRef=function(n){return Ds(n)===R1};_n.isFragment=function(n){return Ds(n)===E1};_n.isLazy=function(n){return Ds(n)===k1};_n.isMemo=function(n){return Ds(n)===N1};_n.isPortal=function(n){return Ds(n)===W2};_n.isProfiler=function(n){return Ds(n)===A1};_n.isStrictMode=function(n){return Ds(n)===C1};_n.isSuspense=function(n){return Ds(n)===I1};_n.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===E1||n===P1||n===A1||n===C1||n===I1||n===Vee||typeof n=="object"&&n!==null&&(n.$$typeof===k1||n.$$typeof===N1||n.$$typeof===M1||n.$$typeof===T1||n.$$typeof===R1||n.$$typeof===jee||n.$$typeof===$ee||n.$$typeof===Kee||n.$$typeof===Wee)};_n.typeOf=Ds;(function(n){n.exports=_n})(Gee);var $2=VT,Xee={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Jee={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Yee={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$V={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},K2={};K2[$2.ForwardRef]=Yee;K2[$2.Memo]=$V;function p3(n){return $2.isMemo(n)?$V:K2[n.$$typeof]||Xee}var qee=Object.defineProperty,Qee=Object.getOwnPropertyNames,m3=Object.getOwnPropertySymbols,Zee=Object.getOwnPropertyDescriptor,ete=Object.getPrototypeOf,g3=Object.prototype;function KV(n,e,t){if(typeof e!="string"){if(g3){var r=ete(e);r&&r!==g3&&KV(n,r,t)}var i=Qee(e);m3&&(i=i.concat(m3(e)));for(var s=p3(n),o=p3(e),a=0;a<i.length;++a){var l=i[a];if(!Jee[l]&&!(t&&t[l])&&!(o&&o[l])&&!(s&&s[l])){var c=Zee(e,l);try{qee(n,l,c)}catch{}}}}return n}var tte=KV,nte=!0;function rte(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):r+=i+" "}),r}var XV=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||nte===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},ite=function(e,t,r){XV(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function ste(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var ote={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ate=/[A-Z]|^ms/g,lte=/_EMO_([^_]+?)_([^]*?)_EMO_/g,JV=function(e){return e.charCodeAt(1)===45},v3=function(e){return e!=null&&typeof e!="boolean"},NC=BV(function(n){return JV(n)?n:n.replace(ate,"-$&").toLowerCase()}),y3=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(lte,function(r,i,s){return ua={name:i,styles:s,next:ua},i})}return ote[e]!==1&&!JV(e)&&typeof t=="number"&&t!==0?t+"px":t};function Sv(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return ua={name:t.name,styles:t.styles,next:ua},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)ua={name:r.name,styles:r.styles,next:ua},r=r.next;var i=t.styles+";";return i}return cte(n,e,t)}case"function":{if(n!==void 0){var s=ua,o=t(n);return ua=s,Sv(n,e,o)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function cte(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Sv(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":v3(o)&&(r+=NC(s)+":"+y3(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)v3(o[a])&&(r+=NC(s)+":"+y3(s,o[a])+";");else{var l=Sv(n,e,o);switch(s){case"animation":case"animationName":{r+=NC(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var _3=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ua,YV=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";ua=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Sv(r,t,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Sv(r,t,e[a]),i&&(s+=o[a]);_3.lastIndex=0;for(var l="",c;(c=_3.exec(s))!==null;)l+="-"+c[1];var u=ste(s)+l;return{name:u,styles:s,next:ua}},ute=function(e){return e()},dte=Nf["useInsertionEffect"]?Nf["useInsertionEffect"]:!1,hte=dte||ute,qV=N.createContext(typeof HTMLElement<"u"?Hee({key:"css"}):null);qV.Provider;var fte=function(e){return N.forwardRef(function(t,r){var i=N.useContext(qV);return e(t,i,r)})},pte=N.createContext({});function mte(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return YV(e)}var X2=function(){var e=mte.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},gte=UT,vte=function(e){return e!=="theme"},x3=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?gte:vte},b3=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},yte=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return XV(t,r,i),hte(function(){return ite(t,r,i)}),null},_te=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=b3(e,t,r),l=a||x3(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,m=1;m<h;m++)d.push(u[m],u[0][m])}var g=fte(function(v,_,x){var b=c&&v.as||i,w="",E=[],A=v;if(v.theme==null){A={};for(var T in v)A[T]=v[T];A.theme=N.useContext(pte)}typeof v.className=="string"?w=rte(_.registered,E,v.className):v.className!=null&&(w=v.className+" ");var I=YV(d.concat(E),_.registered,A);w+=_.key+"-"+I.name,o!==void 0&&(w+=" "+o);var M=c&&a===void 0?x3(b):l,R={};for(var O in v)c&&O==="as"||M(O)&&(R[O]=v[O]);return R.className=w,R.ref=x,N.createElement(N.Fragment,null,N.createElement(yte,{cache:_,serialized:I,isStringTag:typeof b=="string"}),N.createElement(b,R))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(v,_){return n(v,zT({},t,_,{shouldForwardProp:b3(g,_,!0)})).apply(void 0,d)},g}},xte=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],WT=_te.bind();xte.forEach(function(n){WT[n]=WT(n)});const bte=WT;/**
 * @mui/styled-engine v5.11.8
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function QV(n,e){return bte(n,e)}const wte=(n,e)=>{Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))};function Ti(){return Ti=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ti.apply(this,arguments)}function kg(n,e){return e?ul(n,e,{clone:!1}):n}const J2={xs:0,sm:600,md:900,lg:1200,xl:1536},w3={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${J2[n]}px)`};function bl(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||w3;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=t(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||w3;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||J2).indexOf(a)!==-1){const l=s.up(a);o[l]=t(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return t(e)}function Ste(n={}){var e;return((e=n.keys)==null?void 0:e.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function Ete(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function O1(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Vb(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=O1(n,t)||r,e&&(i=e(i,r,n)),i}function mn(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=O1(l,r)||{};return bl(o,a,d=>{let h=Vb(c,i,d);return d===h&&typeof d=="string"&&(h=Vb(c,i,`${e}${d==="default"?"":pr(d)}`,d)),t===!1?h:{[t]:h}})};return s.propTypes={},s.filterProps=[e],s}function L1(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?kg(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Cte(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const Ate={m:"margin",p:"padding"},Mte={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},S3={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Tte=Cte(n=>{if(n.length>2)if(S3[n])n=S3[n];else return[n];const[e,t]=n.split(""),r=Ate[e],i=Mte[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Y2=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],q2=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Y2,...q2];function wy(n,e,t,r){var i;const s=(i=O1(n,e,!1))!=null?i:t;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function ZV(n){return wy(n,"spacing",8)}function Sy(n,e){if(typeof e=="string"||e==null)return e;const t=Math.abs(e),r=n(t);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Pte(n,e){return t=>n.reduce((r,i)=>(r[i]=Sy(e,t),r),{})}function Rte(n,e,t,r){if(e.indexOf(t)===-1)return null;const i=Tte(t),s=Pte(i,r),o=n[t];return bl(n,o,s)}function e6(n,e){const t=ZV(n.theme);return Object.keys(n).map(r=>Rte(n,e,r,t)).reduce(kg,{})}function ar(n){return e6(n,Y2)}ar.propTypes={};ar.filterProps=Y2;function lr(n){return e6(n,q2)}lr.propTypes={};lr.filterProps=q2;function fa(n){return typeof n!="number"?n:`${n}px solid`}const Ite=mn({prop:"border",themeKey:"borders",transform:fa}),Nte=mn({prop:"borderTop",themeKey:"borders",transform:fa}),kte=mn({prop:"borderRight",themeKey:"borders",transform:fa}),Ote=mn({prop:"borderBottom",themeKey:"borders",transform:fa}),Lte=mn({prop:"borderLeft",themeKey:"borders",transform:fa}),Dte=mn({prop:"borderColor",themeKey:"palette"}),Bte=mn({prop:"borderTopColor",themeKey:"palette"}),Fte=mn({prop:"borderRightColor",themeKey:"palette"}),zte=mn({prop:"borderBottomColor",themeKey:"palette"}),Ute=mn({prop:"borderLeftColor",themeKey:"palette"}),D1=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=wy(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Sy(e,r)});return bl(n,n.borderRadius,t)}return null};D1.propTypes={};D1.filterProps=["borderRadius"];L1(Ite,Nte,kte,Ote,Lte,Dte,Bte,Fte,zte,Ute,D1);const B1=n=>{if(n.gap!==void 0&&n.gap!==null){const e=wy(n.theme,"spacing",8),t=r=>({gap:Sy(e,r)});return bl(n,n.gap,t)}return null};B1.propTypes={};B1.filterProps=["gap"];const F1=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=wy(n.theme,"spacing",8),t=r=>({columnGap:Sy(e,r)});return bl(n,n.columnGap,t)}return null};F1.propTypes={};F1.filterProps=["columnGap"];const z1=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=wy(n.theme,"spacing",8),t=r=>({rowGap:Sy(e,r)});return bl(n,n.rowGap,t)}return null};z1.propTypes={};z1.filterProps=["rowGap"];const Hte=mn({prop:"gridColumn"}),Gte=mn({prop:"gridRow"}),Vte=mn({prop:"gridAutoFlow"}),Wte=mn({prop:"gridAutoColumns"}),jte=mn({prop:"gridAutoRows"}),$te=mn({prop:"gridTemplateColumns"}),Kte=mn({prop:"gridTemplateRows"}),Xte=mn({prop:"gridTemplateAreas"}),Jte=mn({prop:"gridArea"});L1(B1,F1,z1,Hte,Gte,Vte,Wte,jte,$te,Kte,Xte,Jte);function _f(n,e){return e==="grey"?e:n}const Yte=mn({prop:"color",themeKey:"palette",transform:_f}),qte=mn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_f}),Qte=mn({prop:"backgroundColor",themeKey:"palette",transform:_f});L1(Yte,qte,Qte);function ws(n){return n<=1&&n!==0?`${n*100}%`:n}const Zte=mn({prop:"width",transform:ws}),Q2=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,i,s;return{maxWidth:((r=n.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[t])||J2[t]||ws(t)}};return bl(n,n.maxWidth,e)}return null};Q2.filterProps=["maxWidth"];const ene=mn({prop:"minWidth",transform:ws}),tne=mn({prop:"height",transform:ws}),nne=mn({prop:"maxHeight",transform:ws}),rne=mn({prop:"minHeight",transform:ws});mn({prop:"size",cssProperty:"width",transform:ws});mn({prop:"size",cssProperty:"height",transform:ws});const ine=mn({prop:"boxSizing"});L1(Zte,Q2,ene,tne,nne,rne,ine);const sne={border:{themeKey:"borders",transform:fa},borderTop:{themeKey:"borders",transform:fa},borderRight:{themeKey:"borders",transform:fa},borderBottom:{themeKey:"borders",transform:fa},borderLeft:{themeKey:"borders",transform:fa},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:D1},color:{themeKey:"palette",transform:_f},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_f},backgroundColor:{themeKey:"palette",transform:_f},p:{style:lr},pt:{style:lr},pr:{style:lr},pb:{style:lr},pl:{style:lr},px:{style:lr},py:{style:lr},padding:{style:lr},paddingTop:{style:lr},paddingRight:{style:lr},paddingBottom:{style:lr},paddingLeft:{style:lr},paddingX:{style:lr},paddingY:{style:lr},paddingInline:{style:lr},paddingInlineStart:{style:lr},paddingInlineEnd:{style:lr},paddingBlock:{style:lr},paddingBlockStart:{style:lr},paddingBlockEnd:{style:lr},m:{style:ar},mt:{style:ar},mr:{style:ar},mb:{style:ar},ml:{style:ar},mx:{style:ar},my:{style:ar},margin:{style:ar},marginTop:{style:ar},marginRight:{style:ar},marginBottom:{style:ar},marginLeft:{style:ar},marginX:{style:ar},marginY:{style:ar},marginInline:{style:ar},marginInlineStart:{style:ar},marginInlineEnd:{style:ar},marginBlock:{style:ar},marginBlockStart:{style:ar},marginBlockEnd:{style:ar},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:B1},rowGap:{style:z1},columnGap:{style:F1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ws},maxWidth:{style:Q2},minWidth:{transform:ws},height:{transform:ws},maxHeight:{transform:ws},minHeight:{transform:ws},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},U1=sne;function one(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function ane(n,e){return typeof n=="function"?n(e):n}function lne(){function n(t,r,i,s){const o={[t]:r,theme:i},a=s[t];if(!a)return{[t]:r};const{cssProperty:l=t,themeKey:c,transform:u,style:d}=a;if(r==null)return null;const h=O1(i,c)||{};return d?d(o):bl(o,r,g=>{let v=Vb(h,u,g);return g===v&&typeof g=="string"&&(v=Vb(h,u,`${t}${g==="default"?"":pr(g)}`,g)),l===!1?v:{[l]:v}})}function e(t){var r;const{sx:i,theme:s={}}=t||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:U1;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=Ste(s.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(m=>{const g=ane(c[m],s);if(g!=null)if(typeof g=="object")if(o[m])h=kg(h,n(m,g,s,o));else{const v=bl({theme:s},g,_=>({[m]:_}));one(v,g)?h[m]=e({sx:g,theme:s}):h=kg(h,v)}else h=kg(h,n(m,g,s,o))}),Ete(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const t6=lne();t6.filterProps=["sx"];const H1=t6;function Mc(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}const cne=["sx"],une=n=>{var e,t;const r={systemProps:{},otherProps:{}},i=(e=n==null||(t=n.theme)==null?void 0:t.unstable_sxConfig)!=null?e:U1;return Object.keys(n).forEach(s=>{i[s]?r.systemProps[s]=n[s]:r.otherProps[s]=n[s]}),r};function n6(n){const{sx:e}=n,t=Mc(n,cne),{systemProps:r,otherProps:i}=une(t);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Hu(a)?Ti({},r,a):r}:s=Ti({},r,e),Ti({},i,{sx:s})}const dne=["values","unit","step"],hne=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>Ti({},t,{[r.key]:r.val}),{})};function fne(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=n,i=Mc(n,dne),s=hne(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${t})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${t})`}function c(h,m){const g=o.indexOf(m);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${t}) and (max-width:${(g!==-1&&typeof e[o[g]]=="number"?e[o[g]]:m)-r/100}${t})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const m=o.indexOf(h);return m===0?a(o[1]):m===o.length-1?l(o[m]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return Ti({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:t},i)}const pne={borderRadius:4},mne=pne;function gne(n=8){if(n.mui)return n;const e=ZV({spacing:n}),t=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}const vne=["breakpoints","palette","spacing","shape"];function Z2(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={}}=n,o=Mc(n,vne),a=fne(t),l=gne(i);let c=ul({breakpoints:a,direction:"ltr",components:{},palette:Ti({mode:"light"},r),spacing:l,shape:Ti({},mne,s)},o);return c=e.reduce((u,d)=>ul(u,d),c),c.unstable_sxConfig=Ti({},U1,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return H1({sx:d,theme:this})},c}const yne=N.createContext(null),_ne=yne;function xne(){return N.useContext(_ne)}function bne(n){return Object.keys(n).length===0}function r6(n=null){const e=xne();return!e||bne(e)?n:e}const wne=Z2();function eN(n=wne){return r6(n)}const Sne=["className","component"];function Ene(n={}){const{defaultTheme:e,defaultClassName:t="MuiBox-root",generateClassName:r}=n,i=QV("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(H1);return N.forwardRef(function(a,l){const c=eN(e),u=n6(a),{className:d,component:h="div"}=u,m=Mc(u,Sne);return y(i,Ti({as:h,ref:l,className:Ft(d,r?r(t):t),theme:c},m))})}const Cne=["variant"];function E3(n){return n.length===0}function i6(n){const{variant:e}=n,t=Mc(n,Cne);let r=e||"";return Object.keys(t).sort().forEach(i=>{i==="color"?r+=E3(r)?n[i]:pr(n[i]):r+=`${E3(r)?i:pr(i)}${pr(n[i].toString())}`}),r}const Ane=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Mne=["theme"],Tne=["theme"];function Cm(n){return Object.keys(n).length===0}function Pne(n){return typeof n=="string"&&n.charCodeAt(0)>96}const Rne=(n,e)=>e.components&&e.components[n]&&e.components[n].styleOverrides?e.components[n].styleOverrides:null,Ine=(n,e)=>{let t=[];e&&e.components&&e.components[n]&&e.components[n].variants&&(t=e.components[n].variants);const r={};return t.forEach(i=>{const s=i6(i.props);r[s]=i.style}),r},Nne=(n,e,t,r)=>{var i,s;const{ownerState:o={}}=n,a=[],l=t==null||(i=t.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(c=>{let u=!0;Object.keys(c.props).forEach(d=>{o[d]!==c.props[d]&&n[d]!==c.props[d]&&(u=!1)}),u&&a.push(e[i6(c.props)])}),a};function Jx(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const kne=Z2();function One(n={}){const{defaultTheme:e=kne,rootShouldForwardProp:t=Jx,slotShouldForwardProp:r=Jx}=n,i=s=>{const o=Cm(s.theme)?e:s.theme;return H1(Ti({},s,{theme:o}))};return i.__mui_systemSx=!0,(s,o={})=>{wte(s,w=>w.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:a,slot:l,skipVariantsResolver:c,skipSx:u,overridesResolver:d}=o,h=Mc(o,Ane),m=c!==void 0?c:l&&l!=="Root"||!1,g=u||!1;let v,_=Jx;l==="Root"?_=t:l?_=r:Pne(s)&&(_=void 0);const x=QV(s,Ti({shouldForwardProp:_,label:v},h)),b=(w,...E)=>{const A=E?E.map(R=>typeof R=="function"&&R.__emotion_real!==R?O=>{let{theme:L}=O,X=Mc(O,Mne);return R(Ti({theme:Cm(L)?e:L},X))}:R):[];let T=w;a&&d&&A.push(R=>{const O=Cm(R.theme)?e:R.theme,L=Rne(a,O);if(L){const X={};return Object.entries(L).forEach(([W,K])=>{X[W]=typeof K=="function"?K(Ti({},R,{theme:O})):K}),d(R,X)}return null}),a&&!m&&A.push(R=>{const O=Cm(R.theme)?e:R.theme;return Nne(R,Ine(a,O),O,a)}),g||A.push(i);const I=A.length-E.length;if(Array.isArray(w)&&I>0){const R=new Array(I).fill("");T=[...w,...R],T.raw=[...w.raw,...R]}else typeof w=="function"&&w.__emotion_real!==w&&(T=R=>{let{theme:O}=R,L=Mc(R,Tne);return w(Ti({theme:Cm(O)?e:O},L))});return x(T,...A)};return x.withConfig&&(b.withConfig=x.withConfig),b}}function Lne(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:AV(e.components[t].defaultProps,r)}function Dne({props:n,name:e,defaultTheme:t}){const r=eN(t);return Lne({theme:r,name:e,props:n})}function tN(n,e=0,t=1){return Math.min(Math.max(e,n),t)}function Bne(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function bd(n){if(n.type)return n;if(n.charAt(0)==="#")return bd(Bne(n));const e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error(Uf(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Uf(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}function G1(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Fne(n){n=bd(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+t/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),G1({type:a,values:l})}function C3(n){n=bd(n);let e=n.type==="hsl"||n.type==="hsla"?bd(Fne(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function zne(n,e){const t=C3(n),r=C3(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function Kf(n,e){return n=bd(n),e=tN(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,G1(n)}function Une(n,e){if(n=bd(n),e=tN(e),n.type.indexOf("hsl")!==-1)n.values[2]*=1-e;else if(n.type.indexOf("rgb")!==-1||n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]*=1-e;return G1(n)}function Hne(n,e){if(n=bd(n),e=tN(e),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf("rgb")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return G1(n)}function Gne(n,e){return Ne({toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}}},e)}const Vne={black:"#000",white:"#fff"},Ev=Vne,Wne={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},jne=Wne,$ne={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ah=$ne,Kne={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},lh=Kne,Xne={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},pa=Xne,Jne={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ch=Jne,Yne={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},uh=Yne,qne={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},dh=qne,Qne=["mode","contrastThreshold","tonalOffset"],A3={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ev.white,default:Ev.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},kC={text:{primary:Ev.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ev.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function M3(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Hne(n.main,i):e==="dark"&&(n.dark=Une(n.main,s)))}function Zne(n="light"){return n==="dark"?{main:ch[200],light:ch[50],dark:ch[400]}:{main:ch[700],light:ch[400],dark:ch[800]}}function ere(n="light"){return n==="dark"?{main:ah[200],light:ah[50],dark:ah[400]}:{main:ah[500],light:ah[300],dark:ah[700]}}function tre(n="light"){return n==="dark"?{main:lh[500],light:lh[300],dark:lh[700]}:{main:lh[700],light:lh[400],dark:lh[800]}}function nre(n="light"){return n==="dark"?{main:uh[400],light:uh[300],dark:uh[700]}:{main:uh[700],light:uh[500],dark:uh[900]}}function rre(n="light"){return n==="dark"?{main:dh[400],light:dh[300],dark:dh[700]}:{main:dh[800],light:dh[500],dark:dh[900]}}function ire(n="light"){return n==="dark"?{main:pa[400],light:pa[300],dark:pa[700]}:{main:"#ed6c02",light:pa[500],dark:pa[900]}}function sre(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2}=n,i=Xn(n,Qne),s=n.primary||Zne(e),o=n.secondary||ere(e),a=n.error||tre(e),l=n.info||nre(e),c=n.success||rre(e),u=n.warning||ire(e);function d(v){return zne(v,kC.text.primary)>=t?kC.text.primary:A3.text.primary}const h=({color:v,name:_,mainShade:x=500,lightShade:b=300,darkShade:w=700})=>{if(v=Ne({},v),!v.main&&v[x]&&(v.main=v[x]),!v.hasOwnProperty("main"))throw new Error(Uf(11,_?` (${_})`:"",x));if(typeof v.main!="string")throw new Error(Uf(12,_?` (${_})`:"",JSON.stringify(v.main)));return M3(v,"light",b,r),M3(v,"dark",w,r),v.contrastText||(v.contrastText=d(v.main)),v},m={dark:kC,light:A3};return ul(Ne({common:Ne({},Ev),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:jne,contrastThreshold:t,getContrastText:d,augmentColor:h,tonalOffset:r},m[e]),i)}const ore=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function are(n){return Math.round(n*1e5)/1e5}const T3={textTransform:"uppercase"},P3='"Roboto", "Helvetica", "Arial", sans-serif';function lre(n,e){const t=typeof e=="function"?e(n):e,{fontFamily:r=P3,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=t,h=Xn(t,ore),m=i/14,g=d||(x=>`${x/c*m}rem`),v=(x,b,w,E,A)=>Ne({fontFamily:r,fontWeight:x,fontSize:g(b),lineHeight:w},r===P3?{letterSpacing:`${are(E/b)}em`}:{},A,u),_={h1:v(s,96,1.167,-1.5),h2:v(s,60,1.2,-.5),h3:v(o,48,1.167,0),h4:v(o,34,1.235,.25),h5:v(o,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(o,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(o,16,1.5,.15),body2:v(o,14,1.43,.15),button:v(a,14,1.75,.4,T3),caption:v(o,12,1.66,.4),overline:v(o,12,2.66,1,T3)};return ul(Ne({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},_),h,{clone:!1})}const cre=.2,ure=.14,dre=.12;function Vn(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${cre})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${ure})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${dre})`].join(",")}const hre=["none",Vn(0,2,1,-1,0,1,1,0,0,1,3,0),Vn(0,3,1,-2,0,2,2,0,0,1,5,0),Vn(0,3,3,-2,0,3,4,0,0,1,8,0),Vn(0,2,4,-1,0,4,5,0,0,1,10,0),Vn(0,3,5,-1,0,5,8,0,0,1,14,0),Vn(0,3,5,-1,0,6,10,0,0,1,18,0),Vn(0,4,5,-2,0,7,10,1,0,2,16,1),Vn(0,5,5,-3,0,8,10,1,0,3,14,2),Vn(0,5,6,-3,0,9,12,1,0,3,16,2),Vn(0,6,6,-3,0,10,14,1,0,4,18,3),Vn(0,6,7,-4,0,11,15,1,0,4,20,3),Vn(0,7,8,-4,0,12,17,2,0,5,22,4),Vn(0,7,8,-4,0,13,19,2,0,5,24,4),Vn(0,7,9,-4,0,14,21,2,0,5,26,4),Vn(0,8,9,-5,0,15,22,2,0,6,28,5),Vn(0,8,10,-5,0,16,24,2,0,6,30,5),Vn(0,8,11,-5,0,17,26,2,0,6,32,5),Vn(0,9,11,-5,0,18,28,2,0,7,34,6),Vn(0,9,12,-6,0,19,29,2,0,7,36,6),Vn(0,10,13,-6,0,20,31,3,0,8,38,7),Vn(0,10,13,-6,0,21,33,3,0,8,40,7),Vn(0,10,14,-6,0,22,35,3,0,8,42,7),Vn(0,11,14,-7,0,23,36,3,0,9,44,8),Vn(0,11,15,-7,0,24,38,3,0,9,46,8)],fre=hre,pre=["duration","easing","delay"],mre={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},s6={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function R3(n){return`${Math.round(n)}ms`}function gre(n){if(!n)return 0;const e=n/36;return Math.round((4+15*e**.25+e/5)*10)}function vre(n){const e=Ne({},mre,n.easing),t=Ne({},s6,n.duration);return Ne({getAutoHeightDuration:gre,create:(i=["all"],s={})=>{const{duration:o=t.standard,easing:a=e.easeInOut,delay:l=0}=s;return Xn(s,pre),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:R3(o)} ${a} ${typeof l=="string"?l:R3(l)}`).join(",")}},n,{easing:e,duration:t})}const yre={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},_re=yre,xre=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function o6(n={},...e){const{mixins:t={},palette:r={},transitions:i={},typography:s={}}=n,o=Xn(n,xre);if(n.vars)throw new Error(Uf(18));const a=sre(r),l=Z2(n);let c=ul(l,{mixins:Gne(l.breakpoints,t),palette:a,shadows:fre.slice(),typography:lre(a,s),transitions:vre(i),zIndex:Ne({},_re)});return c=ul(c,o),c=e.reduce((u,d)=>ul(u,d),c),c.unstable_sxConfig=Ne({},U1,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return H1({sx:d,theme:this})},c}const bre=o6(),nN=bre;function Qr({props:n,name:e}){return Dne({props:n,name:e,defaultTheme:nN})}const wre=n=>Jx(n)&&n!=="classes",Sre=One({defaultTheme:nN,rootShouldForwardProp:wre}),on=Sre;function Ere(n){return Jr("MuiSvgIcon",n)}Yr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Cre=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Are=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${pr(e)}`,`fontSize${pr(t)}`]};return ui(i,Ere,r)},Mre=on("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${pr(t.color)}`],e[`fontSize${pr(t.fontSize)}`]]}})(({theme:n,ownerState:e})=>{var t,r,i,s,o,a,l,c,u,d,h,m,g,v,_,x,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(t=n.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=n.transitions)==null||(s=i.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((o=n.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((l=n.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((u=n.typography)==null||(d=u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}[e.fontSize],color:(h=(m=(n.vars||n).palette)==null||(g=m[e.color])==null?void 0:g.main)!=null?h:{action:(v=(n.vars||n).palette)==null||(_=v.action)==null?void 0:_.active,disabled:(x=(n.vars||n).palette)==null||(b=x.action)==null?void 0:b.disabled,inherit:void 0}[e.color]}}),a6=N.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,m=Xn(r,Cre),g=Ne({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h}),v={};u||(v.viewBox=h);const _=Are(g);return F(Mre,Ne({as:a,className:Ft(_.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:t},v,m,{ownerState:g,children:[i,d?y("title",{children:d}):null]}))});a6.muiName="SvgIcon";const I3=a6;function V1(n,e){function t(r,i){return y(I3,Ne({"data-testid":`${e}Icon`,ref:i},r,{children:n}))}return t.muiName=I3.muiName,N.memo(N.forwardRef(t))}const Tre={configure:n=>{I2.configure(n)}},Pre=Object.freeze(Object.defineProperty({__proto__:null,capitalize:pr,createChainedFunction:AQ,createSvgIcon:V1,debounce:zb,deprecatedPropType:MQ,isMuiElement:TQ,ownerDocument:yv,ownerWindow:T2,requirePropFactory:PQ,setRef:Ub,unstable_ClassNameGenerator:Tre,unstable_useEnhancedEffect:Hf,unstable_useId:EV,unsupportedProp:NQ,useControlled:P2,useEventCallback:il,useForkRef:Aa,useIsFocusVisible:R2},Symbol.toStringTag,{value:"Module"})),Rre=rH(Pre);var N3;function Ml(){return N3||(N3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=Rre}(RC)),RC}const Tl=rH(aJ);var Ire=zo;Object.defineProperty(C2,"__esModule",{value:!0});var l6=C2.default=void 0,Nre=Ire(Ml()),kre=Tl,Ore=(0,Nre.default)((0,kre.jsx)("path",{d:"M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z"}),"HomeRounded");l6=C2.default=Ore;const Lre=()=>y("div",{className:"left-header",children:y(Hi,{to:"/",children:y(l6,{className:"material-icons home-btn"})})}),Dre=n=>{let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,(e/100).toFixed(2)},k3=Dre;function Ey(){return eN(nN)}function Bre(n){return Jr("MuiPaper",n)}Yr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Fre=["className","component","elevation","square","variant"],zre=n=>{const{square:e,elevation:t,variant:r,classes:i}=n,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return ui(s,Bre,i)},Ure=on("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(({theme:n,ownerState:e})=>{var t;return Ne({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!e.square&&{borderRadius:n.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.divider}`},e.variant==="elevation"&&Ne({boxShadow:(n.vars||n).shadows[e.elevation]},!n.vars&&n.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Kf("#fff",k3(e.elevation))}, ${Kf("#fff",k3(e.elevation))})`},n.vars&&{backgroundImage:(t=n.vars.overlays)==null?void 0:t[e.elevation]}))}),Hre=N.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=Xn(r,Fre),u=Ne({},r,{component:s,elevation:o,square:a,variant:l}),d=zre(u);return y(Ure,Ne({as:s,ownerState:u,className:Ft(d.root,i),ref:t},c))}),c6=Hre;function Gre(n){return Jr("MuiCard",n)}Yr("MuiCard",["root"]);const Vre=["className","raised"],Wre=n=>{const{classes:e}=n;return ui({root:["root"]},Gre,e)},jre=on(c6,{name:"MuiCard",slot:"Root",overridesResolver:(n,e)=>e.root})(()=>({overflow:"hidden"})),$re=N.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=Xn(r,Vre),a=Ne({},r,{raised:s}),l=Wre(a);return y(jre,Ne({className:Ft(l.root,i),elevation:s?8:void 0,ref:t,ownerState:a},o))}),Cy=$re;function Kre(n){return Jr("MuiCardMedia",n)}Yr("MuiCardMedia",["root","media","img"]);const Xre=["children","className","component","image","src","style"],Jre=n=>{const{classes:e,isMediaComponent:t,isImageComponent:r}=n;return ui({root:["root",t&&"media",r&&"img"]},Kre,e)},Yre=on("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{isMediaComponent:r,isImageComponent:i}=t;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:n})=>Ne({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},n.isMediaComponent&&{width:"100%"},n.isImageComponent&&{objectFit:"cover"})),qre=["video","audio","picture","iframe","img"],Qre=["picture","img"],Zre=N.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:l,style:c}=r,u=Xn(r,Xre),d=qre.indexOf(o)!==-1,h=!d&&a?Ne({backgroundImage:`url("${a}")`},c):c,m=Ne({},r,{component:o,isMediaComponent:d,isImageComponent:Qre.indexOf(o)!==-1}),g=Jre(m);return y(Yre,Ne({className:Ft(g.root,s),as:o,role:!d&&a?"img":void 0,ref:t,style:h,ownerState:m,src:d?a||l:void 0},u,{children:i}))}),Ay=Zre,eie=V1(y("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function tie(n){return Jr("MuiAvatar",n)}Yr("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const nie=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],rie=n=>{const{classes:e,variant:t,colorDefault:r}=n;return ui({root:["root",t,r&&"colorDefault"],img:["img"],fallback:["fallback"]},tie,e)},iie=on("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],t.colorDefault&&e.colorDefault]}})(({theme:n,ownerState:e})=>Ne({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},e.variant==="rounded"&&{borderRadius:(n.vars||n).shape.borderRadius},e.variant==="square"&&{borderRadius:0},e.colorDefault&&Ne({color:(n.vars||n).palette.background.default},n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:{backgroundColor:n.palette.mode==="light"?n.palette.grey[400]:n.palette.grey[600]}))),sie=on("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(n,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),oie=on(eie,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(n,e)=>e.fallback})({width:"75%",height:"75%"});function aie({crossOrigin:n,referrerPolicy:e,src:t,srcSet:r}){const[i,s]=N.useState(!1);return N.useEffect(()=>{if(!t&&!r)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&s("loaded")},a.onerror=()=>{o&&s("error")},a.crossOrigin=n,a.referrerPolicy=e,a.src=t,r&&(a.srcset=r),()=>{o=!1}},[n,e,t,r]),i}const lie=N.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",imgProps:l,sizes:c,src:u,srcSet:d,variant:h="circular"}=r,m=Xn(r,nie);let g=null;const v=aie(Ne({},l,{src:u,srcSet:d})),_=u||d,x=_&&v!=="error",b=Ne({},r,{colorDefault:!x,component:a,variant:h}),w=rie(b);return x?g=y(sie,Ne({alt:i,src:u,srcSet:d,sizes:c,ownerState:b,className:w.img},l)):s!=null?g=s:_&&i?g=i[0]:g=y(oie,{className:w.fallback}),y(iie,Ne({as:a,ownerState:b,className:Ft(w.root,o),ref:t},m,{children:g}))}),My=lie;function jT(){return jT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jT.apply(this,arguments)}function u6(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function $T(n,e){return $T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$T(n,e)}function d6(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,$T(n,e)}const O3={disabled:!1},Wb=_e.createContext(null);var cie=function(e){return e.scrollTop},hg="unmounted",Nu="exited",ku="entering",Dh="entered",KT="exiting",Pl=function(n){d6(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Nu,s.appearStatus=ku):l=Dh:r.unmountOnExit||r.mountOnEnter?l=hg:l=Nu,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===hg?{status:Nu}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==ku&&o!==Dh&&(s=ku):(o===ku||o===Dh)&&(s=KT)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},t.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===ku){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Pi.findDOMNode(this);o&&cie(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Nu&&this.setState({status:hg})},t.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Pi.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||O3.disabled){this.safeSetState({status:Dh},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:ku},function(){s.props.onEntering(c,u),s.onTransitionEnd(h,function(){s.safeSetState({status:Dh},function(){s.props.onEntered(c,u)})})})},t.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Pi.findDOMNode(this);if(!s||O3.disabled){this.safeSetState({status:Nu},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:KT},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Nu},function(){i.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},t.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Pi.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===hg)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=u6(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return _e.createElement(Wb.Provider,{value:null},typeof o=="function"?o(i,a):_e.cloneElement(_e.Children.only(o),a))},e}(_e.Component);Pl.contextType=Wb;Pl.propTypes={};function hh(){}Pl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:hh,onEntering:hh,onEntered:hh,onExit:hh,onExiting:hh,onExited:hh};Pl.UNMOUNTED=hg;Pl.EXITED=Nu;Pl.ENTERING=ku;Pl.ENTERED=Dh;Pl.EXITING=KT;const h6=Pl;function uie(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rN(n,e){var t=function(s){return e&&N.isValidElement(s)?e(s):s},r=Object.create(null);return n&&N.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function die(n,e){n=n||{},e=e||{};function t(u){return u in e?e[u]:n[u]}var r=Object.create(null),i=[];for(var s in n)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=t(c)}a[l]=t(l)}for(o=0;o<i.length;o++)a[i[o]]=t(i[o]);return a}function Xu(n,e,t){return t[e]!=null?t[e]:n.props[e]}function hie(n,e){return rN(n.children,function(t){return N.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Xu(t,"appear",n),enter:Xu(t,"enter",n),exit:Xu(t,"exit",n)})})}function fie(n,e,t){var r=rN(n.children),i=die(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(N.isValidElement(o)){var a=s in e,l=s in r,c=e[s],u=N.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=N.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:Xu(o,"exit",n),enter:Xu(o,"enter",n)}):!l&&a&&!u?i[s]=N.cloneElement(o,{in:!1}):l&&a&&N.isValidElement(c)&&(i[s]=N.cloneElement(o,{onExited:t.bind(null,o),in:c.props.in,exit:Xu(o,"exit",n),enter:Xu(o,"enter",n)}))}}),i}var pie=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},mie={component:"div",childFactory:function(e){return e}},iN=function(n){d6(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=s.handleExited.bind(uie(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?hie(i,a):fie(i,o,a),firstRender:!1}},t.handleExited=function(i,s){var o=rN(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=jT({},a.children);return delete l[i.key],{children:l}}))},t.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=u6(i,["component","childFactory"]),l=this.state.contextValue,c=pie(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?_e.createElement(Wb.Provider,{value:l},c):_e.createElement(Wb.Provider,{value:l},_e.createElement(s,a,c))},e}(_e.Component);iN.propTypes={};iN.defaultProps=mie;const gie=iN;function vie(n){const{className:e,classes:t,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=n,[u,d]=N.useState(!1),h=Ft(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),m={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},g=Ft(t.child,u&&t.childLeaving,r&&t.childPulsate);return!a&&!u&&d(!0),N.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,c);return()=>{clearTimeout(v)}}},[l,a,c]),y("span",{className:h,style:m,children:y("span",{className:g})})}const yie=Yr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ys=yie,_ie=["center","classes","className"];let W1=n=>n,L3,D3,B3,F3;const XT=550,xie=80,bie=X2(L3||(L3=W1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),wie=X2(D3||(D3=W1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Sie=X2(B3||(B3=W1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Eie=on("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Cie=on(vie,{name:"MuiTouchRipple",slot:"Ripple"})(F3||(F3=W1`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ys.rippleVisible,bie,XT,({theme:n})=>n.transitions.easing.easeInOut,Ys.ripplePulsate,({theme:n})=>n.transitions.duration.shorter,Ys.child,Ys.childLeaving,wie,XT,({theme:n})=>n.transitions.easing.easeInOut,Ys.childPulsate,Sie,({theme:n})=>n.transitions.easing.easeInOut),Aie=N.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Xn(r,_ie),[l,c]=N.useState([]),u=N.useRef(0),d=N.useRef(null);N.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=N.useRef(!1),m=N.useRef(null),g=N.useRef(null),v=N.useRef(null);N.useEffect(()=>()=>{clearTimeout(m.current)},[]);const _=N.useCallback(E=>{const{pulsate:A,rippleX:T,rippleY:I,rippleSize:M,cb:R}=E;c(O=>[...O,y(Cie,{classes:{ripple:Ft(s.ripple,Ys.ripple),rippleVisible:Ft(s.rippleVisible,Ys.rippleVisible),ripplePulsate:Ft(s.ripplePulsate,Ys.ripplePulsate),child:Ft(s.child,Ys.child),childLeaving:Ft(s.childLeaving,Ys.childLeaving),childPulsate:Ft(s.childPulsate,Ys.childPulsate)},timeout:XT,pulsate:A,rippleX:T,rippleY:I,rippleSize:M},u.current)]),u.current+=1,d.current=R},[s]),x=N.useCallback((E={},A={},T=()=>{})=>{const{pulsate:I=!1,center:M=i||A.pulsate,fakeElement:R=!1}=A;if((E==null?void 0:E.type)==="mousedown"&&h.current){h.current=!1;return}(E==null?void 0:E.type)==="touchstart"&&(h.current=!0);const O=R?null:v.current,L=O?O.getBoundingClientRect():{width:0,height:0,left:0,top:0};let X,W,K;if(M||E===void 0||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)X=Math.round(L.width/2),W=Math.round(L.height/2);else{const{clientX:U,clientY:ee}=E.touches&&E.touches.length>0?E.touches[0]:E;X=Math.round(U-L.left),W=Math.round(ee-L.top)}if(M)K=Math.sqrt((2*L.width**2+L.height**2)/3),K%2===0&&(K+=1);else{const U=Math.max(Math.abs((O?O.clientWidth:0)-X),X)*2+2,ee=Math.max(Math.abs((O?O.clientHeight:0)-W),W)*2+2;K=Math.sqrt(U**2+ee**2)}E!=null&&E.touches?g.current===null&&(g.current=()=>{_({pulsate:I,rippleX:X,rippleY:W,rippleSize:K,cb:T})},m.current=setTimeout(()=>{g.current&&(g.current(),g.current=null)},xie)):_({pulsate:I,rippleX:X,rippleY:W,rippleSize:K,cb:T})},[i,_]),b=N.useCallback(()=>{x({},{pulsate:!0})},[x]),w=N.useCallback((E,A)=>{if(clearTimeout(m.current),(E==null?void 0:E.type)==="touchend"&&g.current){g.current(),g.current=null,m.current=setTimeout(()=>{w(E,A)});return}g.current=null,c(T=>T.length>0?T.slice(1):T),d.current=A},[]);return N.useImperativeHandle(t,()=>({pulsate:b,start:x,stop:w}),[b,x,w]),y(Eie,Ne({className:Ft(Ys.root,s.root,o),ref:v},a,{children:y(gie,{component:null,exit:!0,children:l})}))}),Mie=Aie;function Tie(n){return Jr("MuiButtonBase",n)}const Pie=Yr("MuiButtonBase",["root","disabled","focusVisible"]),Rie=Pie,Iie=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Nie=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:i}=n,o=ui({root:["root",e&&"disabled",t&&"focusVisible"]},Tie,i);return t&&r&&(o.root+=` ${r}`),o},kie=on("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Rie.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Oie=N.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:m="a",onBlur:g,onClick:v,onContextMenu:_,onDragLeave:x,onFocus:b,onFocusVisible:w,onKeyDown:E,onKeyUp:A,onMouseDown:T,onMouseLeave:I,onMouseUp:M,onTouchEnd:R,onTouchMove:O,onTouchStart:L,tabIndex:X=0,TouchRippleProps:W,touchRippleRef:K,type:U}=r,ee=Xn(r,Iie),Q=N.useRef(null),D=N.useRef(null),z=Aa(D,K),{isFocusVisibleRef:Z,onFocus:he,onBlur:G,ref:te}=R2(),[re,q]=N.useState(!1);c&&re&&q(!1),N.useImperativeHandle(i,()=>({focusVisible:()=>{q(!0),Q.current.focus()}}),[]);const[$,me]=N.useState(!1);N.useEffect(()=>{me(!0)},[]);const ae=$&&!u&&!c;N.useEffect(()=>{re&&h&&!u&&$&&D.current.pulsate()},[u,h,re,$]);function xe(ue,fe,Fe=d){return il(Y=>(fe&&fe(Y),!Fe&&D.current&&D.current[ue](Y),!0))}const Ae=xe("start",T),Me=xe("stop",_),ce=xe("stop",x),ve=xe("stop",M),Ie=xe("stop",ue=>{re&&ue.preventDefault(),I&&I(ue)}),Le=xe("start",L),De=xe("stop",R),ze=xe("stop",O),We=xe("stop",ue=>{G(ue),Z.current===!1&&q(!1),g&&g(ue)},!1),et=il(ue=>{Q.current||(Q.current=ue.currentTarget),he(ue),Z.current===!0&&(q(!0),w&&w(ue)),b&&b(ue)}),qe=()=>{const ue=Q.current;return l&&l!=="button"&&!(ue.tagName==="A"&&ue.href)},it=N.useRef(!1),j=il(ue=>{h&&!it.current&&re&&D.current&&ue.key===" "&&(it.current=!0,D.current.stop(ue,()=>{D.current.start(ue)})),ue.target===ue.currentTarget&&qe()&&ue.key===" "&&ue.preventDefault(),E&&E(ue),ue.target===ue.currentTarget&&qe()&&ue.key==="Enter"&&!c&&(ue.preventDefault(),v&&v(ue))}),B=il(ue=>{h&&ue.key===" "&&D.current&&re&&!ue.defaultPrevented&&(it.current=!1,D.current.stop(ue,()=>{D.current.pulsate(ue)})),A&&A(ue),v&&ue.target===ue.currentTarget&&qe()&&ue.key===" "&&!ue.defaultPrevented&&v(ue)});let ne=l;ne==="button"&&(ee.href||ee.to)&&(ne=m);const Se={};ne==="button"?(Se.type=U===void 0?"button":U,Se.disabled=c):(!ee.href&&!ee.to&&(Se.role="button"),c&&(Se["aria-disabled"]=c));const Be=Aa(t,te,Q),He=Ne({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:X,focusVisible:re}),we=Nie(He);return F(kie,Ne({as:ne,className:Ft(we.root,a),ownerState:He,onBlur:We,onClick:v,onContextMenu:Me,onFocus:et,onKeyDown:j,onKeyUp:B,onMouseDown:Ae,onMouseLeave:Ie,onMouseUp:ve,onDragLeave:ce,onTouchEnd:De,onTouchMove:ze,onTouchStart:Le,ref:Be,tabIndex:c?-1:X,type:U},Se,ee,{children:[o,ae?y(Mie,Ne({ref:z,center:s},W)):null]}))}),j1=Oie;function Lie(n){return Jr("MuiIconButton",n)}const Die=Yr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Bie=Die,Fie=["edge","children","className","color","disabled","disableFocusRipple","size"],zie=n=>{const{classes:e,disabled:t,color:r,edge:i,size:s}=n,o={root:["root",t&&"disabled",r!=="default"&&`color${pr(r)}`,i&&`edge${pr(i)}`,`size${pr(s)}`]};return ui(o,Lie,e)},Uie=on(j1,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="default"&&e[`color${pr(t.color)}`],t.edge&&e[`edge${pr(t.edge)}`],e[`size${pr(t.size)}`]]}})(({theme:n,ownerState:e})=>Ne({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Kf(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:n,ownerState:e})=>{var t;const r=(t=(n.vars||n).palette)==null?void 0:t[e.color];return Ne({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&Ne({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":Ne({},r&&{backgroundColor:n.vars?`rgba(${r.mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Kf(r.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:n.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:n.typography.pxToRem(28)},{[`&.${Bie.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}})}),Hie=N.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=Xn(r,Fie),h=Ne({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),m=zie(h);return y(Uie,Ne({className:Ft(m.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:t,ownerState:h},d,{children:s}))}),Ty=Hie;var sN={},Gie=zo;Object.defineProperty(sN,"__esModule",{value:!0});var Rl=sN.default=void 0,Vie=Gie(Ml()),z3=Tl,Wie=(0,Vie.default)([(0,z3.jsx)("path",{d:"M5.7 6.71c-.39.39-.39 1.02 0 1.41L9.58 12 5.7 15.88c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41L7.12 6.71c-.39-.39-1.03-.39-1.42 0z"},"0"),(0,z3.jsx)("path",{d:"M12.29 6.71c-.39.39-.39 1.02 0 1.41L16.17 12l-3.88 3.88c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41L13.7 6.7c-.38-.38-1.02-.38-1.41.01z"},"1")],"KeyboardDoubleArrowRightRounded");Rl=sN.default=Wie;function kt(){return kt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kt.apply(this,arguments)}function JT(n){return JT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JT(n)}function OC(n){return n&&JT(n)==="object"&&n.constructor===Object}function Xf(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},r=t.clone?kt({},n):n;return OC(n)&&OC(e)&&Object.keys(e).forEach(function(i){i!=="__proto__"&&(OC(e[i])&&i in n?r[i]=Xf(n[i],e[i],t):r[i]=e[i])}),r}function LC(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function YT(n){for(var e="https://mui.com/production-error/?code="+n,t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified Material-UI error #"+n+"; visit "+e+" for the full message."}function f6(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(e,n),t)}function jie(n){n=n.substr(1);var e=new RegExp(".{1,".concat(n.length>=6?2:1,"}"),"g"),t=n.match(e);return t&&t[0].length===1&&(t=t.map(function(r){return r+r})),t?"rgb".concat(t.length===4?"a":"","(").concat(t.map(function(r,i){return i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3}).join(", "),")"):""}function $ie(n){n=Jf(n);var e=n,t=e.values,r=t[0],i=t[1]/100,s=t[2]/100,o=i*Math.min(s,1-s),a=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(d+r/30)%12;return s-o*Math.max(Math.min(h-3,9-h,1),-1)},l="rgb",c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return n.type==="hsla"&&(l+="a",c.push(t[3])),oN({type:l,values:c})}function Jf(n){if(n.type)return n;if(n.charAt(0)==="#")return Jf(jie(n));var e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla"].indexOf(t)===-1)throw new Error(YT(3,n));var r=n.substring(e+1,n.length-1).split(",");return r=r.map(function(i){return parseFloat(i)}),{type:t,values:r}}function oN(n){var e=n.type,t=n.values;return e.indexOf("rgb")!==-1?t=t.map(function(r,i){return i<3?parseInt(r,10):r}):e.indexOf("hsl")!==-1&&(t[1]="".concat(t[1],"%"),t[2]="".concat(t[2],"%")),"".concat(e,"(").concat(t.join(", "),")")}function Kie(n,e){var t=U3(n),r=U3(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function U3(n){n=Jf(n);var e=n.type==="hsl"?Jf($ie(n)).values:n.values;return e=e.map(function(t){return t/=255,t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Xie(n,e){if(n=Jf(n),e=f6(e),n.type.indexOf("hsl")!==-1)n.values[2]*=1-e;else if(n.type.indexOf("rgb")!==-1)for(var t=0;t<3;t+=1)n.values[t]*=1-e;return oN(n)}function Jie(n,e){if(n=Jf(n),e=f6(e),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf("rgb")!==-1)for(var t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;return oN(n)}function p6(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Ap(n,e){if(n==null)return{};var t=p6(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}var Wl=["xs","sm","md","lg","xl"];function Yie(n){var e=n.values,t=e===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,r=n.unit,i=r===void 0?"px":r,s=n.step,o=s===void 0?5:s,a=Ap(n,["values","unit","step"]);function l(m){var g=typeof t[m]=="number"?t[m]:m;return"@media (min-width:".concat(g).concat(i,")")}function c(m){var g=Wl.indexOf(m)+1,v=t[Wl[g]];if(g===Wl.length)return l("xs");var _=typeof v=="number"&&g>0?v:m;return"@media (max-width:".concat(_-o/100).concat(i,")")}function u(m,g){var v=Wl.indexOf(g);return v===Wl.length-1?l(m):"@media (min-width:".concat(typeof t[m]=="number"?t[m]:m).concat(i,") and ")+"(max-width:".concat((v!==-1&&typeof t[Wl[v+1]]=="number"?t[Wl[v+1]]:g)-o/100).concat(i,")")}function d(m){return u(m,m)}function h(m){return t[m]}return kt({keys:Wl,values:t,up:l,down:c,between:u,only:d,width:h},a)}function qie(n,e,t){var r;return kt({gutters:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),kt({paddingLeft:e(2),paddingRight:e(2)},s,LC({},n.up("sm"),kt({paddingLeft:e(3),paddingRight:e(3)},s[n.up("sm")])))},toolbar:(r={minHeight:56},LC(r,"".concat(n.up("xs")," and (orientation: landscape)"),{minHeight:48}),LC(r,n.up("sm"),{minHeight:64}),r)},t)}var Qie={black:"#000",white:"#fff"};const jb=Qie;var Zie={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};const aN=Zie;var ese={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};const DC=ese;var tse={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};const BC=tse;var nse={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};const FC=nse;var rse={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};const zC=rse;var ise={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};const UC=ise;var sse={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const HC=sse;var H3={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:jb.white,default:aN[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},GC={text:{primary:jb.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:aN[800],default:"#303030"},action:{active:jb.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function G3(n,e,t,r){var i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Jie(n.main,i):e==="dark"&&(n.dark=Xie(n.main,s)))}function ose(n){var e=n.primary,t=e===void 0?{light:DC[300],main:DC[500],dark:DC[700]}:e,r=n.secondary,i=r===void 0?{light:BC.A200,main:BC.A400,dark:BC.A700}:r,s=n.error,o=s===void 0?{light:FC[300],main:FC[500],dark:FC[700]}:s,a=n.warning,l=a===void 0?{light:zC[300],main:zC[500],dark:zC[700]}:a,c=n.info,u=c===void 0?{light:UC[300],main:UC[500],dark:UC[700]}:c,d=n.success,h=d===void 0?{light:HC[300],main:HC[500],dark:HC[700]}:d,m=n.type,g=m===void 0?"light":m,v=n.contrastThreshold,_=v===void 0?3:v,x=n.tonalOffset,b=x===void 0?.2:x,w=Ap(n,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function E(M){var R=Kie(M,GC.text.primary)>=_?GC.text.primary:H3.text.primary;return R}var A=function(R){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(R=kt({},R),!R.main&&R[O]&&(R.main=R[O]),!R.main)throw new Error(YT(4,O));if(typeof R.main!="string")throw new Error(YT(5,JSON.stringify(R.main)));return G3(R,"light",L,b),G3(R,"dark",X,b),R.contrastText||(R.contrastText=E(R.main)),R},T={dark:GC,light:H3},I=Xf(kt({common:jb,type:g,primary:A(t),secondary:A(i,"A400","A200","A700"),error:A(o),warning:A(l),info:A(u),success:A(h),grey:aN,contrastThreshold:_,getContrastText:E,augmentColor:A,tonalOffset:b},T[g]),w);return I}function m6(n){return Math.round(n*1e5)/1e5}function ase(n){return m6(n)}var V3={textTransform:"uppercase"},W3='"Roboto", "Helvetica", "Arial", sans-serif';function lse(n,e){var t=typeof e=="function"?e(n):e,r=t.fontFamily,i=r===void 0?W3:r,s=t.fontSize,o=s===void 0?14:s,a=t.fontWeightLight,l=a===void 0?300:a,c=t.fontWeightRegular,u=c===void 0?400:c,d=t.fontWeightMedium,h=d===void 0?500:d,m=t.fontWeightBold,g=m===void 0?700:m,v=t.htmlFontSize,_=v===void 0?16:v,x=t.allVariants,b=t.pxToRem,w=Ap(t,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),E=o/14,A=b||function(M){return"".concat(M/_*E,"rem")},T=function(R,O,L,X,W){return kt({fontFamily:i,fontWeight:R,fontSize:A(O),lineHeight:L},i===W3?{letterSpacing:"".concat(m6(X/O),"em")}:{},W,x)},I={h1:T(l,96,1.167,-1.5),h2:T(l,60,1.2,-.5),h3:T(u,48,1.167,0),h4:T(u,34,1.235,.25),h5:T(u,24,1.334,0),h6:T(h,20,1.6,.15),subtitle1:T(u,16,1.75,.15),subtitle2:T(h,14,1.57,.1),body1:T(u,16,1.5,.15),body2:T(u,14,1.43,.15),button:T(h,14,1.75,.4,V3),caption:T(u,12,1.66,.4),overline:T(u,12,2.66,1,V3)};return Xf(kt({htmlFontSize:_,pxToRem:A,round:ase,fontFamily:i,fontSize:o,fontWeightLight:l,fontWeightRegular:u,fontWeightMedium:h,fontWeightBold:g},I),w,{clone:!1})}var cse=.2,use=.14,dse=.12;function Wn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(cse,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(use,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(dse,")")].join(",")}var hse=["none",Wn(0,2,1,-1,0,1,1,0,0,1,3,0),Wn(0,3,1,-2,0,2,2,0,0,1,5,0),Wn(0,3,3,-2,0,3,4,0,0,1,8,0),Wn(0,2,4,-1,0,4,5,0,0,1,10,0),Wn(0,3,5,-1,0,5,8,0,0,1,14,0),Wn(0,3,5,-1,0,6,10,0,0,1,18,0),Wn(0,4,5,-2,0,7,10,1,0,2,16,1),Wn(0,5,5,-3,0,8,10,1,0,3,14,2),Wn(0,5,6,-3,0,9,12,1,0,3,16,2),Wn(0,6,6,-3,0,10,14,1,0,4,18,3),Wn(0,6,7,-4,0,11,15,1,0,4,20,3),Wn(0,7,8,-4,0,12,17,2,0,5,22,4),Wn(0,7,8,-4,0,13,19,2,0,5,24,4),Wn(0,7,9,-4,0,14,21,2,0,5,26,4),Wn(0,8,9,-5,0,15,22,2,0,6,28,5),Wn(0,8,10,-5,0,16,24,2,0,6,30,5),Wn(0,8,11,-5,0,17,26,2,0,6,32,5),Wn(0,9,11,-5,0,18,28,2,0,7,34,6),Wn(0,9,12,-6,0,19,29,2,0,7,36,6),Wn(0,10,13,-6,0,20,31,3,0,8,38,7),Wn(0,10,13,-6,0,21,33,3,0,8,40,7),Wn(0,10,14,-6,0,22,35,3,0,8,42,7),Wn(0,11,14,-7,0,23,36,3,0,9,44,8),Wn(0,11,15,-7,0,24,38,3,0,9,46,8)];const fse=hse;var pse={borderRadius:4};const mse=pse;function qT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function gse(n){if(Array.isArray(n))return qT(n)}function vse(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function yse(n,e){if(n){if(typeof n=="string")return qT(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qT(n,e)}}function _se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xse(n){return gse(n)||vse(n)||yse(n)||_se()}function bse(n){var e=n.spacing||8;return typeof e=="number"?function(t){return e*t}:Array.isArray(e)?function(t){return e[t]}:typeof e=="function"?e:function(){}}function wse(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(n.mui)return n;var e=bse({spacing:n}),t=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return s.length===0?e(1):s.length===1?e(s[0]):s.map(function(a){if(typeof a=="string")return a;var l=e(a);return typeof l=="number"?"".concat(l,"px"):l}).join(" ")};return Object.defineProperty(t,"unit",{get:function(){return n}}),t.mui=!0,t}var j3={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$3={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function K3(n){return"".concat(Math.round(n),"ms")}const Sse={easing:j3,duration:$3,create:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.duration,i=r===void 0?$3.standard:r,s=t.easing,o=s===void 0?j3.easeInOut:s,a=t.delay,l=a===void 0?0:a;return Ap(t,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map(function(c){return"".concat(c," ").concat(typeof i=="string"?i:K3(i)," ").concat(o," ").concat(typeof l=="string"?l:K3(l))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round((4+15*Math.pow(t,.25)+t/5)*10)}};var Ese={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const Cse=Ese;function Ase(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.breakpoints,t=e===void 0?{}:e,r=n.mixins,i=r===void 0?{}:r,s=n.palette,o=s===void 0?{}:s,a=n.spacing,l=n.typography,c=l===void 0?{}:l,u=Ap(n,["breakpoints","mixins","palette","spacing","typography"]),d=ose(o),h=Yie(t),m=wse(a),g=Xf({breakpoints:h,direction:"ltr",mixins:qie(h,m,i),overrides:{},palette:d,props:{},shadows:fse,typography:lse(d,c),spacing:m,shape:mse,transitions:Sse,zIndex:Cse},u),v=arguments.length,_=new Array(v>1?v-1:0),x=1;x<v;x++)_[x-1]=arguments[x];return g=_.reduce(function(b,w){return Xf(b,w)},g),g}var Mse=typeof Symbol=="function"&&Symbol.for;const Tse=Mse?Symbol.for("mui.nested"):"__THEME_NESTED__";var Pse=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function Rse(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.disableGlobal,t=e===void 0?!1:e,r=n.productionPrefix,i=r===void 0?"jss":r,s=n.seed,o=s===void 0?"":s,a=o===""?"":"".concat(o,"-"),l=0,c=function(){return l+=1,l};return function(u,d){var h=d.options.name;if(h&&h.indexOf("Mui")===0&&!d.options.link&&!t){if(Pse.indexOf(u.key)!==-1)return"Mui-".concat(u.key);var m="".concat(a).concat(h,"-").concat(u.key);return!d.options.theme[Tse]||o!==""?m:"".concat(m,"-").concat(c())}return"".concat(a).concat(i).concat(c())}}var X3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Py=(typeof window>"u"?"undefined":X3(window))==="object"&&(typeof document>"u"?"undefined":X3(document))==="object"&&document.nodeType===9;function J3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function g6(n,e,t){return e&&J3(n.prototype,e),t&&J3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function QT(n,e){return QT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QT(n,e)}function v6(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,QT(n,e)}function Y3(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var Ise={}.constructor;function ZT(n){if(n==null||typeof n!="object")return n;if(Array.isArray(n))return n.map(ZT);if(n.constructor!==Ise)return n;var e={};for(var t in n)e[t]=ZT(n[t]);return e}function lN(n,e,t){n===void 0&&(n="unnamed");var r=t.jss,i=ZT(e),s=r.plugins.onCreateRule(n,i,t);return s||(n[0],null)}var q3=function(e,t){for(var r="",i=0;i<e.length&&e[i]!=="!important";i++)r&&(r+=t),r+=e[i];return r},sd=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)t&&(t+=", "),t+=q3(e[r]," ");else t=q3(e,", ");return e[e.length-1]==="!important"&&(t+=" !important"),t};function Mp(n){return n&&n.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function Am(n,e){for(var t="",r=0;r<e;r++)t+="  ";return t+n}function Cv(n,e,t){t===void 0&&(t={});var r="";if(!e)return r;var i=t,s=i.indent,o=s===void 0?0:s,a=e.fallbacks;t.format===!1&&(o=-1/0);var l=Mp(t),c=l.linebreak,u=l.space;if(n&&o++,a)if(Array.isArray(a))for(var d=0;d<a.length;d++){var h=a[d];for(var m in h){var g=h[m];g!=null&&(r&&(r+=c),r+=Am(m+":"+u+sd(g)+";",o))}}else for(var v in a){var _=a[v];_!=null&&(r&&(r+=c),r+=Am(v+":"+u+sd(_)+";",o))}for(var x in e){var b=e[x];b!=null&&x!=="fallbacks"&&(r&&(r+=c),r+=Am(x+":"+u+sd(b)+";",o))}return!r&&!t.allowEmpty||!n?r:(o--,r&&(r=""+c+r+c),Am(""+n+u+"{"+r,o)+Am("}",o))}var Nse=/([[\].#*$><+~=|^:(),"'`\s])/g,Q3=typeof CSS<"u"&&CSS.escape,cN=function(n){return Q3?Q3(n):n.replace(Nse,"\\$1")},y6=function(){function n(t,r,i){this.type="style",this.isProcessed=!1;var s=i.sheet,o=i.Renderer;this.key=t,this.options=i,this.style=r,s?this.renderer=s.renderer:o&&(this.renderer=new o)}var e=n.prototype;return e.prop=function(r,i,s){if(i===void 0)return this.style[r];var o=s?s.force:!1;if(!o&&this.style[r]===i)return this;var a=i;(!s||s.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(i,r,this));var l=a==null||a===!1,c=r in this.style;if(l&&!c&&!o)return this;var u=l&&c;if(u?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var d=this.options.sheet;return d&&d.attached,this},n}(),eP=function(n){v6(e,n);function e(r,i,s){var o;o=n.call(this,r,i,s)||this;var a=s.selector,l=s.scoped,c=s.sheet,u=s.generateId;return a?o.selectorText=a:l!==!1&&(o.id=u(Y3(Y3(o)),c),o.selectorText="."+cN(o.id)),o}var t=e.prototype;return t.applyTo=function(i){var s=this.renderer;if(s){var o=this.toJSON();for(var a in o)s.setProperty(i,a,o[a])}return this},t.toJSON=function(){var i={};for(var s in this.style){var o=this.style[s];typeof o!="object"?i[s]=o:Array.isArray(o)&&(i[s]=sd(o))}return i},t.toString=function(i){var s=this.options.sheet,o=s?s.options.link:!1,a=o?kt({},i,{allowEmpty:!0}):i;return Cv(this.selectorText,this.style,a)},g6(e,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var s=this.renderer,o=this.renderable;if(!(!o||!s)){var a=s.setSelector(o,i);a||s.replaceRule(o,this)}}},get:function(){return this.selectorText}}]),e}(y6),kse={onCreateRule:function(e,t,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new eP(e,t,r)}},VC={indent:1,children:!0},Ose=/@([\w-]+)/,Lse=function(){function n(t,r,i){this.type="conditional",this.isProcessed=!1,this.key=t;var s=t.match(Ose);this.at=s?s[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new $1(kt({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=n.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,i,s){var o=this.rules.add(r,i,s);return o?(this.options.jss.plugins.onProcessRule(o),o):null},e.replaceRule=function(r,i,s){var o=this.rules.replace(r,i,s);return o&&this.options.jss.plugins.onProcessRule(o),o},e.toString=function(r){r===void 0&&(r=VC);var i=Mp(r),s=i.linebreak;if(r.indent==null&&(r.indent=VC.indent),r.children==null&&(r.children=VC.children),r.children===!1)return this.query+" {}";var o=this.rules.toString(r);return o?this.query+" {"+s+o+s+"}":""},n}(),Dse=/@media|@supports\s+/,Bse={onCreateRule:function(e,t,r){return Dse.test(e)?new Lse(e,t,r):null}},WC={indent:1,children:!0},Fse=/@keyframes\s+([\w-]+)/,tP=function(){function n(t,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var s=t.match(Fse);s&&s[1]?this.name=s[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var o=i.scoped,a=i.sheet,l=i.generateId;this.id=o===!1?this.name:cN(l(this,a)),this.rules=new $1(kt({},i,{parent:this}));for(var c in r)this.rules.add(c,r[c],kt({},i,{parent:this}));this.rules.process()}var e=n.prototype;return e.toString=function(r){r===void 0&&(r=WC);var i=Mp(r),s=i.linebreak;if(r.indent==null&&(r.indent=WC.indent),r.children==null&&(r.children=WC.children),r.children===!1)return this.at+" "+this.id+" {}";var o=this.rules.toString(r);return o&&(o=""+s+o+s),this.at+" "+this.id+" {"+o+"}"},n}(),zse=/@keyframes\s+/,Use=/\$([\w-]+)/g,nP=function(e,t){return typeof e=="string"?e.replace(Use,function(r,i){return i in t?t[i]:r}):e},Z3=function(e,t,r){var i=e[t],s=nP(i,r);s!==i&&(e[t]=s)},Hse={onCreateRule:function(e,t,r){return typeof e=="string"&&zse.test(e)?new tP(e,t,r):null},onProcessStyle:function(e,t,r){return t.type!=="style"||!r||("animation-name"in e&&Z3(e,"animation-name",r.keyframes),"animation"in e&&Z3(e,"animation",r.keyframes)),e},onChangeValue:function(e,t,r){var i=r.options.sheet;if(!i)return e;switch(t){case"animation":return nP(e,i.keyframes);case"animation-name":return nP(e,i.keyframes);default:return e}}},Gse=function(n){v6(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.toString=function(i){var s=this.options.sheet,o=s?s.options.link:!1,a=o?kt({},i,{allowEmpty:!0}):i;return Cv(this.key,this.style,a)},e}(y6),Vse={onCreateRule:function(e,t,r){return r.parent&&r.parent.type==="keyframes"?new Gse(e,t,r):null}},Wse=function(){function n(t,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=t,this.style=r,this.options=i}var e=n.prototype;return e.toString=function(r){var i=Mp(r),s=i.linebreak;if(Array.isArray(this.style)){for(var o="",a=0;a<this.style.length;a++)o+=Cv(this.at,this.style[a]),this.style[a+1]&&(o+=s);return o}return Cv(this.at,this.style,r)},n}(),jse=/@font-face/,$se={onCreateRule:function(e,t,r){return jse.test(e)?new Wse(e,t,r):null}},Kse=function(){function n(t,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=t,this.style=r,this.options=i}var e=n.prototype;return e.toString=function(r){return Cv(this.key,this.style,r)},n}(),Xse={onCreateRule:function(e,t,r){return e==="@viewport"||e==="@-ms-viewport"?new Kse(e,t,r):null}},Jse=function(){function n(t,r,i){this.type="simple",this.isProcessed=!1,this.key=t,this.value=r,this.options=i}var e=n.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var i="",s=0;s<this.value.length;s++)i+=this.key+" "+this.value[s]+";",this.value[s+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},n}(),Yse={"@charset":!0,"@import":!0,"@namespace":!0},qse={onCreateRule:function(e,t,r){return e in Yse?new Jse(e,t,r):null}},eF=[kse,Bse,Hse,Vse,$se,Xse,qse],Qse={process:!0},tF={force:!0,process:!0},$1=function(){function n(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=n.prototype;return e.add=function(r,i,s){var o=this.options,a=o.parent,l=o.sheet,c=o.jss,u=o.Renderer,d=o.generateId,h=o.scoped,m=kt({classes:this.classes,parent:a,sheet:l,jss:c,Renderer:u,generateId:d,scoped:h,name:r,keyframes:this.keyframes,selector:void 0},s),g=r;r in this.raw&&(g=r+"-d"+this.counter++),this.raw[g]=i,g in this.classes&&(m.selector="."+cN(this.classes[g]));var v=lN(g,i,m);if(!v)return null;this.register(v);var _=m.index===void 0?this.index.length:m.index;return this.index.splice(_,0,v),v},e.replace=function(r,i,s){var o=this.get(r),a=this.index.indexOf(o);o&&this.remove(o);var l=s;return a!==-1&&(l=kt({},s,{index:a})),this.add(r,i,l)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof eP?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof tP&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof eP?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof tP&&delete this.keyframes[r.name]},e.update=function(){var r,i,s;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],s=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,s);else for(var o=0;o<this.index.length;o++)this.updateOne(this.index[o],i,s)},e.updateOne=function(r,i,s){s===void 0&&(s=Qse);var o=this.options,a=o.jss.plugins,l=o.sheet;if(r.rules instanceof n){r.rules.update(i,s);return}var c=r.style;if(a.onUpdate(i,r,l,s),s.process&&c&&c!==r.style){a.onProcessStyle(r.style,r,l);for(var u in r.style){var d=r.style[u],h=c[u];d!==h&&r.prop(u,d,tF)}for(var m in c){var g=r.style[m],v=c[m];g==null&&g!==v&&r.prop(m,null,tF)}}},e.toString=function(r){for(var i="",s=this.options.sheet,o=s?s.options.link:!1,a=Mp(r),l=a.linebreak,c=0;c<this.index.length;c++){var u=this.index[c],d=u.toString(r);!d&&!o||(i&&(i+=l),i+=d)}return i},n}(),_6=function(){function n(t,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=kt({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new $1(this.options);for(var i in t)this.rules.add(i,t[i]);this.rules.process()}var e=n.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,i,s){var o=this.queue;this.attached&&!o&&(this.queue=[]);var a=this.rules.add(r,i,s);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(o?o.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},e.replaceRule=function(r,i,s){var o=this.rules.get(r);if(!o)return this.addRule(r,i,s);var a=this.rules.replace(r,i,s);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?o.renderable&&this.renderer.replaceRule(o.renderable,a):this.renderer.deleteRule(o)),a):(this.deployed=!1,a)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,i){var s=[];for(var o in r){var a=this.addRule(o,r[o],i);a&&s.push(a)}return s},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,i,s){return this.rules.updateOne(r,i,s),this},e.toString=function(r){return this.rules.toString(r)},n}(),Zse=function(){function n(){this.plugins={internal:[],external:[]},this.registry={}}var e=n.prototype;return e.onCreateRule=function(r,i,s){for(var o=0;o<this.registry.onCreateRule.length;o++){var a=this.registry.onCreateRule[o](r,i,s);if(a)return a}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,s=0;s<this.registry.onProcessRule.length;s++)this.registry.onProcessRule[s](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},e.onProcessStyle=function(r,i,s){for(var o=0;o<this.registry.onProcessStyle.length;o++)i.style=this.registry.onProcessStyle[o](i.style,i,s)},e.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},e.onUpdate=function(r,i,s,o){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,i,s,o)},e.onChangeValue=function(r,i,s){for(var o=r,a=0;a<this.registry.onChangeValue.length;a++)o=this.registry.onChangeValue[a](o,i,s);return o},e.use=function(r,i){i===void 0&&(i={queue:"external"});var s=this.plugins[i.queue];s.indexOf(r)===-1&&(s.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(o,a){for(var l in a)l in o&&o[l].push(a[l]);return o},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},n}(),eoe=function(){function n(){this.registry=[]}var e=n.prototype;return e.add=function(r){var i=this.registry,s=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||s>=this.index){i.push(r);return}for(var o=0;o<i.length;o++)if(i[o].options.index>s){i.splice(o,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},e.toString=function(r){for(var i=r===void 0?{}:r,s=i.attached,o=p6(i,["attached"]),a=Mp(o),l=a.linebreak,c="",u=0;u<this.registry.length;u++){var d=this.registry[u];s!=null&&d.attached!==s||(c&&(c+=l),c+=d.toString(o))}return c},g6(n,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),n}(),Og=new eoe,rP=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),iP="2f1acc6c3a606b082e5eef5e54414ffb";rP[iP]==null&&(rP[iP]=0);var nF=rP[iP]++,rF=function(e){e===void 0&&(e={});var t=0,r=function(s,o){t+=1;var a="",l="";return o&&(o.options.classNamePrefix&&(l=o.options.classNamePrefix),o.options.jss.id!=null&&(a=String(o.options.jss.id))),e.minify?""+(l||"c")+nF+a+t:l+s.key+"-"+nF+(a?"-"+a:"")+"-"+t};return r},x6=function(e){var t;return function(){return t||(t=e()),t}},toe=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch{return""}},noe=function(e,t,r){try{var i=r;if(Array.isArray(r)&&(i=sd(r)),e.attributeStyleMap)e.attributeStyleMap.set(t,i);else{var s=i?i.indexOf("!important"):-1,o=s>-1?i.substr(0,s-1):i;e.style.setProperty(t,o,s>-1?"important":"")}}catch{return!1}return!0},roe=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch{}},ioe=function(e,t){return e.selectorText=t,e.selectorText===t},b6=x6(function(){return document.querySelector("head")});function soe(n,e){for(var t=0;t<n.length;t++){var r=n[t];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function ooe(n,e){for(var t=n.length-1;t>=0;t--){var r=n[t];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function aoe(n){for(var e=b6(),t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(r.nodeType===8&&r.nodeValue.trim()===n)return r}return null}function loe(n){var e=Og.registry;if(e.length>0){var t=soe(e,n);if(t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element};if(t=ooe(e,n),t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element.nextSibling}}var r=n.insertionPoint;if(r&&typeof r=="string"){var i=aoe(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function coe(n,e){var t=e.insertionPoint,r=loe(e);if(r!==!1&&r.parent){r.parent.insertBefore(n,r.node);return}if(t&&typeof t.nodeType=="number"){var i=t,s=i.parentNode;s&&s.insertBefore(n,i.nextSibling);return}b6().appendChild(n)}var uoe=x6(function(){var n=document.querySelector('meta[property="csp-nonce"]');return n?n.getAttribute("content"):null}),iF=function(e,t,r){try{"insertRule"in e?e.insertRule(t,r):"appendRule"in e&&e.appendRule(t)}catch{return!1}return e.cssRules[r]},sF=function(e,t){var r=e.cssRules.length;return t===void 0||t>r?r:t},doe=function(){var e=document.createElement("style");return e.textContent=`
`,e},hoe=function(){function n(t){this.getPropertyValue=toe,this.setProperty=noe,this.removeProperty=roe,this.setSelector=ioe,this.hasInsertedRules=!1,this.cssRules=[],t&&Og.add(t),this.sheet=t;var r=this.sheet?this.sheet.options:{},i=r.media,s=r.meta,o=r.element;this.element=o||doe(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),s&&this.element.setAttribute("data-meta",s);var a=uoe();a&&this.element.setAttribute("nonce",a)}var e=n.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){coe(this.element,this.sheet.options);var r=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,i){for(var s=0;s<r.index.length;s++)this.insertRule(r.index[s],s,i)},e.insertRule=function(r,i,s){if(s===void 0&&(s=this.element.sheet),r.rules){var o=r,a=s;if(r.type==="conditional"||r.type==="keyframes"){var l=sF(s,i);if(a=iF(s,o.toString({children:!1}),l),a===!1)return!1;this.refCssRule(r,l,a)}return this.insertRules(o.rules,a),a}var c=r.toString();if(!c)return!1;var u=sF(s,i),d=iF(s,c,u);return d===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,u,d),d)},e.refCssRule=function(r,i,s){r.renderable=s,r.options.parent instanceof _6&&this.cssRules.splice(i,0,s)},e.deleteRule=function(r){var i=this.element.sheet,s=this.indexOf(r);return s===-1?!1:(i.deleteRule(s),this.cssRules.splice(s,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,i){var s=this.indexOf(r);return s===-1?!1:(this.element.sheet.deleteRule(s),this.cssRules.splice(s,1),this.insertRule(i,s))},e.getRules=function(){return this.element.sheet.cssRules},n}(),foe=0,poe=function(){function n(t){this.id=foe++,this.version="10.9.2",this.plugins=new Zse,this.options={id:{minify:!1},createGenerateId:rF,Renderer:Py?hoe:null,plugins:[]},this.generateId=rF({minify:!1});for(var r=0;r<eF.length;r++)this.plugins.use(eF[r],{queue:"internal"});this.setup(t)}var e=n.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=kt({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,i){i===void 0&&(i={});var s=i,o=s.index;typeof o!="number"&&(o=Og.index===0?0:Og.index+1);var a=new _6(r,kt({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:o}));return this.plugins.onProcessSheet(a),a},e.removeStyleSheet=function(r){return r.detach(),Og.remove(r),this},e.createRule=function(r,i,s){if(i===void 0&&(i={}),s===void 0&&(s={}),typeof r=="object")return this.createRule(void 0,r,i);var o=kt({},s,{name:r,jss:this,Renderer:this.options.Renderer});o.generateId||(o.generateId=this.generateId),o.classes||(o.classes={}),o.keyframes||(o.keyframes={});var a=lN(r,i,o);return a&&this.plugins.onProcessRule(a),a},e.use=function(){for(var r=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return s.forEach(function(a){r.plugins.use(a)}),this},n}(),w6=function(e){return new poe(e)},uN=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function S6(n){var e=null;for(var t in n){var r=n[t],i=typeof r;if(i==="function")e||(e={}),e[t]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var s=S6(r);s&&(e||(e={}),e[t]=s)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */w6();var E6=Date.now(),jC="fnValues"+E6,$C="fnStyle"+ ++E6,moe=function(){return{onCreateRule:function(t,r,i){if(typeof r!="function")return null;var s=lN(t,{},i);return s[$C]=r,s},onProcessStyle:function(t,r){if(jC in r||$C in r)return t;var i={};for(var s in t){var o=t[s];typeof o=="function"&&(delete t[s],i[s]=o)}return r[jC]=i,t},onUpdate:function(t,r,i,s){var o=r,a=o[$C];a&&(o.style=a(t)||{});var l=o[jC];if(l)for(var c in l)o.prop(c,l[c](t),s)}}};const goe=moe;var Tc="@global",sP="@global ",voe=function(){function n(t,r,i){this.type="global",this.at=Tc,this.isProcessed=!1,this.key=t,this.options=i,this.rules=new $1(kt({},i,{parent:this}));for(var s in r)this.rules.add(s,r[s]);this.rules.process()}var e=n.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,i,s){var o=this.rules.add(r,i,s);return o&&this.options.jss.plugins.onProcessRule(o),o},e.replaceRule=function(r,i,s){var o=this.rules.replace(r,i,s);return o&&this.options.jss.plugins.onProcessRule(o),o},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},n}(),yoe=function(){function n(t,r,i){this.type="global",this.at=Tc,this.isProcessed=!1,this.key=t,this.options=i;var s=t.substr(sP.length);this.rule=i.jss.createRule(s,r,kt({},i,{parent:this}))}var e=n.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},n}(),_oe=/\s*,\s*/g;function C6(n,e){for(var t=n.split(_oe),r="",i=0;i<t.length;i++)r+=e+" "+t[i].trim(),t[i+1]&&(r+=", ");return r}function xoe(n,e){var t=n.options,r=n.style,i=r?r[Tc]:null;if(i){for(var s in i)e.addRule(s,i[s],kt({},t,{selector:C6(s,n.selector)}));delete r[Tc]}}function boe(n,e){var t=n.options,r=n.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,Tc.length)!==Tc)){var s=C6(i.substr(Tc.length),n.selector);e.addRule(s,r[i],kt({},t,{selector:s})),delete r[i]}}function woe(){function n(t,r,i){if(!t)return null;if(t===Tc)return new voe(t,r,i);if(t[0]==="@"&&t.substr(0,sP.length)===sP)return new yoe(t,r,i);var s=i.parent;return s&&(s.type==="global"||s.options.parent&&s.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=t),null}function e(t,r){t.type!=="style"||!r||(xoe(t,r),boe(t,r))}return{onCreateRule:n,onProcessRule:e}}var oF=/\s*,\s*/g,Soe=/&/g,Eoe=/\$([\w-]+)/g;function Coe(){function n(i,s){return function(o,a){var l=i.getRule(a)||s&&s.getRule(a);return l?l.selector:a}}function e(i,s){for(var o=s.split(oF),a=i.split(oF),l="",c=0;c<o.length;c++)for(var u=o[c],d=0;d<a.length;d++){var h=a[d];l&&(l+=", "),l+=h.indexOf("&")!==-1?h.replace(Soe,u):u+" "+h}return l}function t(i,s,o){if(o)return kt({},o,{index:o.index+1});var a=i.options.nestingLevel;a=a===void 0?1:a+1;var l=kt({},i.options,{nestingLevel:a,index:s.indexOf(i)+1});return delete l.name,l}function r(i,s,o){if(s.type!=="style")return i;var a=s,l=a.options.parent,c,u;for(var d in i){var h=d.indexOf("&")!==-1,m=d[0]==="@";if(!(!h&&!m)){if(c=t(a,l,c),h){var g=e(d,a.selector);u||(u=n(l,o)),g=g.replace(Eoe,u);var v=a.key+"-"+d;"replaceRule"in l?l.replaceRule(v,i[d],kt({},c,{selector:g})):l.addRule(v,i[d],kt({},c,{selector:g}))}else m&&l.addRule(d,{},c).addRule(a.key,i[d],{selector:a.selector});delete i[d]}}return i}return{onProcessStyle:r}}var Aoe=/[A-Z]/g,Moe=/^ms-/,KC={};function Toe(n){return"-"+n.toLowerCase()}function A6(n){if(KC.hasOwnProperty(n))return KC[n];var e=n.replace(Aoe,Toe);return KC[n]=Moe.test(e)?"-"+e:e}function $b(n){var e={};for(var t in n){var r=t.indexOf("--")===0?t:A6(t);e[r]=n[t]}return n.fallbacks&&(Array.isArray(n.fallbacks)?e.fallbacks=n.fallbacks.map($b):e.fallbacks=$b(n.fallbacks)),e}function Poe(){function n(t){if(Array.isArray(t)){for(var r=0;r<t.length;r++)t[r]=$b(t[r]);return t}return $b(t)}function e(t,r,i){if(r.indexOf("--")===0)return t;var s=A6(r);return r===s?t:(i.prop(s,t),null)}return{onProcessStyle:n,onChangeValue:e}}var Pe=uN&&CSS?CSS.px:"px",M_=uN&&CSS?CSS.ms:"ms",fh=uN&&CSS?CSS.percent:"%",Roe={"animation-delay":M_,"animation-duration":M_,"background-position":Pe,"background-position-x":Pe,"background-position-y":Pe,"background-size":Pe,border:Pe,"border-bottom":Pe,"border-bottom-left-radius":Pe,"border-bottom-right-radius":Pe,"border-bottom-width":Pe,"border-left":Pe,"border-left-width":Pe,"border-radius":Pe,"border-right":Pe,"border-right-width":Pe,"border-top":Pe,"border-top-left-radius":Pe,"border-top-right-radius":Pe,"border-top-width":Pe,"border-width":Pe,"border-block":Pe,"border-block-end":Pe,"border-block-end-width":Pe,"border-block-start":Pe,"border-block-start-width":Pe,"border-block-width":Pe,"border-inline":Pe,"border-inline-end":Pe,"border-inline-end-width":Pe,"border-inline-start":Pe,"border-inline-start-width":Pe,"border-inline-width":Pe,"border-start-start-radius":Pe,"border-start-end-radius":Pe,"border-end-start-radius":Pe,"border-end-end-radius":Pe,margin:Pe,"margin-bottom":Pe,"margin-left":Pe,"margin-right":Pe,"margin-top":Pe,"margin-block":Pe,"margin-block-end":Pe,"margin-block-start":Pe,"margin-inline":Pe,"margin-inline-end":Pe,"margin-inline-start":Pe,padding:Pe,"padding-bottom":Pe,"padding-left":Pe,"padding-right":Pe,"padding-top":Pe,"padding-block":Pe,"padding-block-end":Pe,"padding-block-start":Pe,"padding-inline":Pe,"padding-inline-end":Pe,"padding-inline-start":Pe,"mask-position-x":Pe,"mask-position-y":Pe,"mask-size":Pe,height:Pe,width:Pe,"min-height":Pe,"max-height":Pe,"min-width":Pe,"max-width":Pe,bottom:Pe,left:Pe,top:Pe,right:Pe,inset:Pe,"inset-block":Pe,"inset-block-end":Pe,"inset-block-start":Pe,"inset-inline":Pe,"inset-inline-end":Pe,"inset-inline-start":Pe,"box-shadow":Pe,"text-shadow":Pe,"column-gap":Pe,"column-rule":Pe,"column-rule-width":Pe,"column-width":Pe,"font-size":Pe,"font-size-delta":Pe,"letter-spacing":Pe,"text-decoration-thickness":Pe,"text-indent":Pe,"text-stroke":Pe,"text-stroke-width":Pe,"word-spacing":Pe,motion:Pe,"motion-offset":Pe,outline:Pe,"outline-offset":Pe,"outline-width":Pe,perspective:Pe,"perspective-origin-x":fh,"perspective-origin-y":fh,"transform-origin":fh,"transform-origin-x":fh,"transform-origin-y":fh,"transform-origin-z":fh,"transition-delay":M_,"transition-duration":M_,"vertical-align":Pe,"flex-basis":Pe,"shape-margin":Pe,size:Pe,gap:Pe,grid:Pe,"grid-gap":Pe,"row-gap":Pe,"grid-row-gap":Pe,"grid-column-gap":Pe,"grid-template-rows":Pe,"grid-template-columns":Pe,"grid-auto-rows":Pe,"grid-auto-columns":Pe,"box-shadow-x":Pe,"box-shadow-y":Pe,"box-shadow-blur":Pe,"box-shadow-spread":Pe,"font-line-height":Pe,"text-shadow-x":Pe,"text-shadow-y":Pe,"text-shadow-blur":Pe};function M6(n){var e=/(-[a-z])/g,t=function(o){return o[1].toUpperCase()},r={};for(var i in n)r[i]=n[i],r[i.replace(e,t)]=n[i];return r}var Ioe=M6(Roe);function Lg(n,e,t){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=Lg(n,e[r],t);else if(typeof e=="object")if(n==="fallbacks")for(var i in e)e[i]=Lg(i,e[i],t);else for(var s in e)e[s]=Lg(n+"-"+s,e[s],t);else if(typeof e=="number"&&isNaN(e)===!1){var o=t[n]||Ioe[n];return o&&!(e===0&&o===Pe)?typeof o=="function"?o(e).toString():""+e+o:e.toString()}return e}function Noe(n){n===void 0&&(n={});var e=M6(n);function t(i,s){if(s.type!=="style")return i;for(var o in i)i[o]=Lg(o,i[o],e);return i}function r(i,s){return Lg(s,i,e)}return{onProcessStyle:t,onChangeValue:r}}var fg="",oP="",T6="",P6="",koe=Py&&"ontouchstart"in document.documentElement;if(Py){var XC={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Ooe=document.createElement("p"),JC=Ooe.style,Loe="Transform";for(var YC in XC)if(YC+Loe in JC){fg=YC,oP=XC[YC];break}fg==="Webkit"&&"msHyphens"in JC&&(fg="ms",oP=XC.ms,P6="edge"),fg==="Webkit"&&"-apple-trailing-word"in JC&&(T6="apple")}var Ct={js:fg,css:oP,vendor:T6,browser:P6,isTouch:koe};function Doe(n){return n[1]==="-"||Ct.js==="ms"?n:"@"+Ct.css+"keyframes"+n.substr(10)}var Boe={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:Ct.js==="ms"?"-webkit-"+e:Ct.css+e}},Foe={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:Ct.js==="Webkit"?Ct.css+"print-"+e:e}},zoe=/[-\s]+(.)?/g;function Uoe(n,e){return e?e.toUpperCase():""}function dN(n){return n.replace(zoe,Uoe)}function Fc(n){return dN("-"+n)}var Hoe={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if(Ct.js==="Webkit"){var r="mask-image";if(dN(r)in t)return e;if(Ct.js+Fc(r)in t)return Ct.css+e}return e}},Goe={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:Ct.vendor==="apple"&&!Ct.isTouch?Ct.css+e:e}},Voe={noPrefill:["transform"],supportedProperty:function(e,t,r){return e!=="transform"?!1:r.transform?e:Ct.css+e}},Woe={noPrefill:["transition"],supportedProperty:function(e,t,r){return e!=="transition"?!1:r.transition?e:Ct.css+e}},joe={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:Ct.js==="Webkit"||Ct.js==="ms"&&Ct.browser!=="edge"?Ct.css+e:e}},$oe={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:Ct.js==="Moz"||Ct.js==="ms"||Ct.vendor==="apple"?Ct.css+e:e}},Koe={supportedProperty:function(e,t){if(!/^break-/.test(e))return!1;if(Ct.js==="Webkit"){var r="WebkitColumn"+Fc(e);return r in t?Ct.css+"column-"+e:!1}if(Ct.js==="Moz"){var i="page"+Fc(e);return i in t?"page-"+e:!1}return!1}},Xoe={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(Ct.js==="Moz")return e;var r=e.replace("-inline","");return Ct.js+Fc(r)in t?Ct.css+r:!1}},Joe={supportedProperty:function(e,t){return dN(e)in t?e:!1}},Yoe={supportedProperty:function(e,t){var r=Fc(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:Ct.js+r in t?Ct.css+e:Ct.js!=="Webkit"&&"Webkit"+r in t?"-webkit-"+e:!1}},qoe={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:Ct.js==="ms"?""+Ct.css+e:e}},Qoe={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:Ct.js==="ms"?Ct.css+"scroll-chaining":e}},Zoe={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},eae={supportedProperty:function(e,t){var r=Zoe[e];return r&&Ct.js+Fc(r)in t?Ct.css+r:!1}},R6={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},tae=Object.keys(R6),nae=function(e){return Ct.css+e},rae={supportedProperty:function(e,t,r){var i=r.multiple;if(tae.indexOf(e)>-1){var s=R6[e];if(!Array.isArray(s))return Ct.js+Fc(s)in t?Ct.css+s:!1;if(!i)return!1;for(var o=0;o<s.length;o++)if(!(Ct.js+Fc(s[0])in t))return!1;return s.map(nae)}return!1}},I6=[Boe,Foe,Hoe,Goe,Voe,Woe,joe,$oe,Koe,Xoe,Joe,Yoe,qoe,Qoe,eae,rae],aF=I6.filter(function(n){return n.supportedProperty}).map(function(n){return n.supportedProperty}),iae=I6.filter(function(n){return n.noPrefill}).reduce(function(n,e){return n.push.apply(n,xse(e.noPrefill)),n},[]),pg,Gu={};if(Py){pg=document.createElement("p");var qC=window.getComputedStyle(document.documentElement,"");for(var QC in qC)isNaN(QC)||(Gu[qC[QC]]=qC[QC]);iae.forEach(function(n){return delete Gu[n]})}function aP(n,e){if(e===void 0&&(e={}),!pg)return n;if(Gu[n]!=null)return Gu[n];(n==="transition"||n==="transform")&&(e[n]=n in pg.style);for(var t=0;t<aF.length&&(Gu[n]=aF[t](n,pg.style,e),!Gu[n]);t++);try{pg.style[n]=""}catch{return!1}return Gu[n]}var ph={},sae={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},oae=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,ql;function aae(n,e,t){if(e==="var")return"var";if(e==="all")return"all";if(t==="all")return", all";var r=e?aP(e):", "+aP(t);return r||e||t}Py&&(ql=document.createElement("p"));function lF(n,e){var t=e;if(!ql||n==="content")return e;if(typeof t!="string"||!isNaN(parseInt(t,10)))return t;var r=n+t;if(ph[r]!=null)return ph[r];try{ql.style[n]=t}catch{return ph[r]=!1,!1}if(sae[n])t=t.replace(oae,aae);else if(ql.style[n]===""&&(t=Ct.css+t,t==="-ms-flex"&&(ql.style[n]="-ms-flexbox"),ql.style[n]=t,ql.style[n]===""))return ph[r]=!1,!1;return ql.style[n]="",ph[r]=t,ph[r]}function lae(){function n(i){if(i.type==="keyframes"){var s=i;s.at=Doe(s.at)}}function e(i){for(var s in i){var o=i[s];if(s==="fallbacks"&&Array.isArray(o)){i[s]=o.map(e);continue}var a=!1,l=aP(s);l&&l!==s&&(a=!0);var c=!1,u=lF(l,sd(o));u&&u!==o&&(c=!0),(a||c)&&(a&&delete i[s],i[l||s]=u||o)}return i}function t(i,s){return s.type!=="style"?i:e(i)}function r(i,s){return lF(s,sd(i))||i}return{onProcessRule:n,onProcessStyle:t,onChangeValue:r}}function cae(){var n=function(t,r){return t.length===r.length?t>r?1:-1:t.length-r.length};return{onProcessStyle:function(t,r){if(r.type!=="style")return t;for(var i={},s=Object.keys(t).sort(n),o=0;o<s.length;o++)i[s[o]]=t[s[o]];return i}}}function uae(){return{plugins:[goe(),woe(),Coe(),Poe(),Noe(),typeof window>"u"?null:lae(),cae()]}}function N6(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.baseClasses,t=n.newClasses;if(n.Component,!t)return e;var r=kt({},e);return Object.keys(t).forEach(function(i){t[i]&&(r[i]="".concat(e[i]," ").concat(t[i]))}),r}var dae={set:function(e,t,r,i){var s=e.get(t);s||(s=new Map,e.set(t,s)),s.set(r,i)},get:function(e,t,r){var i=e.get(t);return i?i.get(r):void 0},delete:function(e,t,r){var i=e.get(t);i.delete(r)}};const Zh=dae;var hae=_e.createContext(null);const fae=hae;function pae(){var n=_e.useContext(fae);return n}var mae=w6(uae()),gae=Rse(),vae=new Map,yae={disableGeneration:!1,generateClassName:gae,jss:mae,sheetsCache:null,sheetsManager:vae,sheetsRegistry:null},_ae=_e.createContext(yae),cF=-1e9;function xae(){return cF+=1,cF}var bae={};const wae=bae;function Sae(n){var e=typeof n=="function";return{create:function(r,i){var s;try{s=e?n(r):n}catch(l){throw l}if(!i||!r.overrides||!r.overrides[i])return s;var o=r.overrides[i],a=kt({},s);return Object.keys(o).forEach(function(l){a[l]=Xf(a[l],o[l])}),a},options:{}}}function Eae(n,e,t){var r=n.state,i=n.stylesOptions;if(i.disableGeneration)return e||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var s=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,s=!0),e!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=e,s=!0),s&&(r.cacheClasses.value=N6({baseClasses:r.cacheClasses.lastJSS,newClasses:e,Component:t})),r.cacheClasses.value}function Cae(n,e){var t=n.state,r=n.theme,i=n.stylesOptions,s=n.stylesCreator,o=n.name;if(!i.disableGeneration){var a=Zh.get(i.sheetsManager,s,r);a||(a={refs:0,staticSheet:null,dynamicStyles:null},Zh.set(i.sheetsManager,s,r,a));var l=kt({},s.options,i,{theme:r,flip:typeof i.flip=="boolean"?i.flip:r.direction==="rtl"});l.generateId=l.serverGenerateClassName||l.generateClassName;var c=i.sheetsRegistry;if(a.refs===0){var u;i.sheetsCache&&(u=Zh.get(i.sheetsCache,s,r));var d=s.create(r,o);u||(u=i.jss.createStyleSheet(d,kt({link:!1},l)),u.attach(),i.sheetsCache&&Zh.set(i.sheetsCache,s,r,u)),c&&c.add(u),a.staticSheet=u,a.dynamicStyles=S6(d)}if(a.dynamicStyles){var h=i.jss.createStyleSheet(a.dynamicStyles,kt({link:!0},l));h.update(e),h.attach(),t.dynamicSheet=h,t.classes=N6({baseClasses:a.staticSheet.classes,newClasses:h.classes}),c&&c.add(h)}else t.classes=a.staticSheet.classes;a.refs+=1}}function Aae(n,e){var t=n.state;t.dynamicSheet&&t.dynamicSheet.update(e)}function Mae(n){var e=n.state,t=n.theme,r=n.stylesOptions,i=n.stylesCreator;if(!r.disableGeneration){var s=Zh.get(r.sheetsManager,i,t);s.refs-=1;var o=r.sheetsRegistry;s.refs===0&&(Zh.delete(r.sheetsManager,i,t),r.jss.removeStyleSheet(s.staticSheet),o&&o.remove(s.staticSheet)),e.dynamicSheet&&(r.jss.removeStyleSheet(e.dynamicSheet),o&&o.remove(e.dynamicSheet))}}function Tae(n,e){var t=_e.useRef([]),r,i=_e.useMemo(function(){return{}},e);t.current!==i&&(t.current=i,r=n()),_e.useEffect(function(){return function(){r&&r()}},[i])}function Pae(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.name,r=e.classNamePrefix,i=e.Component,s=e.defaultTheme,o=s===void 0?wae:s,a=Ap(e,["name","classNamePrefix","Component","defaultTheme"]),l=Sae(n),c=t||r||"makeStyles";l.options={index:xae(),name:t,meta:c,classNamePrefix:c};var u=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=pae()||o,g=kt({},_e.useContext(_ae),a),v=_e.useRef(),_=_e.useRef();Tae(function(){var b={name:t,state:{},stylesCreator:l,stylesOptions:g,theme:m};return Cae(b,h),_.current=!1,v.current=b,function(){Mae(b)}},[m,l]),_e.useEffect(function(){_.current&&Aae(v.current,h),_.current=!0});var x=Eae(v.current,h.classes,i);return x};return u}var Rae=Ase();const Iae=Rae;function Ry(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Pae(n,kt({defaultTheme:Iae},e))}const Nae="/assets/samplefarm-d5a7ef5c.jpeg",kae=Ry({button:{width:"7vh",height:"7vh","&:hover":{backgroundColor:"#FDDE00",boxShadow:"0 0 10px rgba(249, 255, 65, 0.844)"}}}),mh={card:{position:"relative",borderRadius:"3vh",height:"55vh",width:"40vh",boxShadow:"5px 5px 10px rgba(68, 1, 24,0.2)",backgroundImage:"linear-gradient(#ebdbb1, #e8d296)"},overlay:{position:"absolute",bottom:"0",marginLeft:"0",color:"#ffd52f",width:"100%",paddingLeft:"2vh",paddingBottom:"0vh",borderRadius:"0 0 8px 8px"},overlayp:{color:"rgba(255, 255, 255, 0.5)",paddingLeft:"0.rem",fontSize:"2.5vh",position:"relative"},overlayh1:{fontSize:"4vh",paddingTop:"3vh",marginBottom:"0vh",position:"relative"},media:{height:"55vh",width:"40vh"},flip:{position:"relative",width:""}};function Oae(){const n=kae(),[e,t]=N.useState(!1),r=()=>t(!0);return y(Cy,{style:mh.card,className:"ch-card",children:F("div",{className:"pokpok-container",children:[y(Ay,{component:"img",alt:"chapter something",height:"411",image:Nae,style:mh.media,className:"pokpok"}),F("div",{style:mh.overlay,className:"pokpok-overlay",children:[y("h1",{style:mh.overlayh1,children:"Chapter 1"}),F("p",{style:mh.overlayp,children:["The Peasantry",y(Hi,{className:"ch-link ch-active",to:"/chapters-directory/chapter-1",children:y("div",{className:"flip-container",style:mh.flipp,children:y(Ty,{"aria-label":"flip",onClick:r,children:y(My,{sx:{bgcolor:pa[700]},className:n.button,children:y(Rl,{className:"flip-icon",sx:{width:"5vh",height:"5vh"}})})})})})]})]})]})})}const Lae="/assets/chii-sample1-d07f9907.jpeg",Dae=Ry({button:{width:"7vh",height:"7vh","&:hover":{backgroundColor:"#FDDE00",boxShadow:"0 0 10px rgba(249, 255, 65, 0.844)"}}}),Mm={card:{position:"relative",borderRadius:"3vh",height:"55vh",width:"40vh",boxShadow:"5px 5px 10px rgba(68, 1, 24,0.2)",backgroundImage:"linear-gradient(#ebdbb1, #e8d296)"},overlay:{position:"absolute",bottom:"0",marginLeft:"0",color:"#ffd52f",width:"100%",paddingLeft:"2vh",paddingBottom:"0vh",borderRadius:"0 0 8px 8px"},overlayp:{color:"rgba(255, 255, 255, 0.5)",paddingLeft:"0.rem",fontSize:"2.5vh",position:"relative"},overlayh1:{fontSize:"4vh",paddingTop:"3vh",marginBottom:"0vh",position:"relative"},media:{height:"55vh",width:"40vh"},flip:{position:"relative",width:""}};function Bae(){const n=Dae(),[e,t]=N.useState(!1),r=()=>t(!0);return y(Cy,{style:Mm.card,className:"ch-card",children:F("div",{className:"pokpok-container",children:[y(Ay,{component:"img",alt:"chapter something",height:"411",image:Lae,style:Mm.media,className:"pokpok"}),F("div",{style:Mm.overlay,className:"pokpok-overlay",children:[y("h1",{style:Mm.overlayh1,children:"Chapter 2"}),F("p",{style:Mm.overlayp,children:["History of Struggle",y(Hi,{className:"ch-link ch-active",to:"/chapters-directory/chapter-2",children:y("div",{className:"flip-container",children:y(Ty,{"aria-label":"flip",onClick:r,children:y(My,{sx:{bgcolor:pa[700]},className:n.button,children:y(Rl,{className:"flip-icon",sx:{width:"5vh",height:"5vh"}})})})})})]})]})]})})}const Fae="/assets/chiii-sample1-f23f51ac.jpeg",zae=Ry({button:{width:"7vh",height:"7vh","&:hover":{backgroundColor:"#FDDE00",boxShadow:"0 0 10px rgba(249, 255, 65, 0.844)"}}}),Tm={card:{position:"relative",borderRadius:"3vh",height:"55vh",width:"40vh",boxShadow:"5px 5px 10px rgba(68, 1, 24,0.2)",backgroundImage:"linear-gradient(#ebdbb1, #e8d296)"},overlay:{position:"absolute",bottom:"0",marginLeft:"0",color:"#ffd52f",width:"100%",paddingLeft:"2vh",paddingBottom:"0vh",borderRadius:"0 0 8px 8px"},overlayp:{color:"rgba(255, 255, 255, 0.5)",paddingLeft:"0.rem",fontSize:"2.5vh",position:"relative"},overlayh1:{fontSize:"4vh",paddingTop:"3vh",marginBottom:"0vh",position:"relative"},media:{height:"55vh",width:"40vh"},flip:{position:"relative",width:""}};function Uae(){const n=zae(),[e,t]=N.useState(!1),r=()=>t(!0);return y(Cy,{style:Tm.card,className:"ch-card",children:F("div",{className:"pokpok-container",children:[y(Ay,{component:"img",alt:"chapter something",height:"411",image:Fae,style:Tm.media,className:"pokpok"}),F("div",{style:Tm.overlay,className:"pokpok-overlay",children:[y("h1",{style:Tm.overlayh1,children:"Chapter 3"}),F("p",{style:Tm.overlayp,children:["Peasantry's Plight",y(Hi,{className:"ch-link ch-active",to:"/chapters-directory/chapter-3",children:y("div",{className:"flip-container",children:y(Ty,{"aria-label":"flip",onClick:r,children:y(My,{sx:{bgcolor:pa[700]},className:n.button,children:y(Rl,{className:"flip-icon",sx:{width:"5vh",height:"5vh"}})})})})})]})]})]})})}const Hae="/assets/chiv-sample1-adb25542.jpeg",Gae=Ry({button:{width:"7vh",height:"7vh","&:hover":{backgroundColor:"#FDDE00",boxShadow:"0 0 10px rgba(249, 255, 65, 0.844)"}}}),Pm={card:{position:"relative",borderRadius:"3vh",height:"55vh",width:"40vh",boxShadow:"5px 5px 10px rgba(68, 1, 24,0.2)",backgroundImage:"linear-gradient(#ebdbb1, #e8d296)"},overlay:{position:"absolute",bottom:"0",marginLeft:"0",color:"#ffd52f",width:"100%",paddingLeft:"2vh",paddingBottom:"0vh",borderRadius:"0 0 8px 8px"},overlayp:{color:"rgba(255, 255, 255, 0.5)",paddingLeft:"0.rem",fontSize:"2.5vh",position:"relative"},overlayh1:{fontSize:"4vh",paddingTop:"3vh",marginBottom:"0vh",position:"relative"},media:{height:"55vh",width:"40vh"},flip:{position:"relative",width:""}};function Vae(){const n=Gae(),[e,t]=N.useState(!1),r=()=>t(!0);return y(Cy,{style:Pm.card,className:"ch-card",children:F("div",{className:"pokpok-container",children:[y(Ay,{component:"img",alt:"chapter something",height:"411",image:Hae,style:Pm.media,className:"pokpok"}),F("div",{style:Pm.overlay,className:"pokpok-overlay",children:[y("h1",{style:Pm.overlayh1,children:"Chapter 4"}),F("p",{style:Pm.overlayp,children:["Roots of the Problem",y(Hi,{className:"ch-link ch-active",to:"/chapters-directory/chapter-4",children:y("div",{className:"flip-container",children:y(Ty,{"aria-label":"flip",onClick:r,children:y(My,{sx:{bgcolor:pa[700]},className:n.button,children:y(Rl,{className:"flip-icon",sx:{width:"5vh",height:"5vh"}})})})})})]})]})]})})}const Wae="/assets/chv-sample1-07da07b9.jpeg",jae=Ry({button:{width:"7vh",height:"7vh","&:hover":{backgroundColor:"#FDDE00",boxShadow:"0 0 10px rgba(249, 255, 65, 0.844)"}}}),Rm={card:{position:"relative",borderRadius:"3vh",height:"55vh",width:"40vh",boxShadow:"5px 5px 10px rgba(68, 1, 24,0.2)",backgroundImage:"linear-gradient(#ebdbb1, #e8d296)"},overlay:{position:"absolute",bottom:"0",marginLeft:"0",color:"#ffd52f",width:"100%",paddingLeft:"2vh",paddingBottom:"0vh",borderRadius:"0 0 8px 8px"},overlayp:{color:"rgba(255, 255, 255, 0.5)",paddingLeft:"0.rem",fontSize:"2.5vh",position:"relative"},overlayh1:{fontSize:"4vh",paddingTop:"3vh",marginBottom:"0vh",position:"relative"},media:{height:"55vh",width:"40vh"},flip:{position:"relative",width:""}};function $ae(){const n=jae(),[e,t]=N.useState(!1),r=()=>t(!0);return y(Cy,{style:Rm.card,className:"ch-card",children:F("div",{className:"pokpok-container",children:[y(Ay,{component:"img",alt:"chapter something",height:"411",image:Wae,style:Rm.media,className:"pokpok"}),F("div",{style:Rm.overlay,className:"pokpok-overlay",children:[y("h1",{style:Rm.overlayh1,children:"Chapter 5"}),F("p",{style:Rm.overlayp,children:["Solutions",y(Hi,{className:"ch-link ch-active",to:"/chapters-directory/chapter-5",children:y("div",{className:"flip-container",children:y(Ty,{"aria-label":"flip",onClick:r,children:y(My,{sx:{bgcolor:pa[700]},className:n.button,children:y(Rl,{className:"flip-icon",sx:{width:"5vh",height:"5vh"}})})})})})]})]})]})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function k6(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kae(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function ZC(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Kae(arguments[e]));return n}var Im=function(n){return typeof n>"u"},lP=function(){function n(t,r){var i,s;if(this._canceled=!1,r)try{for(var o=k6(Object.keys(r)),a=o.next();!a.done;a=o.next()){var l=a.value;this[l]=r[l]}}catch(c){i={error:c}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}this.eventType=t}var e=n.prototype;return e.stop=function(){this._canceled=!0},e.isCanceled=function(){return this._canceled},n}(),Dd=function(){function n(){this._eventHandler={}}var e=n.prototype;return e.trigger=function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=t instanceof lP?t.eventType:t,o=ZC(this._eventHandler[s]||[]);return o.length<=0?this:(t instanceof lP?(t.currentTarget=this,o.forEach(function(a){a(t)})):o.forEach(function(a){a.apply(void 0,ZC(r))}),this)},e.once=function(t,r){var i=this;if(typeof t=="object"&&Im(r)){var s=t;for(var o in s)this.once(o,s[o]);return this}else if(typeof t=="string"&&typeof r=="function"){var a=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];r.apply(void 0,ZC(l)),i.off(t,a)};this.on(t,a)}return this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,r){if(typeof t=="object"&&Im(r)){var i=t;for(var s in i)this.on(s,i[s]);return this}else if(typeof t=="string"&&typeof r=="function"){var o=this._eventHandler[t];Im(o)&&(this._eventHandler[t]=[],o=this._eventHandler[t]),o.push(r)}return this},e.off=function(t,r){var i,s;if(Im(t))return this._eventHandler={},this;if(Im(r)){if(typeof t=="string")return delete this._eventHandler[t],this;var o=t;for(var a in o)this.off(a,o[a]);return this}var l=this._eventHandler[t];if(l){var c=0;try{for(var u=k6(l),d=u.next();!d.done;d=u.next()){var h=d.value;if(h===r){l.splice(c,1),l.length<=0&&delete this._eventHandler[t];break}c++}}catch(m){i={error:m}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}}return this},n.VERSION="3.0.2",n}(),Wt=lP,Xae=function(){function n(){this.keys=[],this.values=[]}var e=n.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,r){var i=this.keys,s=this.values,o=i.indexOf(t),a=o===-1?i.length:o;i[a]=t,s[a]=r},n}(),Jae=function(){function n(){this.object={}}var e=n.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,r){this.object[t]=r},n}(),Yae=typeof Map=="function",qae=function(){function n(){}var e=n.prototype;return e.connect=function(t,r){this.prev=t,this.next=r,t&&(t.next=this),r&&(r.prev=this)},e.disconnect=function(){var t=this.prev,r=this.next;t&&(t.next=r),r&&(r.prev=t)},e.getIndex=function(){for(var t=this,r=-1;t;)t=t.prev,++r;return r},n}();function Qae(n,e){var t=[],r=[];return n.forEach(function(i){var s=i[0],o=i[1],a=new qae;t[s]=a,r[o]=a}),t.forEach(function(i,s){i.connect(t[s-1])}),n.filter(function(i,s){return!e[s]}).map(function(i,s){var o=i[0],a=i[1];if(o===a)return[0,0];var l=t[o],c=r[a-1],u=l.getIndex();l.disconnect(),c?l.connect(c,c.next):l.connect(void 0,t[0]);var d=l.getIndex();return[u,d]})}var Zae=function(){function n(t,r,i,s,o,a,l,c){this.prevList=t,this.list=r,this.added=i,this.removed=s,this.changed=o,this.maintained=a,this.changedBeforeAdded=l,this.fixed=c}var e=n.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t=Qae(this.changedBeforeAdded,this.fixed),r=this.changed,i=[];this.cacheOrdered=t.filter(function(s,o){var a=s[0],l=s[1],c=r[o],u=c[0],d=c[1];if(a!==l)return i.push([u,d]),!0}),this.cachePureChanged=i},n}();function O6(n,e,t){var r=Yae?Map:t?Jae:Xae,i=t||function(b){return b},s=[],o=[],a=[],l=n.map(i),c=e.map(i),u=new r,d=new r,h=[],m=[],g={},v=[],_=0,x=0;return l.forEach(function(b,w){u.set(b,w)}),c.forEach(function(b,w){d.set(b,w)}),l.forEach(function(b,w){var E=d.get(b);typeof E>"u"?(++x,o.push(w)):g[E]=x}),c.forEach(function(b,w){var E=u.get(b);typeof E>"u"?(s.push(w),++_):(a.push([E,w]),x=g[w]||0,h.push([E-x,w-_]),m.push(w===E),E!==w&&v.push([E,w]))}),o.reverse(),new Zae(n,e,s,o,v,a,h,m)}var ele=function(){function n(t,r){t===void 0&&(t=[]),this.findKeyCallback=r,this.list=[].slice.call(t)}var e=n.prototype;return e.update=function(t){var r=[].slice.call(t),i=O6(this.list,r,this.findKeyCallback);return this.list=r,i},n}();const uF=ele;function hN(n,e){for(var t=n.length,r=0;r<t;++r)if(e(n[r],r))return!0;return!1}function L6(n,e){for(var t=n.length,r=0;r<t;++r)if(e(n[r],r))return n[r];return null}function D6(n){var e=n;if(typeof e>"u"){if(typeof navigator>"u"||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function fN(n,e){try{return new RegExp(n,"g").exec(e)}catch{return null}}function tle(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var n=navigator.userAgentData,e=n.brands||n.uaList;return!!(e&&e.length)}function nle(n,e){var t=fN("("+n+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return t?t[3]:""}function cP(n){return n.replace(/_/g,".")}function mg(n,e){var t=null,r="-1";return hN(n,function(i){var s=fN("("+i.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!s||i.brand?!1:(t=i,r=s[3]||"-1",i.versionAlias?r=i.versionAlias:i.versionTest&&(r=nle(i.versionTest.toLowerCase(),e)||r),r=cP(r),!0)}),{preset:t,version:r}}function Nm(n,e){var t={brand:"",version:"-1"};return hN(n,function(r){var i=B6(e,r);return i?(t.brand=r.id,t.version=r.versionAlias||i.version,t.version!=="-1"):!1}),t}function B6(n,e){return L6(n,function(t){var r=t.brand;return fN(""+e.test,r.toLowerCase())})}var uP=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],F6=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],dP=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],z6=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],U6=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function H6(n){return!!mg(z6,n).preset}function rle(n){var e=D6(n),t=!!/mobi/g.exec(e),r={name:"unknown",version:"-1",majorVersion:-1,webview:H6(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},s=mg(uP,e),o=s.preset,a=s.version,l=mg(U6,e),c=l.preset,u=l.version,d=mg(F6,e);if(r.chromium=!!d.preset,r.chromiumVersion=d.version,!r.chromium){var h=mg(dP,e);r.webkit=!!h.preset,r.webkitVersion=h.version}return c&&(i.name=c.id,i.version=u,i.majorVersion=parseInt(u,10)),o&&(r.name=o.id,r.version=a,r.webview&&i.name==="ios"&&r.name!=="safari"&&(r.webview=!1)),r.majorVersion=parseInt(r.version,10),{browser:r,os:i,isMobile:t,isHints:!1}}function ile(n){var e=navigator.userAgentData,t=(e.uaList||e.brands).slice(),r=n&&n.fullVersionList,i=e.mobile||!1,s=t[0],o=(n&&n.platform||e.platform||navigator.platform).toLowerCase(),a={name:s.brand,version:s.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!Nm(z6,t).brand||H6(D6())},l={name:"unknown",version:"-1",majorVersion:-1};a.webkit=!a.chromium&&hN(dP,function(g){return B6(t,g)});var c=Nm(F6,t);if(a.chromium=!!c.brand,a.chromiumVersion=c.version,!a.chromium){var u=Nm(dP,t);a.webkit=!!u.brand,a.webkitVersion=u.version}var d=L6(U6,function(g){return new RegExp(""+g.test,"g").exec(o)});if(l.name=d?d.id:"",n&&(l.version=n.platformVersion),r&&r.length){var h=Nm(uP,r);a.name=h.brand||a.name,a.version=h.version||a.version}else{var m=Nm(uP,t);a.name=m.brand||a.name,a.version=m.brand&&n?n.uaFullVersion:m.version}return a.webkit&&(l.name=i?"ios":"mac"),l.name==="ios"&&a.webview&&(a.version="-1"),l.version=cP(l.version),a.version=cP(a.version),l.majorVersion=parseInt(l.version,10),a.majorVersion=parseInt(a.version,10),{browser:a,os:l,isMobile:i,isHints:!0}}function sle(n){return typeof n>"u"&&tle()?ile():rle(n)}function ole(n){return Object.keys(n)}var eA="__observers__",ale=function(){function n(t){this._emitter=new Dd,this._current=t}var e=n.prototype;return Object.defineProperty(e,"current",{get:function(){return this._current},set:function(t){var r=t!==this._current;this._current=t,r&&this._emitter.trigger("update",t)},enumerable:!1,configurable:!0}),e.subscribe=function(t){this._emitter.on("update",t)},e.unsubscribe=function(t){this._emitter.off("update",t)},n}();function lle(n){return new ale(n)}function G6(n){return n[eA]||(n[eA]={}),n[eA]}function hP(n,e,t){var r=G6(n);return r[e]||(r[e]=lle(t)),r[e]}function cle(n){n.subscribe=function(e,t){hP(this,e).subscribe(t)},n.unsubscribe=function(e,t){var r=this;if(!e){ole(G6(this)).forEach(function(i){r.unsubscribe(i)});return}e in this&&hP(this,e).unsubscribe(t)}}function ule(n){var e=n.prototype;cle(e)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var fP=function(n,e){return fP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},fP(n,e)};function Tp(n,e){fP(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var hr=function(){return hr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},hr.apply(this,arguments)};function dle(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}var Ir;typeof window>"u"?Ir={navigator:{userAgent:""}}:Ir=window;var Iy=1,hle=2,fle=4,Yf=6,ple=8,mle=16,qf=24,K1=30,Kb="left",pP="right",mP="middle",V6="any",gle="none",vle="shift",yle="ctrl",_le="alt",xle="meta",ble=16,wle=30,dF="ontouchstart"in Ir&&sle().browser.name==="safari",Sle=function(){if(typeof document>"u")return"";for(var n=(document.head||document.getElementsByTagName("head")[0]).style,e=["transform","webkitTransform","msTransform","mozTransform"],t=0,r=e.length;t<r;t++)if(e[t]in n)return e[t];return""}(),gP={"-webkit-user-select":"none","-ms-user-select":"none","-moz-user-select":"none","user-select":"none","-webkit-user-drag":"none"},hF=function(n){for(var e=[],t=0,r=n.length;t<r;t++)e.push(n[t]);return e},W6=function(n,e){e===void 0&&(e=!1);var t;if(typeof n=="string"){var r=n.match(/^<([a-z]+)\s*([^>]*)>/);if(r){var i=document.createElement("div");i.innerHTML=n,t=hF(i.childNodes)}else t=hF(document.querySelectorAll(n));e||(t=t.length>=1?t[0]:void 0)}else n===Ir?t=n:"value"in n||"current"in n?t=n.value||n.current:n.nodeName&&(n.nodeType===1||n.nodeType===9)?t=n:"jQuery"in Ir&&n instanceof jQuery||n.constructor.prototype.jquery?t=e?n.toArray():n.get(0):Array.isArray(n)&&(t=n.map(function(s){return W6(s)}),e||(t=t.length>=1?t[0]:void 0));return t},Bh=Ir.requestAnimationFrame||Ir.webkitRequestAnimationFrame,gg=Ir.cancelAnimationFrame||Ir.webkitCancelAnimationFrame;if(Bh&&!gg){var tA={},Ele=Bh;Bh=function(n){var e=function(r){tA[t]&&n(r)},t=Ele(e);return tA[t]=!0,t},gg=function(n){delete tA[n]}}else Bh&&gg||(Bh=function(n){return Ir.setTimeout(function(){n(Ir.performance&&Ir.performance.now&&Ir.performance.now()||new Date().getTime())},16)},gg=Ir.clearTimeout);var Cle=function(n){return Bh(n)},Ale=function(n){gg(n)},ma=function(n,e){var t={};for(var r in n)r&&(t[r]=e(n[r],r));return t},j6=function(n,e){var t={};for(var r in n)r&&e(n[r],r)&&(t[r]=n[r]);return t},pN=function(n,e){for(var t in n)if(t&&!e(n[t],t))return!1;return!0},vg=function(n,e){return pN(n,function(t,r){return t===e[r]})},nA={},$6=function(n,e){return nA[e]||(nA[e]=Tle(e)),nA[e](n)},fF=function(n,e){return!n||!e?n:ma(n,function(t,r){return $6(t,typeof e=="number"?e:e[r])})},Yx=function(n){if(!isFinite(n))return 0;var e="".concat(n);if(e.indexOf("e")>=0){for(var t=0,r=1;Math.round(n*r)/r!==n;)r*=10,t++;return t}return e.indexOf(".")>=0?e.length-e.indexOf(".")-1:0},Mle=function(n){return 1/Math.pow(10,n)},Tle=function(n){var e=n<1?Math.pow(10,Yx(n)):1;return function(t){return n===0?0:Math.round(Math.round(t/n)*n*e)/e}},Ple=function(n,e){return Math.atan2(e,n)*180/Math.PI},Rle=function(n){var e=!0;return Object.keys(gP).forEach(function(t){(!n||n[t]!==gP[t])&&(e=!1)}),e},Ile=function(n,e){return n&&e?K1:n?Yf:e?qf:Iy},T_=function(n,e,t){return t?!!(e===K1||e&n&&t&n):!!(e&n)},Nle=function(n,e,t){var r,i=(r={},r[Iy]="auto",r[K1]="none",r[qf]="pan-x",r[Yf]="pan-y",r),s={};if(n&&n.style){var o=e.touchAction?e.touchAction:i[t],a=hr(hr({},gP),{"touch-action":n.style["touch-action"]==="none"?"none":o});Object.keys(a).forEach(function(l){s[l]=n.style[l],n.style[l]=a[l]})}return s},kle=function(n,e){n&&n.style&&e&&Object.keys(e).forEach(function(t){n.style[t]=e[t]})},Ole=function(){function n(t){this._axes=t}var e=n.prototype;return e.hold=function(t,r){var i=this._getRoundPos(t).roundPos;this._axes.trigger(new Wt("hold",{pos:i,input:r.input||null,inputEvent:r.event||null,isTrusted:!0}))},e.triggerRelease=function(t){var r=this._getRoundPos(t.destPos,t.depaPos),i=r.roundPos,s=r.roundDepa;t.destPos=i,t.depaPos=s,t.setTo=this._createUserControll(t.destPos,t.duration),this._axes.trigger(new Wt("release",hr(hr({},t),{bounceRatio:this._getBounceRatio(i)})))},e.triggerChange=function(t,r,i,s){var o=this;s===void 0&&(s=!1);var a=this.animationManager,l=a.axisManager,c=a.getEventInfo(),u=this._getRoundPos(t,r),d=u.roundPos,h=u.roundDepa,m=l.moveTo(d,h),g=(i==null?void 0:i.event)||(c==null?void 0:c.event)||null,v={pos:m.pos,delta:m.delta,bounceRatio:this._getBounceRatio(m.pos),holding:s,inputEvent:g,isTrusted:!!g,input:(i==null?void 0:i.input)||(c==null?void 0:c.input)||null,set:g?this._createUserControll(m.pos):function(){}},_=new Wt("change",v);return this._axes.trigger(_),Object.keys(m.pos).forEach(function(x){var b=m.pos[x];hP(o._axes,x,b).current=b}),g&&l.set(v.set().destPos),!_.isCanceled()},e.triggerAnimationStart=function(t){var r=this._getRoundPos(t.destPos,t.depaPos),i=r.roundPos,s=r.roundDepa;t.destPos=i,t.depaPos=s,t.setTo=this._createUserControll(t.destPos,t.duration);var o=new Wt("animationStart",t);return this._axes.trigger(o),!o.isCanceled()},e.triggerAnimationEnd=function(t){t===void 0&&(t=!1),this._axes.trigger(new Wt("animationEnd",{isTrusted:t}))},e.triggerFinish=function(t){t===void 0&&(t=!1),this._axes.trigger(new Wt("finish",{isTrusted:t}))},e.setAnimationManager=function(t){this.animationManager=t},e.destroy=function(){this._axes.off()},e._createUserControll=function(t,r){r===void 0&&(r=0);var i={destPos:hr({},t),duration:r};return function(s,o){return s&&(i.destPos=hr({},s)),o!==void 0&&(i.duration=o),i}},e._getRoundPos=function(t,r){var i=this._axes.options.round;return{roundPos:fF(t,i),roundDepa:fF(r,i)}},e._getBounceRatio=function(t){return this._axes.axisManager.map(t,function(r,i){return r<i.range[0]&&i.bounce[0]!==0?(i.range[0]-r)/i.bounce[0]:r>i.range[1]&&i.bounce[1]!==0?(r-i.range[1])/i.bounce[1]:0})},n}(),Lle=function(){function n(t){this._options=t,this._prevented=!1}var e=n.prototype;return e.isInterrupting=function(){return this._options.interruptable||this._prevented},e.isInterrupted=function(){return!this._options.interruptable&&this._prevented},e.setInterrupt=function(t){this._options.interruptable||(this._prevented=t)},n}(),K6=function(n,e,t,r){var i=n,s=[t[0]?e[0]:r?e[0]-r[0]:e[0],t[1]?e[1]:r?e[1]+r[1]:e[1]];return i=Math.max(s[0],i),i=Math.min(s[1],i),i},X6=function(n,e){return n<e[0]||n>e[1]},Dle=function(n,e,t,r){return!r[0]&&n===e[0]-t[0]||!r[1]&&n===e[1]+t[1]},Ble=function(n,e){var t=Math.sqrt(n/e*2);return t<100?0:t},pF=function(n,e,t){return t[1]&&n>e[1]||t[0]&&n<e[0]},Av=function(n,e,t){var r=n,i=e[0],s=e[1],o=s-i;return t[1]&&n>s&&(r=(r-s)%o+i),t[0]&&n<i&&(r=(r-i)%o+s),r},Fle=function(){function n(t){var r=this;this._axis=t,this._complementOptions(),this._pos=Object.keys(this._axis).reduce(function(i,s){return i[s]=r._axis[s].startPos,i},{})}var e=n.prototype;return e.getDelta=function(t,r){var i=this.get(t);return ma(this.get(r),function(s,o){return s-i[o]})},e.get=function(t){var r=this;return t&&Array.isArray(t)?t.reduce(function(i,s){return s&&s in r._pos&&(i[s]=r._pos[s]),i},{}):hr(hr({},this._pos),t||{})},e.moveTo=function(t,r){r===void 0&&(r=this._pos);var i=ma(this._pos,function(s,o){return o in t&&o in r?t[o]-r[o]:0});return this.set(this.map(t,function(s,o){return o?Av(s,o.range,o.circular):0})),{pos:hr({},this._pos),delta:i}},e.set=function(t){for(var r in t)r&&r in this._pos&&(this._pos[r]=t[r])},e.every=function(t,r){var i=this._axis;return pN(t,function(s,o){return r(s,i[o],o)})},e.filter=function(t,r){var i=this._axis;return j6(t,function(s,o){return r(s,i[o],o)})},e.map=function(t,r){var i=this._axis;return ma(t,function(s,o){return r(s,i[o],o)})},e.isOutside=function(t){return!this.every(t?this.get(t):this._pos,function(r,i){return!X6(r,i.range)})},e.getAxisOptions=function(t){return this._axis[t]},e.setAxis=function(t){var r=this;Object.keys(t).forEach(function(i){if(!r._axis[i])throw new Error("Axis ".concat(i," does not exist in Axes instance"));r._axis[i]=hr(hr({},r._axis[i]),t[i])}),this._complementOptions()},e._complementOptions=function(){var t=this;Object.keys(this._axis).forEach(function(r){t._axis[r]=hr({range:[0,100],startPos:t._axis[r].range[0],bounce:[0,0],circular:[!1,!1]},t._axis[r]),["bounce","circular"].forEach(function(i){var s=t._axis,o=s[r][i];/string|number|boolean/.test(typeof o)&&(s[r][i]=[o,o])})})},n}(),zle="ontouchstart"in Ir,qx="PointerEvent"in Ir,Ule="MSPointerEvent"in Ir,Hle=qx||Ule,Gle=function(n,e){return!!(!e||e.indexOf(V6)>-1||e.indexOf(gle)>-1&&!n.shiftKey&&!n.ctrlKey&&!n.altKey&&!n.metaKey||e.indexOf(vle)>-1&&n.shiftKey||e.indexOf(yle)>-1&&n.ctrlKey||e.indexOf(_le)>-1&&n.altKey||e.indexOf(xle)>-1&&n.metaKey)},X1=function(){function n(){var t=this;this._stopContextMenu=function(r){r.preventDefault(),Ir.removeEventListener("contextmenu",t._stopContextMenu)}}var e=n.prototype;return e.extendEvent=function(t){var r,i=this.prevEvent,s=this._getCenter(t),o=i?this._getMovement(t):{x:0,y:0},a=i?this._getScale(t):1,l=i?Ple(s.x-i.center.x,s.y-i.center.y):0,c=i?i.deltaX+o.x:o.x,u=i?i.deltaY+o.y:o.y,d=o.x,h=o.y,m=this._latestInterval,g=Date.now(),v=m?g-m.timestamp:0,_=i?i.velocityX:0,x=i?i.velocityY:0;return(!m||v>=ble)&&(m&&(r=[(c-m.deltaX)/v,(u-m.deltaY)/v],_=r[0],x=r[1]),this._latestInterval={timestamp:g,deltaX:c,deltaY:u}),{srcEvent:t,scale:a,angle:l,center:s,deltaX:c,deltaY:u,offsetX:d,offsetY:h,velocityX:_,velocityY:x,preventSystemEvent:!0}},e._getDistance=function(t,r){var i=r.clientX-t.clientX,s=r.clientY-t.clientY;return Math.sqrt(i*i+s*s)},e._getButton=function(t){var r={1:Kb,2:pP,4:mP},i=this._isTouchEvent(t)?Kb:r[t.buttons];return i||null},e._isTouchEvent=function(t){return t.type&&t.type.indexOf("touch")>-1},e._isValidButton=function(t,r){return r.indexOf(t)>-1},e._isValidEvent=function(t,r,i){return(!r||Gle(t,r))&&(!i||this._isValidButton(this._getButton(t),i))},e._preventMouseButton=function(t,r){r===pP?Ir.addEventListener("contextmenu",this._stopContextMenu):r===mP&&t.preventDefault()},n}(),Vle=function(n){Tp(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.start=["mousedown"],r.move=["mousemove"],r.end=["mouseup"],r}var t=e.prototype;return t.onEventStart=function(r,i,s){var o=this._getButton(r);return this._isValidEvent(r,i,s)?(this._preventMouseButton(r,o),this.extendEvent(r)):null},t.onEventMove=function(r,i,s){return this._isValidEvent(r,i,s)?this.extendEvent(r):null},t.onEventEnd=function(){},t.onRelease=function(){this.prevEvent=null},t.getTouches=function(r,i){if(i){var s={1:Kb,2:mP,3:pP};return this._isValidButton(s[r.which],i)&&this.end.indexOf(r.type)===-1?1:0}return 0},t._getScale=function(){return 1},t._getCenter=function(r){return{x:r.clientX,y:r.clientY}},t._getMovement=function(r){var i=this.prevEvent.srcEvent;return{x:r.clientX-i.clientX,y:r.clientY-i.clientY}},e}(X1),Wle=function(n){Tp(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.start=["touchstart"],r.move=["touchmove"],r.end=["touchend","touchcancel"],r}var t=e.prototype;return t.onEventStart=function(r,i){return this._baseTouches=r.touches,this._isValidEvent(r,i)?this.extendEvent(r):null},t.onEventMove=function(r,i){return this._isValidEvent(r,i)?this.extendEvent(r):null},t.onEventEnd=function(r){this._baseTouches=r.touches},t.onRelease=function(){this.prevEvent=null,this._baseTouches=null},t.getTouches=function(r){return r.touches.length},t._getScale=function(r){return r.touches.length!==2||this._baseTouches.length<2?null:this._getDistance(r.touches[0],r.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1])},t._getCenter=function(r){return{x:r.touches[0].clientX,y:r.touches[0].clientY}},t._getMovement=function(r){var i=this.prevEvent.srcEvent;return r.touches[0].identifier!==i.touches[0].identifier?{x:0,y:0}:{x:r.touches[0].clientX-i.touches[0].clientX,y:r.touches[0].clientY-i.touches[0].clientY}},e}(X1),jle=function(n){Tp(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.start=qx?["pointerdown"]:["MSPointerDown"],r.move=qx?["pointermove"]:["MSPointerMove"],r.end=qx?["pointerup","pointercancel"]:["MSPointerUp","MSPointerCancel"],r._firstInputs=[],r._recentInputs=[],r}var t=e.prototype;return t.onEventStart=function(r,i,s){var o=this._getButton(r);return this._isValidEvent(r,i,s)?(this._preventMouseButton(r,o),this._updatePointerEvent(r),this.extendEvent(r)):null},t.onEventMove=function(r,i,s){return this._isValidEvent(r,i,s)?(this._updatePointerEvent(r),this.extendEvent(r)):null},t.onEventEnd=function(r){this._removePointerEvent(r)},t.onRelease=function(){this.prevEvent=null,this._firstInputs=[],this._recentInputs=[]},t.getTouches=function(){return this._recentInputs.length},t._getScale=function(){return this._recentInputs.length!==2?null:this._getDistance(this._recentInputs[0],this._recentInputs[1])/this._getDistance(this._firstInputs[0],this._firstInputs[1])},t._getCenter=function(r){return{x:r.clientX,y:r.clientY}},t._getMovement=function(r){var i=this.prevEvent.srcEvent;return r.pointerId!==i.pointerId?{x:0,y:0}:{x:r.clientX-i.clientX,y:r.clientY-i.clientY}},t._updatePointerEvent=function(r){var i=this,s=!1;this._recentInputs.forEach(function(o,a){o.pointerId===r.pointerId&&(s=!0,i._recentInputs[a]=r)}),s||(this._firstInputs.push(r),this._recentInputs.push(r))},t._removePointerEvent=function(r){this._firstInputs=this._firstInputs.filter(function(i){return i.pointerId!==r.pointerId}),this._recentInputs=this._recentInputs.filter(function(i){return i.pointerId!==r.pointerId})},e}(X1),$le=function(n){Tp(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.start=["mousedown","touchstart"],r.move=["mousemove","touchmove"],r.end=["mouseup","touchend","touchcancel"],r}var t=e.prototype;return t.onEventStart=function(r,i,s){var o=this._getButton(r);return this._isTouchEvent(r)&&(this._baseTouches=r.touches),this._isValidEvent(r,i,s)?(this._preventMouseButton(r,o),this.extendEvent(r)):null},t.onEventMove=function(r,i,s){return this._isValidEvent(r,i,s)?this.extendEvent(r):null},t.onEventEnd=function(r){this._isTouchEvent(r)&&(this._baseTouches=r.touches)},t.onRelease=function(){this.prevEvent=null,this._baseTouches=null},t.getTouches=function(r){return this._isTouchEvent(r)?r.touches.length:0},t._getScale=function(r){return this._isTouchEvent(r)?r.touches.length!==2||this._baseTouches.length<2?1:this._getDistance(r.touches[0],r.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1]):this.prevEvent.scale},t._getCenter=function(r){return this._isTouchEvent(r)?{x:r.touches[0].clientX,y:r.touches[0].clientY}:{x:r.clientX,y:r.clientY}},t._getMovement=function(r){var i=this,s=this.prevEvent.srcEvent,o=[r,s].map(function(c){return i._isTouchEvent(c)?{id:c.touches[0].identifier,x:c.touches[0].clientX,y:c.touches[0].clientY}:{id:null,x:c.clientX,y:c.clientY}}),a=o[0],l=o[1];return a.id===l.id?{x:a.x-l.x,y:a.y-l.y}:{x:0,y:0}},e}(X1),J6=function(n,e){return e.reduce(function(t,r,i){return n[i]&&(t[n[i]]=r),t},{})},Kle=function(n){n===void 0&&(n=[]);var e=!1,t=!1,r=!1;return n.forEach(function(i){switch(i){case"mouse":t=!0;break;case"touch":e=zle;break;case"pointer":r=Hle}}),r?new jle:e&&t?new $le:e?new Wle:t?new Vle:null};function mF(n){return n.indexOf("touch")>-1?{passive:!1}:!1}var Xle=function(){function n(t){var r=t.options,i=t.interruptManager,s=t.eventManager,o=t.axisManager,a=t.animationManager;this._isOutside=!1,this._moveDistance=null,this._isStopped=!1,this.options=r,this._interruptManager=i,this._eventManager=s,this._axisManager=o,this._animationManager=a}var e=n.prototype;return e.get=function(t){return this._axisManager.get(t.axes)},e.hold=function(t,r){if(!(this._interruptManager.isInterrupted()||!t.axes.length)){var i={input:t,event:r};this._isStopped=!1,this._interruptManager.setInterrupt(!0),this._animationManager.stopAnimation(i),this._moveDistance||this._eventManager.hold(this._axisManager.get(),i),this._isOutside=this._axisManager.isOutside(t.axes),this._moveDistance=this._axisManager.get(t.axes)}},e.change=function(t,r,i,s){if(!(this._isStopped||!this._interruptManager.isInterrupting()||this._axisManager.every(i,function(h){return h===0}))){var o=r.srcEvent?r.srcEvent:r;if(!o.__childrenAxesAlreadyChanged){var a=this._moveDistance||this._axisManager.get(t.axes),l;l=ma(a,function(h,m){return h+(i[m]||0)}),this._moveDistance&&(this._moveDistance=this._axisManager.map(l,function(h,m){var g=m.circular,v=m.range;return g&&(g[0]||g[1])?Av(h,v,g):h})),this._isOutside&&this._axisManager.every(a,function(h,m){return!X6(h,m.range)})&&(this._isOutside=!1),a=this._atOutside(a),l=this._atOutside(l),(!this.options.nested||!this._isEndofAxis(i,a,l))&&(o.__childrenAxesAlreadyChanged=!0);var c={input:t,event:r};if(s){var u=this._animationManager.getDuration(l,a);this._animationManager.animateTo(l,u,c)}else{var d=!this._eventManager.triggerChange(l,a,c,!0);d&&(this._isStopped=!0,this._moveDistance=null,this._animationManager.finish(!1))}}}},e.release=function(t,r,i,s){if(!(this._isStopped||!this._interruptManager.isInterrupting()||!this._moveDistance)){var o=r.srcEvent?r.srcEvent:r;o.__childrenAxesAlreadyReleased&&(i=i.map(function(){return 0}));var a=this._axisManager.get(t.axes),l=this._axisManager.get(),c=this._animationManager.getDisplacement(i),u=J6(t.axes,c),d=this._axisManager.get(this._axisManager.map(u,function(x,b,w){return b.circular&&(b.circular[0]||b.circular[1])?a[w]+x:K6(a[w]+x,b.range,b.circular,b.bounce)}));o.__childrenAxesAlreadyReleased=!0;var h=this._animationManager.getDuration(d,a,s);h===0&&(d=hr({},l));var m={depaPos:l,destPos:d,duration:h,delta:this._axisManager.getDelta(l,d),inputEvent:r,input:t,isTrusted:!0};this._eventManager.triggerRelease(m),this._moveDistance=null;var g=this._animationManager.getUserControl(m),v=vg(g.destPos,l),_={input:t,event:r};v||g.duration===0?(v||this._eventManager.triggerChange(g.destPos,l,_,!0),this._interruptManager.setInterrupt(!1),this._axisManager.isOutside()?this._animationManager.restore(_):this._eventManager.triggerFinish(!0)):this._animationManager.animateTo(g.destPos,g.duration,_)}},e._atOutside=function(t){var r=this;return this._isOutside?this._axisManager.map(t,function(i,s){var o=s.range[0]-s.bounce[0],a=s.range[1]+s.bounce[1];return i>a?a:i<o?o:i}):this._axisManager.map(t,function(i,s){var o=s.range[0],a=s.range[1],l=s.bounce,c=s.circular;return c[0]&&i<o||c[1]&&i>a?i:i<o?o-r._animationManager.interpolate(o-i,l[0]):i>a?a+r._animationManager.interpolate(i-a,l[1]):i})},e._isEndofAxis=function(t,r,i){return this._axisManager.every(r,function(s,o,a){return t[a]===0||r[a]===i[a]&&Dle(s,o.range,o.bounce,o.circular)})},n}(),rA=function(n,e,t){return Math.max(Math.min(n,t),e)},Jle=function(){function n(t){var r=t.options,i=t.interruptManager,s=t.eventManager,o=t.axisManager;this._options=r,this.interruptManager=i,this.eventManager=s,this.axisManager=o,this.animationEnd=this.animationEnd.bind(this)}var e=n.prototype;return e.getDuration=function(t,r,i){var s=this,o;if(typeof i<"u")o=i;else{var a=ma(r,function(l,c){return Ble(Math.abs(l-t[c]),s._options.deceleration)});o=Object.keys(a).reduce(function(l,c){return Math.max(l,a[c])},-1/0)}return rA(o,this._options.minimumDuration,this._options.maximumDuration)},e.getDisplacement=function(t){var r=Math.pow(t.reduce(function(s,o){return s+o*o},0),1/t.length),i=Math.abs(r/-this._options.deceleration);return t.map(function(s){return s/2*i})},e.stopAnimation=function(t){if(this._animateParam){var r=this.axisManager.get(),i=this.axisManager.map(r,function(s,o){return Av(s,o.range,o.circular)});pN(i,function(s,o){return r[o]===s})||this.eventManager.triggerChange(i,r,t,!!t),this._animateParam=null,this._raf&&Ale(this._raf),this._raf=null,this.eventManager.triggerAnimationEnd(!!(t!=null&&t.event))}},e.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},e.restore=function(t){var r=this.axisManager.get(),i=this.axisManager.map(r,function(s,o){return Math.min(o.range[1],Math.max(o.range[0],s))});this.stopAnimation(),this.animateTo(i,this.getDuration(r,i),t)},e.animationEnd=function(){var t=this.getEventInfo();this._animateParam=null;var r=this.axisManager.filter(this.axisManager.get(),function(i,s){return pF(i,s.range,s.circular)});Object.keys(r).length>0&&this.setTo(this.axisManager.map(r,function(i,s){return Av(i,s.range,s.circular)})),this.interruptManager.setInterrupt(!1),this.eventManager.triggerAnimationEnd(!!t),this.axisManager.isOutside()?this.restore(t):this.finish(!!t)},e.finish=function(t){this._animateParam=null,this.interruptManager.setInterrupt(!1),this.eventManager.triggerFinish(t)},e.getUserControl=function(t){var r=t.setTo();return r.destPos=this.axisManager.get(r.destPos),r.duration=rA(r.duration,this._options.minimumDuration,this._options.maximumDuration),r},e.animateTo=function(t,r,i){var s=this;this.stopAnimation();var o=this._createAnimationParam(t,r,i),a=hr({},o.depaPos),l=this.eventManager.triggerAnimationStart(o),c=this.getUserControl(o);if(!l&&this.axisManager.every(c.destPos,function(d,h){return pF(d,h.range,h.circular)})&&console.warn("You can't stop the 'animation' event when 'circular' is true."),l&&!vg(c.destPos,a)){var u=(i==null?void 0:i.event)||null;this._animateLoop({depaPos:a,destPos:c.destPos,duration:c.duration,delta:this.axisManager.getDelta(a,c.destPos),isTrusted:!!u,inputEvent:u,input:(i==null?void 0:i.input)||null},function(){return s.animationEnd()})}},e.setTo=function(t,r){r===void 0&&(r=0);var i=Object.keys(t),s=this.axisManager.get(i);if(vg(t,s))return this;this.interruptManager.setInterrupt(!0);var o=j6(t,function(a,l){return s[l]!==a});return Object.keys(o).length?(o=this.axisManager.map(o,function(a,l){var c=l.range,u=l.circular;return u&&(u[0]||u[1])?a:K6(a,c,u)}),vg(o,s)?this:(r>0?this.animateTo(o,r):(this.stopAnimation(),this.eventManager.triggerChange(o),this.finish(!1)),this)):this},e.setBy=function(t,r){return r===void 0&&(r=0),this.setTo(ma(this.axisManager.get(Object.keys(t)),function(i,s){return i+t[s]}),r)},e._createAnimationParam=function(t,r,i){var s=this.axisManager.get(),o=t,a=(i==null?void 0:i.event)||null;return{depaPos:s,destPos:o,duration:rA(r,this._options.minimumDuration,this._options.maximumDuration),delta:this.axisManager.getDelta(s,o),inputEvent:a,input:(i==null?void 0:i.input)||null,isTrusted:!!a,done:this.animationEnd}},e._animateLoop=function(t,r){var i=this;if(t.duration){this._animateParam=hr(hr({},t),{startTime:new Date().getTime()});var s=ma(t.destPos,function(l){return l}),o=this._initState(this._animateParam),a=function(){i._raf=null;var l=i._animateParam,c=i._getNextState(o),u=!i.eventManager.triggerChange(c.pos,o.pos);if(o=c,c.finished){l.destPos=i._getFinalPos(l.destPos,s),vg(l.destPos,i.axisManager.get(Object.keys(l.destPos)))||i.eventManager.triggerChange(l.destPos,c.pos),r();return}else u?i.finish(!1):i._raf=Cle(a)};a()}else this.eventManager.triggerChange(t.destPos),r()},e._getFinalPos=function(t,r){var i=this,s=1e-6,o=ma(t,function(a,l){if(a>=r[l]-s&&a<=r[l]+s)return r[l];var c=i._getRoundUnit(a,l),u=$6(a,c);return u});return o},e._getRoundUnit=function(t,r){var i=this._options.round,s=null;if(!i){var o=this.axisManager.getAxisOptions(r);s=Mle(Math.max(Yx(o.range[0]),Yx(o.range[1]),Yx(t)))}return s||i},n}(),Yle=function(n){Tp(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r._useDuration=!0,r}var t=e.prototype;return t.interpolate=function(r,i){var s=this._easing(1e-5)/1e-5;return this._easing(r/(i*s))*i},t.updateAnimation=function(r){var i,s=this._animateParam;if(s){var o=new Date().getTime()-s.startTime,a=(r==null?void 0:r.destPos)||s.destPos,l=(i=r==null?void 0:r.duration)!==null&&i!==void 0?i:s.duration;if(r!=null&&r.restart||l<=o){this.setTo(a,l-o);return}if(r!=null&&r.destPos){var c=this.axisManager.get();this._initialEasingPer=this._prevEasingPer,s.delta=this.axisManager.getDelta(c,a),s.destPos=a}if(r!=null&&r.duration){var u=(o+this._durationOffset)/s.duration;this._durationOffset=u*l-o,s.duration=l}}},t._initState=function(r){return this._initialEasingPer=0,this._prevEasingPer=0,this._durationOffset=0,{pos:r.depaPos,easingPer:0,finished:!1}},t._getNextState=function(r){var i=this,s=this._animateParam,o=r.pos,a=s.destPos,l=ma(o,function(m,g){return m<=a[g]?1:-1}),c=new Date().getTime()-s.startTime,u=(c+this._durationOffset)/s.duration,d=this._easing(u),h=this.axisManager.map(o,function(m,g,v){var _=u>=1?a[v]:m+s.delta[v]*(d-i._prevEasingPer)/(1-i._initialEasingPer),x=Av(_,g.range,g.circular);if(_!==x){var b=l[v]*(g.range[1]-g.range[0]);a[v]-=b,o[v]-=b}return x});return this._prevEasingPer=d,{pos:h,easingPer:d,finished:d>=1}},t._easing=function(r){return r>1?1:this._options.easing(r)},e}(Jle),qle=function(n){Tp(e,n);function e(r,i,s){r===void 0&&(r={}),i===void 0&&(i={}),s===void 0&&(s={});var o=n.call(this)||this;return o.axis=r,o._inputs=[],o.options=hr({easing:function(a){return 1-Math.pow(1-a,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4,round:null,nested:!1},i),Object.keys(s).forEach(function(a){o.axis[a].startPos=s[a]}),o.interruptManager=new Lle(o.options),o.axisManager=new Fle(o.axis),o.eventManager=new Ole(o),o.animationManager=new Yle(o),o.inputObserver=new Xle(o),o.eventManager.setAnimationManager(o.animationManager),o.eventManager.triggerChange(o.axisManager.get()),o}var t=e.prototype;return t.connect=function(r,i){var s;return typeof r=="string"?s=r.split(" "):s=r.concat(),~this._inputs.indexOf(i)&&this.disconnect(i),i.mapAxes(s),i.connect(this.inputObserver),this._inputs.push(i),this},t.disconnect=function(r){if(r){var i=this._inputs.indexOf(r);i>=0&&(this._inputs[i].disconnect(),this._inputs.splice(i,1))}else this._inputs.forEach(function(s){return s.disconnect()}),this._inputs=[];return this},t.get=function(r){return this.axisManager.get(r)},t.setTo=function(r,i){return i===void 0&&(i=0),this.animationManager.setTo(r,i),this},t.setBy=function(r,i){return i===void 0&&(i=0),this.animationManager.setBy(r,i),this},t.setOptions=function(r){return this.options=hr(hr({},this.options),r),this},t.setAxis=function(r){return this.axisManager.setAxis(r),this},t.stopAnimation=function(){return this.animationManager.stopAnimation(),this.animationManager.finish(!1),this},t.updateAnimation=function(r){return this.animationManager.updateAnimation(r),this},t.isBounceArea=function(r){return this.axisManager.isOutside(r)},t.destroy=function(){this.disconnect(),this.eventManager.destroy()},e.VERSION="3.8.4",e.TRANSFORM=Sle,e.DIRECTION_NONE=Iy,e.DIRECTION_LEFT=hle,e.DIRECTION_RIGHT=fle,e.DIRECTION_UP=ple,e.DIRECTION_DOWN=mle,e.DIRECTION_HORIZONTAL=Yf,e.DIRECTION_VERTICAL=qf,e.DIRECTION_ALL=K1,e=dle([ule],e),e}(Dd),Qle=function(n,e){if(e<0||e>90)return Iy;var t=Math.abs(n);return t>e&&t<180-e?qf:Yf},Zle=function(){function n(t,r){var i=this;this.axes=[],this.element=null,this._enabled=!1,this._activeEvent=null,this._atRightEdge=!1,this._rightEdgeTimer=0,this._dragged=!1,this._isOverThreshold=!1,this._preventClickWhenDragged=function(s){i._dragged&&(s.preventDefault(),s.stopPropagation()),i._dragged=!1},this._voidFunction=function(){},this.element=W6(t),this.options=hr({inputType:["touch","mouse","pointer"],inputKey:[V6],inputButton:[Kb],scale:[1,1],thresholdAngle:45,threshold:0,preventClickOnDrag:!1,iOSEdgeSwipeThreshold:wle,releaseOnScroll:!1,touchAction:null},r),this._onPanstart=this._onPanstart.bind(this),this._onPanmove=this._onPanmove.bind(this),this._onPanend=this._onPanend.bind(this)}var e=n.prototype;return e.mapAxes=function(t){this._direction=Ile(!!t[0],!!t[1]),this.axes=t},e.connect=function(t){return this._activeEvent&&(this._detachElementEvent(),this._detachWindowEvent(this._activeEvent)),this._attachElementEvent(t),this._originalCssProps=Nle(this.element,this.options,this._direction),this},e.disconnect=function(){return this._detachElementEvent(),this._detachWindowEvent(this._activeEvent),Rle(this._originalCssProps)||kle(this.element,this._originalCssProps),this._direction=Iy,this},e.destroy=function(){this.disconnect(),this.element=null},e.enable=function(){return this._enabled=!0,this},e.disable=function(){return this._enabled=!1,this},e.isEnabled=function(){return this._enabled},e.release=function(){var t=this._activeEvent,r=t.prevEvent;return t.onRelease(),this._observer.release(this,r,[0,0]),this._detachWindowEvent(t),this},e._onPanstart=function(t){var r=this.options,i=r.inputKey,s=r.inputButton,o=this._activeEvent,a=o.onEventStart(t,i,s);if(!(!a||!this._enabled||o.getTouches(t,s)>1)&&a.srcEvent.cancelable!==!1){var l=this.options.iOSEdgeSwipeThreshold;this._dragged=!1,this._isOverThreshold=!1,this._observer.hold(this,a),this._atRightEdge=dF&&a.center.x>window.innerWidth-l,this._attachWindowEvent(o),o.prevEvent=a}},e._onPanmove=function(t){var r=this,i=this.options,s=i.iOSEdgeSwipeThreshold,o=i.preventClickOnDrag,a=i.releaseOnScroll,l=i.inputKey,c=i.inputButton,u=i.threshold,d=i.thresholdAngle,h=this._activeEvent,m=h.onEventMove(t,l,c),g=h.getTouches(t,c);if(g===0||a&&m&&!m.srcEvent.cancelable){this._onPanend(t);return}if(!(!m||!this._enabled||g>1)){var v=Qle(m.angle,d),_=T_(Yf,this._direction,v),x=T_(qf,this._direction,v);if(h.prevEvent&&dF){var b=m.center.x<0;if(b){this.release();return}else if(this._atRightEdge){clearTimeout(this._rightEdgeTimer);var w=m.deltaX<-s;w?this._atRightEdge=!1:this._rightEdgeTimer=window.setTimeout(function(){return r.release()},100)}}var E=this._getDistance([m.deltaX,m.deltaY],[_,x]),A=this._getOffset([m.offsetX,m.offsetY],[_,x]),T=A.some(function(I){return I!==0});T&&(m.srcEvent.cancelable!==!1&&m.srcEvent.preventDefault(),m.srcEvent.stopPropagation()),m.preventSystemEvent=T,T&&(this._isOverThreshold||E>=u)&&(this._dragged=o,this._isOverThreshold=!0,this._observer.change(this,m,J6(this.axes,A))),h.prevEvent=m}},e._onPanend=function(t){var r=this.options.inputButton,i=this._activeEvent;if(i.onEventEnd(t),!(!this._enabled||i.getTouches(t,r)!==0)){this._detachWindowEvent(i),clearTimeout(this._rightEdgeTimer);var s=i.prevEvent,o=this._isOverThreshold?this._getOffset([Math.abs(s.velocityX)*(s.offsetX<0?-1:1),Math.abs(s.velocityY)*(s.offsetY<0?-1:1)],[T_(Yf,this._direction),T_(qf,this._direction)]):[0,0];i.onRelease(),this._observer.release(this,s,o)}},e._attachWindowEvent=function(t){var r=this;t==null||t.move.forEach(function(i){window.addEventListener(i,r._onPanmove,mF(i))}),t==null||t.end.forEach(function(i){window.addEventListener(i,r._onPanend,mF(i))})},e._detachWindowEvent=function(t){var r=this;t==null||t.move.forEach(function(i){window.removeEventListener(i,r._onPanmove)}),t==null||t.end.forEach(function(i){window.removeEventListener(i,r._onPanend)})},e._getOffset=function(t,r){var i=this.options.scale;return[r[0]?t[0]*i[0]:0,r[1]?t[1]*i[1]:0]},e._getDistance=function(t,r){return Math.sqrt(Number(r[0])*Math.pow(t[0],2)+Number(r[1])*Math.pow(t[1],2))},e._attachElementEvent=function(t){var r=this,i=Kle(this.options.inputType),s=this.element;if(i){if(!s)throw new Error("Element to connect input does not exist.");this._observer=t,this._enabled=!0,this._activeEvent=i,s.addEventListener("click",this._preventClickWhenDragged,!0),i.start.forEach(function(o){s.addEventListener(o,r._onPanstart)}),i.move.forEach(function(o){s.addEventListener(o,r._voidFunction)})}},e._detachElementEvent=function(){var t=this,r=this._activeEvent,i=this.element;i&&(i.removeEventListener("click",this._preventClickWhenDragged,!0),r==null||r.start.forEach(function(s){i.removeEventListener(s,t._onPanstart)}),r==null||r.move.forEach(function(s){i.removeEventListener(s,t._voidFunction)})),this._enabled=!1,this._observer=null},n}();const ece=qle;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vP=function(n,e){return vP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},vP(n,e)};function Pp(n,e){vP(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Qf=function(){return Qf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Qf.apply(this,arguments)};function tce(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var mN=typeof window<"u",nce=mN?window.navigator.userAgent:"",rce=mN?"getComputedStyle"in window:!1,ice=/MSIE|Trident|Windows Phone|Edge/.test(nce),sce=mN?"addEventListener"in document:!1,yP="width",Dg="height";function Qx(n,e){return n.getAttribute(e)||""}function Xb(n){return[].slice.call(n)}function oce(n,e){return e===void 0&&(e="data-"),!!n.getAttribute(e+"width")}function Y6(n,e){return e===void 0&&(e="data-"),"loading"in n&&n.getAttribute("loading")==="lazy"||!!n.getAttribute(e+"lazy")}function ace(n,e){return e===void 0&&(e="data-"),!!n.getAttribute(e+"skip")}function q6(n,e,t){sce?n.addEventListener(e,t,!1):n.attachEvent?n.attachEvent("on"+e,t):n["on"+e]=t}function Q6(n,e,t){n.removeEventListener?n.removeEventListener(e,t,!1):n.detachEvent?n.detachEvent("on"+e,t):n["on"+e]=null}function lce(n){return Z6(n,"Width")}function cce(n){return Z6(n,"Height")}function uce(n){return(rce?window.getComputedStyle(n):n.currentStyle)||{}}function Z6(n,e){var t=n["client"+e]||n["offset"+e];return parseFloat(t||uce(n)[e.toLowerCase()])||0}function dce(n,e,t){var r=Xb(n.querySelectorAll(tce(["["+t+"skip] ["+t+"width]"],e.map(function(i){return["["+t+"skip] "+i,i+"["+t+"skip]","["+t+"width] "+i].join(", ")})).join(", ")));return Xb(n.querySelectorAll("["+t+"width], "+e.join(", "))).filter(function(i){return r.indexOf(i)===-1})}var xf=[];function e8(n,e){!xf.length&&q6(window,"resize",n8),n.__PREFIX__=e,xf.push(n),t8(n)}function hce(n,e){var t=xf.indexOf(n);if(!(t<0)){var r=Qx(n,e+"fixed");delete n.__PREFIX__,n.style[r===Dg?yP:Dg]="",xf.splice(t,1),!xf.length&&Q6(window,"resize",n8)}}function t8(n,e){e===void 0&&(e="data-");var t=n.__PREFIX__||e,r=parseInt(Qx(n,""+t+yP),10)||0,i=parseInt(Qx(n,""+t+Dg),10)||0,s=Qx(n,t+"fixed");if(s===Dg){var o=cce(n)||i;n.style[yP]=r/i*o+"px"}else{var o=lce(n)||r;n.style[Dg]=i/r*o+"px"}}function n8(){xf.forEach(function(n){t8(n)})}var gN=function(n){Pp(e,n);function e(r,i){i===void 0&&(i={});var s=n.call(this)||this;s.isReady=!1,s.isPreReady=!1,s.hasDataSize=!1,s.hasLoading=!1,s.isSkip=!1,s.onCheck=function(a){if(s.clear(),a&&a.type==="error"&&s.onError(s.element),!(s.hasLoading&&s.checkElement())){var l=!s.hasDataSize&&!s.hasLoading;s.onReady(l)}},s.options=Qf({prefix:"data-"},i),s.element=r;var o=s.options.prefix;return s.hasDataSize=oce(r,o),s.isSkip=ace(r,o),s.hasLoading=Y6(r,o),s}var t=e.prototype;return t.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&e8(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},t.addEvents=function(){var r=this,i=this.element;this.constructor.EVENTS.forEach(function(s){q6(i,s,r.onCheck)})},t.clear=function(){var r=this,i=this.element;this.constructor.EVENTS.forEach(function(s){Q6(i,s,r.onCheck)}),this.removeAutoSizer()},t.destroy=function(){this.clear(),this.off()},t.removeAutoSizer=function(){if(this.hasDataSize){var r=this.options.prefix;hce(this.element,r)}},t.onError=function(r){this.trigger("error",{element:this.element,target:r})},t.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},t.onReady=function(r){this.isReady||(r=!this.isPreReady&&r,r&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:r,hasLoading:this.hasLoading,isSkip:this.isSkip}))},t.onAlreadyError=function(r){var i=this;setTimeout(function(){i.onError(r)})},t.onAlreadyPreReady=function(){var r=this;setTimeout(function(){r.onPreReady()})},t.onAlreadyReady=function(r){var i=this;setTimeout(function(){i.onReady(r)})},e.EVENTS=[],e}(Dd),fce=function(n){Pp(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t.setHasLoading=function(r){this.hasLoading=r},t.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(e8(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},t.checkElement=function(){return!0},t.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},t.onAlreadyPreReady=function(){n.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},e.EVENTS=[],e}(gN),pce=function(n){Pp(e,n);function e(r){r===void 0&&(r={});var i=n.call(this)||this;return i.readyCount=0,i.preReadyCount=0,i.totalCount=0,i.totalErrorCount=0,i.isPreReadyOver=!0,i.elementInfos=[],i.options=Qf({loaders:{},prefix:"data-"},r),i}var t=e.prototype;return t.check=function(r){var i=this,s=this.options.prefix;this.clear(),this.elementInfos=Xb(r).map(function(a,l){var c=i.getLoader(a,{prefix:s});return c.check(),c.on("error",function(u){i.onError(l,u.target)}).on("preReady",function(u){var d=i.elementInfos[l];d.hasLoading=u.hasLoading,d.isSkip=u.isSkip;var h=i.checkPreReady(l);i.onPreReadyElement(l),h&&i.onPreReady()}).on("ready",function(u){var d=u.withPreReady,h=u.hasLoading,m=u.isSkip,g=i.elementInfos[l];g.hasLoading=h,g.isSkip=m;var v=d&&i.checkPreReady(l),_=i.checkReady(l);d&&i.onPreReadyElement(l),i.onReadyElement(l),v&&i.onPreReady(),_&&i.onReady()}),{loader:c,element:a,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}});var o=this.elementInfos.length;return this.totalCount=o,o||setTimeout(function(){i.onPreReady(),i.onReady()}),this},t.getTotalCount=function(){return this.totalCount},t.isPreReady=function(){return this.elementInfos.every(function(r){return r.isPreReady})},t.isReady=function(){return this.elementInfos.every(function(r){return r.isReady})},t.hasError=function(){return this.totalErrorCount>0},t.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach(function(r){r.loader&&r.loader.destroy()}),this.elementInfos=[]},t.destroy=function(){this.clear(),this.off()},t.getLoader=function(r,i){var s=this,o=r.tagName.toLowerCase(),a=this.options.loaders,l=i.prefix,c=Object.keys(a);if(a[o])return new a[o](r,i);var u=new fce(r,i),d=Xb(r.querySelectorAll(c.join(", ")));u.setHasLoading(d.some(function(g){return Y6(g,l)}));var h=!1,m=this.clone().on("error",function(g){u.onError(g.target)}).on("ready",function(){u.onReady(h)});return u.on("requestChildren",function(){var g=dce(r,c,s.options.prefix);m.check(g).on("preReady",function(v){h=v.isReady,h||u.onPreReady()})}).on("reqeustReadyChildren",function(){m.check(d)}).on("requestDestroy",function(){m.destroy()}),u},t.clone=function(){return new e(Qf({},this.options))},t.checkPreReady=function(r){return this.elementInfos[r].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},t.checkReady=function(r){return this.elementInfos[r].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},t.onError=function(r,i){var s=this.elementInfos[r];s.hasError=!0,this.trigger(new Wt("error",{element:s.element,index:r,target:i,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount}))},t.onPreReadyElement=function(r){var i=this.elementInfos[r];this.trigger(new Wt("preReadyElement",{element:i.element,index:r,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:i.hasLoading,isSkip:i.isSkip}))},t.onPreReady=function(){this.isPreReadyOver=!0,this.trigger(new Wt("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()}))},t.onReadyElement=function(r){var i=this.elementInfos[r];this.trigger(new Wt("readyElement",{index:r,element:i.element,hasError:i.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:i.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:i.isSkip}))},t.onReady=function(){this.trigger(new Wt("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount}))},t.getErrorCount=function(){return this.elementInfos.filter(function(r){return r.hasError}).length},t.hasLoading=function(){return this.elementInfos.some(function(r){return r.hasLoading})},e}(Dd),mce=function(n){Pp(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t.checkElement=function(){var r=this.element,i=r.getAttribute("src");if(r.complete){if(i)return r.naturalWidth||this.onAlreadyError(r),!1;this.onAlreadyPreReady()}return this.addEvents(),ice&&r.setAttribute("src",i),!0},e.EVENTS=["load","error"],e}(gN),gce=function(n){Pp(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t.checkElement=function(){var r=this.element;return r.readyState>=1?!1:r.error?(this.onAlreadyError(r),!1):(this.addEvents(),!0)},e.EVENTS=["loadedmetadata","error"],e}(gN),vce=function(n){Pp(e,n);function e(t){return t===void 0&&(t={}),n.call(this,Qf({loaders:{img:mce,video:gce}},t))||this}return e}(pce);const yce=vce;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _P=function(n,e){return _P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},_P(n,e)};function Ni(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_P(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Gi=function(){return Gi=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Gi.apply(this,arguments)};function bf(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function wf(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function J1(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vN(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function Cr(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(vN(arguments[e]));return n}var En={WRONG_TYPE:0,ELEMENT_NOT_FOUND:1,VAL_MUST_NOT_NULL:2,NOT_ATTACHED_TO_FLICKING:3,WRONG_OPTION:4,INDEX_OUT_OF_RANGE:5,POSITION_NOT_REACHABLE:6,TRANSFORM_NOT_SUPPORTED:7,STOP_CALLED_BY_USER:8,ANIMATION_INTERRUPTED:9,ANIMATION_ALREADY_PLAYING:10,NOT_ALLOWED_IN_FRAMEWORK:11,NOT_INITIALIZED:12,NO_ACTIVE:13,NOT_ALLOWED_IN_VIRTUAL:14},Tn={WRONG_TYPE:function(n,e){return n+"("+typeof n+") is not a "+e.map(function(t){return'"'+t+'"'}).join(" or ")+"."},ELEMENT_NOT_FOUND:function(n){return'Element with selector "'+n+'" not found.'},VAL_MUST_NOT_NULL:function(n,e){return e+" should be provided. Given: "+n},NOT_ATTACHED_TO_FLICKING:'This module is not attached to the Flicking instance. "init()" should be called first.',WRONG_OPTION:function(n,e){return'Option "'+n+'" is not in correct format, given: '+e},INDEX_OUT_OF_RANGE:function(n,e,t){return'Index "'+n+'" is out of range: should be between '+e+" and "+t+"."},POSITION_NOT_REACHABLE:function(n){return'Position "'+n+'" is not reachable.'},TRANSFORM_NOT_SUPPORTED:"Browser does not support CSS transform.",STOP_CALLED_BY_USER:"Event stop() is called by user.",ANIMATION_INTERRUPTED:"Animation is interrupted by user input.",ANIMATION_ALREADY_PLAYING:"Animation is already playing.",NOT_ALLOWED_IN_FRAMEWORK:"This behavior is not allowed in the frameworks like React, Vue, or Angular.",NOT_INITIALIZED:"Flicking is not initialized yet, call init() first.",NO_ACTIVE:"There's no active panel that Flicking has selected. This may be due to the absence of any panels.",NOT_ALLOWED_IN_VIRTUAL:"This behavior is not allowed when the virtual option is enabled"},Et={READY:"ready",BEFORE_RESIZE:"beforeResize",AFTER_RESIZE:"afterResize",HOLD_START:"holdStart",HOLD_END:"holdEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",WILL_CHANGE:"willChange",CHANGED:"changed",WILL_RESTORE:"willRestore",RESTORED:"restored",SELECT:"select",NEED_PANEL:"needPanel",VISIBLE_CHANGE:"visibleChange",REACH_EDGE:"reachEdge",PANEL_CHANGE:"panelChange"},ba={PREV:"prev",CENTER:"center",NEXT:"next"},Vt={PREV:"PREV",NEXT:"NEXT",NONE:null},gh={SNAP:"snap",FREE_SCROLL:"freeScroll",STRICT:"strict"},_ce={VERTICAL:"vertical",HIDDEN:"flicking-hidden",DEFAULT_VIRTUAL:"flicking-panel"},r8={LINEAR:"linear",BOUND:"bound"},xce=function(n,e){var t=null;if(Sd(n)){var r=e||document,i=r.querySelector(n);if(!i)throw new xn(Tn.ELEMENT_NOT_FOUND(n),En.ELEMENT_NOT_FOUND);t=i}else n&&n.nodeType===Node.ELEMENT_NODE&&(t=n);if(!t)throw new xn(Tn.WRONG_TYPE(n,["HTMLElement","string"]),En.WRONG_TYPE);return t},bce=function(n,e){if(n==null)throw new xn(Tn.VAL_MUST_NOT_NULL(n,e),En.VAL_MUST_NOT_NULL)},od=function(n,e,t){return Math.max(Math.min(n,t),e)},gt=function(n){if(!n)throw new xn(Tn.NOT_ATTACHED_TO_FLICKING,En.NOT_ATTACHED_TO_FLICKING);return n},yN=function(n){return[].slice.call(n)},_N=function(n,e){var t;if(Sd(n))switch(n){case ba.PREV:t=0;break;case ba.CENTER:t=.5*e;break;case ba.NEXT:t=e;break;default:if(t=xP(n,e),t==null)throw new xn(Tn.WRONG_OPTION("align",n),En.WRONG_OPTION)}else t=n;return t},wce=function(n,e){var t;if(Array.isArray(n))t=n.map(function(i){return xP(i,e)});else{var r=xP(n,e);t=[r,r]}return t.map(function(i){if(i==null)throw new xn(Tn.WRONG_OPTION("bounce",n),En.WRONG_OPTION);return i})},xP=function(n,e){var t=i8(n);return t==null?null:t.percentage*e+t.absolute},i8=function(n){var e=/(?:(\+|\-)\s*)?(\d+(?:\.\d+)?(%|px)?)/g;if(typeof n=="number")return{percentage:0,absolute:n};for(var t={percentage:0,absolute:0},r=0,i=e.exec(n);i!=null;){var s=i[1],o=i[2],a=i[3],l=parseFloat(o);if(r<=0&&(s=s||"+"),!s)return null;var c=s==="+"?1:-1;a==="%"?t.percentage+=c*(l/100):t.absolute+=c*l,++r,i=e.exec(n)}return r===0?null:t},Jb=function(n){return typeof n=="object"?n.panel:n},wd=function(n,e){return n===e?Vt.NONE:n<e?Vt.NEXT:Vt.PREV},gF=function(n){Array.isArray(n)||(n=[n]);var e=[];return n.forEach(function(t){if(Sd(t)){var r=document.createElement("div");for(r.innerHTML=t,e.push.apply(e,Cr(yN(r.children)));r.firstChild;)r.removeChild(r.firstChild)}else if(t&&t.nodeType===Node.ELEMENT_NODE)e.push(t);else throw new xn(Tn.WRONG_TYPE(t,["HTMLElement","string"]),En.WRONG_TYPE)}),e},Yb=function(n,e){return n<0?od(n+e,0,e):od(n,0,e)},qb=function(n,e){var t,r;try{for(var i=J1(n),s=i.next();!s.done;s=i.next()){var o=s.value;if(o===e)return!0}}catch(a){t={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return!1},Sd=function(n){return typeof n=="string"},xN=function(n,e,t){var r=t-e;if(n<e){var i=(e-n)%r;n=t-i}else if(n>t){var i=(n-t)%r;n=e+i}return n},Sce=function(n,e){var t,r;try{for(var i=J1(n),s=i.next();!s.done;s=i.next()){var o=s.value;if(e(o))return o}}catch(a){t={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null},Ece=function(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t;return-1},Qb=function(n,e,t){return(n-e)/(t-e)},bP=function(n){return window.getComputedStyle(n)||n.currentStyle},s8=function(n,e){var t=e.width,r=e.height;t!=null&&(Sd(t)?n.style.width=t:n.style.width=t+"px"),r!=null&&(Sd(r)?n.style.height=r:n.style.height=r+"px")},iA=function(n,e,t){return n>=e&&n<=t},o8=function(n,e){return n>=e?n%e:n<0?Yb((n+1)%e-1,e):n},Zf=function(n){for(var e=new Array(n),t=0;t<n;t++)e[t]=t;return e},Bg=function(n){var e=n.el,t=n.horizontal,r=n.useFractionalSize,i=n.useOffset,s=n.style;if(r){var o=parseFloat(t?s.width:s.height),a=s.boxSizing==="border-box",l=t?parseFloat(s.borderLeftWidth||"0")+parseFloat(s.borderRightWidth||"0"):parseFloat(s.borderTopWidth||"0")+parseFloat(s.borderBottomWidth||"0");if(a)return i?o:o-l;var c=t?parseFloat(s.paddingLeft||"0")+parseFloat(s.paddingRight||"0"):parseFloat(s.paddingTop||"0")+parseFloat(s.paddingBottom||"0");return i?o+c+l:o+c}else{var u=t?"Width":"Height";return i?e["offset"+u]:e["client"+u]}},Cce=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},xn=function(n){Ni(e,n);function e(t,r){var i=n.call(this,t)||this;return Cce(i,e.prototype),i.name="FlickingError",i.code=r,i}return e}(Error),Ace=function(){function n(t,r){this._flicking=t,this._el=r,this._width=0,this._height=0,this._padding={left:0,right:0,top:0,bottom:0},this._isBorderBoxSizing=!1}var e=n.prototype;return Object.defineProperty(e,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(e,"width",{get:function(){return this._width-this._padding.left-this._padding.right},enumerable:!1,configurable:!0}),Object.defineProperty(e,"height",{get:function(){return this._height-this._padding.top-this._padding.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(e,"padding",{get:function(){return this._padding},enumerable:!1,configurable:!0}),e.setSize=function(t){var r=t.width,i=t.height,s=this._el,o=this._padding,a=this._isBorderBoxSizing;if(r!=null)if(Sd(r))s.style.width=r;else{var l=a?r+o.left+o.right:r;s.style.width=l+"px"}if(i!=null)if(Sd(i))s.style.height=i;else{var c=a?i+o.top+o.bottom:i;s.style.height=c+"px"}this.resize()},e.resize=function(){var t=this._el,r=bP(t),i=this._flicking.useFractionalSize;this._width=Bg({el:t,horizontal:!0,useFractionalSize:i,useOffset:!1,style:r}),this._height=Bg({el:t,horizontal:!1,useFractionalSize:i,useOffset:!1,style:r}),this._padding={left:r.paddingLeft?parseFloat(r.paddingLeft):0,right:r.paddingRight?parseFloat(r.paddingRight):0,top:r.paddingTop?parseFloat(r.paddingTop):0,bottom:r.paddingBottom?parseFloat(r.paddingBottom):0},this._isBorderBoxSizing=r.boxSizing==="border-box"},n}(),Mce=function(){function n(t){var r=this;this._onResize=function(){var i=r._flicking,s=i.resizeDebounce,o=i.maxResizeDebounce;s<=0?i.resize():(r._maxResizeDebounceTimer<=0&&o>0&&o>=s&&(r._maxResizeDebounceTimer=window.setTimeout(r._doScheduledResize,o)),r._resizeTimer>0&&(clearTimeout(r._resizeTimer),r._resizeTimer=0),r._resizeTimer=window.setTimeout(r._doScheduledResize,s))},this._doScheduledResize=function(){clearTimeout(r._resizeTimer),clearTimeout(r._maxResizeDebounceTimer),r._maxResizeDebounceTimer=-1,r._resizeTimer=-1,r._flicking.resize()},this._skipFirstResize=function(){var i=!0;return function(){if(i){i=!1;return}r._onResize()}}(),this._flicking=t,this._enabled=!1,this._resizeObserver=null,this._resizeTimer=-1,this._maxResizeDebounceTimer=-1}var e=n.prototype;return Object.defineProperty(e,"enabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),e.enable=function(){var t=this._flicking,r=t.viewport;if(this._enabled&&this.disable(),t.useResizeObserver&&window.ResizeObserver){var i=r.width!==0||r.height!==0,s=i?new ResizeObserver(this._skipFirstResize):new ResizeObserver(this._onResize);s.observe(t.viewport.element),this._resizeObserver=s}else window.addEventListener("resize",this._onResize);return this._enabled=!0,this},e.disable=function(){if(!this._enabled)return this;var t=this._resizeObserver;return t?(t.disconnect(),this._resizeObserver=null):window.removeEventListener("resize",this._onResize),this._enabled=!1,this},n}(),Tce=function(){function n(t){this._element=t,this._rendered=!0}var e=n.prototype;return Object.defineProperty(e,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),e.show=function(t){var r=this.element,i=t.camera.element;r.parentElement!==i&&(i.appendChild(r),this._rendered=!0)},e.hide=function(t){var r=this.element,i=t.camera.element;r.parentElement===i&&(i.removeChild(r),this._rendered=!1)},n}(),vF=function(){function n(t){this._flicking=t}var e=n.prototype;return Object.defineProperty(e,"element",{get:function(){return this._virtualElement.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rendered",{get:function(){return this._virtualElement.visible},enumerable:!1,configurable:!0}),Object.defineProperty(e,"_virtualElement",{get:function(){var t=this._flicking,r=this._panel.elementIndex,i=t.virtual.elements;return i[r]},enumerable:!1,configurable:!0}),e.init=function(t){this._panel=t},e.show=function(){},e.hide=function(){},n}(),Pce=function(){function n(t,r){var i,s,o,a;this._flicking=t,this._renderPanel=(i=r==null?void 0:r.renderPanel)!==null&&i!==void 0?i:function(){return""},this._initialPanelCount=(s=r==null?void 0:r.initialPanelCount)!==null&&s!==void 0?s:-1,this._cache=(o=r==null?void 0:r.cache)!==null&&o!==void 0?o:!1,this._panelClass=(a=r==null?void 0:r.panelClass)!==null&&a!==void 0?a:_ce.DEFAULT_VIRTUAL,this._elements=[]}var e=n.prototype;return Object.defineProperty(e,"elements",{get:function(){return this._elements},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderPanel",{get:function(){return this._renderPanel},set:function(t){this._renderPanel=t,this._flicking.renderer.panels.forEach(function(r){return r.uncacheRenderResult()})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"initialPanelCount",{get:function(){return this._initialPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cache",{get:function(){return this._cache},set:function(t){this._cache=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panelClass",{get:function(){return this._panelClass},set:function(t){this._panelClass=t},enumerable:!1,configurable:!0}),e.init=function(){var t=this._flicking;if(t.virtualEnabled){!t.externalRenderer&&!t.renderExternal&&this._initVirtualElements();var r=t.camera.children;this._elements=r.map(function(i){return{nativeElement:i,visible:!0}})}},e.show=function(t){var r=this._elements[t],i=r.nativeElement;r.visible=!0,i.style.display&&(i.style.display="")},e.hide=function(t){var r=this._elements[t],i=r.nativeElement;r.visible=!1,i.style.display="none"},e.append=function(t){t===void 0&&(t=1);var r=this._flicking;return this.insert(r.panels.length,t)},e.prepend=function(t){return t===void 0&&(t=1),this.insert(0,t)},e.insert=function(t,r){if(r===void 0&&(r=1),r<=0)return[];var i=this._flicking;return i.renderer.batchInsert({index:t,elements:Zf(r),hasDOMInElements:!1})},e.remove=function(t,r){if(r<=0)return[];var i=this._flicking;return i.renderer.batchRemove({index:t,deleteCount:r,hasDOMInElements:!1})},e._initVirtualElements=function(){var t=this,r=this._flicking,i=r.camera.element,s=r.panelsPerView,o=document.createDocumentFragment(),a=Zf(s+1).map(function(l){var c=document.createElement("div");return c.className=t._panelClass,c.dataset.elementIndex=l.toString(),c});a.forEach(function(l){o.appendChild(l)}),i.appendChild(o)},n}(),Si={HOLD:"hold",CHANGE:"change",RELEASE:"release",ANIMATION_END:"animationEnd",FINISH:"finish"},Ln="flick",In;(function(n){n[n.IDLE=0]="IDLE",n[n.HOLDING=1]="HOLDING",n[n.DRAGGING=2]="DRAGGING",n[n.ANIMATING=3]="ANIMATING",n[n.DISABLED=4]="DISABLED"})(In||(In={}));var Ny=function(){function n(){this._delta=0,this._targetPanel=null}var e=n.prototype;return Object.defineProperty(e,"delta",{get:function(){return this._delta},enumerable:!1,configurable:!0}),Object.defineProperty(e,"targetPanel",{get:function(){return this._targetPanel},set:function(t){this._targetPanel=t},enumerable:!1,configurable:!0}),e.onEnter=function(t){this._delta=t._delta,this._targetPanel=t._targetPanel},e.onHold=function(t){},e.onChange=function(t){},e.onRelease=function(t){},e.onAnimationEnd=function(t){},e.onFinish=function(t){},e._moveToChangedPosition=function(t){var r=t.flicking,i=t.axesEvent,s=t.transitTo,o=i.delta[Ln];if(o){this._delta+=o;var a=r.camera,l=a.position,c=i.pos[Ln],u=r.circularEnabled?xN(c,a.range.min,a.range.max):c;a.lookAt(u);var d=new Wt(Et.MOVE,{isTrusted:i.isTrusted,holding:this.holding,direction:wd(0,i.delta[Ln]),axesEvent:i});r.trigger(d),d.isCanceled()&&(a.lookAt(l),s(In.DISABLED))}},n}(),yF=function(n){Ni(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.holding=!1,r.animating=!1,r}var t=e.prototype;return t.onEnter=function(){this._delta=0,this._targetPanel=null},t.onHold=function(r){var i=r.flicking,s=r.axesEvent,o=r.transitTo;if(i.renderer.panelCount<=0){o(In.DISABLED);return}var a=new Wt(Et.HOLD_START,{axesEvent:s});i.trigger(a),a.isCanceled()?o(In.DISABLED):o(In.HOLDING)},t.onChange=function(r){var i=r.flicking,s=r.axesEvent,o=r.transitTo,a=i.control.controller,l=a.animatingContext,c=new Wt(Et.MOVE_START,{isTrusted:s.isTrusted,holding:this.holding,direction:wd(l.start,l.end),axesEvent:s});i.trigger(c),c.isCanceled()?o(In.DISABLED):o(In.ANIMATING).onChange(r)},e}(Ny),Rce=function(n){Ni(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.holding=!0,r.animating=!1,r._releaseEvent=null,r}var t=e.prototype;return t.onChange=function(r){var i=r.flicking,s=r.axesEvent,o=r.transitTo,a=s.inputEvent,l=i.horizontal?a.offsetX:a.offsetY,c=new Wt(Et.MOVE_START,{isTrusted:s.isTrusted,holding:this.holding,direction:wd(0,-l),axesEvent:s});i.trigger(c),c.isCanceled()?o(In.DISABLED):o(In.DRAGGING).onChange(r)},t.onRelease=function(r){var i=r.flicking,s=r.axesEvent,o=r.transitTo;if(i.trigger(new Wt(Et.HOLD_END,{axesEvent:s})),s.delta.flick!==0){s.setTo({flick:i.camera.position},0),o(In.IDLE);return}this._releaseEvent=s},t.onFinish=function(r){var i,s,o=r.flicking,a=r.transitTo;if(a(In.IDLE),!!this._releaseEvent){var l=this._releaseEvent,c=l.inputEvent.srcEvent,u;if(c.type==="touchend"){var d=c,h=d.changedTouches[0];u=document.elementFromPoint(h.clientX,h.clientY)}else u=c.target;var m=o.renderer.panels,g=null;try{for(var v=J1(m),_=v.next();!_.done;_=v.next()){var x=_.value;if(x.contains(u)){g=x;break}}}catch(E){i={error:E}}finally{try{_&&!_.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}if(g){var b=o.camera.position,w=g.position;o.trigger(new Wt(Et.SELECT,{index:g.index,panel:g,direction:wd(b,w)}))}}},e}(Ny),Ice=function(n){Ni(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.holding=!0,r.animating=!0,r}var t=e.prototype;return t.onChange=function(r){this._moveToChangedPosition(r)},t.onRelease=function(r){var i,s=r.flicking,o=r.axesEvent,a=r.transitTo;if(s.trigger(new Wt(Et.HOLD_END,{axesEvent:o})),s.renderer.panelCount<=0){a(In.IDLE);return}a(In.ANIMATING);var l=s.control,c=o.destPos[Ln],u=Math.max(o.duration,s.duration);try{l.moveToPosition(c,u,o)}catch{a(In.IDLE),o.setTo((i={},i[Ln]=s.camera.position,i),0)}},e}(Ny),Nce=function(n){Ni(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.holding=!1,r.animating=!0,r}var t=e.prototype;return t.onHold=function(r){var i=r.flicking,s=r.axesEvent,o=r.transitTo,a=this._targetPanel,l=i.control;this._delta=0,i.control.updateInput(),i.changeOnHold&&a&&l.setActive(a,l.activePanel,s.isTrusted);var c=new Wt(Et.HOLD_START,{axesEvent:s});i.trigger(c),c.isCanceled()?o(In.DISABLED):o(In.DRAGGING)},t.onChange=function(r){this._moveToChangedPosition(r)},t.onFinish=function(r){var i=r.flicking,s=r.axesEvent,o=r.transitTo,a=i.control,l=a.controller,c=l.animatingContext;o(In.IDLE),i.trigger(new Wt(Et.MOVE_END,{isTrusted:s.isTrusted,direction:wd(c.start,c.end),axesEvent:s}));var u=this._targetPanel;u&&a.setActive(u,a.activePanel,s.isTrusted)},e}(Ny),kce=function(n){Ni(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.holding=!1,r.animating=!0,r}var t=e.prototype;return t.onAnimationEnd=function(r){var i=r.transitTo;i(In.IDLE)},t.onChange=function(r){var i=r.axesEvent,s=r.transitTo;i.stop(),s(In.IDLE)},t.onRelease=function(r){var i=r.axesEvent,s=r.transitTo;i.delta.flick===0&&s(In.IDLE)},e}(Ny),Oce=function(){function n(){var t=this;this.transitTo=function(r){var i;switch(r){case In.IDLE:i=new yF;break;case In.HOLDING:i=new Rce;break;case In.DRAGGING:i=new Ice;break;case In.ANIMATING:i=new Nce;break;case In.DISABLED:i=new kce;break}return i.onEnter(t._state),t._state=i,t._state},this._state=new yF}var e=n.prototype;return Object.defineProperty(e,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.fire=function(t,r){var i=this._state,s=Gi(Gi({},r),{transitTo:this.transitTo});switch(t){case Si.HOLD:i.onHold(s);break;case Si.CHANGE:i.onChange(s);break;case Si.RELEASE:i.onRelease(s);break;case Si.ANIMATION_END:i.onAnimationEnd(s);break;case Si.FINISH:i.onFinish(s);break}},n}(),Lce=function(){function n(){var t=this;this._onAxesHold=function(){t._dragged=!1},this._onAxesChange=function(){var r;t._dragged=!!(!((r=t._panInput)===null||r===void 0)&&r.isEnabled())},this._preventClickWhenDragged=function(r){t._dragged&&(r.preventDefault(),r.stopPropagation()),t._dragged=!1},this._resetInternalValues(),this._stateMachine=new Oce}var e=n.prototype;return Object.defineProperty(e,"axes",{get:function(){return this._axes},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panInput",{get:function(){return this._panInput},enumerable:!1,configurable:!0}),Object.defineProperty(e,"stateMachine",{get:function(){return this._stateMachine},enumerable:!1,configurable:!0}),Object.defineProperty(e,"state",{get:function(){return this._stateMachine.state},enumerable:!1,configurable:!0}),Object.defineProperty(e,"animatingContext",{get:function(){return this._animatingContext},enumerable:!1,configurable:!0}),Object.defineProperty(e,"controlParams",{get:function(){var t=this._axes;if(!t)return{range:{min:0,max:0},position:0,circular:!1};var r=t.axis[Ln];return{range:{min:r.range[0],max:r.range[1]},circular:r.circular[0],position:this.position}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enabled",{get:function(){var t,r;return(r=(t=this._panInput)===null||t===void 0?void 0:t.isEnabled())!==null&&r!==void 0?r:!1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"position",{get:function(){var t,r;return(r=(t=this._axes)===null||t===void 0?void 0:t.get([Ln])[Ln])!==null&&r!==void 0?r:0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"range",{get:function(){var t,r;return(r=(t=this._axes)===null||t===void 0?void 0:t.axis[Ln].range)!==null&&r!==void 0?r:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"bounce",{get:function(){var t;return(t=this._axes)===null||t===void 0?void 0:t.axis[Ln].bounce},enumerable:!1,configurable:!0}),e.init=function(t){var r,i=this;this._flicking=t,this._axes=new ece((r={},r[Ln]={range:[0,0],circular:!1,bounce:[0,0]},r),{deceleration:t.deceleration,interruptable:t.interruptable,nested:t.nested,easing:t.easing}),this._panInput=new Zle(t.viewport.element,{inputType:t.inputType,threshold:1,iOSEdgeSwipeThreshold:t.iOSEdgeSwipeThreshold,scale:t.horizontal?[-1,0]:[0,-1],releaseOnScroll:!0});var s=this._axes;s.connect(t.horizontal?[Ln,""]:["",Ln],this._panInput);var o=function(l){var c=Si[l];s.on(c,function(u){i._stateMachine.fire(c,{flicking:t,axesEvent:u})})};for(var a in Si)o(a);return this},e.destroy=function(){var t;this._axes&&(this.removePreventClickHandler(),this._axes.destroy()),(t=this._panInput)===null||t===void 0||t.destroy(),this._resetInternalValues()},e.enable=function(){var t;return(t=this._panInput)===null||t===void 0||t.enable(),this},e.disable=function(){var t;return(t=this._panInput)===null||t===void 0||t.disable(),this},e.release=function(){var t;return(t=this._panInput)===null||t===void 0||t.release(),this},e.updateAnimation=function(t,r){var i,s;return this._animatingContext=Gi(Gi({},this._animatingContext),{end:t}),(s=this._axes)===null||s===void 0||s.updateAnimation({destPos:(i={},i[Ln]=t,i),duration:r}),this},e.stopAnimation=function(){var t;return(t=this._axes)===null||t===void 0||t.stopAnimation(),this},e.update=function(t){var r,i=gt(this._flicking),s=i.camera,o=this._axes,a=o.axis[Ln];return a.circular=[t.circular,t.circular],a.range=[t.range.min,t.range.max],a.bounce=wce(i.bounce,s.size),o.axisManager.set((r={},r[Ln]=t.position,r)),this},e.addPreventClickHandler=function(){var t=gt(this._flicking),r=this._axes,i=t.camera.element;return r.on(Si.HOLD,this._onAxesHold),r.on(Si.CHANGE,this._onAxesChange),i.addEventListener("click",this._preventClickWhenDragged,!0),this},e.removePreventClickHandler=function(){var t=gt(this._flicking),r=this._axes,i=t.camera.element;return r.off(Si.HOLD,this._onAxesHold),r.off(Si.CHANGE,this._onAxesChange),i.removeEventListener("click",this._preventClickWhenDragged,!0),this},e.animateTo=function(t,r,i){var s,o=this,a,l=this._axes,c=this._stateMachine.state;if(!l)return Promise.reject(new xn(Tn.NOT_ATTACHED_TO_FLICKING,En.NOT_ATTACHED_TO_FLICKING));var u=l.get([Ln])[Ln];if(u===t){var d=gt(this._flicking);return d.camera.lookAt(t),c.targetPanel&&d.control.setActive(c.targetPanel,d.control.activePanel,(a=i==null?void 0:i.isTrusted)!==null&&a!==void 0?a:!1),Promise.resolve()}this._animatingContext={start:u,end:t,offset:0};var h=function(){var v,_,x=function(){o._animatingContext={start:0,end:0,offset:0}};l.once(Si.FINISH,x),i?i.setTo((v={},v[Ln]=t,v),r):l.setTo((_={},_[Ln]=t,_),r)};if(r===0){var d=gt(this._flicking),m=d.camera;h();var g=d.circularEnabled?xN(t,m.range.min,m.range.max):t;return l.axisManager.set((s={},s[Ln]=g,s)),Promise.resolve()}else return new Promise(function(v,_){var x=function(){l.off(Si.HOLD,b),v()},b=function(){l.off(Si.FINISH,x),_(new xn(Tn.ANIMATION_INTERRUPTED,En.ANIMATION_INTERRUPTED))};l.once(Si.FINISH,x),l.once(Si.HOLD,b),h()})},e.updateDirection=function(){var t=gt(this._flicking),r=this._axes,i=this._panInput;r.disconnect(i),r.connect(t.horizontal?[Ln,""]:["",Ln],i),i.options.scale=t.horizontal?[-1,0]:[0,-1]},e._resetInternalValues=function(){this._flicking=null,this._axes=null,this._panInput=null,this._animatingContext={start:0,end:0,offset:0},this._dragged=!1},n}(),bN=function(){function n(){this._flicking=null,this._controller=new Lce,this._activePanel=null}var e=n.prototype;return Object.defineProperty(e,"controller",{get:function(){return this._controller},enumerable:!1,configurable:!0}),Object.defineProperty(e,"activeIndex",{get:function(){var t,r;return(r=(t=this._activePanel)===null||t===void 0?void 0:t.index)!==null&&r!==void 0?r:-1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"activePanel",{get:function(){return this._activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(e,"animating",{get:function(){return this._controller.state.animating},enumerable:!1,configurable:!0}),Object.defineProperty(e,"holding",{get:function(){return this._controller.state.holding},enumerable:!1,configurable:!0}),e.init=function(t){return this._flicking=t,this._controller.init(t),this},e.destroy=function(){this._controller.destroy(),this._flicking=null,this._activePanel=null},e.enable=function(){return this._controller.enable(),this},e.disable=function(){return this._controller.disable(),this},e.release=function(){return this._controller.release(),this},e.updateAnimation=function(t,r,i){var s=this._controller.state,o=this._getPosition(t,i??Vt.NONE);return s.targetPanel=t,this._controller.updateAnimation(o,r),this},e.stopAnimation=function(){var t=this._controller.state;return t.targetPanel=null,this._controller.stopAnimation(),this},e.updatePosition=function(t){var r=gt(this._flicking),i=r.camera,s=this._activePanel;s&&i.lookAt(i.clampToReachablePosition(s.position))},e.updateInput=function(){var t=gt(this._flicking),r=t.camera;return this._controller.update(r.controlParams),this},e.resetActive=function(){return this._activePanel=null,this},e.moveToPanel=function(t,r){var i=r.duration,s=r.direction,o=s===void 0?Vt.NONE:s,a=r.axesEvent;return bf(this,void 0,void 0,function(){var l;return wf(this,function(c){return l=this._getPosition(t,o),this._triggerIndexChangeEvent(t,t.position,a),[2,this._animateToPosition({position:l,duration:i,newActivePanel:t,axesEvent:a})]})})},e.setActive=function(t,r,i){var s,o=gt(this._flicking);this._activePanel=t,o.camera.updateAdaptiveHeight(),t!==r?o.trigger(new Wt(Et.CHANGED,{index:t.index,panel:t,prevIndex:(s=r==null?void 0:r.index)!==null&&s!==void 0?s:-1,prevPanel:r,isTrusted:i,direction:r?wd(r.position,t.position):Vt.NONE})):o.trigger(new Wt(Et.RESTORED,{isTrusted:i}))},e.copy=function(t){this._flicking=t._flicking,this._activePanel=t._activePanel,this._controller=t._controller},e._triggerIndexChangeEvent=function(t,r,i){var s,o=gt(this._flicking),a=t!==this._activePanel?Et.WILL_CHANGE:Et.WILL_RESTORE,l=o.camera,c=this._activePanel,u=new Wt(a,{index:t.index,panel:t,isTrusted:(i==null?void 0:i.isTrusted)||!1,direction:wd((s=c==null?void 0:c.position)!==null&&s!==void 0?s:l.position,r)});if(o.trigger(u),u.isCanceled())throw new xn(Tn.STOP_CALLED_BY_USER,En.STOP_CALLED_BY_USER)},e._animateToPosition=function(t){var r=t.position,i=t.duration,s=t.newActivePanel,o=t.axesEvent;return bf(this,void 0,void 0,function(){var a,l,c,u=this;return wf(this,function(d){return a=gt(this._flicking),l=function(){return u._controller.animateTo(r,i,o)},c=this._controller.state,c.targetPanel=s,i<=0?[2,l()]:[2,l().then(function(){return bf(u,void 0,void 0,function(){return wf(this,function(h){switch(h.label){case 0:return[4,a.renderer.render()];case 1:return h.sent(),[2]}})})}).catch(function(h){if(!(o&&h instanceof xn&&h.code===En.ANIMATION_INTERRUPTED))throw h})]})})},e._getPosition=function(t,r){r===void 0&&(r=Vt.NONE);var i=gt(this._flicking),s=i.camera,o=t.position,a=s.findNearestAnchor(o);if(t.removed||!a)throw new xn(Tn.POSITION_NOT_REACHABLE(t.position),En.POSITION_NOT_REACHABLE);if(!s.canReach(t))o=a.position,t=a.panel;else if(i.circularEnabled){var l=this._controller.position,c=s.rangeDiff,u=[o,o+c,o-c].filter(function(d){return r===Vt.NONE?!0:r===Vt.PREV?d<=l:d>=l});o=u.reduce(function(d,h){return Math.abs(l-h)<Math.abs(l-d)?h:d},1/0)}return o},n}(),Ci=function(){function n(t){var r=t.index,i=t.position,s=t.panel;this._index=r,this._pos=i,this._panel=s}var e=n.prototype;return Object.defineProperty(e,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(e,"position",{get:function(){return this._pos},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panel",{get:function(){return this._panel},enumerable:!1,configurable:!0}),n}(),Dce=function(n){Ni(e,n);function e(r){var i=(r===void 0?{}:r).count,s=i===void 0?1/0:i,o=n.call(this)||this;return o._count=s,o}var t=e.prototype;return Object.defineProperty(t,"count",{get:function(){return this._count},set:function(r){this._count=r},enumerable:!1,configurable:!0}),t.moveToPosition=function(r,i,s){var o=gt(this._flicking),a=o.camera,l=a.findActiveAnchor(),c=a.findNearestAnchor(a.position),u=this._controller.state;if(!l||!c)return Promise.reject(new xn(Tn.POSITION_NOT_REACHABLE(r),En.POSITION_NOT_REACHABLE));var d=this._calcSnapThreshold(r,l),h=o.animating?u.delta:r-a.position,m=Math.abs(h),g=s&&s.delta[Ln]!==0?Math.abs(s.delta[Ln]):m,v;if(g>=d&&g>0)v=this._findSnappedAnchor(r,c);else if(m>=o.threshold&&m>0)v=this._findAdjacentAnchor(r,h,c);else return this.moveToPanel(c.panel,{duration:i,axesEvent:s});return this._triggerIndexChangeEvent(v.panel,r,s),this._animateToPosition({position:a.clampToReachablePosition(v.position),duration:i,newActivePanel:v.panel,axesEvent:s})},t._findSnappedAnchor=function(r,i){var s=gt(this._flicking),o=s.camera,a=this._count,l=o.position,c=o.clampToReachablePosition(r),u=o.findAnchorIncludePosition(c);if(!i||!u)throw new xn(Tn.POSITION_NOT_REACHABLE(r),En.POSITION_NOT_REACHABLE);if(!isFinite(a))return u;var d=s.panelCount,h=o.anchorPoints,m=Math.sign(r-l)*Math.floor(Math.abs(r-l)/o.rangeDiff);r>l&&u.index<i.index||u.position>i.position&&u.index===i.index?m+=1:(r<l&&u.index>i.index||u.position<i.position&&u.index===i.index)&&(m-=1);var g=m*d,v=u.index+g;if(Math.abs(v-i.index)<=a){var _=h[u.index];return new Ci({index:_.index,position:_.position+m*o.rangeDiff,panel:_.panel})}if(s.circularEnabled){var x=h[o8(i.index+Math.sign(r-l)*a,d)],b=Math.floor(a/d);return r>l&&x.index<i.index?b+=1:r<l&&x.index>i.index&&(b-=1),new Ci({index:x.index,position:x.position+b*o.rangeDiff,panel:x.panel})}else return h[od(i.index+Math.sign(r-l)*a,0,h.length-1)]},t._findAdjacentAnchor=function(r,i,s){var o,a=gt(this._flicking),l=a.camera;if(l.circularEnabled){var c=l.findAnchorIncludePosition(r);if(c&&c.position!==s.position)return c}var u=(o=i>0?l.getNextAnchor(s):l.getPrevAnchor(s))!==null&&o!==void 0?o:s;return u},t._calcSnapThreshold=function(r,i){var s=r>i.position,o=i.panel,a=o.size,l=o.alignPosition;return s?a-l+o.margin.next:l+o.margin.prev},e}(bN),Bce=function(n){Ni(e,n);function e(r){var i=(r===void 0?{}:r).stopAtEdge,s=i===void 0?!0:i,o=n.call(this)||this;return o._stopAtEdge=s,o}var t=e.prototype;return Object.defineProperty(t,"stopAtEdge",{get:function(){return this._stopAtEdge},set:function(r){this._stopAtEdge=r},enumerable:!1,configurable:!0}),t.updatePosition=function(r){var i=gt(this._flicking),s=i.camera,o=this._activePanel;if(o){var a=o.range,l=a.min+(a.max-a.min)*r;s.lookAt(s.clampToReachablePosition(l))}},t.moveToPosition=function(r,i,s){var o=gt(this._flicking),a=o.camera,l=a.clampToReachablePosition(r),c=a.findAnchorIncludePosition(l);if(!c)return Promise.reject(new xn(Tn.POSITION_NOT_REACHABLE(r),En.POSITION_NOT_REACHABLE));var u=c.panel;return u!==this._activePanel&&this._triggerIndexChangeEvent(u,r,s),this._animateToPosition({position:this._stopAtEdge?l:r,duration:i,newActivePanel:u,axesEvent:s})},e}(bN),Fce=function(n){Ni(e,n);function e(r){var i=(r===void 0?{}:r).count,s=i===void 0?1:i,o=n.call(this)||this;return o.setActive=function(a,l,c){n.prototype.setActive.call(o,a,l,c),o.updateInput()},o._count=s,o._resetIndexRange(),o}var t=e.prototype;return Object.defineProperty(t,"count",{get:function(){return this._count},set:function(r){this._count=r},enumerable:!1,configurable:!0}),t.destroy=function(){n.prototype.destroy.call(this),this._resetIndexRange()},t.updateInput=function(){var r,i=gt(this._flicking),s=i.camera,o=i.renderer,a=this._controller,l=s.controlParams,c=this._count,u=a.state.animating?(r=s.findNearestAnchor(s.position))===null||r===void 0?void 0:r.panel:this._activePanel;if(!u)return a.update(l),this._resetIndexRange(),this;var d=l.range,h=u.position,m=u.index,g=o.panelCount,v=m-c,_=m+c;v<0&&(v=i.circularEnabled?Yb((v+1)%g-1,g):od(v,0,g-1)),_>=g&&(_=i.circularEnabled?_%g:od(_,0,g-1));var x=o.panels[v],b=o.panels[_],w=Math.max(x.position,d.min),E=Math.min(b.position,d.max);return w>h&&(w-=s.rangeDiff),E<h&&(E+=s.rangeDiff),l.range={min:w,max:E},l.circular&&(l.position<w&&(l.position+=s.rangeDiff),l.position>E&&(l.position-=s.rangeDiff)),l.circular=!1,a.update(l),this._indexRange={min:x.index,max:b.index},this},t.moveToPanel=function(r,i){return bf(this,void 0,void 0,function(){var s,o,a;return wf(this,function(l){return s=gt(this._flicking),o=s.camera,a=this._controller,a.update(o.controlParams),[2,n.prototype.moveToPanel.call(this,r,i)]})})},t.moveToPosition=function(r,i,s){var o=gt(this._flicking),a=o.camera,l=this._activePanel,c=this._controller.range,u=this._indexRange,d=a.range,h=this._controller.state,m=od(a.clampToReachablePosition(r),c[0],c[1]),g=a.findAnchorIncludePosition(m);if(!g||!l)return Promise.reject(new xn(Tn.POSITION_NOT_REACHABLE(r),En.POSITION_NOT_REACHABLE));var v=l.position,_=o.animating?h.delta:r-a.position,x=Math.abs(_)>=o.threshold,b=r>v?a.getNextAnchor(g):a.getPrevAnchor(g),w,E,A=a.anchorPoints,T=A[0],I=A[A.length-1],M=r<=d.min&&iA(T.panel.index,u.min,u.max),R=r>=d.max&&iA(I.panel.index,u.min,u.max),O=b&&(u.min<=u.max?iA(b.index,u.min,u.max):b.index>=u.min||b.index<=u.max);if(M||R){var L=r<d.min?T:I;E=L.panel,w=L.position}else if(x&&g.position!==l.position)E=g.panel,w=g.position;else if(x&&O)E=b.panel,w=b.position;else{var X=a.findNearestAnchor(a.position);return X?this.moveToPanel(X.panel,{duration:i,axesEvent:s}):Promise.reject(new xn(Tn.POSITION_NOT_REACHABLE(r),En.POSITION_NOT_REACHABLE))}return this._triggerIndexChangeEvent(E,r,s),this._animateToPosition({position:w,duration:i,newActivePanel:E,axesEvent:s})},t._resetIndexRange=function(){this._indexRange={min:0,max:0}},e}(bN),wN=function(){function n(t){this._flicking=t}var e=n.prototype;return e.getAnchors=function(){var t=this._flicking.renderer.panels;return t.map(function(r,i){return new Ci({index:i,position:r.position,panel:r})})},e.findAnchorIncludePosition=function(t){var r=this._flicking.camera.anchorPoints,i=r.filter(function(s){return s.panel.includePosition(t,!0)});return i.reduce(function(s,o){return s&&Math.abs(s.position-t)<Math.abs(o.position-t)?s:o},null)},e.findNearestAnchor=function(t){var r=this._flicking.camera.anchorPoints;if(r.length<=0)return null;for(var i=1/0,s=0;s<r.length;s++){var o=r[s],a=Math.abs(o.position-t);if(a>i)return r[s-1];i=a}return r[r.length-1]},e.clampToReachablePosition=function(t){var r=this._flicking.camera,i=r.range;return od(t,i.min,i.max)},e.getCircularOffset=function(){return 0},e.canReach=function(t){var r=this._flicking.camera,i=r.range;if(t.removed)return!1;var s=t.position;return s>=i.min&&s<=i.max},e.canSee=function(t){var r=this._flicking.camera,i=r.visibleRange;return t.isVisibleOnRange(i.min,i.max)},n}(),_F=function(n){Ni(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t.checkAvailability=function(){return!0},t.getRange=function(){var r,i,s=this._flicking.renderer,o=s.getPanel(0),a=s.getPanel(s.panelCount-1);return{min:(r=o==null?void 0:o.position)!==null&&r!==void 0?r:0,max:(i=a==null?void 0:a.position)!==null&&i!==void 0?i:0}},e}(wN),zce=function(n){Ni(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t.checkAvailability=function(){var r=this._flicking,i=r.renderer,s=i.panels;if(s.length<=0)return!1;var o=s[0],a=s[s.length-1],l=o.range.min-o.margin.prev,c=a.range.max+a.margin.next,u=r.camera.size,d=c-l,h=s.every(function(m){return d-m.size>=u});return h},t.getRange=function(){var r=this._flicking,i=r.renderer.panels;if(i.length<=0)return{min:0,max:0};var s=i[0],o=i[i.length-1],a=s.range.min-s.margin.prev,l=o.range.max+o.margin.next;return{min:a,max:l}},t.getAnchors=function(){var r=this._flicking,i=r.renderer.panels;return i.map(function(s,o){return new Ci({index:o,position:s.position,panel:s})})},t.findNearestAnchor=function(r){var i=this._flicking.camera,s=i.anchorPoints;if(s.length<=0)return null;for(var o=i.range,a=1/0,l=-1,c=0;c<s.length;c++){var u=s[c],d=Math.min(Math.abs(u.position-r),Math.abs(u.position-o.min+o.max-r),Math.abs(r-o.min+o.max-u.position));d<a&&(a=d,l=c)}return s[l]},t.findAnchorIncludePosition=function(r){var i=this._flicking.camera,s=i.range,o=i.anchorPoints,a=i.rangeDiff,l=o.length,c=xN(r,s.min,s.max),u=n.prototype.findAnchorIncludePosition.call(this,c);if(l>0&&(r===s.min||r===s.max)){var d=[u,new Ci({index:0,position:o[0].position+a,panel:o[0].panel}),new Ci({index:l-1,position:o[l-1].position-a,panel:o[l-1].panel})].filter(function(m){return!!m});u=d.reduce(function(m,g){return m&&Math.abs(m.position-r)<Math.abs(g.position-r)?m:g},null)}if(!u)return null;if(r<s.min){var h=-Math.floor((s.min-r)/a)-1;return new Ci({index:u.index,position:u.position+a*h,panel:u.panel})}else if(r>s.max){var h=Math.floor((r-s.max)/a)+1;return new Ci({index:u.index,position:u.position+a*h,panel:u.panel})}return u},t.getCircularOffset=function(){var r=this._flicking,i=r.camera;if(!i.circularEnabled)return 0;var s=r.panels.filter(function(l){return l.toggled}),o=s.filter(function(l){return l.toggleDirection===Vt.PREV}),a=s.filter(function(l){return l.toggleDirection===Vt.NEXT});return this._calcPanelAreaSum(o)-this._calcPanelAreaSum(a)},t.clampToReachablePosition=function(r){return r},t.canReach=function(r){return!r.removed},t.canSee=function(r){var i=this._flicking.camera,s=i.range,o=i.rangeDiff,a=i.visibleRange,l=n.prototype.canSee.call(this,r);return a.min<s.min?l||r.isVisibleOnRange(a.min+o,a.max+o):a.max>s.max?l||r.isVisibleOnRange(a.min-o,a.max-o):l},t._calcPanelAreaSum=function(r){return r.reduce(function(i,s){return i+s.sizeIncludingMargin},0)},e}(wN),xF=function(n){Ni(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t.checkAvailability=function(){var r=this._flicking,i=r.renderer,s=i.getPanel(0),o=i.getPanel(i.panelCount-1);if(!s||!o)return!1;var a=r.camera.size,l=s.range.min,c=o.range.max,u=c-l,d=a<u;return d},t.getRange=function(){var r=this._flicking,i=r.renderer,s=r.camera.alignPosition,o=i.getPanel(0),a=i.getPanel(i.panelCount-1);if(!o||!a)return{min:0,max:0};var l=r.camera.size,c=o.range.min,u=a.range.max,d=u-c,h=l<d,m=c+s,g=u-l+s;if(h)return{min:m,max:g};var v=r.camera.align,_=typeof v=="object"?v.camera:v,x=m+_N(_,g-m);return{min:x,max:x}},t.getAnchors=function(){var r=this._flicking,i=r.camera,s=r.renderer.panels;if(s.length<=0)return[];var o=r.camera.range,a=s.filter(function(v){return i.canReach(v)});if(a.length>0){var l=a[0].position!==o.min,c=a[a.length-1].position!==o.max,u=l?1:0,d=a.map(function(v,_){return new Ci({index:_+u,position:v.position,panel:v})});return l&&d.splice(0,0,new Ci({index:0,position:o.min,panel:s[a[0].index-1]})),c&&d.push(new Ci({index:d.length,position:o.max,panel:s[a[a.length-1].index+1]})),d}else if(o.min!==o.max){var h=this._findNearestPanel(o.min,s),m=h.index===s.length-1?h.prev():h,g=m.next();return[new Ci({index:0,position:o.min,panel:m}),new Ci({index:1,position:o.max,panel:g})]}else return[new Ci({index:0,position:o.min,panel:this._findNearestPanel(o.min,s)})]},t.findAnchorIncludePosition=function(r){var i=this._flicking.camera,s=i.range,o=i.anchorPoints;return o.length<=0?null:r<=s.min?o[0]:r>=s.max?o[o.length-1]:n.prototype.findAnchorIncludePosition.call(this,r)},t._findNearestPanel=function(r,i){for(var s=1/0,o=0;o<i.length;o++){var a=i[o],l=Math.abs(a.position-r);if(l>s)return i[o-1];s=l}return i[i.length-1]},e}(wN),Uce=function(){function n(t,r){var i=this,s=(r===void 0?{}:r).align,o=s===void 0?ba.CENTER:s;this._checkTranslateSupport=function(){var a,l,c=["webkitTransform","msTransform","MozTransform","OTransform","transform"],u=document.documentElement.style,d="";try{for(var h=J1(c),m=h.next();!m.done;m=h.next()){var g=m.value;g in u&&(d=g)}}catch(v){a={error:v}}finally{try{m&&!m.done&&(l=h.return)&&l.call(h)}finally{if(a)throw a.error}}if(!d)throw new xn(Tn.TRANSFORM_NOT_SUPPORTED,En.TRANSFORM_NOT_SUPPORTED);i._transform=d},this._flicking=t,this._resetInternalValues(),this._align=o}var e=n.prototype;return Object.defineProperty(e,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(e,"children",{get:function(){return yN(this._el.children)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(e,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(e,"offset",{get:function(){return this._offset-this._circularOffset},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circularEnabled",{get:function(){return this._circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e,"mode",{get:function(){return this._mode},enumerable:!1,configurable:!0}),Object.defineProperty(e,"range",{get:function(){return this._range},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rangeDiff",{get:function(){return this._range.max-this._range.min},enumerable:!1,configurable:!0}),Object.defineProperty(e,"visiblePanels",{get:function(){return this._visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(e,"visibleRange",{get:function(){return{min:this._position-this._alignPos,max:this._position-this._alignPos+this.size}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"anchorPoints",{get:function(){return this._anchors},enumerable:!1,configurable:!0}),Object.defineProperty(e,"controlParams",{get:function(){return{range:this._range,position:this._position,circular:this._circularEnabled}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"atEdge",{get:function(){return this._position<=this._range.min||this._position>=this._range.max},enumerable:!1,configurable:!0}),Object.defineProperty(e,"size",{get:function(){var t=this._flicking;return t?t.horizontal?t.viewport.width:t.viewport.height:0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"progress",{get:function(){var t=this._flicking,r=this._position+this._offset,i=this.findNearestAnchor(this._position);if(!t||!i)return NaN;var s=i.panel,o=s.position+s.offset,a=t.control.controller.bounce,l=this.range,c=l.min,u=l.max,d=this.rangeDiff;if(r===o)return s.index;if(r<o){var h=s.prev(),m=h?h.position+h.offset:c-a[0];return m>o&&(m-=d),s.index-1+Qb(r,m,o)}else{var g=s.next(),v=g?g.position+g.offset:u+a[1];return v<o&&(v+=d),s.index+Qb(r,o,v)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"align",{get:function(){return this._align},set:function(t){this._align=t},enumerable:!1,configurable:!0}),e.init=function(){var t=this._flicking.viewport.element;return bce(t.firstElementChild,"First element child of the viewport element"),this._el=t.firstElementChild,this._checkTranslateSupport(),this._updateMode(),this},e.destroy=function(){return this._resetInternalValues(),this},e.lookAt=function(t){var r=this,i=gt(this._flicking),s=this._position;this._position=t;var o=this._togglePanels(s,t);this._refreshVisiblePanels(),this._checkNeedPanel(),this._checkReachEnd(s,t),o?i.renderer.render().then(function(){r.updateOffset()}):this.applyTransform()},e.getPrevAnchor=function(t){if(!this._circularEnabled||t.index!==0)return this._anchors[t.index-1]||null;var r=this._anchors,i=this.rangeDiff,s=r[r.length-1];return new Ci({index:s.index,position:s.position-i,panel:s.panel})},e.getNextAnchor=function(t){var r=this._anchors;if(!this._circularEnabled||t.index!==r.length-1)return r[t.index+1]||null;var i=this.rangeDiff,s=r[0];return new Ci({index:s.index,position:s.position+i,panel:s.panel})},e.getProgressInPanel=function(t){var r=t.range;return(this._position-r.min)/(r.max-r.min)},e.findAnchorIncludePosition=function(t){return this._mode.findAnchorIncludePosition(t)},e.findNearestAnchor=function(t){return this._mode.findNearestAnchor(t)},e.findActiveAnchor=function(){var t=gt(this._flicking),r=t.control.activeIndex;return Sce(this._anchors,function(i){return i.panel.index===r})},e.clampToReachablePosition=function(t){return this._mode.clampToReachablePosition(t)},e.canReach=function(t){return this._mode.canReach(t)},e.canSee=function(t){return this._mode.canSee(t)},e.updateRange=function(){var t=gt(this._flicking),r=t.renderer,i=r.panels;return this._updateMode(),this._range=this._mode.getRange(),i.forEach(function(s){return s.updateCircularToggleDirection()}),this},e.updateAlignPos=function(){var t=this._align,r=typeof t=="object"?t.camera:t;return this._alignPos=_N(r,this.size),this},e.updateAnchors=function(){return this._anchors=this._mode.getAnchors(),this},e.updateAdaptiveHeight=function(){var t=gt(this._flicking),r=t.control.activePanel;!t.horizontal||!t.adaptive||!r||t.viewport.setSize({height:r.height})},e.updateOffset=function(){var t=gt(this._flicking),r=this._position,i=t.panels.filter(function(s){return!s.rendered});return this._offset=i.filter(function(s){return s.position+s.offset<r}).reduce(function(s,o){return s+o.sizeIncludingMargin},0),this._circularOffset=this._mode.getCircularOffset(),this.applyTransform(),this},e.resetNeedPanelHistory=function(){return this._needPanelTriggered={prev:!1,next:!1},this},e.applyTransform=function(){var t=this._el,r=gt(this._flicking),i=r.renderer;if(i.rendering)return this;var s=this._position-this._alignPos-this._offset+this._circularOffset;return t.style[this._transform]=r.horizontal?"translate("+-s+"px)":"translate(0, "+-s+"px)",this},e._resetInternalValues=function(){this._position=0,this._alignPos=0,this._offset=0,this._circularOffset=0,this._circularEnabled=!1,this._range={min:0,max:0},this._visiblePanels=[],this._anchors=[],this._needPanelTriggered={prev:!1,next:!1}},e._refreshVisiblePanels=function(){var t=this,r=gt(this._flicking),i=r.renderer.panels,s=i.filter(function(c){return t.canSee(c)}),o=this._visiblePanels;this._visiblePanels=s;var a=s.filter(function(c){return!qb(o,c)}),l=o.filter(function(c){return!qb(s,c)});(a.length>0||l.length>0)&&r.renderer.render().then(function(){r.trigger(new Wt(Et.VISIBLE_CHANGE,{added:a,removed:l,visiblePanels:s}))})},e._checkNeedPanel=function(){var t=this._needPanelTriggered;if(!(t.prev&&t.next)){var r=gt(this._flicking),i=r.renderer.panels;if(i.length<=0){t.prev||(r.trigger(new Wt(Et.NEED_PANEL,{direction:Vt.PREV})),t.prev=!0),t.next||(r.trigger(new Wt(Et.NEED_PANEL,{direction:Vt.NEXT})),t.next=!0);return}var s=this._position,o=this.size,a=this._range,l=r.needPanelThreshold,c=s-this._alignPos,u=c+o,d=i[0],h=i[i.length-1];if(!t.prev){var m=d.range.min;(c<=m+l||s<=a.min+l)&&(r.trigger(new Wt(Et.NEED_PANEL,{direction:Vt.PREV})),t.prev=!0)}if(!t.next){var g=h.range.max;(u>=g-l||s>=a.max-l)&&(r.trigger(new Wt(Et.NEED_PANEL,{direction:Vt.NEXT})),t.next=!0)}}},e._checkReachEnd=function(t,r){var i=gt(this._flicking),s=this._range,o=t>s.min&&t<s.max,a=r>s.min&&r<s.max;if(!(!o||a)){var l=r<=s.min?Vt.PREV:Vt.NEXT;i.trigger(new Wt(Et.REACH_EDGE,{direction:l}))}},e._updateMode=function(){var t=gt(this._flicking);if(t.circular){var r=new zce(t),i=r.checkAvailability();if(i)this._mode=r;else{var s=t.circularFallback;this._mode=s===r8.BOUND?new xF(t):new _F(t)}this._circularEnabled=i}else this._mode=t.bound?new xF(t):new _F(t),this._circularEnabled=!1},e._togglePanels=function(t,r){if(r===t)return!1;var i=gt(this._flicking),s=i.renderer.panels,o=s.map(function(a){return a.toggle(t,r)});return o.some(function(a){return a})},n}(),a8=function(){function n(t){var r=t.align,i=r===void 0?ba.CENTER:r,s=t.strategy;this._flicking=null,this._panels=[],this._rendering=!1,this._align=i,this._strategy=s}var e=n.prototype;return Object.defineProperty(e,"panels",{get:function(){return this._panels},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rendering",{get:function(){return this._rendering},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panelCount",{get:function(){return this._panels.length},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strategy",{get:function(){return this._strategy},enumerable:!1,configurable:!0}),Object.defineProperty(e,"align",{get:function(){return this._align},set:function(t){this._align=t;var r=Jb(t);this._panels.forEach(function(i){i.align=r})},enumerable:!1,configurable:!0}),e.init=function(t){return this._flicking=t,this._collectPanels(),this},e.destroy=function(){this._flicking=null,this._panels=[]},e.getPanel=function(t){return this._panels[t]||null},e.forceRenderAllPanels=function(){return this._panels.forEach(function(t){return t.markForShow()}),Promise.resolve()},e.updatePanelSize=function(){var t=gt(this._flicking),r=this._panels;if(r.length<=0)return this;if(t.panelsPerView>0){var i=r[0];i.resize(),this._updatePanelSizeByGrid(i,r)}else t.panels.forEach(function(s){return s.resize()});return this},e.batchInsert=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=this.batchInsertDefer.apply(this,Cr(t));return i.length<=0?[]:(this.updateAfterPanelChange(i,[]),i)},e.batchInsertDefer=function(){for(var t=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=this._panels,o=gt(this._flicking),a=s[0],l=Jb(this._align),c=r.reduce(function(u,d){var h,m=Yb(d.index,s.length),g=s.slice(m),v=d.elements.map(function(x,b){return t._createPanel(x,{index:m+b,align:l,flicking:o})});if(s.splice.apply(s,Cr([m,0],v)),d.hasDOMInElements&&t._insertPanelElements(v,(h=g[0])!==null&&h!==void 0?h:null),o.panelsPerView>0){var _=a||v[0].resize();t._updatePanelSizeByGrid(_,v)}else v.forEach(function(x){return x.resize()});return g.forEach(function(x){x.increaseIndex(v.length),x.updatePosition()}),Cr(u,v)},[]);return c},e.batchRemove=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=this.batchRemoveDefer.apply(this,Cr(t));return i.length<=0?[]:(this.updateAfterPanelChange([],i),i)},e.batchRemoveDefer=function(){for(var t=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=this._panels,o=gt(this._flicking),a=o.control,l=a.activePanel,c=r.reduce(function(u,d){var h=d.index,m=d.deleteCount,g=Yb(h,s.length),v=s.slice(g+m),_=s.splice(g,m);return _.length<=0?[]:(v.forEach(function(x){x.decreaseIndex(_.length),x.updatePosition()}),d.hasDOMInElements&&t._removePanelElements(_),_.forEach(function(x){return x.destroy()}),qb(_,l)&&a.resetActive(),Cr(u,_))},[]);return c},e.updateAfterPanelChange=function(t,r){var i,s=gt(this._flicking),o=s.camera,a=s.control,l=this._panels,c=a.activePanel;if(this._updateCameraAndControl(),this.render(),!s.animating)if(!c||c.removed)if(l.length<=0)o.lookAt(0);else{var u=(i=c==null?void 0:c.index)!==null&&i!==void 0?i:0;u>l.length-1&&(u=l.length-1),a.moveToPanel(l[u],{duration:0}).catch(function(){})}else a.moveToPanel(c,{duration:0}).catch(function(){});s.camera.updateOffset(),(t.length>0||r.length>0)&&(s.trigger(new Wt(Et.PANEL_CHANGE,{added:t,removed:r})),this.checkPanelContentsReady(Cr(t,r)))},e.checkPanelContentsReady=function(t){var r=this,i=gt(this._flicking),s=i.resizeOnContentsReady,o=this._panels;if(!(!s||i.virtualEnabled)){var a=function(c){return c.element&&!!c.element.querySelector("img, video")};if(t=t.filter(function(c){return a(c)}),!(t.length<=0)){var l=new yce;t.forEach(function(c){c.loading=!0}),l.on("readyElement",function(c){if(!r._flicking){l.destroy();return}var u=t[c.index],d=i.camera,h=i.control,m=h.activePanel?d.getProgressInPanel(h.activePanel):0;u.loading=!1,u.resize(),o.slice(u.index+1).forEach(function(g){return g.updatePosition()}),i.initialized&&(d.updateRange(),d.updateOffset(),d.updateAnchors(),h.animating||(h.updatePosition(m),h.updateInput()))}),l.on("preReady",function(c){r._flicking&&r.render(),c.readyCount===c.totalCount&&l.destroy()}),l.on("ready",function(){r._flicking&&r.render(),l.destroy()}),l.check(t.map(function(c){return c.element}))}}},e._updateCameraAndControl=function(){var t=gt(this._flicking),r=t.camera,i=t.control;r.updateRange(),r.updateOffset(),r.updateAnchors(),r.resetNeedPanelHistory(),i.updateInput()},e._showOnlyVisiblePanels=function(t){var r=t.renderer.panels,i=t.camera,s=i.visiblePanels.reduce(function(o,a){return o[a.index]=!0,o},{});r.forEach(function(o){o.index in s||o.loading?o.markForShow():t.holding||o.markForHide()})},e._updatePanelSizeByGrid=function(t,r){var i=gt(this._flicking),s=i.panelsPerView;if(s<=0)throw new xn(Tn.WRONG_OPTION("panelsPerView",s),En.WRONG_OPTION);if(!(r.length<=0)){var o=i.camera.size,a=t.margin.prev+t.margin.next,l=(o-a*(s-1))/s,c=i.horizontal?{width:l}:{height:l},u=Gi({size:l,margin:t.margin},!i.horizontal&&{height:t.height});i.noPanelStyleOverride||this._strategy.updatePanelSizes(i,c),i.panels.forEach(function(d){return d.resize(u)})}},e._removeAllChildsFromCamera=function(){for(var t=gt(this._flicking),r=t.camera.element;r.firstChild;)r.removeChild(r.firstChild)},e._insertPanelElements=function(t,r){r===void 0&&(r=null);var i=gt(this._flicking),s=i.camera,o=s.element,a=(r==null?void 0:r.element)||null,l=document.createDocumentFragment();t.forEach(function(c){return l.appendChild(c.element)}),o.insertBefore(l,a)},e._removePanelElements=function(t){var r=gt(this._flicking),i=r.camera.element;t.forEach(function(s){i.removeChild(s.element)})},n}(),Hce=function(n){Ni(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t.render=function(){return bf(this,void 0,void 0,function(){var r,i;return wf(this,function(s){return r=gt(this._flicking),i=this._strategy,i.updateRenderingPanels(r),i.renderPanels(r),this._resetPanelElementOrder(),[2]})})},t._collectPanels=function(){var r=gt(this._flicking),i=r.camera;this._removeAllTextNodes(),this._panels=this._strategy.collectPanels(r,i.children)},t._createPanel=function(r,i){return this._strategy.createPanel(r,i)},t._resetPanelElementOrder=function(){var r=gt(this._flicking),i=r.camera.element,s=this._strategy.getRenderingElementsByOrder(r).reverse();s.forEach(function(o,a){var l=s[a-1]?s[a-1]:null;o.nextElementSibling!==l&&i.insertBefore(o,l)})},t._removeAllTextNodes=function(){var r=gt(this._flicking),i=r.camera.element;yN(i.childNodes).forEach(function(s){s.nodeType===Node.TEXT_NODE&&i.removeChild(s)})},e}(a8),Gce=function(n){Ni(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t._removePanelElements=function(r){},t._removeAllChildsFromCamera=function(){},e}(a8),wP=function(){function n(t){var r=t.index,i=t.align,s=t.flicking,o=t.elementProvider;this._index=r,this._flicking=s,this._elProvider=o,this._align=i,this._removed=!1,this._rendered=!0,this._loading=!1,this._resetInternalStates()}var e=n.prototype;return Object.defineProperty(e,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(e,"elementProvider",{get:function(){return this._elProvider},enumerable:!1,configurable:!0}),Object.defineProperty(e,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(e,"position",{get:function(){return this._pos+this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(e,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e,"sizeIncludingMargin",{get:function(){return this._size+this._margin.prev+this._margin.next},enumerable:!1,configurable:!0}),Object.defineProperty(e,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(e,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(e,"removed",{get:function(){return this._removed},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),Object.defineProperty(e,"loading",{get:function(){return this._loading},set:function(t){this._loading=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"range",{get:function(){return{min:this._pos,max:this._pos+this._size}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"toggled",{get:function(){return this._toggled},enumerable:!1,configurable:!0}),Object.defineProperty(e,"toggleDirection",{get:function(){return this._toggleDirection},enumerable:!1,configurable:!0}),Object.defineProperty(e,"offset",{get:function(){var t=this._toggleDirection,r=this._flicking.camera.rangeDiff;return t===Vt.NONE||!this._toggled?0:t===Vt.PREV?-r:r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"progress",{get:function(){var t=this._flicking;return this.index-t.camera.progress},enumerable:!1,configurable:!0}),Object.defineProperty(e,"outsetProgress",{get:function(){var t=this.position+this.offset,r=this._alignPos,i=this._flicking.camera,s=i.position;if(s===t)return 0;if(s<t){var o=t+(i.size-i.alignPosition)+r;return-Qb(s,t,o)}else{var a=t-(i.alignPosition+this._size-r);return 1-Qb(s,a,t)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"visibleRatio",{get:function(){var t=this.range,r=this._size,i=this.offset,s=this._flicking.camera.visibleRange,o={min:t.min+i,max:t.max+i};if(o.max<=s.min||o.min>=s.max)return 0;var a=r;return s.min>o.min&&(a-=s.min-o.min),s.max<o.max&&(a-=o.max-s.max),a/r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"align",{get:function(){return this._align},set:function(t){this._align=t,this._updateAlignPos()},enumerable:!1,configurable:!0}),e.markForShow=function(){this._rendered=!0,this._elProvider.show(this._flicking)},e.markForHide=function(){this._rendered=!1,this._elProvider.hide(this._flicking)},e.resize=function(t){var r,i=this.element,s=this._flicking,o=s.horizontal,a=s.useFractionalSize;if(t)this._size=t.size,this._margin=Gi({},t.margin),this._height=(r=t.height)!==null&&r!==void 0?r:Bg({el:i,horizontal:!1,useFractionalSize:a,useOffset:!0,style:bP(i)});else{var l=bP(i);this._size=Bg({el:i,horizontal:o,useFractionalSize:a,useOffset:!0,style:l}),this._margin=o?{prev:parseFloat(l.marginLeft||"0"),next:parseFloat(l.marginRight||"0")}:{prev:parseFloat(l.marginTop||"0"),next:parseFloat(l.marginBottom||"0")},this._height=o?Bg({el:i,horizontal:!1,useFractionalSize:a,useOffset:!0,style:l}):this._size}return this.updatePosition(),this._updateAlignPos(),this},e.setSize=function(t){return s8(this.element,t),this},e.contains=function(t){var r;return!!(!((r=this.element)===null||r===void 0)&&r.contains(t))},e.destroy=function(){this._resetInternalStates(),this._removed=!0},e.includePosition=function(t,r){return r===void 0&&(r=!1),this.includeRange(t,t,r)},e.includeRange=function(t,r,i){i===void 0&&(i=!1);var s=this._margin,o=this.range;return i&&(o.min-=s.prev,o.max+=s.next),r>=o.min&&t<=o.max},e.isVisibleOnRange=function(t,r){var i=this.range;return r>i.min&&t<i.max},e.focus=function(t){return this._flicking.moveTo(this._index,t)},e.prev=function(){var t=this._index,r=this._flicking,i=r.renderer,s=i.panelCount;return s===1?null:r.circularEnabled?i.getPanel(t===0?s-1:t-1):i.getPanel(t-1)},e.next=function(){var t=this._index,r=this._flicking,i=r.renderer,s=i.panelCount;return s===1?null:r.circularEnabled?i.getPanel(t===s-1?0:t+1):i.getPanel(t+1)},e.increaseIndex=function(t){return this._index+=Math.max(t,0),this},e.decreaseIndex=function(t){return this._index-=Math.max(t,0),this},e.updatePosition=function(){var t=this._flicking.renderer.panels[this._index-1];return this._pos=t?t.range.max+t.margin.next+this._margin.prev:this._margin.prev,this},e.toggle=function(t,r){var i=this._toggleDirection,s=this._togglePosition;if(i===Vt.NONE||r===t)return!1;var o=this._toggled;return r>t?s>=t&&s<=r&&(this._toggled=i===Vt.NEXT):s<=t&&s>=r&&(this._toggled=i!==Vt.NEXT),o!==this._toggled},e.updateCircularToggleDirection=function(){var t=this._flicking;if(!t.circularEnabled)return this._toggleDirection=Vt.NONE,this._togglePosition=0,this._toggled=!1,this;var r=t.camera,i=r.range,s=r.alignPosition,o=r.visibleRange,a=o.max-o.min,l=i.min-s,c=i.max-s+a,u=this.includeRange(c-a,c,!1),d=this.includeRange(l,l+a,!1);return this._toggled=!1,u?(this._toggleDirection=Vt.PREV,this._togglePosition=this.range.max+i.min-i.max+s,this.toggle(1/0,r.position)):d?(this._toggleDirection=Vt.NEXT,this._togglePosition=this.range.min+i.max-a+s,this.toggle(-1/0,r.position)):(this._toggleDirection=Vt.NONE,this._togglePosition=0),this},e._updateAlignPos=function(){this._alignPos=_N(this._align,this._size)},e._resetInternalStates=function(){this._size=0,this._pos=0,this._margin={prev:0,next:0},this._height=0,this._alignPos=0,this._toggled=!1,this._togglePosition=0,this._toggleDirection=Vt.NONE},n}(),l8=function(){function n(t){var r=t.providerCtor;this._providerCtor=r}var e=n.prototype;return e.renderPanels=function(){},e.getRenderingIndexesByOrder=function(t){var r=t.renderer.panels.filter(function(a){return a.rendered}),i=r.filter(function(a){return a.toggled&&a.toggleDirection===Vt.PREV}),s=r.filter(function(a){return a.toggled&&a.toggleDirection===Vt.NEXT}),o=r.filter(function(a){return!a.toggled});return Cr(i,o,s).map(function(a){return a.index})},e.getRenderingElementsByOrder=function(t){var r=t.panels;return this.getRenderingIndexesByOrder(t).map(function(i){return r[i].element})},e.updateRenderingPanels=function(t){t.renderOnlyVisible?this._showOnlyVisiblePanels(t):t.panels.forEach(function(r){return r.markForShow()})},e.collectPanels=function(t,r){var i=this,s=Jb(t.renderer.align);return r.map(function(o,a){return new wP({index:a,elementProvider:new i._providerCtor(o),align:s,flicking:t})})},e.createPanel=function(t,r){return new wP(Gi(Gi({},r),{elementProvider:new this._providerCtor(t)}))},e.updatePanelSizes=function(t,r){t.panels.forEach(function(i){return i.setSize(r)})},e._showOnlyVisiblePanels=function(t){var r=t.renderer.panels,i=t.camera,s=i.visiblePanels.reduce(function(o,a){return o[a.index]=!0,o},{});r.forEach(function(o){o.index in s||o.loading?o.markForShow():t.holding||o.markForHide()}),i.updateOffset()},n}(),bF=function(n){Ni(e,n);function e(r){var i=n.call(this,r)||this;return r.elementProvider.init(i),i._elProvider=r.elementProvider,i._cachedInnerHTML=null,i}var t=e.prototype;return Object.defineProperty(t,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cachedInnerHTML",{get:function(){return this._cachedInnerHTML},enumerable:!1,configurable:!0}),Object.defineProperty(t,"elementIndex",{get:function(){var r=this._flicking,i=r.panelsPerView+1,s=r.panelCount,o=this._index;return this._toggled&&(o=this._toggleDirection===Vt.NEXT?o+s:o-s),o8(o,i)},enumerable:!1,configurable:!0}),t.cacheRenderResult=function(r){this._cachedInnerHTML=r},t.uncacheRenderResult=function(){this._cachedInnerHTML=null},t.render=function(){var r=this._flicking,i=r.virtual,s=i.renderPanel,o=i.cache,a=this._elProvider.element,l=this._cachedInnerHTML||s(this,this._index);l!==a.innerHTML&&(a.innerHTML=l,o&&this.cacheRenderResult(l))},t.increaseIndex=function(r){return this.uncacheRenderResult(),n.prototype.increaseIndex.call(this,r)},t.decreaseIndex=function(r){return this.uncacheRenderResult(),n.prototype.decreaseIndex.call(this,r)},e}(wP),c8=function(){function n(){}var e=n.prototype;return e.renderPanels=function(t){var r=t.virtual,i=t.visiblePanels,s=Zf(t.panelsPerView+1);i.forEach(function(o){var a=o.elementIndex;o.render(),r.show(a),s[a]=-1}),s.filter(function(o){return o>=0}).forEach(function(o){r.hide(o)})},e.getRenderingIndexesByOrder=function(t){var r=t.virtual,i=Cr(t.visiblePanels).filter(function(a){return a.rendered}).sort(function(a,l){return a.position+a.offset-(l.position+l.offset)});if(i.length<=0)return r.elements.map(function(a,l){return l});var s=i.map(function(a){return a.elementIndex}),o=r.elements.map(function(a,l){return Gi(Gi({},a),{idx:l})}).filter(function(a){return!a.visible}).map(function(a){return a.idx});return Cr(s,o)},e.getRenderingElementsByOrder=function(t){var r=t.virtual,i=r.elements;return this.getRenderingIndexesByOrder(t).map(function(s){return i[s].nativeElement})},e.updateRenderingPanels=function(t){var r=t.renderer.panels,i=t.camera,s=i.visiblePanels.reduce(function(o,a){return o[a.index]=!0,o},{});r.forEach(function(o){o.index in s||o.loading?o.markForShow():o.markForHide()}),i.updateOffset()},e.collectPanels=function(t){var r=Jb(t.renderer.align);return Zf(t.virtual.initialPanelCount).map(function(i){return new bF({index:i,elementProvider:new vF(t),align:r,flicking:t})})},e.createPanel=function(t,r){return new bF(Gi(Gi({},r),{elementProvider:new vF(r.flicking)}))},e.updatePanelSizes=function(t,r){t.virtual.elements.forEach(function(i){s8(i.nativeElement,r)}),t.panels.forEach(function(i){return i.setSize(r)})},n}(),SP=function(n){Ni(e,n);function e(r,i){var s=i===void 0?{}:i,o=s.align,a=o===void 0?ba.CENTER:o,l=s.defaultIndex,c=l===void 0?0:l,u=s.horizontal,d=u===void 0?!0:u,h=s.circular,m=h===void 0?!1:h,g=s.circularFallback,v=g===void 0?r8.LINEAR:g,_=s.bound,x=_===void 0?!1:_,b=s.adaptive,w=b===void 0?!1:b,E=s.panelsPerView,A=E===void 0?-1:E,T=s.noPanelStyleOverride,I=T===void 0?!1:T,M=s.resizeOnContentsReady,R=M===void 0?!1:M,O=s.nested,L=O===void 0?!1:O,X=s.needPanelThreshold,W=X===void 0?0:X,K=s.preventEventsBeforeInit,U=K===void 0?!0:K,ee=s.deceleration,Q=ee===void 0?.0075:ee,D=s.duration,z=D===void 0?500:D,Z=s.easing,he=Z===void 0?function(Oe){return 1-Math.pow(1-Oe,3)}:Z,G=s.inputType,te=G===void 0?["mouse","touch"]:G,re=s.moveType,q=re===void 0?"snap":re,$=s.threshold,me=$===void 0?40:$,ae=s.interruptable,xe=ae===void 0?!0:ae,Ae=s.bounce,Me=Ae===void 0?"20%":Ae,ce=s.iOSEdgeSwipeThreshold,ve=ce===void 0?30:ce,Ie=s.preventClickOnDrag,Le=Ie===void 0?!0:Ie,De=s.disableOnInit,ze=De===void 0?!1:De,We=s.changeOnHold,et=We===void 0?!1:We,qe=s.renderOnlyVisible,it=qe===void 0?!1:qe,j=s.virtual,B=j===void 0?null:j,ne=s.autoInit,Se=ne===void 0?!0:ne,Be=s.autoResize,He=Be===void 0?!0:Be,we=s.useResizeObserver,ue=we===void 0?!0:we,fe=s.resizeDebounce,Fe=fe===void 0?0:fe,Y=s.maxResizeDebounce,ye=Y===void 0?100:Y,ke=s.useFractionalSize,Ue=ke===void 0?!1:ke,ot=s.externalRenderer,wt=ot===void 0?null:ot,dn=s.renderExternal,ie=dn===void 0?null:dn,oe=n.call(this)||this;return oe._initialized=!1,oe._plugins=[],oe._align=a,oe._defaultIndex=c,oe._horizontal=d,oe._circular=m,oe._circularFallback=v,oe._bound=x,oe._adaptive=w,oe._panelsPerView=A,oe._noPanelStyleOverride=I,oe._resizeOnContentsReady=R,oe._nested=L,oe._virtual=B,oe._needPanelThreshold=W,oe._preventEventsBeforeInit=U,oe._deceleration=Q,oe._duration=z,oe._easing=he,oe._inputType=te,oe._moveType=q,oe._threshold=me,oe._interruptable=xe,oe._bounce=Me,oe._iOSEdgeSwipeThreshold=ve,oe._preventClickOnDrag=Le,oe._disableOnInit=ze,oe._changeOnHold=et,oe._renderOnlyVisible=it,oe._autoInit=Se,oe._autoResize=He,oe._useResizeObserver=ue,oe._resizeDebounce=Fe,oe._maxResizeDebounce=ye,oe._useFractionalSize=Ue,oe._externalRenderer=wt,oe._renderExternal=ie,oe._viewport=new Ace(oe,xce(r)),oe._autoResizer=new Mce(oe),oe._renderer=oe._createRenderer(),oe._camera=oe._createCamera(),oe._control=oe._createControl(),oe._virtualManager=new Pce(oe,B),oe._autoInit&&oe.init(),oe}var t=e.prototype;return Object.defineProperty(t,"control",{get:function(){return this._control},enumerable:!1,configurable:!0}),Object.defineProperty(t,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),Object.defineProperty(t,"renderer",{get:function(){return this._renderer},enumerable:!1,configurable:!0}),Object.defineProperty(t,"viewport",{get:function(){return this._viewport},enumerable:!1,configurable:!0}),Object.defineProperty(t,"initialized",{get:function(){return this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(t,"circularEnabled",{get:function(){return this._camera.circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t,"virtualEnabled",{get:function(){return this._panelsPerView>0&&this._virtual!=null},enumerable:!1,configurable:!0}),Object.defineProperty(t,"index",{get:function(){return this._control.activeIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t,"element",{get:function(){return this._viewport.element},enumerable:!1,configurable:!0}),Object.defineProperty(t,"currentPanel",{get:function(){return this._control.activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(t,"panels",{get:function(){return this._renderer.panels},enumerable:!1,configurable:!0}),Object.defineProperty(t,"panelCount",{get:function(){return this._renderer.panelCount},enumerable:!1,configurable:!0}),Object.defineProperty(t,"visiblePanels",{get:function(){return this._camera.visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(t,"animating",{get:function(){return this._control.animating},enumerable:!1,configurable:!0}),Object.defineProperty(t,"holding",{get:function(){return this._control.holding},enumerable:!1,configurable:!0}),Object.defineProperty(t,"activePlugins",{get:function(){return this._plugins},enumerable:!1,configurable:!0}),Object.defineProperty(t,"align",{get:function(){return this._align},set:function(r){this._align=r,this._renderer.align=r,this._camera.align=r,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultIndex",{get:function(){return this._defaultIndex},set:function(r){this._defaultIndex=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"horizontal",{get:function(){return this._horizontal},set:function(r){this._horizontal=r,this._control.controller.updateDirection(),this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"circular",{get:function(){return this._circular},set:function(r){this._circular=r,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"circularFallback",{get:function(){return this._circularFallback},enumerable:!1,configurable:!0}),Object.defineProperty(t,"bound",{get:function(){return this._bound},set:function(r){this._bound=r,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"adaptive",{get:function(){return this._adaptive},set:function(r){this._adaptive=r,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"panelsPerView",{get:function(){return this._panelsPerView},set:function(r){this._panelsPerView=r,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"noPanelStyleOverride",{get:function(){return this._noPanelStyleOverride},set:function(r){this._noPanelStyleOverride=r,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"resizeOnContentsReady",{get:function(){return this._resizeOnContentsReady},set:function(r){this._resizeOnContentsReady=r,r&&this._renderer.checkPanelContentsReady(this._renderer.panels)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"nested",{get:function(){return this._nested},set:function(r){this._nested=r;var i=this._control.controller.axes;i&&(i.options.nested=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"needPanelThreshold",{get:function(){return this._needPanelThreshold},set:function(r){this._needPanelThreshold=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"preventEventsBeforeInit",{get:function(){return this._preventEventsBeforeInit},set:function(r){this._preventEventsBeforeInit=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"deceleration",{get:function(){return this._deceleration},set:function(r){this._deceleration=r;var i=this._control.controller.axes;i&&(i.options.deceleration=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"easing",{get:function(){return this._easing},set:function(r){this._easing=r;var i=this._control.controller.axes;i&&(i.options.easing=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"duration",{get:function(){return this._duration},set:function(r){this._duration=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"inputType",{get:function(){return this._inputType},set:function(r){this._inputType=r;var i=this._control.controller.panInput;i&&(i.options.inputType=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"moveType",{get:function(){return this._moveType},set:function(r){this._moveType=r;var i=this._control,s=this._createControl(),o=i.activePanel;s.copy(i);var a=o?this._camera.getProgressInPanel(o):0;this._control=s,this._control.updatePosition(a),this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"threshold",{get:function(){return this._threshold},set:function(r){this._threshold=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"interruptable",{get:function(){return this._interruptable},set:function(r){this._interruptable=r;var i=this._control.controller.axes;i&&(i.options.interruptable=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"bounce",{get:function(){return this._bounce},set:function(r){this._bounce=r,this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"iOSEdgeSwipeThreshold",{get:function(){return this._iOSEdgeSwipeThreshold},set:function(r){this._iOSEdgeSwipeThreshold=r;var i=this._control.controller.panInput;i&&(i.options.iOSEdgeSwipeThreshold=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"preventClickOnDrag",{get:function(){return this._preventClickOnDrag},set:function(r){var i=this._preventClickOnDrag;if(r!==i){var s=this._control.controller;r?s.addPreventClickHandler():s.removePreventClickHandler(),this._preventClickOnDrag=r}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"disableOnInit",{get:function(){return this._disableOnInit},set:function(r){this._disableOnInit=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"changeOnHold",{get:function(){return this._changeOnHold},set:function(r){this._changeOnHold=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"renderOnlyVisible",{get:function(){return this._renderOnlyVisible},set:function(r){this._renderOnlyVisible=r,this._renderer.render()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"virtual",{get:function(){return this._virtualManager},enumerable:!1,configurable:!0}),Object.defineProperty(t,"autoInit",{get:function(){return this._autoInit},enumerable:!1,configurable:!0}),Object.defineProperty(t,"autoResize",{get:function(){return this._autoResize},set:function(r){this._autoResize=r,r?this._autoResizer.enable():this._autoResizer.disable()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"useResizeObserver",{get:function(){return this._useResizeObserver},set:function(r){this._useResizeObserver=r,this._autoResize&&this._autoResizer.enable()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"resizeDebounce",{get:function(){return this._resizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(t,"maxResizeDebounce",{get:function(){return this._maxResizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(t,"useFractionalSize",{get:function(){return this._useFractionalSize},enumerable:!1,configurable:!0}),Object.defineProperty(t,"externalRenderer",{get:function(){return this._externalRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(t,"renderExternal",{get:function(){return this._renderExternal},enumerable:!1,configurable:!0}),t.init=function(){var r=this;if(this._initialized)return Promise.resolve();var i=this._camera,s=this._renderer,o=this._control,a=this._virtualManager,l=this.trigger,c=this._preventEventsBeforeInit;return i.init(),a.init(),s.init(this),o.init(this),c&&(this.trigger=function(){return r}),this._initialResize(),this._moveToInitialPanel(),this._autoResize&&this._autoResizer.enable(),this._preventClickOnDrag&&o.controller.addPreventClickHandler(),this._disableOnInit&&this.disableInput(),s.checkPanelContentsReady(s.panels),s.render().then(function(){r._plugins.forEach(function(u){return u.init(r)}),r._initialized=!0,c&&(r.trigger=l),r.trigger(new Wt(Et.READY))})},t.destroy=function(){this.off(),this._autoResizer.disable(),this._control.destroy(),this._camera.destroy(),this._renderer.destroy(),this._plugins.forEach(function(r){return r.destroy()}),this._initialized=!1},t.prev=function(r){var i,s,o;return r===void 0&&(r=this._duration),this.moveTo((o=(s=(i=this._control.activePanel)===null||i===void 0?void 0:i.prev())===null||s===void 0?void 0:s.index)!==null&&o!==void 0?o:-1,r,Vt.PREV)},t.next=function(r){var i,s,o;return r===void 0&&(r=this._duration),this.moveTo((o=(s=(i=this._control.activePanel)===null||i===void 0?void 0:i.next())===null||s===void 0?void 0:s.index)!==null&&o!==void 0?o:this._renderer.panelCount,r,Vt.NEXT)},t.moveTo=function(r,i,s){i===void 0&&(i=this._duration),s===void 0&&(s=Vt.NONE);var o=this._renderer,a=o.panelCount,l=o.getPanel(r);return l?this._control.animating?Promise.reject(new xn(Tn.ANIMATION_ALREADY_PLAYING,En.ANIMATION_ALREADY_PLAYING)):(this._control.holding&&this._control.controller.release(),this._control.moveToPanel(l,{duration:i,direction:s})):Promise.reject(new xn(Tn.INDEX_OUT_OF_RANGE(r,0,a-1),En.INDEX_OUT_OF_RANGE))},t.updateAnimation=function(r,i,s){if(this._control.animating){var o=this._renderer,a=o.panelCount,l=o.getPanel(r);if(!l)throw new xn(Tn.INDEX_OUT_OF_RANGE(r,0,a-1),En.INDEX_OUT_OF_RANGE);this._control.updateAnimation(l,i,s)}},t.stopAnimation=function(){this._control.animating&&this._control.stopAnimation()},t.getPanel=function(r){return this._renderer.getPanel(r)},t.enableInput=function(){return this._control.enable(),this},t.disableInput=function(){return this._control.disable(),this},t.getStatus=function(r){var i,s,o=r===void 0?{}:r,a=o.index,l=a===void 0?!0:a,c=o.position,u=c===void 0?!0:c,d=o.includePanelHTML,h=d===void 0?!1:d,m=o.visiblePanelsOnly,g=m===void 0?!1:m,v=this._camera,_=g?this.visiblePanels:this.panels,x={panels:_.map(function(E){var A={index:E.index};return h&&(A.html=E.element.outerHTML),A})};if(l&&(x.index=this.index),u){var b=v.findNearestAnchor(v.position);b&&(x.position={panel:b.panel.index,progressInPanel:v.getProgressInPanel(b.panel)})}if(g){var w=this.visiblePanels;x.visibleOffset=(s=(i=w[0])===null||i===void 0?void 0:i.index)!==null&&s!==void 0?s:0}return x},t.setStatus=function(r){var i;if(!this._initialized)throw new xn(Tn.NOT_INITIALIZED,En.NOT_INITIALIZED);var s=r.index,o=r.position,a=r.visibleOffset,l=r.panels,c=this._renderer,u=this._control;if(!((i=l[0])===null||i===void 0)&&i.html&&!this._renderExternal&&(c.batchRemove({index:0,deleteCount:this.panels.length,hasDOMInElements:!0}),c.batchInsert({index:0,elements:gF(l.map(function(_){return _.html})),hasDOMInElements:!0})),s){var d=a?s-a:s;this.moveTo(d,0).catch(function(){})}if(o&&this._moveType===gh.FREE_SCROLL){var h=o.panel,m=o.progressInPanel,d=a?h-a:h,g=c.panels[d].range,v=g.min+(g.max-g.min)*m;u.moveToPosition(v,0).catch(function(){})}},t.addPlugins=function(){for(var r,i=this,s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return this._initialized&&s.forEach(function(a){return a.init(i)}),(r=this._plugins).push.apply(r,Cr(s)),this},t.removePlugins=function(){for(var r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return i.forEach(function(o){var a=Ece(r._plugins,function(l){return l===o});a>=0&&(o.destroy(),r._plugins.splice(a,1))}),this},t.resize=function(){return bf(this,void 0,void 0,function(){var r,i,s,o,a,l,c,u,d,h,m;return wf(this,function(g){switch(g.label){case 0:return r=this._viewport,i=this._renderer,s=this._camera,o=this._control,a=o.activePanel,l=r.width,c=r.height,u=a?s.getProgressInPanel(a):0,this.trigger(new Wt(Et.BEFORE_RESIZE,{width:l,height:c,element:r.element})),r.resize(),[4,i.forceRenderAllPanels()];case 1:return g.sent(),i.updatePanelSize(),s.updateAlignPos(),s.updateRange(),s.updateAnchors(),s.updateAdaptiveHeight(),s.updateOffset(),[4,i.render()];case 2:return g.sent(),o.animating||(o.updatePosition(u),o.updateInput()),d=r.width,h=r.height,m=d!==l||h!==c,this.trigger(new Wt(Et.AFTER_RESIZE,{width:r.width,height:r.height,prev:{width:l,height:c},sizeChanged:m,element:r.element})),[2]}})})},t.append=function(r){return this.insert(this._renderer.panelCount,r)},t.prepend=function(r){return this.insert(0,r)},t.insert=function(r,i){if(this._renderExternal)throw new xn(Tn.NOT_ALLOWED_IN_FRAMEWORK,En.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchInsert({index:r,elements:gF(i),hasDOMInElements:!0})},t.remove=function(r,i){if(i===void 0&&(i=1),this._renderExternal)throw new xn(Tn.NOT_ALLOWED_IN_FRAMEWORK,En.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchRemove({index:r,deleteCount:i,hasDOMInElements:!0})},t._createControl=function(){var r,i=this._moveType,s=Object.keys(gh).map(function(l){return gh[l]}),o=Array.isArray(i)?i[0]:i,a=Array.isArray(i)?(r=i[1])!==null&&r!==void 0?r:{}:{};if(!qb(s,o))throw new xn(Tn.WRONG_OPTION("moveType",JSON.stringify(i)),En.WRONG_OPTION);switch(o){case gh.SNAP:return new Dce(a);case gh.FREE_SCROLL:return new Bce(a);case gh.STRICT:return new Fce(a)}},t._createCamera=function(){return this._circular&&this._bound&&console.warn('"circular" and "bound" option cannot be used together, ignoring bound.'),new Uce(this,{align:this._align})},t._createRenderer=function(){var r=this._externalRenderer;return this._virtual&&this._panelsPerView<=0&&console.warn('"virtual" and "panelsPerView" option should be used together, ignoring virtual.'),r||(this._renderExternal?this._createExternalRenderer():this._createVanillaRenderer())},t._createExternalRenderer=function(){var r=this._renderExternal,i=r.renderer,s=r.rendererOptions;return new i(Gi({align:this._align},s))},t._createVanillaRenderer=function(){var r=this.virtualEnabled;return new Hce({align:this._align,strategy:r?new c8:new l8({providerCtor:Tce})})},t._moveToInitialPanel=function(){var r=this._renderer,i=this._control,s=this._camera,o=r.getPanel(this._defaultIndex)||r.getPanel(0);if(o){var a=s.findNearestAnchor(o.position),l=a&&o.index!==a.panel.index?a.panel:o;if(i.setActive(l,null,!1),!a)throw new xn(Tn.POSITION_NOT_REACHABLE(l.position),En.POSITION_NOT_REACHABLE);var c=l.position;s.canReach(l)||(c=a.position),s.lookAt(c),i.updateInput(),s.updateOffset()}},t._initialResize=function(){var r=this._viewport,i=this._renderer,s=this._camera,o=this._control;this.trigger(new Wt(Et.BEFORE_RESIZE,{width:0,height:0,element:r.element})),r.resize(),i.updatePanelSize(),s.updateAlignPos(),s.updateRange(),s.updateAnchors(),s.updateOffset(),o.updateInput();var a=r.width,l=r.height,c=a!==0||l!==0;this.trigger(new Wt(Et.AFTER_RESIZE,{width:r.width,height:r.height,prev:{width:0,height:0},sizeChanged:c,element:r.element}))},e.VERSION="4.10.5",e}(Dd),Vce=function(n,e){[Dd.prototype,SP.prototype].forEach(function(t){Object.getOwnPropertyNames(t).filter(function(r){return!n[r]&&r.indexOf("_")!==0&&r!=="constructor"}).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);if(i.value)Object.defineProperty(n,r,{value:function(){for(var o,a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return(o=i.value).call.apply(o,Cr([this[e]],a))}});else{var s={};i.get&&(s.get=function(){var o,a=this[e];return a&&((o=i.get)===null||o===void 0?void 0:o.call(a))}),i.set&&(s.set=function(){for(var o,a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return(o=i.set)===null||o===void 0?void 0:o.call.apply(o,Cr([this[e]],a))}),Object.defineProperty(n,r,s)}})})},Wce=function(n,e,t){var r=n.renderer,i=r.panels,s=Cr(e.prevList),o=[],a=[];if(e.removed.length>0){var l=-1,c=-1;e.removed.forEach(function(m){l<0&&(l=m),c>=0&&m!==c-1&&(a.push.apply(a,Cr(SF(r,c,l+1))),l=m),c=m,s.splice(m,1)}),a.push.apply(a,Cr(SF(r,c,l+1)))}if(e.ordered.forEach(function(m){var g=vN(m,2),v=g[0],_=g[1],x=i.splice(v,1)[0];i.splice(_,0,x)}),e.ordered.length>0&&(i.forEach(function(m,g){var v=g-m.index;v>0?m.increaseIndex(v):m.decreaseIndex(-v)}),i.sort(function(m,g){return m.index-g.index}),i.forEach(function(m){m.updatePosition()})),e.added.length>0){var u=-1,d=-1,h=t.slice(s.length);e.added.forEach(function(m,g){u<0&&(u=g),d>=0&&m!==d+1?(o.push.apply(o,Cr(wF(r,e,h,u,g+1))),u=-1,d=-1):d=m}),u>=0&&o.push.apply(o,Cr(wF(r,e,h,u)))}(e.added.length>0||e.removed.length>0)&&r.updateAfterPanelChange(o,a)},wF=function(n,e,t,r,i){return n.batchInsertDefer.apply(n,Cr(e.added.slice(r,i).map(function(s,o){return{index:s,elements:[t[o]],hasDOMInElements:!1}})))},SF=function(n,e,t){var r=n.panels.slice(e,t);return n.batchRemoveDefer({index:e,deleteCount:r.length,hasDOMInElements:!1})},EF=function(n,e){var t=e.removed.reduce(function(i,s){return i[s]=!0,i},{}),r=e.maintained.reduce(function(i,s){var o=vN(s,2),a=o[0],l=o[1];return i[a]=l,i},{});return Cr(n.panels.filter(function(i){return!t[i.index]}).sort(function(i,s){return i.position+i.offset-(s.position+s.offset)}).map(function(i){return e.list[r[i.index]]}),e.added.map(function(i){return e.list[i]}))},jce=function(n,e,t){n===void 0&&(n=ba.CENTER),e===void 0&&(e=!0);var r=$ce(n),i=Kce(n);if(i==null)return"";var s="calc("+r+" - ("+(t||"0px")+" * "+i.percentage+") - "+i.absolute+"px)";return e?"translate("+s+")":"translate(0, "+s+")"},$ce=function(n){var e=typeof n=="object"?n.camera:n;return u8(e)},Kce=function(n){var e=typeof n=="object"?n.panel:n;return i8(u8(e))},u8=function(n){if(typeof n=="number")return n+"px";switch(n){case ba.CENTER:return"50%";case ba.NEXT:return"100%";case ba.PREV:return"0%";default:return n}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var EP=function(n,e){return EP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},EP(n,e)};function Y1(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");EP(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ef=function(){return ef=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ef.apply(this,arguments)};function CF(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Xce(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function AF(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function MF(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function P_(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var TF={viewportTag:"div",cameraTag:"div",cameraClass:"",renderOnSameKey:!1,plugins:[],useFindDOMNode:!1,hideBeforeInit:!1,onReady:function(n){},onBeforeResize:function(n){},onAfterResize:function(n){},onHoldStart:function(n){},onHoldEnd:function(n){},onMoveStart:function(n){},onMove:function(n){},onMoveEnd:function(n){},onWillChange:function(n){},onChanged:function(n){},onWillRestore:function(n){},onRestored:function(n){},onSelect:function(n){},onNeedPanel:function(n){},onVisibleChange:function(n){},onReachEdge:function(n){},onPanelChange:function(n){}},Jce=function(n){Y1(e,n);function e(r){var i=n.call(this,r)||this;return i._reactFlicking=r.reactFlicking,i}var t=e.prototype;return t.render=function(){return AF(this,void 0,void 0,function(){var r,i,s,o=this;return MF(this,function(a){return r=gt(this._flicking),i=this._reactFlicking,s=this._strategy,this._rendering=!0,s.updateRenderingPanels(r),s.renderPanels(r),[2,new Promise(function(l){i.renderEmitter.once("render",function(){o._rendering=!1,l()}),i.forceUpdate()})]})})},t.forceRenderAllPanels=function(){return AF(this,void 0,void 0,function(){var r,i=this;return MF(this,function(s){switch(s.label){case 0:return r=this._reactFlicking,this._rendering=!0,[4,n.prototype.forceRenderAllPanels.call(this)];case 1:return s.sent(),[2,new Promise(function(o){r.renderEmitter.once("render",function(){i._rendering=!1,o()}),r.forceUpdate()})]}})})},t._collectPanels=function(){var r=gt(this._flicking),i=this._reactFlicking,s=i.reactPanels;this._panels=this._strategy.collectPanels(r,s)},t._createPanel=function(r,i){return this._strategy.createPanel(r,i)},e}(Gce),Yce=function(n){Y1(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r._hide=!1,r._elRef=N.createRef(),r}var t=e.prototype;return Object.defineProperty(t,"nativeElement",{get:function(){return this._elRef.current},enumerable:!1,configurable:!0}),Object.defineProperty(t,"rendered",{get:function(){return!this._hide},enumerable:!1,configurable:!0}),t.render=function(){return this._hide?N.createElement(N.Fragment,null):this._getElement()},t.show=function(){this._hide=!1},t.hide=function(){this._hide=!0},t._getElement=function(){return N.cloneElement(N.Children.only(this.props.children),{ref:this._elRef})},e}(N.Component),qce=function(n){Y1(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r._hide=!1,r}var t=e.prototype;return Object.defineProperty(t,"nativeElement",{get:function(){return pd.findDOMNode(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"rendered",{get:function(){return!this._hide},enumerable:!1,configurable:!0}),t.render=function(){return this._hide?N.createElement(N.Fragment,null):this.props.children},t.show=function(){this._hide=!1},t.hide=function(){this._hide=!0},e}(N.Component),CP=_e.memo(function(n){return _e.createElement(_e.Fragment,null,n.children)}),Qce=function(){function n(t){this._el=t}var e=n.prototype;return Object.defineProperty(e,"element",{get:function(){return this._el.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rendered",{get:function(){return this._el.rendered},enumerable:!1,configurable:!0}),e.show=function(){this._el.show()},e.hide=function(){this._el.hide()},n}(),Zce=function(n){Y1(e,n);function e(r){var i=n.call(this,r)||this;i._panels=[],i._renderEmitter=new Dd;var s=i._getChildren();return i._panels=i._createPanelRefs(r,s),i._prevChildren=s,i}var t=e.prototype;return Object.defineProperty(t,"reactPanels",{get:function(){return this._panels.map(function(r){return r.current})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"renderEmitter",{get:function(){return this._renderEmitter},enumerable:!1,configurable:!0}),t.componentDidMount=function(){var r=this.props,i={reactFlicking:this,align:r.align,strategy:r.virtual&&r.panelsPerView>0?new c8:new l8({providerCtor:Qce})},s=new SP(this._viewportElement,ef(ef({},r),{externalRenderer:new Jce(i)}));this._vanillaFlicking=s;var o=this._getChildren();this._jsxDiffer=new uF(o,function(a){return a.key}),this._pluginsDiffer=new uF,this._prevChildren=o,this._bindEvents(),this._checkPlugins(),r.status&&s.setStatus(r.status)},t.componentWillUnmount=function(){var r;(r=this._vanillaFlicking)===null||r===void 0||r.destroy()},t.shouldComponentUpdate=function(r){var i=this._vanillaFlicking,s=this.props;if(!i||!i.initialized)return!1;var o=r.children,a=CF(r,["children"]);for(var l in a)if(s[l]!==r[l])return!0;var c=this._prevChildren,u=this._getChildren(o);return!!(r.renderOnSameKey||!this._hasSameChildren(c,u))},t.beforeRender=function(){var r=this._vanillaFlicking,i=this.props,s=this._prevChildren;if(!(!r||!r.initialized||this._diffResult)){var o=this._getChildren(i.children);(i.renderOnSameKey||!this._hasSameChildren(s,o))&&(this._panels=this._createPanelRefs(i,o),this._diffResult=this._jsxDiffer.update(o),this._prevChildren=o)}},t.componentDidUpdate=function(){var r=this._vanillaFlicking,i=this._renderEmitter,s=this._diffResult;this._checkPlugins(),i.trigger("render"),r.camera.updateOffset();var o=this.props;o.virtual;var a=CF(o,["virtual"]);for(var l in a)l in r&&r[l]!==a[l]&&(r[l]=a[l]);!s||!r.initialized||(Wce(r,s,this.reactPanels),this._diffResult=null)},t.render=function(){var r=this,i,s,o=this.props,a=o.viewportTag,l=o.cameraTag,c={},u=this._vanillaFlicking;this.beforeRender();for(var d in o)!(d in TF)&&!(d in SP.prototype)&&(c[d]=o[d]);var h=u&&u.initialized,m=["flicking-viewport"],g=["flicking-camera"],v=u?u.horizontal:(i=o.horizontal)!==null&&i!==void 0?i:!0;v||m.push("vertical"),o.hideBeforeInit&&!h&&m.push("flicking-hidden"),c.className&&m.push(c.className),o.cameraClass&&g.push(o.cameraClass);var _=!h&&o.firstPanelSize?{style:{transform:jce(this.props.align,this.props.horizontal,this.props.firstPanelSize)}}:{},x=o.virtual&&((s=o.panelsPerView)!==null&&s!==void 0?s:-1)>0?this._getVirtualPanels():this._getPanels();return N.createElement(a,ef({},c,{className:m.join(" "),ref:function(b){b&&(r._viewportElement=b)}}),N.createElement(l,ef({className:g.join(" ")},_),x),this._getViewportSlot())},t._createPanelRefs=function(r,i){var s,o=(s=r.panelsPerView)!==null&&s!==void 0?s:-1;return o>0&&r.virtual?Zf(o+1).map(function(){return N.createRef()}):i.map(function(){return N.createRef()})},t._bindEvents=function(){var r=this,i=this._vanillaFlicking;Object.keys(Et).forEach(function(s){var o=Et[s],a="on".concat(o.charAt(0).toUpperCase()+o.slice(1));i.on(o,function(l){l.currentTarget=r;var c=r.props[a];c(l)})}),i.once(Et.READY,function(){r.forceUpdate()})},t._checkPlugins=function(){var r=this._vanillaFlicking,i=this._pluginsDiffer.update(this.props.plugins),s=i.list,o=i.added,a=i.removed,l=i.prevList;r.addPlugins.apply(r,o.map(function(c){return s[c]})),r.removePlugins.apply(r,a.map(function(c){return l[c]}))},t._hasSameChildren=function(r,i){if(r.length!==i.length||r.length===0)return!1;var s=r.every(function(o,a){var l=i[a];return o.key&&l.key?o.key===l.key:o===l});return s},t._getChildren=function(r){var i=this;return r===void 0&&(r=this.props.children),N.Children.toArray(r).filter(function(s){return s.type!==CP}).reduce(function(s,o){return P_(P_([],s,!0),i._unpackFragment(o),!0)},[])},t._getViewportSlot=function(){return N.Children.toArray(this.props.children).filter(function(r){return r.type===CP})},t._unpackFragment=function(r){var i=this;return this._isFragment(r)?N.Children.toArray(r.props.children).reduce(function(s,o){return P_(P_([],s,!0),i._unpackFragment(o),!0)},[]):[r]},t._getVirtualPanels=function(){var r=this,i=this.props.virtual.panelClass,s=i===void 0?"flicking-panel":i,o=this.props.panelsPerView,a=this._vanillaFlicking,l=a&&a.initialized,c=l?a.renderer.strategy.getRenderingIndexesByOrder(a):Zf(o+1),u=a&&a.panels[0],d=u?a.horizontal?{width:u.size}:{height:u.size}:{};return c.map(function(h){return N.createElement("div",{key:h,"data-element-index":h,ref:r._panels[h],className:s,style:d})})},t._getPanels=function(){var r=this,i=this._getChildren(),s=this._vanillaFlicking,o=this._diffResult,a=s&&s.initialized?o?EF(s,o):EF(s,O6(i,i)):i;return this.props.useFindDOMNode?a.map(function(l,c){return N.createElement(qce,{key:l.key,ref:r._panels[c]},l)}):a.map(function(l,c){return N.createElement(Yce,{key:l.key,ref:r._panels[c]},l)})},t._isFragment=function(r){return r.type?r.type===N.Fragment:r===N.Fragment},e.defaultProps=TF,Xce([Vce],e.prototype,"_vanillaFlicking",void 0),e}(N.Component),eue=function(){function n(t,r){var i=this;t===void 0&&(t=""),r===void 0&&(r=1),this.update=function(){i._onMove()},this._onMove=function(){var s=i._flicking,o=i._selector,a=i._scale;if(s){var l=s.visiblePanels;l.forEach(function(c){var u=c.outsetProgress,d=c.element,h=o?d.querySelector(o):d;if(h){var m=Math.min(1,Math.max(0,1-Math.abs(u*a)));h.style.opacity=""+m}})}},this._flicking=null,this._selector=t,this._scale=r}var e=n.prototype;return Object.defineProperty(e,"selector",{get:function(){return this._selector},set:function(t){this._selector=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scale",{get:function(){return this._scale},set:function(t){this._scale=t},enumerable:!1,configurable:!0}),e.init=function(t){this._flicking&&this.destroy(),this._flicking=t,t.on(Et.MOVE,this._onMove),t.on(Et.AFTER_RESIZE,this.update),this._onMove()},e.destroy=function(){this._flicking&&(this._flicking.off(Et.MOVE,this._onMove),this._flicking.off(Et.AFTER_RESIZE,this.update),this._flicking=null)},n}(),sA={CLICK:"click",MOUSE_DOWN:"mousedown",TOUCH_START:"touchstart"},ur={SELECTOR:".flicking-pagination",PREFIX:"flicking-pagination",BULLET_WRAPPER_SUFFIX:"bullets",BULLET_SUFFIX:"bullet",BULLET_ACTIVE_SUFFIX:"bullet-active",FRACTION_WRAPPER_SUFFIX:"fraction",FRACTION_CURRENT_SUFFIX:"fraction-current",FRACTION_TOTAL_SUFFIX:"fraction-total",SCROLL_UNINIT_SUFFIX:"uninitialized",SCROLL_WRAPPER_SUFFIX:"scroll",SCROLL_SLIDER_SUFFIX:"slider",SCROLL_PREV_SUFFIX:"bullet-prev",SCROLL_NEXT_SUFFIX:"bullet-next",TYPE:{BULLET:"bullet",FRACTION:"fraction",SCROLL:"scroll"}},da=function(n,e){if(n)if(n.classList)n.classList.add(e);else{var t=n.className.split(" ");t.indexOf(e)<0&&(n.className=n.className+" "+e)}},AP=function(n,e){if(n)if(n.classList)n.classList.remove(e);else{var t=new RegExp("( |^)"+e+"( |$)","g");n.className.replace(t," ")}},tue=function(){function n(t){var r=this,i=t===void 0?{}:t,s=i.selector,o=s===void 0?"":s,a=i.scale,l=a===void 0?1:a,c=i.rotate,u=c===void 0?1:c,d=i.perspective,h=d===void 0?1e3:d;this.update=function(){r._onMove()},this._onMove=function(){var m=r._flicking,g=r._selector,v=r._scale,_=r._rotate,x=r._perspective;if(m){var b=m.horizontal,w=m.visiblePanels;w.forEach(function(E){var A=E.outsetProgress,T=E.element,I=g?T.querySelector(g):T,M=1/(Math.abs(A*v)+1),R=A>0?Math.min(90,A*100*_):Math.max(-90,A*100*_),O=b?[0,R]:[R,0],L=O[0],X=O[1];I.style.transform="perspective("+x+"px) rotateX("+L+"deg) rotateY("+X+"deg) scale("+M+")"})}},this._flicking=null,this._selector=o,this._scale=l,this._rotate=u,this._perspective=h}var e=n.prototype;return Object.defineProperty(e,"selector",{get:function(){return this._selector},set:function(t){this._selector=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scale",{get:function(){return this._scale},set:function(t){this._scale=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"perspective",{get:function(){return this._perspective},set:function(t){this._perspective=t},enumerable:!1,configurable:!0}),e.init=function(t){this._flicking&&this.destroy(),this._flicking=t,t.on(Et.MOVE,this._onMove),t.on(Et.AFTER_RESIZE,this.update),this._onMove()},e.destroy=function(){this._flicking&&(this._flicking.off(Et.MOVE,this._onMove),this._flicking.off(Et.AFTER_RESIZE,this.update),this._flicking=null)},n}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var MP=function(n,e){return MP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},MP(n,e)};function SN(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");MP(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function nue(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||e)}var EN=function(){function n(t){var r=t.flicking,i=t.pagination,s=t.wrapper;this._flicking=r,this._pagination=i,this._wrapper=s}var e=n.prototype;return e._createBulletFromString=function(t,r){var i=document.createRange(),s=i.createContextualFragment(t),o=s.firstChild;return this._addBulletEvents(o,r),o},e._addBulletEvents=function(t,r){var i=this,s=this._flicking.camera.anchorPoints,o=s[r].panel.index;t.addEventListener(sA.MOUSE_DOWN,function(a){a.stopPropagation()}),t.addEventListener(sA.TOUCH_START,function(a){a.stopPropagation()},{passive:!0}),t.addEventListener(sA.CLICK,function(){i._flicking.moveTo(o).catch(function(a){if(!(a instanceof xn))throw a})})},n}(),rue=function(n){SN(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r._bullets=[],r._prevIndex=-1,r}var t=e.prototype;return Object.defineProperty(t,"_bulletClass",{get:function(){var r=this._pagination;return r.classPrefix+"-"+ur.BULLET_SUFFIX},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_activeClass",{get:function(){var r=this._pagination;return r.classPrefix+"-"+ur.BULLET_ACTIVE_SUFFIX},enumerable:!1,configurable:!0}),t.destroy=function(){this._bullets=[],this._prevIndex=-1},t.render=function(){var r=this,i=this._flicking,s=this._pagination,o=this._wrapper,a=this._bulletClass,l=this._activeClass,c=s.renderBullet,u=s.renderActiveBullet,d=s.classPrefix+"-"+ur.BULLET_WRAPPER_SUFFIX,h=i.camera.anchorPoints;da(o,d),o.innerHTML=h.map(function(g,v){return u&&g.panel.index===i.index?u(a,v):c(a,v)}).join(`
`);var m=[].slice.call(o.children);m.forEach(function(g,v){var _=h[v];_.panel.index===i.index&&(da(g,l),r._prevIndex=v),r._addBulletEvents(g,v)}),this._bullets=m},t.update=function(r){var i=this._flicking,s=this._pagination,o=this._wrapper,a=this._bullets,l=this._bulletClass,c=this._activeClass,u=this._prevIndex,d=i.camera.anchorPoints,h=s.renderBullet,m=s.renderActiveBullet;if(!(d.length<=0)){var g=d[0].panel.index,v=r-g;if(u!==v){if(m){var _=a[u];if(_){var x=this._createBulletFromString(h(l,u),u);_.parentElement.replaceChild(x,_),a[u]=x}var b=a[v],w=this._createBulletFromString(m(l+" "+c,v),v);o.replaceChild(w,b),a[v]=w}else{var b=a[v],_=a[u];_&&AP(_,c),da(b,c)}this._prevIndex=v}}},e}(EN),iue=function(n){SN(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r._prevIndex=-1,r._prevTotal=-1,r}var t=e.prototype;return t.destroy=function(){this._prevIndex=-1,this._prevTotal=-1},t.render=function(){var r=this._flicking,i=this._wrapper,s=this._pagination,o=s.classPrefix+"-"+ur.FRACTION_WRAPPER_SUFFIX,a=s.classPrefix+"-"+ur.FRACTION_CURRENT_SUFFIX,l=s.classPrefix+"-"+ur.FRACTION_TOTAL_SUFFIX;da(i,o),i.innerHTML=s.renderFraction(a,l),this.update(r.index)},t.update=function(r){var i=this._flicking,s=this._wrapper,o=this._pagination,a=i.camera.anchorPoints,l=a.length>0?r-a[0].panel.index+1:0,c=a.length;if(!(l===this._prevIndex&&c===this._prevTotal)){var u="."+o.classPrefix+"-"+ur.FRACTION_CURRENT_SUFFIX,d="."+o.classPrefix+"-"+ur.FRACTION_TOTAL_SUFFIX,h=s.querySelector(u),m=s.querySelector(d);h.innerHTML=o.fractionCurrentFormat(l),m.innerHTML=o.fractionTotalFormat(c),this._prevIndex=l,this._prevTotal=c}},e}(EN),sue=function(n){SN(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r._bullets=[],r._bulletSize=0,r._previousIndex=-1,r._sliderIndex=-1,r.moveTo=function(i){var s=r._pagination,o=r._wrapper.firstElementChild,a=r._bulletSize,l=a*s.bulletCount;o.style.transform="translate("+(l/2-(i+.5)*a)+"px)",r._sliderIndex=i},r}var t=e.prototype;return t.destroy=function(){this._bullets=[],this._bulletSize=0,this._previousIndex=-1,this._sliderIndex=-1},t.render=function(){var r=this,i=this._wrapper,s=this._flicking,o=this._pagination,a=o.renderBullet,l=s.camera.anchorPoints,c=o.classPrefix+"-"+ur.SCROLL_WRAPPER_SUFFIX,u=o.classPrefix+"-"+ur.BULLET_SUFFIX,d=o.classPrefix+"-"+ur.SCROLL_SLIDER_SUFFIX,h=o.classPrefix+"-"+ur.SCROLL_UNINIT_SUFFIX,m=document.createElement("div");da(m,d),da(i,h),da(i,c),i.appendChild(m),m.innerHTML=l.map(function(x,b){return a(u,b)}).join(`
`);var g=[].slice.call(m.children);if(g.forEach(function(x,b){r._addBulletEvents(x,b)}),!(g.length<=0)){var v=getComputedStyle(g[0]),_=g[0].clientWidth+parseFloat(v.marginLeft)+parseFloat(v.marginRight);i.style.width=_*o.bulletCount+"px",this._bullets=g,this._bulletSize=_,this._previousIndex=-1,this.update(this._flicking.index),window.requestAnimationFrame(function(){AP(i,h)})}},t.update=function(r){var i=this._pagination,s=this._flicking,o=this._bullets,a=this._previousIndex,l=i.renderBullet,c=i.renderActiveBullet,u=s.camera.anchorPoints,d=u[0].panel.index,h=r-d;if(!(u.length<=0)){var m=i.classPrefix+"-"+ur.BULLET_SUFFIX,g=i.classPrefix+"-"+ur.BULLET_ACTIVE_SUFFIX,v=i.classPrefix+"-"+ur.SCROLL_PREV_SUFFIX,_=i.classPrefix+"-"+ur.SCROLL_NEXT_SUFFIX,x=function(R){return""+v+(R>1?R:"")},b=function(R){return""+_+(R>1?R:"")},w=new RegExp("^"+v),E=new RegExp("^"+_);if(c){var A=o[a];if(A){var T=this._createBulletFromString(l(m,a),a);A.parentElement.replaceChild(T,A),o[a]=T}var I=o[h];if(I){var M=this._createBulletFromString(c(m,h),h);I.parentElement.replaceChild(M,I),o[h]=M}}o.forEach(function(R,O){for(var L=O-h,X=R.className.split(" "),W=0,K=X;W<K.length;W++){var U=K[W];(U===g||w.test(U)||E.test(U))&&AP(R,U)}L===0?da(R,g):L>0?da(R,b(Math.abs(L))):da(R,x(Math.abs(L)))}),i.scrollOnChange(h,{total:o.length,prevIndex:a,sliderIndex:this._sliderIndex,direction:h>a?Vt.NEXT:Vt.PREV,bullets:nue([],o),moveTo:this.moveTo}),this._previousIndex=h}},e}(EN),oue=function(){function n(t){var r=this,i=t===void 0?{}:t,s=i.parentEl,o=s===void 0?null:s,a=i.selector,l=a===void 0?ur.SELECTOR:a,c=i.type,u=c===void 0?ur.TYPE.BULLET:c,d=i.classPrefix,h=d===void 0?ur.PREFIX:d,m=i.bulletCount,g=m===void 0?5:m,v=i.renderBullet,_=v===void 0?function(L){return'<span class="'+L+'"></span>'}:v,x=i.renderActiveBullet,b=x===void 0?null:x,w=i.renderFraction,E=w===void 0?function(L,X){return'<span class="'+L+'"></span>/<span class="'+X+'"></span>'}:w,A=i.fractionCurrentFormat,T=A===void 0?function(L){return L.toString()}:A,I=i.fractionTotalFormat,M=I===void 0?function(L){return L.toString()}:I,R=i.scrollOnChange,O=R===void 0?function(L,X){return X.moveTo(L)}:R;this._flicking=null,this.update=function(){r._removeAllChilds(),r._renderer.render()},this._onIndexChange=function(L){r._renderer.update(L.index)},this._parentEl=o,this._selector=l,this._type=u,this._classPrefix=h,this._bulletCount=g,this._renderBullet=_,this._renderActiveBullet=b,this._renderFraction=E,this._fractionCurrentFormat=T,this._fractionTotalFormat=M,this._scrollOnChange=O}var e=n.prototype;return Object.defineProperty(e,"parentEl",{get:function(){return this._parentEl},set:function(t){this._parentEl=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"selector",{get:function(){return this._selector},set:function(t){this._selector=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"type",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"classPrefix",{get:function(){return this._classPrefix},enumerable:!1,configurable:!0}),Object.defineProperty(e,"bulletCount",{get:function(){return this._bulletCount},set:function(t){this._bulletCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderBullet",{get:function(){return this._renderBullet},set:function(t){this._renderBullet=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderActiveBullet",{get:function(){return this._renderActiveBullet},set:function(t){this._renderActiveBullet=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderFraction",{get:function(){return this._renderFraction},set:function(t){this._renderFraction=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"fractionCurrentFormat",{get:function(){return this._fractionCurrentFormat},set:function(t){this._fractionCurrentFormat=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"fractionTotalFormat",{get:function(){return this._fractionTotalFormat},set:function(t){this._fractionTotalFormat=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scrollOnChange",{get:function(){return this._scrollOnChange},set:function(t){this._scrollOnChange=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"bulletWrapperclassPrefixClass",{set:function(t){this._classPrefix=t},enumerable:!1,configurable:!0}),e.init=function(t){this._flicking&&this.destroy(),this._flicking=t;var r=this._type,i=this._selector,s=this._parentEl?this._parentEl:t.element,o=s.querySelector(i);if(!o)throw new Error("[Flicking-Pagination] Couldn't find element with the given selector: "+i);this._wrapper=o,this._renderer=this._createRenderer(r),t.on(Et.WILL_CHANGE,this._onIndexChange),t.on(Et.WILL_RESTORE,this._onIndexChange),t.on(Et.PANEL_CHANGE,this.update),this.update()},e.destroy=function(){var t=this._flicking;t&&(t.off(Et.WILL_CHANGE,this._onIndexChange),t.off(Et.WILL_RESTORE,this._onIndexChange),t.off(Et.PANEL_CHANGE,this.update),this._renderer.destroy(),this._removeAllChilds(),this._flicking=null)},e._createRenderer=function(t){var r={flicking:this._flicking,pagination:this,wrapper:this._wrapper};switch(t){case ur.TYPE.BULLET:return new rue(r);case ur.TYPE.FRACTION:return new iue(r);case ur.TYPE.SCROLL:return new sue(r);default:throw new Error('[Flicking-Pagination] type "'+t+'" is not supported.')}},e._removeAllChilds=function(){for(var t=this._wrapper;t.firstChild;)t.removeChild(t.firstChild)},n}();const CN=N.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),q1=N.createContext({});function aue(){return N.useContext(q1).visualElement}const Q1=N.createContext(null),Z1=typeof document<"u",PF=Z1?N.useLayoutEffect:N.useEffect,d8=N.createContext({strict:!1});function lue(n,e,t,r){const i=aue(),s=N.useContext(d8),o=N.useContext(Q1),a=N.useContext(CN).reducedMotion,l=N.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceId:o?o.id:void 0,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return PF(()=>{c&&c.render()}),(window.HandoffAppearAnimations?PF:N.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function tf(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function cue(n,e,t){return N.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):tf(t)&&(t.current=r))},[e])}function Mv(n){return typeof n=="string"||Array.isArray(n)}function eS(n){return typeof n=="object"&&typeof n.start=="function"}const uue=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function tS(n){return eS(n.animate)||uue.some(e=>Mv(n[e]))}function h8(n){return Boolean(tS(n)||n.variants)}function due(n,e){if(tS(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Mv(t)?t:void 0,animate:Mv(r)?r:void 0}}return n.inherit!==!1?e:{}}function hue(n){const{initial:e,animate:t}=due(n,N.useContext(q1));return N.useMemo(()=>({initial:e,animate:t}),[RF(e),RF(t)])}function RF(n){return Array.isArray(n)?n.join(" "):n}const Wa=n=>({isEnabled:e=>n.some(t=>!!e[t])}),Tv={measureLayout:Wa(["layout","layoutId","drag"]),animation:Wa(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Wa(["exit"]),drag:Wa(["drag","dragControls"]),focus:Wa(["whileFocus"]),hover:Wa(["whileHover","onHoverStart","onHoverEnd"]),tap:Wa(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Wa(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Wa(["whileInView","onViewportEnter","onViewportLeave"])};function fue(n){for(const e in n)e==="projectionNodeConstructor"?Tv.projectionNodeConstructor=n[e]:Tv[e].Component=n[e]}function AN(n){const e=N.useRef(null);return e.current===null&&(e.current=n()),e.current}const Fg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let pue=1;function mue(){return AN(()=>{if(Fg.hasEverUpdated)return pue++})}const f8=N.createContext({});class gue extends _e.Component{getSnapshotBeforeUpdate(){const{visualElement:e,props:t}=this.props;return e&&e.setProps(t),null}componentDidUpdate(){}render(){return this.props.children}}const p8=N.createContext({}),vue=Symbol.for("motionComponentSymbol");function yue({preloadedFeatures:n,createVisualElement:e,projectionNodeConstructor:t,useRender:r,useVisualState:i,Component:s}){n&&fue(n);function o(l,c){const u={...N.useContext(CN),...l,layoutId:_ue(l)},{isStatic:d}=u;let h=null;const m=hue(l),g=d?void 0:mue(),v=i(l,d);if(!d&&Z1){m.visualElement=lue(s,v,u,e);const _=N.useContext(p8);m.visualElement&&(h=m.visualElement.loadFeatures(u,N.useContext(d8).strict,n,g,t||Tv.projectionNodeConstructor,_))}return N.createElement(gue,{visualElement:m.visualElement,props:u},h,N.createElement(q1.Provider,{value:m},r(s,l,g,cue(v,m.visualElement,c),v,d,m.visualElement)))}const a=N.forwardRef(o);return a[vue]=s,a}function _ue({layoutId:n}){const e=N.useContext(f8).id;return e&&n!==void 0?e+"-"+n:n}function xue(n){function e(r,i={}){return yue(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const bue=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function MN(n){return typeof n!="string"||n.includes("-")?!1:!!(bue.indexOf(n)>-1||/[A-Z]/.test(n))}const Zb={};function wue(n){Object.assign(Zb,n)}const ew=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rp=new Set(ew);function m8(n,{layout:e,layoutId:t}){return Rp.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Zb[n]||n==="opacity")}const hs=n=>!!(n!=null&&n.getVelocity),Sue={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Eue=(n,e)=>ew.indexOf(n)-ew.indexOf(e);function Cue({transform:n,transformKeys:e},{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},i,s){let o="";e.sort(Eue);for(const a of e)o+=`${Sue[a]||a}(${n[a]}) `;return t&&!n.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(n,i?"":o):r&&i&&(o="none"),o}function g8(n){return n.startsWith("--")}const Aue=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ep=(n,e,t)=>Math.min(Math.max(t,n),e),Bd={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},zg={...Bd,transform:n=>ep(0,1,n)},R_={...Bd,default:1},Ug=n=>Math.round(n*1e5)/1e5,Pv=/(-)?([\d]*\.?[\d])+/g,TP=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Mue=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ky(n){return typeof n=="string"}const Oy=n=>({test:e=>ky(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ql=Oy("deg"),wa=Oy("%"),ft=Oy("px"),Tue=Oy("vh"),Pue=Oy("vw"),IF={...wa,parse:n=>wa.parse(n)/100,transform:n=>wa.transform(n*100)},NF={...Bd,transform:Math.round},v8={borderWidth:ft,borderTopWidth:ft,borderRightWidth:ft,borderBottomWidth:ft,borderLeftWidth:ft,borderRadius:ft,radius:ft,borderTopLeftRadius:ft,borderTopRightRadius:ft,borderBottomRightRadius:ft,borderBottomLeftRadius:ft,width:ft,maxWidth:ft,height:ft,maxHeight:ft,size:ft,top:ft,right:ft,bottom:ft,left:ft,padding:ft,paddingTop:ft,paddingRight:ft,paddingBottom:ft,paddingLeft:ft,margin:ft,marginTop:ft,marginRight:ft,marginBottom:ft,marginLeft:ft,rotate:Ql,rotateX:Ql,rotateY:Ql,rotateZ:Ql,scale:R_,scaleX:R_,scaleY:R_,scaleZ:R_,skew:Ql,skewX:Ql,skewY:Ql,distance:ft,translateX:ft,translateY:ft,translateZ:ft,x:ft,y:ft,z:ft,perspective:ft,transformPerspective:ft,opacity:zg,originX:IF,originY:IF,originZ:ft,zIndex:NF,fillOpacity:zg,strokeOpacity:zg,numOctaves:NF};function TN(n,e,t,r){const{style:i,vars:s,transform:o,transformKeys:a,transformOrigin:l}=n;a.length=0;let c=!1,u=!1,d=!0;for(const h in e){const m=e[h];if(g8(h)){s[h]=m;continue}const g=v8[h],v=Aue(m,g);if(Rp.has(h)){if(c=!0,o[h]=v,a.push(h),!d)continue;m!==(g.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,l[h]=v):i[h]=v}if(e.transform||(c||r?i.transform=Cue(n,t,d,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:g=0}=l;i.transformOrigin=`${h} ${m} ${g}`}}const PN=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function y8(n,e,t){for(const r in e)!hs(e[r])&&!m8(r,t)&&(n[r]=e[r])}function Rue({transformTemplate:n},e,t){return N.useMemo(()=>{const r=PN();return TN(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function Iue(n,e,t){const r=n.style||{},i={};return y8(i,r,n),Object.assign(i,Rue(n,e,t)),n.transformValues?n.transformValues(i):i}function Nue(n,e,t){const r={},i=Iue(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const kue=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function tw(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||kue.has(n)}let _8=n=>!tw(n);function Oue(n){n&&(_8=e=>e.startsWith("on")?!tw(e):n(e))}try{Oue(require("@emotion/is-prop-valid").default)}catch{}function Lue(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(_8(i)||t===!0&&tw(i)||!e&&!tw(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function kF(n,e,t){return typeof n=="string"?n:ft.transform(e+t*n)}function Due(n,e,t){const r=kF(e,n.x,n.width),i=kF(t,n.y,n.height);return`${r} ${i}`}const Bue={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fue={offset:"strokeDashoffset",array:"strokeDasharray"};function zue(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?Bue:Fue;n[s.offset]=ft.transform(-r);const o=ft.transform(e),a=ft.transform(t);n[s.array]=`${o} ${a}`}function RN(n,{attrX:e,attrY:t,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},c,u,d){if(TN(n,l,c,d),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:h,style:m,dimensions:g}=n;h.transform&&(g&&(m.transform=h.transform),delete h.transform),g&&(r!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=Due(g,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(h.x=e),t!==void 0&&(h.y=t),s!==void 0&&zue(h,s,o,a,!1)}const x8=()=>({...PN(),attrs:{}}),IN=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Uue(n,e,t,r){const i=N.useMemo(()=>{const s=x8();return RN(s,e,{enableHardwareAcceleration:!1},IN(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};y8(s,n.style,n),i.style={...s,...i.style}}return i}function Hue(n=!1){return(t,r,i,s,{latestValues:o},a)=>{const c=(MN(t)?Uue:Nue)(r,o,a,t),d={...Lue(r,typeof t=="string",n),...c,ref:s},{children:h}=r,m=N.useMemo(()=>hs(h)?h.get():h,[h]);return i&&(d["data-projection-id"]=i),N.createElement(t,{...d,children:m})}}const NN=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function b8(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const w8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function S8(n,e,t,r){b8(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(w8.has(i)?i:NN(i),e.attrs[i])}function kN(n,e){const{style:t}=n,r={};for(const i in t)(hs(t[i])||e.style&&hs(e.style[i])||m8(i,n))&&(r[i]=t[i]);return r}function E8(n,e){const t=kN(n,e);for(const r in n)if(hs(n[r])||hs(e[r])){const i=r==="x"||r==="y"?"attr"+r.toUpperCase():r;t[i]=n[r]}return t}function ON(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}const nw=n=>Array.isArray(n),Gue=n=>Boolean(n&&typeof n=="object"&&n.mix&&n.toValue),Vue=n=>nw(n)?n[n.length-1]||0:n;function Zx(n){const e=hs(n)?n.get():n;return Gue(e)?e.toValue():e}function Wue({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:jue(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const C8=n=>(e,t)=>{const r=N.useContext(q1),i=N.useContext(Q1),s=()=>Wue(n,e,r,i);return t?s():AN(s)};function jue(n,e,t,r){const i={},s=r(n,{});for(const h in s)i[h]=Zx(s[h]);let{initial:o,animate:a}=n;const l=tS(n),c=h8(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!eS(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const g=ON(n,m);if(!g)return;const{transitionEnd:v,transition:_,...x}=g;for(const b in x){let w=x[b];if(Array.isArray(w)){const E=u?w.length-1:0;w=w[E]}w!==null&&(i[b]=w)}for(const b in v)i[b]=v[b]}),i}const $ue={useVisualState:C8({scrapeMotionValuesFromProps:E8,createRenderState:x8,onMount:(n,e,{renderState:t,latestValues:r})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}RN(t,r,{enableHardwareAcceleration:!1},IN(e.tagName),n.transformTemplate),S8(e,t)}})},Kue={useVisualState:C8({scrapeMotionValuesFromProps:kN,createRenderState:PN})};function Xue(n,{forwardMotionProps:e=!1},t,r,i){return{...MN(n)?$ue:Kue,preloadedFeatures:t,useRender:Hue(e),createVisualElement:r,projectionNodeConstructor:i,Component:n}}var Pn;(function(n){n.Animate="animate",n.Hover="whileHover",n.Tap="whileTap",n.Drag="whileDrag",n.Focus="whileFocus",n.InView="whileInView",n.Exit="exit"})(Pn||(Pn={}));function ad(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function rw(n,e,t,r){N.useEffect(()=>{const i=n.current;if(t&&i)return ad(i,e,t,r)},[n,e,t,r])}function Jue({whileFocus:n,visualElement:e}){const t=N.useRef(!1),{animationState:r}=e,i=N.useCallback(()=>{let o=!1;try{o=e.current.matches(":focus-visible")}catch{o=!0}!o||!r||(r.setActive(Pn.Focus,!0),t.current=!0)},[r]),s=N.useCallback(()=>{!t.current||!r||(r.setActive(Pn.Focus,!1),t.current=!1)},[r]);rw(e,"focus",n?i:void 0),rw(e,"blur",n?s:void 0)}const A8=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function nS(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const M8=n=>e=>A8(e)&&n(e,nS(e));function Sf(n,e,t,r){return ad(n,e,M8(t),r)}function iw(n,e,t,r){return rw(n,e,t&&M8(t),r)}function T8(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const OF=T8("dragHorizontal"),LF=T8("dragVertical");function P8(n){let e=!1;if(n==="y")e=LF();else if(n==="x")e=OF();else{const t=OF(),r=LF();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function R8(){const n=P8(!0);return n?(n(),!1):!0}function DF(n,e,t,r){return(i,s)=>{i.type==="touch"||R8()||(t&&n.animationState&&n.animationState.setActive(Pn.Hover,e),r&&r(i,s))}}function Yue({onHoverStart:n,onHoverEnd:e,whileHover:t,visualElement:r}){iw(r,"pointerenter",N.useMemo(()=>n||t?DF(r,!0,Boolean(t),n):void 0,[n,Boolean(t),r]),{passive:!n}),iw(r,"pointerleave",N.useMemo(()=>e||t?DF(r,!1,Boolean(t),e):void 0,[n,Boolean(t),r]),{passive:!e})}const I8=(n,e)=>e?n===e?!0:I8(n,e.parentElement):!1;function N8(n){return N.useEffect(()=>()=>n(),[])}const que=(n,e)=>t=>e(n(t)),rS=(...n)=>n.reduce(que);function oA(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,nS(t))}function Que({onTap:n,onTapStart:e,onTapCancel:t,whileTap:r,visualElement:i,...s}){const o=n||e||t||r,a=N.useRef(!1),l=N.useRef(null),c={passive:!(e||n||t||s.onPointerDown)};function u(){l.current&&l.current(),l.current=null}function d(){return u(),a.current=!1,i.getProps().whileTap&&i.animationState&&i.animationState.setActive(Pn.Tap,!1),!R8()}function h(b,w){var E,A,T,I;d()&&(I8(i.current,b.target)?(I=(T=i.getProps()).onTap)===null||I===void 0||I.call(T,b,w):(A=(E=i.getProps()).onTapCancel)===null||A===void 0||A.call(E,b,w))}function m(b,w){var E,A;d()&&((A=(E=i.getProps()).onTapCancel)===null||A===void 0||A.call(E,b,w))}function g(b,w){var E;const A=i.getProps();A.whileTap&&i.animationState&&i.animationState.setActive(Pn.Tap,!0),(E=A.onTapStart)===null||E===void 0||E.call(A,b,w)}const v=[Boolean(e),Boolean(n),Boolean(r),i],_=N.useCallback((b,w)=>{u(),!a.current&&(a.current=!0,l.current=rS(Sf(window,"pointerup",h,c),Sf(window,"pointercancel",m,c)),g(b,w))},v);iw(i,"pointerdown",o?_:void 0,c);const x=N.useCallback(()=>{const b=ad(i.current,"keydown",E=>{E.key!=="Enter"||a.current||(a.current=!0,l.current=ad(i.current,"keyup",()=>{E.key!=="Enter"||!d()||oA("up",i.getProps().onTap)},c),oA("down",g))}),w=ad(i.current,"blur",()=>{b(),w(),a.current&&oA("cancel",m)})},v);rw(i,"focus",o?x:void 0),N8(u)}const PP=new WeakMap,aA=new WeakMap,Zue=n=>{const e=PP.get(n.target);e&&e(n)},ede=n=>{n.forEach(Zue)};function tde({root:n,...e}){const t=n||document;aA.has(t)||aA.set(t,{});const r=aA.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(ede,{root:n,...e})),r[i]}function nde(n,e,t){const r=tde(e);return PP.set(n,t),r.observe(n),()=>{PP.delete(n),r.unobserve(n)}}function rde({visualElement:n,whileInView:e,onViewportEnter:t,onViewportLeave:r,viewport:i={}}){const s=N.useRef({hasEnteredView:!1,isInView:!1});let o=Boolean(e||t||r);i.once&&s.current.hasEnteredView&&(o=!1),(typeof IntersectionObserver>"u"?ode:sde)(o,s.current,n,i)}const ide={some:0,all:1};function sde(n,e,t,{root:r,margin:i,amount:s="some",once:o}){N.useEffect(()=>{if(!n||!t.current)return;const a={root:r==null?void 0:r.current,rootMargin:i,threshold:typeof s=="number"?s:ide[s]},l=c=>{const{isIntersecting:u}=c;if(e.isInView===u||(e.isInView=u,o&&!u&&e.hasEnteredView))return;u&&(e.hasEnteredView=!0),t.animationState&&t.animationState.setActive(Pn.InView,u);const d=t.getProps(),h=u?d.onViewportEnter:d.onViewportLeave;h&&h(c)};return nde(t.current,a,l)},[n,r,i,s])}function ode(n,e,t,{fallback:r=!0}){N.useEffect(()=>{!n||!r||requestAnimationFrame(()=>{e.hasEnteredView=!0;const{onViewportEnter:i}=t.getProps();i&&i(null),t.animationState&&t.animationState.setActive(Pn.InView,!0)})},[n])}const hc=n=>e=>(n(e),null),ade={inView:hc(rde),tap:hc(Que),focus:hc(Jue),hover:hc(Yue)};function k8(){const n=N.useContext(Q1);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=N.useId();return N.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}function O8(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const lde=n=>/^\-?\d*\.?\d+$/.test(n),cde=n=>/^0[^.\s]+$/.test(n),dl={delta:0,timestamp:0},L8=1/60*1e3,ude=typeof performance<"u"?()=>performance.now():()=>Date.now(),D8=typeof window<"u"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(ude()),L8);function dde(n){let e=[],t=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&i,h=d?e:t;return c&&o.add(l),h.indexOf(l)===-1&&(h.push(l),d&&i&&(r=e.length)),l},cancel:l=>{const c=t.indexOf(l);c!==-1&&t.splice(c,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let c=0;c<r;c++){const u=e[c];u(l),o.has(u)&&(a.schedule(u),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const hde=40;let RP=!0,Rv=!1,IP=!1;const Ly=["read","update","preRender","render","postRender"],iS=Ly.reduce((n,e)=>(n[e]=dde(()=>Rv=!0),n),{}),ji=Ly.reduce((n,e)=>{const t=iS[e];return n[e]=(r,i=!1,s=!1)=>(Rv||pde(),t.schedule(r,i,s)),n},{}),zc=Ly.reduce((n,e)=>(n[e]=iS[e].cancel,n),{}),lA=Ly.reduce((n,e)=>(n[e]=()=>iS[e].process(dl),n),{}),fde=n=>iS[n].process(dl),B8=n=>{Rv=!1,dl.delta=RP?L8:Math.max(Math.min(n-dl.timestamp,hde),1),dl.timestamp=n,IP=!0,Ly.forEach(fde),IP=!1,Rv&&(RP=!1,D8(B8))},pde=()=>{Rv=!0,RP=!0,IP||D8(B8)};function LN(n,e){n.indexOf(e)===-1&&n.push(e)}function DN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class BN{constructor(){this.subscriptions=[]}add(e){return LN(this.subscriptions,e),()=>DN(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function FN(n,e){return e?n*(1e3/e):0}const mde=n=>!isNaN(parseFloat(n));class gde{constructor(e,t={}){this.version="9.0.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=dl;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,ji.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ji.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=mde(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new BN);const r=this.events[e].add(t);return e==="change"?()=>{r(),ji.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?FN(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tp(n,e){return new gde(n,e)}const zN=(n,e)=>t=>Boolean(ky(t)&&Mue.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),F8=(n,e,t)=>r=>{if(!ky(r))return r;const[i,s,o,a]=r.match(Pv);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},vde=n=>ep(0,255,n),cA={...Bd,transform:n=>Math.round(vde(n))},Ju={test:zN("rgb","red"),parse:F8("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+cA.transform(n)+", "+cA.transform(e)+", "+cA.transform(t)+", "+Ug(zg.transform(r))+")"};function yde(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const NP={test:zN("#"),parse:yde,transform:Ju.transform},nf={test:zN("hsl","hue"),parse:F8("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+wa.transform(Ug(e))+", "+wa.transform(Ug(t))+", "+Ug(zg.transform(r))+")"},zi={test:n=>Ju.test(n)||NP.test(n)||nf.test(n),parse:n=>Ju.test(n)?Ju.parse(n):nf.test(n)?nf.parse(n):NP.parse(n),transform:n=>ky(n)?n:n.hasOwnProperty("red")?Ju.transform(n):nf.transform(n)},z8="${c}",U8="${n}";function _de(n){var e,t;return isNaN(n)&&ky(n)&&(((e=n.match(Pv))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(TP))===null||t===void 0?void 0:t.length)||0)>0}function sw(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0,r=0;const i=n.match(TP);i&&(t=i.length,n=n.replace(TP,z8),e.push(...i.map(zi.parse)));const s=n.match(Pv);return s&&(r=s.length,n=n.replace(Pv,U8),e.push(...s.map(Bd.parse))),{values:e,numColors:t,numNumbers:r,tokenised:n}}function H8(n){return sw(n).values}function G8(n){const{values:e,numColors:t,tokenised:r}=sw(n),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<t?z8:U8,a<t?zi.transform(s[a]):Ug(s[a]));return o}}const xde=n=>typeof n=="number"?0:n;function bde(n){const e=H8(n);return G8(n)(e.map(xde))}const Uc={test:_de,parse:H8,createTransformer:G8,getAnimatableNone:bde},wde=new Set(["brightness","contrast","saturate","opacity"]);function Sde(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Pv)||[];if(!r)return n;const i=t.replace(r,"");let s=wde.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const Ede=/([a-z-]*)\(.*?\)/g,kP={...Uc,getAnimatableNone:n=>{const e=n.match(Ede);return e?e.map(Sde).join(" "):n}},Cde={...v8,color:zi,backgroundColor:zi,outlineColor:zi,fill:zi,stroke:zi,borderColor:zi,borderTopColor:zi,borderRightColor:zi,borderBottomColor:zi,borderLeftColor:zi,filter:kP,WebkitFilter:kP},UN=n=>Cde[n];function HN(n,e){var t;let r=UN(n);return r!==kP&&(r=Uc),(t=r.getAnimatableNone)===null||t===void 0?void 0:t.call(r,e)}const V8=n=>e=>e.test(n),Ade={test:n=>n==="auto",parse:n=>n},W8=[Bd,ft,wa,Ql,Pue,Tue,Ade],km=n=>W8.find(V8(n)),Mde=[...W8,zi,Uc],Tde=n=>Mde.find(V8(n));function Pde(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function Rde(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function sS(n,e,t){const r=n.getProps();return ON(r,e,t!==void 0?t:r.custom,Pde(n),Rde(n))}function Ide(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,tp(t))}function Nde(n,e){const t=sS(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=Vue(s[o]);Ide(n,o,a)}}function kde(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(lde(u)||cde(u))?u=parseFloat(u):!Tde(u)&&Uc.test(c)&&(u=HN(l,c)),n.addValue(l,tp(u,{owner:n})),t[l]===void 0&&(t[l]=u),u!==null&&n.setBaseTarget(l,u))}}function Ode(n,e){return e?(e[n]||e.default||e).from:void 0}function Lde(n,e,t){var r;const i={};for(const s in n){const o=Ode(s,e);i[s]=o!==void 0?o:(r=t.getValue(s))===null||r===void 0?void 0:r.get()}return i}function ow(n){return Boolean(hs(n)&&n.add)}const Dde="framerAppearId",Bde="data-"+NN(Dde);var Fde=function(){},aw=function(){};const eb=n=>n*1e3,zde={current:!1},GN=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,VN=n=>e=>1-n(1-e),WN=n=>n*n,Ude=VN(WN),jN=GN(WN),fr=(n,e,t)=>-t*n+t*e+n;function uA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Hde({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=uA(l,a,n+1/3),s=uA(l,a,n),o=uA(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const dA=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},Gde=[NP,Ju,nf],Vde=n=>Gde.find(e=>e.test(n));function BF(n){const e=Vde(n);let t=e.parse(n);return e===nf&&(t=Hde(t)),t}const j8=(n,e)=>{const t=BF(n),r=BF(e),i={...t};return s=>(i.red=dA(t.red,r.red,s),i.green=dA(t.green,r.green,s),i.blue=dA(t.blue,r.blue,s),i.alpha=fr(t.alpha,r.alpha,s),Ju.transform(i))};function $8(n,e){return typeof n=="number"?t=>fr(n,e,t):zi.test(n)?j8(n,e):X8(n,e)}const K8=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>$8(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},Wde=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=$8(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},X8=(n,e)=>{const t=Uc.createTransformer(e),r=sw(n),i=sw(e);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?rS(K8(r.values,i.values),t):o=>`${o>0?e:n}`},lw=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},FF=(n,e)=>t=>fr(n,e,t);function jde(n){return typeof n=="number"?FF:typeof n=="string"?zi.test(n)?j8:X8:Array.isArray(n)?K8:typeof n=="object"?Wde:FF}function $de(n,e,t){const r=[],i=t||jde(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=rS(l,a)}r.push(a)}return r}function J8(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;aw(s===e.length),aw(!r||!Array.isArray(r)||r.length===s-1),n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=$de(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<n.length-2&&!(c<n[u+1]);u++);const d=lw(n[u],n[u+1],c);return o[u](d)};return t?c=>l(ep(n[0],n[s-1],c)):l}const $N=n=>n,Y8=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Kde=1e-7,Xde=12;function Jde(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=Y8(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>Kde&&++a<Xde);return o}function q8(n,e,t,r){if(n===e&&t===r)return $N;const i=s=>Jde(s,0,1,n,t);return s=>s===0||s===1?s:Y8(i(s),e,r)}const Q8=n=>1-Math.sin(Math.acos(n)),KN=VN(Q8),Yde=GN(KN),Z8=q8(.33,1.53,.69,.99),XN=VN(Z8),qde=GN(XN),Qde=n=>(n*=2)<1?.5*XN(n):.5*(2-Math.pow(2,-10*(n-1))),Zde={linear:$N,easeIn:WN,easeInOut:jN,easeOut:Ude,circIn:Q8,circInOut:Yde,circOut:KN,backIn:XN,backInOut:qde,backOut:Z8,anticipate:Qde},zF=n=>{if(Array.isArray(n)){aw(n.length===4);const[e,t,r,i]=n;return q8(e,t,r,i)}else if(typeof n=="string")return Zde[n];return n},ehe=n=>Array.isArray(n)&&typeof n[0]!="number";function the(n,e){return n.map(()=>e||jN).splice(0,n.length-1)}function nhe(n){const e=n.length;return n.map((t,r)=>r!==0?r/(e-1):0)}function rhe(n,e){return n.map(t=>t*e)}function OP({keyframes:n,ease:e=jN,times:t,duration:r=300}){n=[...n];const i=ehe(e)?e.map(zF):zF(e),s={done:!1,value:n[0]},o=rhe(t&&t.length===n.length?t:nhe(n),r);function a(){return J8(o,n,{ease:Array.isArray(i)?i:the(n,i)})}let l=a();return{next:c=>(s.value=l(c),s.done=c>=r,s),flipTarget:()=>{n.reverse(),l=a()}}}const hA=.001,ihe=.01,UF=10,she=.05,ohe=1;function ahe({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;Fde(n<=UF*1e3);let o=1-e;o=ep(she,ohe,o),n=ep(ihe,UF,n/1e3),o<1?(i=c=>{const u=c*o,d=u*n,h=u-t,m=LP(c,o),g=Math.exp(-d);return hA-h/m*g},s=c=>{const d=c*o*n,h=d*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,g=Math.exp(-d),v=LP(Math.pow(c,2),o);return(-i(c)+hA>0?-1:1)*((h-m)*g)/v}):(i=c=>{const u=Math.exp(-c*n),d=(c-t)*n+1;return-hA+u*d},s=c=>{const u=Math.exp(-c*n),d=(t-c)*(n*n);return u*d});const a=5/n,l=che(i,s,a);if(n=n*1e3,isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const lhe=12;function che(n,e,t){let r=t;for(let i=1;i<lhe;i++)r=r-n(r)/e(r);return r}function LP(n,e){return n*Math.sqrt(1-e*e)}const uhe=["duration","bounce"],dhe=["stiffness","damping","mass"];function HF(n,e){return e.some(t=>n[t]!==void 0)}function hhe(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!HF(n,dhe)&&HF(n,uhe)){const t=ahe(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const fhe=5;function e9({keyframes:n,restDelta:e,restSpeed:t,...r}){let i=n[0],s=n[n.length-1];const o={done:!1,value:i},{stiffness:a,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:h}=hhe(r);let m=phe,g=u?-(u/1e3):0;const v=l/(2*Math.sqrt(a*c));function _(){const x=s-i,b=Math.sqrt(a/c)/1e3,w=Math.abs(x)<5;if(t||(t=w?.01:2),e||(e=w?.005:.5),v<1){const E=LP(b,v);m=A=>{const T=Math.exp(-v*b*A);return s-T*((g+v*b*x)/E*Math.sin(E*A)+x*Math.cos(E*A))}}else if(v===1)m=E=>s-Math.exp(-b*E)*(x+(g+b*x)*E);else{const E=b*Math.sqrt(v*v-1);m=A=>{const T=Math.exp(-v*b*A),I=Math.min(E*A,300);return s-T*((g+v*b*x)*Math.sinh(I)+E*x*Math.cosh(I))/E}}}return _(),{next:x=>{const b=m(x);if(h)o.done=x>=d;else{let w=g;if(x!==0)if(v<1){const T=Math.max(0,x-fhe);w=FN(b-m(T),x-T)}else w=0;const E=Math.abs(w)<=t,A=Math.abs(s-b)<=e;o.done=E&&A}return o.value=o.done?s:b,o},flipTarget:()=>{g=-g,[i,s]=[s,i],_()}}}e9.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const phe=n=>0;function mhe({keyframes:n=[0],velocity:e=0,power:t=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:s}){const o=n[0],a={done:!1,value:o};let l=t*e;const c=o+l,u=s===void 0?c:s(c);return u!==c&&(l=u-o),{next:d=>{const h=-l*Math.exp(-d/r);return a.done=!(h>i||h<-i),a.value=a.done?u:u+h,a},flipTarget:()=>{}}}const ghe={decay:mhe,keyframes:OP,tween:OP,spring:e9};function t9(n,e,t=0){return n-e-t}function vhe(n,e=0,t=0,r=!0){return r?t9(e+-n,e,t):e-(n-e)+t}function yhe(n,e,t,r){return r?n>=e+t:n<=-t}const _he=n=>{const e=({delta:t})=>n(t);return{start:()=>ji.update(e,!0),stop:()=>zc.update(e)}};function cw({duration:n,driver:e=_he,elapsed:t=0,repeat:r=0,repeatType:i="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:l,onStop:c,onComplete:u,onRepeat:d,onUpdate:h,type:m="keyframes",...g}){var v,_;const x=t;let b,w=0,E=n,A=!1,T=!0,I;const M=ghe[o.length>2?"keyframes":m]||OP,R=o[0],O=o[o.length-1];let L={done:!1,value:R};!((_=(v=M).needsInterpolation)===null||_===void 0)&&_.call(v,R,O)&&(I=J8([0,100],[R,O],{clamp:!1}),o=[0,100]);const X=M({...g,duration:n,keyframes:o});function W(){w++,i==="reverse"?(T=w%2===0,t=vhe(t,E,s,T)):(t=t9(t,E,s),i==="mirror"&&X.flipTarget()),A=!1,d&&d()}function K(){b&&b.stop(),u&&u()}function U(Q){T||(Q=-Q),t+=Q,A||(L=X.next(Math.max(0,t)),I&&(L.value=I(L.value)),A=T?L.done:t<=0),h&&h(L.value),A&&(w===0&&(E=E!==void 0?E:t),w<r?yhe(t,E,s,T)&&W():K())}function ee(){l&&l(),b=e(U),b.start()}return a&&ee(),{stop:()=>{c&&c(),b&&b.stop()},set currentTime(Q){t=x,U(Q)},sample:Q=>{t=x;const D=n&&typeof n=="number"?Math.max(n*.5,50):50;let z=0;for(U(0);z<=Q;){const Z=Q-z;U(Math.min(Z,D)),z+=D}return L}}}function xhe(n){return!n||Array.isArray(n)||typeof n=="string"&&n9[n]}const yg=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,n9={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yg([0,.65,.55,1]),circOut:yg([.55,0,1,.45]),backIn:yg([.31,.01,.66,-.59]),backOut:yg([.33,1.53,.69,.99])};function bhe(n){if(n)return Array.isArray(n)?yg(n):n9[n]}function whe(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){return n.animate({[e]:t,offset:l},{delay:r,duration:i,easing:bhe(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const GF={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},fA={},r9={};for(const n in GF)r9[n]=()=>(fA[n]===void 0&&(fA[n]=GF[n]()),fA[n]);function She(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const Ehe=new Set(["opacity"]),I_=10;function Che(n,e,{onUpdate:t,onComplete:r,...i}){if(!(r9.waapi()&&Ehe.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0))return!1;let{keyframes:o,duration:a=300,elapsed:l=0,ease:c}=i;if(i.type==="spring"||!xhe(i.ease)){if(i.repeat===1/0)return;const d=cw({...i,elapsed:0});let h={done:!1,value:o[0]};const m=[];let g=0;for(;!h.done&&g<2e4;)h=d.sample(g),m.push(h.value),g+=I_;o=m,a=g-I_,c="linear"}const u=whe(n.owner.current,e,o,{...i,delay:-l,duration:a,ease:c});return u.onfinish=()=>{n.set(She(o,i)),ji.update(()=>u.cancel()),r&&r()},{get currentTime(){return u.currentTime||0},set currentTime(d){u.currentTime=d},stop:()=>{const{currentTime:d}=u;if(d){const h=cw({...i,autoplay:!1});n.setWithVelocity(h.sample(d-I_).value,h.sample(d).value,I_)}ji.update(()=>u.cancel())}}}function i9(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(zc.read(r),n(s-e))};return ji.read(r,!0),()=>zc.read(r)}function Ahe({keyframes:n,elapsed:e,onUpdate:t,onComplete:r}){const i=()=>{t&&t(n[n.length-1]),r&&r()};return e?{stop:i9(i,-e)}:i()}function Mhe({keyframes:n,velocity:e=0,min:t,max:r,power:i=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:c,driver:u,onUpdate:d,onComplete:h,onStop:m}){const g=n[0];let v;function _(E){return t!==void 0&&E<t||r!==void 0&&E>r}function x(E){return t===void 0?r:r===void 0||Math.abs(t-E)<Math.abs(r-E)?t:r}function b(E){v==null||v.stop(),v=cw({keyframes:[0,1],velocity:0,...E,driver:u,onUpdate:A=>{var T;d==null||d(A),(T=E.onUpdate)===null||T===void 0||T.call(E,A)},onComplete:h,onStop:m})}function w(E){b({type:"spring",stiffness:o,damping:a,restDelta:l,...E})}if(_(g))w({velocity:e,keyframes:[g,x(g)]});else{let E=i*e+g;typeof c<"u"&&(E=c(E));const A=x(E),T=A===t?-1:1;let I,M;const R=O=>{I=M,M=O,e=FN(O-I,dl.delta),(T===1&&O>A||T===-1&&O<A)&&w({keyframes:[O,A],velocity:e})};b({type:"decay",keyframes:[g,0],velocity:e,timeConstant:s,power:i,restDelta:l,modifyTarget:c,onUpdate:_(E)?R:void 0})}return{stop:()=>v==null?void 0:v.stop()}}const yu=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),N_=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),pA=()=>({type:"keyframes",ease:"linear",duration:.3}),The={type:"keyframes",duration:.8},VF={x:yu,y:yu,z:yu,rotate:yu,rotateX:yu,rotateY:yu,rotateZ:yu,scaleX:N_,scaleY:N_,scale:N_,opacity:pA,backgroundColor:pA,color:pA,default:N_},Phe=(n,{keyframes:e})=>e.length>2?The:(VF[n]||VF.default)(e[1]),DP=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Uc.test(e)&&!e.startsWith("url("));function Rhe({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function WF(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function jF(n){return typeof n=="number"?0:HN("",n)}function s9(n,e){return n[e]||n.default||n}function Ihe(n,e,t,r){const i=DP(e,t);let s=r.from!==void 0?r.from:n.get();return s==="none"&&i&&typeof t=="string"?s=HN(e,t):WF(s)&&typeof t=="string"?s=jF(t):!Array.isArray(t)&&WF(t)&&typeof s=="string"&&(t=jF(s)),Array.isArray(t)?(t[0]===null&&(t[0]=s),t):[s,t]}const JN=(n,e,t,r={})=>i=>{const s=s9(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-eb(o);const l=Ihe(e,n,t,s),c=l[0],u=l[l.length-1],d=DP(n,c),h=DP(n,u);let m={keyframes:l,velocity:e.getVelocity(),...s,elapsed:a,onUpdate:_=>{e.set(_),s.onUpdate&&s.onUpdate(_)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(!d||!h||zde.current||s.type===!1)return Ahe(m);if(s.type==="inertia")return Mhe(m);Rhe(s)||(m={...m,...Phe(n,m)}),m.duration&&(m.duration=eb(m.duration)),m.repeatDelay&&(m.repeatDelay=eb(m.repeatDelay));const g=e.owner,v=g&&g.current;if(g&&v instanceof HTMLElement&&!(g!=null&&g.getProps().onUpdate)){const _=Che(e,n,m);if(_)return _}return cw(m)};function Nhe(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>BP(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=BP(n,e,t);else{const i=typeof e=="function"?sS(n,e,t.custom):e;r=o9(n,i,t)}return r.then(()=>n.notify("AnimationComplete",e))}function BP(n,e,t={}){var r;const i=sS(n,e,t.custom);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const o=i?()=>o9(n,i,t):()=>Promise.resolve(),a=!((r=n.variantChildren)===null||r===void 0)&&r.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return khe(n,e,u+c,d,h,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(u)}else return Promise.all([o(),a(t.delay)])}function o9(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var s;let{transition:o=n.getDefaultTransition(),transitionEnd:a,...l}=n.makeTargetAnimatable(e);const c=n.getValue("willChange");r&&(o=r);const u=[],d=i&&((s=n.animationState)===null||s===void 0?void 0:s.getState()[i]);for(const h in l){const m=n.getValue(h),g=l[h];if(!m||g===void 0||d&&Lhe(d,h))continue;const v={delay:t,elapsed:0,...o};if(window.HandoffAppearAnimations&&!m.hasAnimated){const x=n.getProps()[Bde];x&&(v.elapsed=window.HandoffAppearAnimations(x,h,m,ji))}let _=m.start(JN(h,m,g,n.shouldReduceMotion&&Rp.has(h)?{type:!1}:v));ow(c)&&(c.add(h),_=_.then(()=>c.remove(h))),u.push(_)}return Promise.all(u).then(()=>{a&&Nde(n,a)})}function khe(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(Ohe).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(BP(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Ohe(n,e){return n.sortNodePosition(e)}function Lhe({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}const YN=[Pn.Animate,Pn.InView,Pn.Focus,Pn.Hover,Pn.Tap,Pn.Drag,Pn.Exit],Dhe=[...YN].reverse(),Bhe=YN.length;function Fhe(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Nhe(n,t,r)))}function zhe(n){let e=Fhe(n);const t=Hhe();let r=!0;const i=(l,c)=>{const u=sS(n,c);if(u){const{transition:d,transitionEnd:h,...m}=u;l={...l,...m,...h}}return l};function s(l){e=l(n)}function o(l,c){const u=n.getProps(),d=n.getVariantContext(!0)||{},h=[],m=new Set;let g={},v=1/0;for(let x=0;x<Bhe;x++){const b=Dhe[x],w=t[b],E=u[b]!==void 0?u[b]:d[b],A=Mv(E),T=b===c?w.isActive:null;T===!1&&(v=x);let I=E===d[b]&&E!==u[b]&&A;if(I&&r&&n.manuallyAnimateOnMount&&(I=!1),w.protectedKeys={...g},!w.isActive&&T===null||!E&&!w.prevProp||eS(E)||typeof E=="boolean")continue;const M=Uhe(w.prevProp,E);let R=M||b===c&&w.isActive&&!I&&A||x>v&&A;const O=Array.isArray(E)?E:[E];let L=O.reduce(i,{});T===!1&&(L={});const{prevResolvedValues:X={}}=w,W={...X,...L},K=U=>{R=!0,m.delete(U),w.needsAnimating[U]=!0};for(const U in W){const ee=L[U],Q=X[U];g.hasOwnProperty(U)||(ee!==Q?nw(ee)&&nw(Q)?!O8(ee,Q)||M?K(U):w.protectedKeys[U]=!0:ee!==void 0?K(U):m.add(U):ee!==void 0&&m.has(U)?K(U):w.protectedKeys[U]=!0)}w.prevProp=E,w.prevResolvedValues=L,w.isActive&&(g={...g,...L}),r&&n.blockInitialAnimation&&(R=!1),R&&!I&&h.push(...O.map(U=>({animation:U,options:{type:b,...l}})))}if(m.size){const x={};m.forEach(b=>{const w=n.getBaseTarget(b);w!==void 0&&(x[b]=w)}),h.push({animation:x})}let _=Boolean(h.length);return r&&u.initial===!1&&!n.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(h):Promise.resolve()}function a(l,c,u){var d;if(t[l].isActive===c)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),t[l].isActive=c;const h=o(u,l);for(const m in t)t[m].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function Uhe(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!O8(e,n):!1}function _u(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hhe(){return{[Pn.Animate]:_u(!0),[Pn.InView]:_u(),[Pn.Hover]:_u(),[Pn.Tap]:_u(),[Pn.Drag]:_u(),[Pn.Focus]:_u(),[Pn.Exit]:_u()}}const Ghe={animation:hc(({visualElement:n,animate:e})=>{n.animationState||(n.animationState=zhe(n)),eS(e)&&N.useEffect(()=>e.subscribe(n),[e])}),exit:hc(n=>{const{custom:e,visualElement:t}=n,[r,i]=k8(),s=N.useContext(Q1);N.useEffect(()=>{t.isPresent=r;const o=t.animationState&&t.animationState.setActive(Pn.Exit,!r,{custom:s&&s.custom||e});o&&!r&&o.then(i)},[r])})},$F=(n,e)=>Math.abs(n-e);function Vhe(n,e){const t=$F(n.x,e.x),r=$F(n.y,e.y);return Math.sqrt(t**2+r**2)}class a9{constructor(e,t,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=gA(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,d=Vhe(c.offset,{x:0,y:0})>=3;if(!u&&!d)return;const{point:h}=c,{timestamp:m}=dl;this.history.push({...h,timestamp:m});const{onStart:g,onMove:v}=this.handlers;u||(g&&g(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=mA(u,this.transformPagePoint),ji.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:h}=this.handlers,m=gA(c.type==="pointercancel"?this.lastMoveEventInfo:mA(u,this.transformPagePoint),this.history);this.startEvent&&d&&d(c,m),h&&h(c,m)},!A8(e))return;this.handlers=t,this.transformPagePoint=r;const i=nS(e),s=mA(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=dl;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,gA(s,this.history)),this.removeListeners=rS(Sf(window,"pointermove",this.handlePointerMove),Sf(window,"pointerup",this.handlePointerUp),Sf(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zc.update(this.updatePoint)}}function mA(n,e){return e?{point:e(n.point)}:n}function KF(n,e){return{x:n.x-e.x,y:n.y-e.y}}function gA({point:n},e){return{point:n,delta:KF(n,l9(e)),offset:KF(n,Whe(e)),velocity:jhe(e,.1)}}function Whe(n){return n[0]}function l9(n){return n[n.length-1]}function jhe(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=l9(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>eb(e)));)t--;if(!r)return{x:0,y:0};const s=(i.timestamp-r.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Rs(n){return n.max-n.min}function FP(n,e=0,t=.01){return Math.abs(n-e)<=t}function XF(n,e,t,r=.5){n.origin=r,n.originPoint=fr(e.min,e.max,n.origin),n.scale=Rs(t)/Rs(e),(FP(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=fr(t.min,t.max,n.origin)-n.originPoint,(FP(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Hg(n,e,t,r){XF(n.x,e.x,t.x,r==null?void 0:r.originX),XF(n.y,e.y,t.y,r==null?void 0:r.originY)}function JF(n,e,t){n.min=t.min+e.min,n.max=n.min+Rs(e)}function $he(n,e,t){JF(n.x,e.x,t.x),JF(n.y,e.y,t.y)}function YF(n,e,t){n.min=e.min-t.min,n.max=n.min+Rs(e)}function Gg(n,e,t){YF(n.x,e.x,t.x),YF(n.y,e.y,t.y)}function Khe(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?fr(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?fr(t,n,r.max):Math.min(n,t)),n}function qF(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Xhe(n,{top:e,left:t,bottom:r,right:i}){return{x:qF(n.x,t,i),y:qF(n.y,e,r)}}function QF(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Jhe(n,e){return{x:QF(n.x,e.x),y:QF(n.y,e.y)}}function Yhe(n,e){let t=.5;const r=Rs(n),i=Rs(e);return i>r?t=lw(e.min,e.max-r,n.min):r>i&&(t=lw(n.min,n.max-i,e.min)),ep(0,1,t)}function qhe(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const zP=.35;function Qhe(n=zP){return n===!1?n=0:n===!0&&(n=zP),{x:ZF(n,"left","right"),y:ZF(n,"top","bottom")}}function ZF(n,e,t){return{min:ez(n,e),max:ez(n,t)}}function ez(n,e){return typeof n=="number"?n:n[e]||0}const tz=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vg=()=>({x:tz(),y:tz()}),nz=()=>({min:0,max:0}),Pr=()=>({x:nz(),y:nz()});function la(n){return[n("x"),n("y")]}function c9({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function Zhe({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function efe(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function vA(n){return n===void 0||n===1}function UP({scale:n,scaleX:e,scaleY:t}){return!vA(n)||!vA(e)||!vA(t)}function Ou(n){return UP(n)||u9(n)||n.z||n.rotate||n.rotateX||n.rotateY}function u9(n){return rz(n.x)||rz(n.y)}function rz(n){return n&&n!=="0%"}function uw(n,e,t){const r=n-t,i=e*r;return t+i}function iz(n,e,t,r,i){return i!==void 0&&(n=uw(n,i,r)),uw(n,t,r)+e}function HP(n,e=0,t=1,r,i){n.min=iz(n.min,e,t,r,i),n.max=iz(n.max,e,t,r,i)}function d9(n,{x:e,y:t}){HP(n.x,e.translate,e.scale,e.originPoint),HP(n.y,t.translate,t.scale,t.originPoint)}function tfe(n,e,t,r=!1){var i,s;const o=t.length;if(!o)return;e.x=e.y=1;let a,l;for(let c=0;c<o;c++)a=t[c],l=a.projectionDelta,((s=(i=a.instance)===null||i===void 0?void 0:i.style)===null||s===void 0?void 0:s.display)!=="contents"&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&rf(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,d9(n,l)),r&&Ou(a.latestValues)&&rf(n,a.latestValues));e.x=sz(e.x),e.y=sz(e.y)}function sz(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function sc(n,e){n.min=n.min+e,n.max=n.max+e}function oz(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=fr(n.min,n.max,s);HP(n,e[t],e[r],o,e.scale)}const nfe=["x","scaleX","originX"],rfe=["y","scaleY","originY"];function rf(n,e){oz(n.x,e,nfe),oz(n.y,e,rfe)}function h9(n,e){return c9(efe(n.getBoundingClientRect(),e))}function ife(n,e,t){const r=h9(n,t),{scroll:i}=e;return i&&(sc(r.x,i.offset.x),sc(r.y,i.offset.y)),r}const sfe=new WeakMap;class ofe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pr(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){if(this.visualElement.isPresent===!1)return;const r=a=>{this.stopAnimation(),t&&this.snapToCursor(nS(a,"page").point)},i=(a,l)=>{var c;const{drag:u,dragPropagation:d,onDragStart:h}=this.getProps();u&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=P8(u),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),la(m=>{var g,v;let _=this.getAxisMotionValue(m).get()||0;if(wa.test(_)){const x=(v=(g=this.visualElement.projection)===null||g===void 0?void 0:g.layout)===null||v===void 0?void 0:v.layoutBox[m];x&&(_=Rs(x)*(parseFloat(_)/100))}this.originPoint[m]=_}),h==null||h(a,l),(c=this.visualElement.animationState)===null||c===void 0||c.setActive(Pn.Drag,!0))},s=(a,l)=>{const{dragPropagation:c,dragDirectionLock:u,onDirectionLock:d,onDrag:h}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:m}=l;if(u&&this.currentDirection===null){this.currentDirection=afe(m),this.currentDirection!==null&&(d==null||d(this.currentDirection));return}this.updateAxis("x",l.point,m),this.updateAxis("y",l.point,m),this.visualElement.render(),h==null||h(a,l)},o=(a,l)=>this.stop(a,l);this.panSession=new a9(e,{onSessionStart:r,onStart:i,onMove:s,onSessionEnd:o},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s==null||s(e,t)}cancel(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(t=this.visualElement.animationState)===null||t===void 0||t.setActive(Pn.Drag,!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!k_(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Khe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&tf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Xhe(r.layoutBox,e):this.constraints=!1,this.elastic=Qhe(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&la(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=qhe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!tf(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=ife(r,i.root,this.visualElement.getTransformPagePoint());let o=Jhe(i.layout.layoutBox,s);if(t){const a=t(Zhe(o));this.hasMutatedConstraints=!!a,a&&(o=c9(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=la(u=>{if(!k_(u,t,this.currentDirection))return;let d=(l==null?void 0:l[u])||{};o&&(d={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(JN(e,r,0,t))}stopAnimation(){la(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){var t;const r="_drag"+e.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(e,((t=this.visualElement.getProps().initial)===null||t===void 0?void 0:t[e])||0)}snapToCursor(e){la(t=>{const{drag:r}=this.getProps();if(!k_(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-fr(o,a,.5))}})}scalePositionWithinConstraints(){var e;if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!tf(r)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};la(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=Yhe({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",(e=i.root)===null||e===void 0||e.updateScroll(),i.updateLayout(),this.resolveConstraints(),la(a=>{if(!k_(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(fr(c,u,s[a]))})}addListeners(){var e;if(!this.visualElement.current)return;sfe.set(this.visualElement,this);const t=this.visualElement.current,r=Sf(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();tf(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&((e=s.root)===null||e===void 0||e.updateScroll(),s.updateLayout()),i();const a=ad(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(la(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),o(),l==null||l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=zP,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function k_(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function afe(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}function lfe(n){const{dragControls:e,visualElement:t}=n,r=AN(()=>new ofe(t));N.useEffect(()=>e&&e.subscribe(r),[r,e]),N.useEffect(()=>r.addListeners(),[r])}function cfe({onPan:n,onPanStart:e,onPanEnd:t,onPanSessionStart:r,visualElement:i}){const s=n||e||t||r,o=N.useRef(null),{transformPagePoint:a}=N.useContext(CN),l={onSessionStart:r,onStart:e,onMove:n,onEnd:(u,d)=>{o.current=null,t&&t(u,d)}};N.useEffect(()=>{o.current!==null&&o.current.updateHandlers(l)});function c(u){o.current=new a9(u,l,{transformPagePoint:a})}iw(i,"pointerdown",s&&c),N8(()=>o.current&&o.current.end())}const ufe={pan:hc(cfe),drag:hc(lfe)};function GP(n){return typeof n=="string"&&n.startsWith("var(--")}const f9=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function dfe(n){const e=f9.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function VP(n,e,t=1){const[r,i]=dfe(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():GP(i)?VP(i,e,t+1):i}function hfe(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!GP(s))return;const o=VP(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!GP(s))continue;const o=VP(s,r);o&&(e[i]=o,t&&t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const ffe=new Set(["width","height","top","left","right","bottom","x","y"]),p9=n=>ffe.has(n),pfe=n=>Object.keys(n).some(p9),az=n=>n===Bd||n===ft;var lz;(function(n){n.width="width",n.height="height",n.left="left",n.right="right",n.top="top",n.bottom="bottom"})(lz||(lz={}));const cz=(n,e)=>parseFloat(n.split(", ")[e]),uz=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return cz(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?cz(s[1],n):0}},mfe=new Set(["x","y","z"]),gfe=ew.filter(n=>!mfe.has(n));function vfe(n){const e=[];return gfe.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const dz={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:uz(4,13),y:uz(5,14)},yfe=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=dz[c](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),n[c]=dz[c](l,s)}),n},_fe=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(p9);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let u=t[l],d=km(u);const h=e[l];let m;if(nw(h)){const g=h.length,v=h[0]===null?1:0;u=h[v],d=km(u);for(let _=v;_<g;_++)m?aw(km(h[_])===m):m=km(h[_])}else m=km(h);if(d!==m)if(az(d)&&az(m)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&m===ft&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(u===0||h===0)?u===0?c.set(m.transform(u)):e[l]=d.transform(h):(o||(s=vfe(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=yfe(e,n,a);return s.length&&s.forEach(([u,d])=>{n.getValue(u).set(d)}),n.render(),Z1&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function xfe(n,e,t,r){return pfe(e)?_fe(n,e,t,r):{target:e,transitionEnd:r}}const bfe=(n,e,t,r)=>{const i=hfe(n,e,r);return e=i.target,r=i.transitionEnd,xfe(n,e,t,r)},WP={current:null},m9={current:!1};function wfe(){if(m9.current=!0,!!Z1)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>WP.current=n.matches;n.addListener(e),e()}else WP.current=!1}function Sfe(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(hs(s))n.addValue(i,s),ow(r)&&r.add(i);else if(hs(o))n.addValue(i,tp(s,{owner:n})),ow(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,tp(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const g9=Object.keys(Tv),Efe=g9.length,hz=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Cfe{constructor({parent:e,props:t,reducedMotionConfig:r,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ji.render(this.render,!1,!0);const{latestValues:o,renderState:a}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=a,this.parent=e,this.props=t,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.isControllingVariants=tS(t),this.isVariantNode=h8(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:l,...c}=this.scrapeMotionValuesFromProps(t,{});for(const u in c){const d=c[u];o[u]!==void 0&&hs(d)&&(d.set(o[u],!1),ow(l)&&l.add(u))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){var t;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(t=this.parent)===null||t===void 0?void 0:t.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),m9.current||wfe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:WP.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var e,t,r;(e=this.projection)===null||e===void 0||e.unmount(),zc.update(this.notifyUpdate),zc.render(this.render),this.valueSubscriptions.forEach(i=>i()),(t=this.removeFromVariantTree)===null||t===void 0||t.call(this),(r=this.parent)===null||r===void 0||r.children.delete(this);for(const i in this.events)this.events[i].clear();this.current=null}bindToMotionValue(e,t){const r=Rp.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ji.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s,o,a){const l=[];for(let c=0;c<Efe;c++){const u=g9[c],{isEnabled:d,Component:h}=Tv[u];d(t)&&h&&l.push(N.createElement(h,{key:u,...t,visualElement:this}))}if(!this.projection&&o){this.projection=new o(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:m,layoutRoot:g}=t;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:Boolean(d)||h&&tf(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:m,layoutRoot:g})}return l}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}setProps(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender();const t=this.props;this.props=e;for(let r=0;r<hz.length;r++){const i=hz[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Sfe(this,this.scrapeMotionValuesFromProps(e,t),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){var t;return(t=this.props.variants)===null||t===void 0?void 0:t[e]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var e;return this.isVariantNode?this:(e=this.parent)===null||e===void 0?void 0:e.getClosestVariantNode()}getVariantContext(e=!1){var t,r;if(e)return(t=this.parent)===null||t===void 0?void 0:t.getVariantContext();if(!this.isControllingVariants){const s=((r=this.parent)===null||r===void 0?void 0:r.getVariantContext())||{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const i={};for(let s=0;s<Afe;s++){const o=v9[s],a=this.props[o];(Mv(a)||a===!1)&&(i[o]=a)}return i}addVariantChild(e){var t;const r=this.getClosestVariantNode();if(r)return(t=r.variantChildren)===null||t===void 0||t.add(e),()=>r.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){var t;this.values.delete(e),(t=this.valueSubscriptions.get(e))===null||t===void 0||t(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=tp(t,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=ON(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!hs(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new BN),this.events[e].add(t)}notify(e,...t){var r;(r=this.events[e])===null||r===void 0||r.notify(...t)}}const v9=["initial",...YN],Afe=v9.length;class y9 extends Cfe{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){var r;return(r=e.style)===null||r===void 0?void 0:r[t]}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=Lde(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){kde(this,r,o);const a=bfe(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function Mfe(n){return window.getComputedStyle(n)}class Tfe extends y9{readValueFromInstance(e,t){if(Rp.has(t)){const r=UN(t);return r&&r.default||0}else{const r=Mfe(e),i=(g8(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return h9(e,t)}build(e,t,r,i){TN(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return kN(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){b8(e,t,r,i)}}class Pfe extends y9{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){var r;return Rp.has(t)?((r=UN(t))===null||r===void 0?void 0:r.default)||0:(t=w8.has(t)?t:NN(t),e.getAttribute(t))}measureInstanceViewportBox(){return Pr()}scrapeMotionValuesFromProps(e,t){return E8(e,t)}build(e,t,r,i){RN(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){S8(e,t,r,i)}mount(e){this.isSVGTag=IN(e.tagName),super.mount(e)}}const Rfe=(n,e)=>MN(n)?new Pfe(e,{enableHardwareAcceleration:!1}):new Tfe(e,{enableHardwareAcceleration:!0});function fz(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Om={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ft.test(n))n=parseFloat(n);else return n;const t=fz(n,e.target.x),r=fz(n,e.target.y);return`${t}% ${r}%`}},pz="_$css",Ife={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=n.includes("var("),s=[];i&&(n=n.replace(f9,m=>(s.push(m),pz)));const o=Uc.parse(n);if(o.length>5)return r;const a=Uc.createTransformer(n),l=typeof o[0]!="number"?1:0,c=t.x.scale*e.x,u=t.y.scale*e.y;o[0+l]/=c,o[1+l]/=u;const d=fr(c,u,.5);typeof o[2+l]=="number"&&(o[2+l]/=d),typeof o[3+l]=="number"&&(o[3+l]/=d);let h=a(o);if(i){let m=0;h=h.replace(pz,()=>{const g=s[m];return m++,g})}return h}};class Nfe extends _e.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;wue(Ofe),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Fg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ji.postRender(()=>{var a;!((a=o.getStack())===null||a===void 0)&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t!=null&&t.group&&t.group.remove(i),r!=null&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e==null||e()}render(){return null}}function kfe(n){const[e,t]=k8(),r=N.useContext(f8);return _e.createElement(Nfe,{...n,layoutGroup:r,switchLayoutGroup:N.useContext(p8),isPresent:e,safeToRemove:t})}const Ofe={borderRadius:{...Om,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Om,borderTopRightRadius:Om,borderBottomLeftRadius:Om,borderBottomRightRadius:Om,boxShadow:Ife},Lfe={measureLayout:kfe};function Dfe(n,e,t={}){const r=hs(n)?n:tp(n);return r.start(JN("",r,e,t)),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}const _9=["TopLeft","TopRight","BottomLeft","BottomRight"],Bfe=_9.length,mz=n=>typeof n=="string"?parseFloat(n):n,gz=n=>typeof n=="number"||ft.test(n);function Ffe(n,e,t,r,i,s){i?(n.opacity=fr(0,t.opacity!==void 0?t.opacity:1,zfe(r)),n.opacityExit=fr(e.opacity!==void 0?e.opacity:1,0,Ufe(r))):s&&(n.opacity=fr(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<Bfe;o++){const a=`border${_9[o]}Radius`;let l=vz(e,a),c=vz(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||gz(l)===gz(c)?(n[a]=Math.max(fr(mz(l),mz(c),r),0),(wa.test(c)||wa.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=fr(e.rotate||0,t.rotate||0,r))}function vz(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const zfe=x9(0,.5,KN),Ufe=x9(.5,.95,$N);function x9(n,e,t){return r=>r<n?0:r>e?1:t(lw(n,e,r))}function yz(n,e){n.min=e.min,n.max=e.max}function xo(n,e){yz(n.x,e.x),yz(n.y,e.y)}function _z(n,e,t,r,i){return n-=e,n=uw(n,1/t,r),i!==void 0&&(n=uw(n,1/i,r)),n}function Hfe(n,e=0,t=1,r=.5,i,s=n,o=n){if(wa.test(e)&&(e=parseFloat(e),e=fr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=fr(s.min,s.max,r);n===s&&(a-=e),n.min=_z(n.min,e,t,a,i),n.max=_z(n.max,e,t,a,i)}function xz(n,e,[t,r,i],s,o){Hfe(n,e[t],e[r],e[i],e.scale,s,o)}const Gfe=["x","scaleX","originX"],Vfe=["y","scaleY","originY"];function bz(n,e,t,r){xz(n.x,e,Gfe,t==null?void 0:t.x,r==null?void 0:r.x),xz(n.y,e,Vfe,t==null?void 0:t.y,r==null?void 0:r.y)}function wz(n){return n.translate===0&&n.scale===1}function b9(n){return wz(n.x)&&wz(n.y)}function w9(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function Sz(n){return Rs(n.x)/Rs(n.y)}class Wfe{constructor(){this.members=[]}add(e){LN(this.members,e),e.scheduleRender()}remove(e){if(DN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){var r;const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),!((r=e.root)===null||r===void 0)&&r.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{var t,r,i,s,o;(r=(t=e.options).onExitComplete)===null||r===void 0||r.call(t),(o=(i=e.resumingFrom)===null||i===void 0?void 0:(s=i.options).onExitComplete)===null||o===void 0||o.call(s)})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ez(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:u}=t;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const jfe=(n,e)=>n.depth-e.depth;class $fe{constructor(){this.children=[],this.isDirty=!1}add(e){LN(this.children,e),this.isDirty=!0}remove(e){DN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jfe),this.isDirty=!1,this.children.forEach(e)}}const Cz=["","X","Y","Z"],Az=1e3;let Kfe=0;function S9({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=Kfe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(Yfe),this.nodes.forEach(Zfe),this.nodes.forEach(epe)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new $fe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new BN),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l==null||l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){var l;if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),(l=this.parent)===null||l===void 0||l.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||c)&&(this.isLayoutDirty=!0),n){let h;const m=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=i9(m,250),Fg.hasAnimatedSinceResize&&(Fg.hasAnimatedSinceResize=!1,this.nodes.forEach(Tz))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:v})=>{var _,x,b,w,E;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=(x=(_=this.options.transition)!==null&&_!==void 0?_:d.getDefaultTransition())!==null&&x!==void 0?x:spe,{onLayoutAnimationStart:T,onLayoutAnimationComplete:I}=d.getProps(),M=!this.targetLayout||!w9(this.targetLayout,v)||g,R=!m&&g;if(this.options.layoutRoot||!((b=this.resumeFrom)===null||b===void 0)&&b.instance||R||m&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,R);const O={...s9(A,"layout"),onPlay:T,onComplete:I};(d.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else!m&&this.animationProgress===0&&Tz(this),this.isLead()&&((E=(w=this.options).onExitComplete)===null||E===void 0||E.call(w));this.targetLayout=v})}unmount(){var o,a;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(o=this.getStack())===null||o===void 0||o.remove(this),(a=this.parent)===null||a===void 0||a.children.delete(this),this.instance=void 0,zc.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var o;return this.isAnimationBlocked||((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimationBlocked())||!1}startUpdate(){var o;this.isUpdateBlocked()||(this.isUpdating=!0,(o=this.nodes)===null||o===void 0||o.forEach(tpe),this.animationId++)}getTransformTemplate(){var o;return(o=this.options.visualElement)===null||o===void 0?void 0:o.getProps().transformTemplate}willUpdate(o=!0){var a,l,c;if(this.root.isUpdateBlocked()){(l=(a=this.options).onExitComplete)===null||l===void 0||l.call(a);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;u===void 0&&!d||(this.prevTransformTemplateValue=(c=this.getTransformTemplate())===null||c===void 0?void 0:c(this.latestValues,""),this.updateSnapshot(),o&&this.notifyListeners("willUpdate"))}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mz);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(ope),this.potentialNodes.clear()),this.nodes.forEach(Qfe),this.nodes.forEach(Xfe),this.nodes.forEach(Jfe),this.clearAllSnapshots(),lA.update(),lA.preRender(),lA.render())}clearAllSnapshots(){this.nodes.forEach(qfe),this.sharedNodes.forEach(npe)}scheduleUpdateProjection(){ji.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){ji.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var o;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(o=this.options.visualElement)===null||o===void 0||o.notify("LayoutMeasure",this.layout.layoutBox,a==null?void 0:a.layoutBox)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){var o;if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!b9(this.projectionDelta),c=(o=this.getTransformTemplate())===null||o===void 0?void 0:o(this.latestValues,""),u=c!==this.prevTransformTemplateValue;a&&(l||Ou(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),ape(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Pr();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(sc(a.x,l.offset.x),sc(a.y,l.offset.y)),a}removeElementScroll(o){const a=Pr();xo(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){xo(a,o);const{scroll:h}=this.root;h&&(sc(a.x,-h.offset.x),sc(a.y,-h.offset.y))}sc(a.x,u.offset.x),sc(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Pr();xo(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&rf(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ou(u.latestValues)&&rf(l,u.latestValues)}return Ou(this.latestValues)&&rf(l,this.latestValues),l}removeTransform(o){var a;const l=Pr();xo(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ou(u.latestValues))continue;UP(u.latestValues)&&u.updateSnapshot();const d=Pr(),h=u.measurePageBox();xo(d,h),bz(l,u.latestValues,(a=u.snapshot)===null||a===void 0?void 0:a.layoutBox,d)}return Ou(this.latestValues)&&bz(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:l,layoutId:c}=this.options;if(!(!this.layout||!(l||c))){if(!this.targetDelta&&!this.relativeTarget){const u=this.getClosestProjectingParent();u&&u.layout?(this.relativeParent=u,this.relativeTarget=Pr(),this.relativeTargetOrigin=Pr(),Gg(this.relativeTargetOrigin,this.layout.layoutBox,u.layout.layoutBox),xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pr(),this.targetWithTransforms=Pr()),this.relativeTarget&&this.relativeTargetOrigin&&(!((o=this.relativeParent)===null||o===void 0)&&o.target)?$he(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):xo(this.target,this.layout.layoutBox),d9(this.target,this.targetDelta)):xo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const u=this.getClosestProjectingParent();u&&Boolean(u.resumingFrom)===Boolean(this.resumingFrom)&&!u.options.layoutScroll&&u.target?(this.relativeParent=u,this.relativeTarget=Pr(),this.relativeTargetOrigin=Pr(),Gg(this.relativeTargetOrigin,this.target,u.target),xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||UP(this.parent.latestValues)||u9(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta||this.parent.options.layoutRoot)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var o;const{isProjectionDirty:a,isTransformDirty:l}=this;this.isProjectionDirty=this.isTransformDirty=!1;const c=this.getLead(),u=Boolean(this.resumingFrom)||this!==c;let d=!0;if(a&&(d=!1),u&&l&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=Boolean(((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;xo(this.layoutCorrected,this.layout.layoutBox),tfe(this.layoutCorrected,this.treeScale,this.path,u);const{target:g}=c;if(!g)return;this.projectionDelta||(this.projectionDelta=Vg(),this.projectionDeltaWithTransform=Vg());const v=this.treeScale.x,_=this.treeScale.y,x=this.projectionTransform;Hg(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=Ez(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==v||this.treeScale.y!==_)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a,l,c;(l=(a=this.options).scheduleRender)===null||l===void 0||l.call(a),o&&((c=this.getStack())===null||c===void 0||c.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){var l,c;const u=this.snapshot,d=(u==null?void 0:u.latestValues)||{},h={...this.latestValues},m=Vg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Pr(),v=(u==null?void 0:u.source)!==((l=this.layout)===null||l===void 0?void 0:l.source),_=(((c=this.getStack())===null||c===void 0?void 0:c.members.length)||0)<=1,x=Boolean(v&&!_&&this.options.crossfade===!0&&!this.path.some(ipe));this.animationProgress=0,this.mixTargetDelta=b=>{var w;const E=b/1e3;Pz(m.x,o.x,E),Pz(m.y,o.y,E),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((w=this.relativeParent)===null||w===void 0)&&w.layout)&&(Gg(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rpe(this.relativeTarget,this.relativeTargetOrigin,g,E)),v&&(this.animationValues=h,Ffe(h,d,this.latestValues,E,x,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)===null||a===void 0||a.stop(),this.resumingFrom&&((l=this.resumingFrom.currentAnimation)===null||l===void 0||l.stop()),this.pendingAnimation&&(zc.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ji.update(()=>{Fg.hasAnimatedSinceResize=!0,this.currentAnimation=Dfe(0,Az,{...o,onUpdate:c=>{var u;this.mixTargetDelta(c),(u=o.onUpdate)===null||u===void 0||u.call(o,c)},onComplete:()=>{var c;(c=o.onComplete)===null||c===void 0||c.call(o),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var o;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(o=this.getStack())===null||o===void 0||o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var o;this.currentAnimation&&((o=this.mixTargetDelta)===null||o===void 0||o.call(this,Az),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&E9(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Pr();const d=Rs(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Rs(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}xo(a,l),rf(a,u),Hg(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){var l,c,u;this.sharedNodes.has(o)||this.sharedNodes.set(o,new Wfe),this.sharedNodes.get(o).add(a),a.promote({transition:(l=a.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(u=(c=a.options.initialPromotionConfig)===null||c===void 0?void 0:c.shouldPreserveFollowOpacity)===null||u===void 0?void 0:u.call(c,a)})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<Cz.length;u++){const d="rotate"+Cz[u];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o==null||o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Zx(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Zx(o.pointerEvents)||""),this.hasProjected&&!Ou(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=Ez(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:m,y:g}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Zb){if(h[v]===void 0)continue;const{correct:_,applyTo:x}=Zb[v],b=c.transform==="none"?h[v]:_(h[v],d);if(x){const w=x.length;for(let E=0;E<w;E++)c[x[E]]=b}else c[v]=b}return this.options.layoutId&&(c.pointerEvents=d===this?Zx(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Mz),this.root.sharedNodes.clear()}}}function Xfe(n){n.updateLayout()}function Jfe(n){var e,t,r;const i=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&i&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=n.layout,{animationType:a}=n.options,l=i.source!==n.layout.source;a==="size"?la(m=>{const g=l?i.measuredBox[m]:i.layoutBox[m],v=Rs(g);g.min=s[m].min,g.max=g.min+v}):E9(a,i.layoutBox,s)&&la(m=>{const g=l?i.measuredBox[m]:i.layoutBox[m],v=Rs(s[m]);g.max=g.min+v});const c=Vg();Hg(c,s,i.layoutBox);const u=Vg();l?Hg(u,n.applyTransform(o,!0),i.measuredBox):Hg(u,s,i.layoutBox);const d=!b9(c);let h=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:v}=m;if(g&&v){const _=Pr();Gg(_,i.layoutBox,g.layoutBox);const x=Pr();Gg(x,s,v.layoutBox),w9(_,x)||(h=!0),m.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=_,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:i,delta:u,layoutDelta:c,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else n.isLead()&&((r=(t=n.options).onExitComplete)===null||r===void 0||r.call(t));n.options.transition=void 0}function Yfe(n){n.isProjectionDirty||(n.isProjectionDirty=Boolean(n.parent&&n.parent.isProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=Boolean(n.parent&&n.parent.isTransformDirty))}function qfe(n){n.clearSnapshot()}function Mz(n){n.clearMeasurements()}function Qfe(n){const{visualElement:e}=n.options;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Tz(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function Zfe(n){n.resolveTargetDelta()}function epe(n){n.calcProjection()}function tpe(n){n.resetRotation()}function npe(n){n.removeLeadSnapshot()}function Pz(n,e,t){n.translate=fr(e.translate,0,t),n.scale=fr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Rz(n,e,t,r){n.min=fr(e.min,t.min,r),n.max=fr(e.max,t.max,r)}function rpe(n,e,t,r){Rz(n.x,e.x,t.x,r),Rz(n.y,e.y,t.y,r)}function ipe(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const spe={duration:.45,ease:[.4,0,.1,1]};function ope(n,e){let t=n.root;for(let s=n.path.length-1;s>=0;s--)if(Boolean(n.path[s].instance)){t=n.path[s];break}const i=(t&&t!==n.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&n.mount(i,!0)}function Iz(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function ape(n){Iz(n.x),Iz(n.y)}function E9(n,e,t){return n==="position"||n==="preserve-aspect"&&!FP(Sz(e),Sz(t),.2)}const lpe=S9({attachResizeListener:(n,e)=>ad(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yA={current:void 0},cpe=S9({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!yA.current){const n=new lpe(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),yA.current=n}return yA.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>Boolean(window.getComputedStyle(n).position==="fixed")}),upe={...Ghe,...ade,...ufe,...Lfe},Zl=xue((n,e)=>Xue(n,e,upe,Rfe,cpe)),dpe={hidden:{opacity:0},show:{opacity:1}},hpe=[new oue,new eue,new tue({rotate:-.5,scale:.5,perspective:600})],C9=()=>y("div",{children:y(Zl.div,{variants:dpe,initial:"hidden",animate:"show",className:"chd-container",children:F(Zce,{className:"chd-slides",plugins:hpe,bounce:30,circular:!0,children:[y(Zl.div,{className:"chd-slide",children:y(Oae,{})}),y(Zl.div,{className:"chd-slide",children:y(Bae,{})}),y(Zl.div,{className:"chd-slide",children:y(Uae,{})}),y(Zl.div,{className:"chd-slide",children:y(Vae,{})}),y(Zl.div,{className:"chd-slide",children:y($ae,{})}),y(CP,{className:"chd-pagination",children:y(Zl.div,{className:"flicking-pagination"})})]})})}),fpe={position:"fixed",overflow:"hidden",justifyContent:"space-between",display:"flex",bottom:0,marginBottom:"1rem",marginLeft:0,zIndex:1e3},ppe={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3};function mpe({open:n,onClose:e}){return n?Pi.createPortal(F(fs,{children:[y("div",{style:ppe,onClick:e}),F("div",{style:fpe,children:[y("button",{className:"chapters-btn",onClick:e,children:"Chapters"}),y(C9,{})]})]}),document.getElementById("portal")):null}var Nz="focus-outline-hidden";function A9(){var n=this;document.addEventListener("keydown",function(e){n.focusByKeyboard=!0},!0),document.addEventListener("mousedown",function(e){n.focusByKeyboard=!1},!0),document.addEventListener("focus",function(e){n.updateVisibility()},!0),document.addEventListener("focusout",function(e){window.setTimeout(function(){document.hasFocus()||(n.focusByKeyboard=!0,n.updateVisibility())},0)}),this.updateVisibility()}A9.prototype={focusByKeyboard:!0,updateVisibility:function(){this.hidden=!this.focusByKeyboard},set hidden(n){document.documentElement.classList.toggle(Nz,n)},get hidden(){return document.documentElement.classList.contains(Nz)}};new A9;var jP={},gpe={get exports(){return jP},set exports(n){jP=n}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&r.push(a)}}else if(o==="object")if(s.toString===Object.prototype.toString)for(var l in s)e.call(s,l)&&s[l]&&r.push(l);else r.push(s.toString())}}return r.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(gpe);const kz=jP;var dw={},vpe={get exports(){return dw},set exports(n){dw=n}},Iv={},ype={get exports(){return Iv},set exports(n){Iv=n}},Fd={};Object.defineProperty(Fd,"__esModule",{value:!0});var _pe=Fd.easeFunctions={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},xpe=Fd.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};Fd.setPosition=function(e,t,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"easeInOutCubic";return r>i?t:e+(t-e)*_pe[s](r/i)};Fd.calcEndPoint=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(xpe(e))return parseInt(e)+r;var i=t===window||t===document.documentElement?window.pageYOffset:t.scrollTop-t.getBoundingClientRect().top,s=e.nodeName.toLowerCase()==="html"?-i:e.getBoundingClientRect().top+i;return s+r};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},r=Fd;e.default=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.duration,a=o===void 0?500:o,l=s.context,c=l===void 0?window:l,u=s.offset,d=u===void 0?0:u,h=s.ease,m=h===void 0?"easeInOutCubic":h,g=s.callback;if((typeof window>"u"?"undefined":t(window))==="object"){var v=c.scrollTop!==null&&c.scrollTop!==void 0?c.scrollTop:window.pageYOffset,_=(0,r.calcEndPoint)(i,c,d),x=performance.now(),b=window.requestAnimationFrame,w=function E(){var A=performance.now()-x,T=(0,r.setPosition)(v,_,A,a,m);c!==window?c.scrollTop=T:window.scroll(0,T),A>a?typeof g=="function"&&g(i):b(E)};w()}},n.exports=e.default})(ype,Iv);var hw={},bpe={get exports(){return hw},set exports(n){hw=n}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])}return o},r=Iv,i=s(r);function s(o){return o&&o.__esModule?o:{default:o}}e.default=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=o.query,l=a===void 0?'[href^="#"]:not([href="#"]':a,c=o.match,u=c===void 0?function(_){return document.getElementById(_.hash.substring(1))}:c,d=o.hashChange,h=d===void 0?!0:d,m=o.scrollSmoothConfig,g=document.querySelectorAll(l),v=function(x){x.preventDefault();var b=u(x.target);b&&(h&&history.replaceState(null,null,"#"+b.id),(0,i.default)(b,t({},m)))};Array.from(g).map(function(_){_.addEventListener("click",v,!1)})},n.exports=e.default})(bpe,hw);var fw={},wpe={get exports(){return fw},set exports(n){fw=n}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});function t(r){if(Array.isArray(r)){for(var i=0,s=Array(r.length);i<r.length;i++)s[i]=r[i];return s}else return Array.from(r)}e.default=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.activeClass,s=i===void 0?"active":i,o=r.query,a=o===void 0?'[href^="#"]:not([href="#"]):not([href="#0"])':o,l=r.threshold,c=l===void 0?[.25,.5,.75]:l,u=r.detectType,d=u===void 0?"max":u,h={threshold:c},m=function(T){return T.classList.remove(s)},g=function(T){return T.classList.add(s)},v=function(){document.querySelectorAll("."+s).forEach(m)},_=function(T){v(),g(document.querySelector('a[href="#'+T.id+'"]'))},x=function(T){T.forEach(function(I){I.intersectionRatio>=Math[d].apply(Math,t(c))&&_(I.target)})},b=document.querySelectorAll(a),w=new IntersectionObserver(x,h),E=function(T){var I=document.querySelector("#"+T.hash.slice(1));w.observe(I)};b.forEach(E)},n.exports=e.default})(wpe,fw);(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Iv,r=c(t),i=Fd,s=hw,o=c(s),a=fw,l=c(a);function c(u){return u&&u.__esModule?u:{default:u}}e.default={to:r.default,calcEndPoint:i.calcEndPoint,anchorScroll:o.default,observe:l.default},n.exports=e.default})(vpe,dw);const Spe=jw(dw);var $P={},Epe={get exports(){return $P},set exports(n){$P=n}};(function(n){(function(e,t){n.exports?n.exports=t():e.Scrollparent=t()})(og,function(){var e=/(auto|scroll)/,t=function(a,l){return a.parentNode===null?l:t(a.parentNode,l.concat([a]))},r=function(a,l){return getComputedStyle(a,null).getPropertyValue(l)},i=function(a){return r(a,"overflow")+r(a,"overflow-y")+r(a,"overflow-x")},s=function(a){return e.test(i(a))},o=function(a){if(a instanceof HTMLElement||a instanceof SVGElement){for(var l=t(a.parentNode,[]),c=0;c<l.length;c+=1)if(s(l[c]))return l[c];return document.scrollingElement||document.documentElement}};return o})})(Epe);const Cpe=$P;var Ape="Expected a function",Oz=0/0,Mpe="[object Symbol]",Tpe=/^\s+|\s+$/g,Ppe=/^[-+]0x[0-9a-f]+$/i,Rpe=/^0b[01]+$/i,Ipe=/^0o[0-7]+$/i,Npe=parseInt,kpe=typeof og=="object"&&og&&og.Object===Object&&og,Ope=typeof self=="object"&&self&&self.Object===Object&&self,Lpe=kpe||Ope||Function("return this")(),Dpe=Object.prototype,Bpe=Dpe.toString,Fpe=Math.max,zpe=Math.min,_A=function(){return Lpe.Date.now()};function Upe(n,e,t){var r,i,s,o,a,l,c=0,u=!1,d=!1,h=!0;if(typeof n!="function")throw new TypeError(Ape);e=Lz(e)||0,KP(t)&&(u=!!t.leading,d="maxWait"in t,s=d?Fpe(Lz(t.maxWait)||0,e):s,h="trailing"in t?!!t.trailing:h);function m(T){var I=r,M=i;return r=i=void 0,c=T,o=n.apply(M,I),o}function g(T){return c=T,a=setTimeout(x,e),u?m(T):o}function v(T){var I=T-l,M=T-c,R=e-I;return d?zpe(R,s-M):R}function _(T){var I=T-l,M=T-c;return l===void 0||I>=e||I<0||d&&M>=s}function x(){var T=_A();if(_(T))return b(T);a=setTimeout(x,v(T))}function b(T){return a=void 0,h&&r?m(T):(r=i=void 0,o)}function w(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function E(){return a===void 0?o:b(_A())}function A(){var T=_A(),I=_(T);if(r=arguments,i=this,l=T,I){if(a===void 0)return g(l);if(d)return a=setTimeout(x,e),m(l)}return a===void 0&&(a=setTimeout(x,e)),o}return A.cancel=w,A.flush=E,A}function KP(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function Hpe(n){return!!n&&typeof n=="object"}function Gpe(n){return typeof n=="symbol"||Hpe(n)&&Bpe.call(n)==Mpe}function Lz(n){if(typeof n=="number")return n;if(Gpe(n))return Oz;if(KP(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=KP(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(Tpe,"");var t=Rpe.test(n);return t||Ipe.test(n)?Npe(n.slice(2),t?2:8):Ppe.test(n)?Oz:+n}var Vpe=Upe;function Wpe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Nv(){return Nv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Nv.apply(this,arguments)}var XP="data-focus-lock",M9="data-focus-lock-disabled",jpe="data-no-focus-lock",$pe="data-autofocus-inside";function Kpe(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Xpe(n,e){var t=N.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}function Jpe(n,e){return Xpe(e||null,function(t){return n.forEach(function(r){return Kpe(r,t)})})}var xA={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},JP=function(){return JP=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},JP.apply(this,arguments)};function T9(n){return n}function P9(n,e){e===void 0&&(e=T9);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),t}}}};return i}function qN(n,e){return e===void 0&&(e=T9),P9(n,e)}function Ype(n){n===void 0&&(n={});var e=P9(null);return e.options=JP({async:!0,ssr:!1},n),e}var R9=qN({},function(n){var e=n.target,t=n.currentTarget;return{target:e,currentTarget:t}}),I9=qN(),qpe=qN(),Qpe=Ype({async:!0}),Zpe=[],QN=N.forwardRef(function(e,t){var r,i=N.useState(),s=i[0],o=i[1],a=N.useRef(),l=N.useRef(!1),c=N.useRef(null),u=e.children,d=e.disabled,h=e.noFocusGuards,m=e.persistentFocus,g=e.crossFrame,v=e.autoFocus;e.allowTextSelection;var _=e.group,x=e.className,b=e.whiteList,w=e.shards,E=w===void 0?Zpe:w,A=e.as,T=A===void 0?"div":A,I=e.lockProps,M=I===void 0?{}:I,R=e.sideCar,O=e.returnFocus,L=e.onActivation,X=e.onDeactivation,W=N.useState({}),K=W[0],U=N.useCallback(function(){c.current=c.current||document&&document.activeElement,a.current&&L&&L(a.current),l.current=!0},[L]),ee=N.useCallback(function(){l.current=!1,X&&X(a.current)},[X]),Q=N.useCallback(function(q){var $=c.current;if(Boolean(O)&&$&&$.focus){var me=typeof O=="object"?O:void 0;c.current=null,q?Promise.resolve().then(function(){return $.focus(me)}):$.focus(me)}},[O]),D=N.useCallback(function(q){l.current&&R9.useMedium(q)},[]),z=I9.useMedium,Z=N.useCallback(function(q){a.current!==q&&(a.current=q,o(q))},[]),he=Nv((r={},r[M9]=d&&"disabled",r[XP]=_,r),M),G=h!==!0,te=G&&h!=="tail",re=Jpe([t,Z]);return N.createElement(N.Fragment,null,G&&[N.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:d?-1:0,style:xA}),N.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:d?-1:1,style:xA})],!d&&N.createElement(R,{id:K,sideCar:Qpe,observed:s,disabled:d,persistentFocus:m,crossFrame:g,autoFocus:v,whiteList:b,shards:E,onActivation:U,onDeactivation:ee,returnFocus:Q}),N.createElement(T,Nv({ref:re},he,{className:x,onBlur:z,onFocus:D}),u),te&&N.createElement("div",{"data-focus-guard":!0,tabIndex:d?-1:0,style:xA}))});QN.propTypes={};QN.defaultProps={children:void 0,disabled:!1,returnFocus:!1,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const N9=QN;function YP(n,e){return YP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YP(n,e)}function eme(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,YP(n,e)}function kv(n){return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(n)}function tme(n,e){if(kv(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(kv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function nme(n){var e=tme(n,"string");return kv(e)==="symbol"?e:String(e)}function rme(n,e,t){return e=nme(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ime(n,e){function t(r){return r.displayName||r.name||"Component"}return function(i){var s=[],o;function a(){o=n(s.map(function(c){return c.props})),e(o)}var l=function(c){eme(u,c);function u(){return c.apply(this,arguments)||this}u.peek=function(){return o};var d=u.prototype;return d.componentDidMount=function(){s.push(this),a()},d.componentDidUpdate=function(){a()},d.componentWillUnmount=function(){var m=s.indexOf(this);s.splice(m,1),a()},d.render=function(){return _e.createElement(i,this.props)},u}(N.PureComponent);return rme(l,"displayName","SideEffect("+t(i)+")"),l}}var Hc=function(n){for(var e=Array(n.length),t=0;t<n.length;++t)e[t]=n[t];return e},qP=function(n){return Array.isArray(n)?n:[n]},sme=function(n){for(var e=new Set,t=n.length,r=0;r<t;r+=1)for(var i=r+1;i<t;i+=1){var s=n[r].compareDocumentPosition(n[i]);(s&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(i),(s&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(r)}return n.filter(function(o,a){return!e.has(a)})},k9=function(n){return n.parentNode?k9(n.parentNode):n},ZN=function(n){var e=qP(n);return e.filter(Boolean).reduce(function(t,r){var i=r.getAttribute(XP);return t.push.apply(t,i?sme(Hc(k9(r).querySelectorAll("["+XP+'="'+i+'"]:not(['+M9+'="disabled"])'))):[r]),t},[])},ome=function(n){if(n.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(n,null);return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},ame=function(n,e){return!n||n===document||n&&n.nodeType===Node.DOCUMENT_NODE||!ome(n)&&e(n.parentNode&&n.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?n.parentNode.host:n.parentNode)},O9=function(n,e){var t=n.get(e);if(t!==void 0)return t;var r=ame(e,O9.bind(void 0,n));return n.set(e,r),r},lme=function(n){return!((n.tagName==="INPUT"||n.tagName==="BUTTON")&&(n.type==="hidden"||n.disabled))},ek=function(n){return Boolean(n&&n.dataset&&n.dataset.focusGuard)},pw=function(n){return!ek(n)},cme=function(n){return Boolean(n)},ume=function(n,e){var t=n.tabIndex-e.tabIndex,r=n.index-e.index;if(t){if(!n.tabIndex)return 1;if(!e.tabIndex)return-1}return t||r},L9=function(n,e,t){return Hc(n).map(function(r,i){return{node:r,index:i,tabIndex:t&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!e||r.tabIndex>=0}).sort(ume)},dme=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],QP=dme.join(","),hme=QP+", [data-focus-guard]",tk=function(n,e){return n.reduce(function(t,r){return t.concat(Hc(r.querySelectorAll(e?hme:QP)),r.parentNode?Hc(r.parentNode.querySelectorAll(QP)).filter(function(i){return i===r}):[])},[])},fme=function(n){var e=n.querySelectorAll("["+$pe+"]");return Hc(e).map(function(t){return tk([t])}).reduce(function(t,r){return t.concat(r)},[])},nk=function(n,e){return Hc(n).filter(function(t){return O9(e,t)}).filter(function(t){return lme(t)})},ZP=function(n,e,t){return L9(nk(tk(n,t),e),!0,t)},Dz=function(n,e){return L9(nk(tk(n),e),!1)},pme=function(n,e){return nk(fme(n),e)},eR=function(n,e){return e===void 0&&(e=[]),e.push(n),n.parentNode&&eR(n.parentNode,e),e},bA=function(n,e){for(var t=eR(n),r=eR(e),i=0;i<t.length;i+=1){var s=t[i];if(r.indexOf(s)>=0)return s}return!1},D9=function(n,e,t){var r=qP(n),i=qP(e),s=r[0],o=!1;return i.filter(Boolean).forEach(function(a){o=bA(o||a,a)||o,t.filter(Boolean).forEach(function(l){var c=bA(s,l);c&&(!o||c.contains(o)?o=c:o=bA(c,o))})}),o},mme=function(n,e){return n.reduce(function(t,r){return t.concat(pme(r,e))},[])},gme=function(n){var e=ZN(n).filter(pw),t=D9(n,n,e),r=new Map,i=ZP([t],r,!0),s=ZP(e,r).filter(function(o){var a=o.node;return pw(a)}).map(function(o){var a=o.node;return a});return i.map(function(o){var a=o.node,l=o.index;return{node:a,index:l,lockItem:s.indexOf(a)>=0,guard:ek(a)}})},vme=function(n){return n===document.activeElement},yme=function(n){return Boolean(Hc(n.querySelectorAll("iframe")).some(function(e){return vme(e)}))},B9=function(n){var e=document&&document.activeElement;return!e||e.dataset&&e.dataset.focusGuard?!1:ZN(n).reduce(function(t,r){return t||r.contains(e)||yme(r)},!1)},_me=function(){return document&&Hc(document.querySelectorAll("["+jpe+"]")).some(function(n){return n.contains(document.activeElement)})},F9=function(n){return n.tagName==="INPUT"&&n.type==="radio"},xme=function(n,e){return e.filter(F9).filter(function(t){return t.name===n.name}).filter(function(t){return t.checked})[0]||n},rk=function(n,e){return F9(n)&&n.name?xme(n,e):n},bme=function(n){var e=new Set;return n.forEach(function(t){return e.add(rk(t,n))}),n.filter(function(t){return e.has(t)})},Bz=function(n){return n[0]&&n.length>1?rk(n[0],n):n[0]},Fz=function(n,e){return n.length>1?n.indexOf(rk(n[e],n)):e},z9="NEW_FOCUS",wme=function(n,e,t,r){var i=n.length,s=n[0],o=n[i-1],a=ek(t);if(!(n.indexOf(t)>=0)){var l=e.indexOf(t),c=r?e.indexOf(r):l,u=r?n.indexOf(r):-1,d=l-c,h=e.indexOf(s),m=e.indexOf(o),g=bme(e),v=g.indexOf(t)-(r?g.indexOf(r):l),_=Fz(n,0),x=Fz(n,i-1);if(l===-1||u===-1)return z9;if(!d&&u>=0)return u;if(l<=h&&a&&Math.abs(d)>1)return x;if(l>=m&&a&&Math.abs(d)>1)return _;if(d&&Math.abs(v)>1)return u;if(l<=h)return x;if(l>m)return _;if(d)return Math.abs(d)>1?u:(i+u+d)%i}},Sme=function(n){return function(e){return e.autofocus||e.dataset&&!!e.dataset.autofocus||n.indexOf(e)>=0}},Eme=function(n,e){var t=new Map;return e.forEach(function(r){return t.set(r.node,r)}),n.map(function(r){return t.get(r)}).filter(cme)},Cme=function(n,e){var t=document&&document.activeElement,r=ZN(n).filter(pw),i=D9(t||n,n,r),s=new Map,o=Dz(r,s),a=ZP(r,s).filter(function(m){var g=m.node;return pw(g)});if(!(!a[0]&&(a=o,!a[0]))){var l=Dz([i],s).map(function(m){var g=m.node;return g}),c=Eme(l,a),u=c.map(function(m){var g=m.node;return g}),d=wme(u,l,t,e);if(d===z9){var h=o.map(function(m){var g=m.node;return g}).filter(Sme(mme(r,s)));return{node:h&&h.length?Bz(h):Bz(u)}}return d===void 0?d:c[d]}},Ame=function(n){n.focus(),"contentWindow"in n&&n.contentWindow&&n.contentWindow.focus()},wA=0,SA=!1,Mme=function(n,e){var t=Cme(n,e);if(!SA&&t){if(wA>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),SA=!0,setTimeout(function(){SA=!1},1);return}wA++,Ame(t.node),wA--}};const U9=Mme;function H9(n){var e=window,t=e.setImmediate;typeof t<"u"?t(n):setTimeout(n,1)}var Tme=function(){return document&&document.activeElement===document.body},Pme=function(){return Tme()||_me()},Ef=null,sf=null,Cf=null,Ov=!1,Rme=function(){return!0},Ime=function(e){return(Ef.whiteList||Rme)(e)},Nme=function(e,t){Cf={observerNode:e,portaledElement:t}},kme=function(e){return Cf&&Cf.portaledElement===e};function zz(n,e,t,r){var i=null,s=n;do{var o=r[s];if(o.guard)o.node.dataset.focusAutoGuard&&(i=o);else if(o.lockItem){if(s!==n)return;i=null}else break}while((s+=t)!==e);i&&(i.node.tabIndex=0)}var Ome=function(e){return e&&"current"in e?e.current:e},Lme=function(e){return e?Boolean(Ov):Ov==="meanwhile"},mw=function(){var e=!1;if(Ef){var t=Ef,r=t.observed,i=t.persistentFocus,s=t.autoFocus,o=t.shards,a=t.crossFrame,l=r||Cf&&Cf.portaledElement,c=document&&document.activeElement;if(l){var u=[l].concat(o.map(Ome).filter(Boolean));if((!c||Ime(c))&&(i||Lme(a)||!Pme()||!sf&&s)&&(l&&!(B9(u)||kme(c))&&(document&&!sf&&c&&!s?(c.blur&&c.blur(),document.body.focus()):(e=U9(u,sf),Cf={})),Ov=!1,sf=document&&document.activeElement),document){var d=document&&document.activeElement,h=gme(u),m=h.map(function(g){var v=g.node;return v}).indexOf(d);m>-1&&(h.filter(function(g){var v=g.guard,_=g.node;return v&&_.dataset.focusAutoGuard}).forEach(function(g){var v=g.node;return v.removeAttribute("tabIndex")}),zz(m,h.length,1,h),zz(m,-1,-1,h))}}}return e},G9=function(e){mw()&&e&&(e.stopPropagation(),e.preventDefault())},ik=function(){return H9(mw)},Dme=function(e){var t=e.target,r=e.currentTarget;r.contains(t)||Nme(r,t)},Bme=function(){return null},V9=function(){Ov="just",setTimeout(function(){Ov="meanwhile"},0)},Fme=function(){document.addEventListener("focusin",G9,!0),document.addEventListener("focusout",ik),window.addEventListener("blur",V9)},zme=function(){document.removeEventListener("focusin",G9,!0),document.removeEventListener("focusout",ik),window.removeEventListener("blur",V9)};function Ume(n){return n.filter(function(e){var t=e.disabled;return!t})}function Hme(n){var e=n.slice(-1)[0];e&&!Ef&&Fme();var t=Ef,r=t&&e&&e.id===t.id;Ef=e,t&&!r&&(t.onDeactivation(),n.filter(function(i){var s=i.id;return s===t.id}).length||t.returnFocus(!e)),e?(sf=null,(!r||t.observed!==e.observed)&&e.onActivation(),mw(),H9(mw)):(zme(),sf=null)}R9.assignSyncMedium(Dme);I9.assignMedium(ik);qpe.assignMedium(function(n){return n({moveFocusInside:U9,focusInside:B9})});const Gme=ime(Ume,Hme)(Bme);var W9=N.forwardRef(function(e,t){return N.createElement(N9,Nv({sideCar:Gme,ref:t},e))}),j9=N9.propTypes||{};j9.sideCar;Wpe(j9,["sideCar"]);W9.propTypes={};const Vme=W9;function Wme(n){function e(G,te,re,q,$){for(var me=0,ae=0,xe=0,Ae=0,Me,ce,ve=0,Ie=0,Le,De=Le=Me=0,ze=0,We=0,et=0,qe=0,it=re.length,j=it-1,B,ne="",Se="",Be="",He="",we;ze<it;){if(ce=re.charCodeAt(ze),ze===j&&ae+Ae+xe+me!==0&&(ae!==0&&(ce=ae===47?10:47),Ae=xe=me=0,it++,j++),ae+Ae+xe+me===0){if(ze===j&&(0<We&&(ne=ne.replace(h,"")),0<ne.trim().length)){switch(ce){case 32:case 9:case 59:case 13:case 10:break;default:ne+=re.charAt(ze)}ce=59}switch(ce){case 123:for(ne=ne.trim(),Me=ne.charCodeAt(0),Le=1,qe=++ze;ze<it;){switch(ce=re.charCodeAt(ze)){case 123:Le++;break;case 125:Le--;break;case 47:switch(ce=re.charCodeAt(ze+1)){case 42:case 47:e:{for(De=ze+1;De<j;++De)switch(re.charCodeAt(De)){case 47:if(ce===42&&re.charCodeAt(De-1)===42&&ze+2!==De){ze=De+1;break e}break;case 10:if(ce===47){ze=De+1;break e}}ze=De}}break;case 91:ce++;case 40:ce++;case 34:case 39:for(;ze++<j&&re.charCodeAt(ze)!==ce;);}if(Le===0)break;ze++}switch(Le=re.substring(qe,ze),Me===0&&(Me=(ne=ne.replace(d,"").trim()).charCodeAt(0)),Me){case 64:switch(0<We&&(ne=ne.replace(h,"")),ce=ne.charCodeAt(1),ce){case 100:case 109:case 115:case 45:We=te;break;default:We=ee}if(Le=e(te,We,Le,ce,$+1),qe=Le.length,0<D&&(We=t(ee,ne,et),we=a(3,Le,We,te,W,X,qe,ce,$,q),ne=We.join(""),we!==void 0&&(qe=(Le=we.trim()).length)===0&&(ce=0,Le="")),0<qe)switch(ce){case 115:ne=ne.replace(T,o);case 100:case 109:case 45:Le=ne+"{"+Le+"}";break;case 107:ne=ne.replace(b,"$1 $2"),Le=ne+"{"+Le+"}",Le=U===1||U===2&&s("@"+Le,3)?"@-webkit-"+Le+"@"+Le:"@"+Le;break;default:Le=ne+Le,q===112&&(Le=(Se+=Le,""))}else Le="";break;default:Le=e(te,t(te,ne,et),Le,q,$+1)}Be+=Le,Le=et=We=De=Me=0,ne="",ce=re.charCodeAt(++ze);break;case 125:case 59:if(ne=(0<We?ne.replace(h,""):ne).trim(),1<(qe=ne.length))switch(De===0&&(Me=ne.charCodeAt(0),Me===45||96<Me&&123>Me)&&(qe=(ne=ne.replace(" ",":")).length),0<D&&(we=a(1,ne,te,G,W,X,Se.length,q,$,q))!==void 0&&(qe=(ne=we.trim()).length)===0&&(ne="\0\0"),Me=ne.charCodeAt(0),ce=ne.charCodeAt(1),Me){case 0:break;case 64:if(ce===105||ce===99){He+=ne+re.charAt(ze);break}default:ne.charCodeAt(qe-1)!==58&&(Se+=i(ne,Me,ce,ne.charCodeAt(2)))}et=We=De=Me=0,ne="",ce=re.charCodeAt(++ze)}}switch(ce){case 13:case 10:ae===47?ae=0:1+Me===0&&q!==107&&0<ne.length&&(We=1,ne+="\0"),0<D*Z&&a(0,ne,te,G,W,X,Se.length,q,$,q),X=1,W++;break;case 59:case 125:if(ae+Ae+xe+me===0){X++;break}default:switch(X++,B=re.charAt(ze),ce){case 9:case 32:if(Ae+me+ae===0)switch(ve){case 44:case 58:case 9:case 32:B="";break;default:ce!==32&&(B=" ")}break;case 0:B="\\0";break;case 12:B="\\f";break;case 11:B="\\v";break;case 38:Ae+ae+me===0&&(We=et=1,B="\f"+B);break;case 108:if(Ae+ae+me+K===0&&0<De)switch(ze-De){case 2:ve===112&&re.charCodeAt(ze-3)===58&&(K=ve);case 8:Ie===111&&(K=Ie)}break;case 58:Ae+ae+me===0&&(De=ze);break;case 44:ae+xe+Ae+me===0&&(We=1,B+="\r");break;case 34:case 39:ae===0&&(Ae=Ae===ce?0:Ae===0?ce:Ae);break;case 91:Ae+ae+xe===0&&me++;break;case 93:Ae+ae+xe===0&&me--;break;case 41:Ae+ae+me===0&&xe--;break;case 40:if(Ae+ae+me===0){if(Me===0)switch(2*ve+3*Ie){case 533:break;default:Me=1}xe++}break;case 64:ae+xe+Ae+me+De+Le===0&&(Le=1);break;case 42:case 47:if(!(0<Ae+me+xe))switch(ae){case 0:switch(2*ce+3*re.charCodeAt(ze+1)){case 235:ae=47;break;case 220:qe=ze,ae=42}break;case 42:ce===47&&ve===42&&qe+2!==ze&&(re.charCodeAt(qe+2)===33&&(Se+=re.substring(qe,ze+1)),B="",ae=0)}}ae===0&&(ne+=B)}Ie=ve,ve=ce,ze++}if(qe=Se.length,0<qe){if(We=te,0<D&&(we=a(2,Se,We,G,W,X,qe,q,$,q),we!==void 0&&(Se=we).length===0))return He+Se+Be;if(Se=We.join(",")+"{"+Se+"}",U*K!==0){switch(U!==2||s(Se,2)||(K=0),K){case 111:Se=Se.replace(E,":-moz-$1")+Se;break;case 112:Se=Se.replace(w,"::-webkit-input-$1")+Se.replace(w,"::-moz-$1")+Se.replace(w,":-ms-input-$1")+Se}K=0}}return He+Se+Be}function t(G,te,re){var q=te.trim().split(_);te=q;var $=q.length,me=G.length;switch(me){case 0:case 1:var ae=0;for(G=me===0?"":G[0]+" ";ae<$;++ae)te[ae]=r(G,te[ae],re).trim();break;default:var xe=ae=0;for(te=[];ae<$;++ae)for(var Ae=0;Ae<me;++Ae)te[xe++]=r(G[Ae]+" ",q[ae],re).trim()}return te}function r(G,te,re){var q=te.charCodeAt(0);switch(33>q&&(q=(te=te.trim()).charCodeAt(0)),q){case 38:return te.replace(x,"$1"+G.trim());case 58:return G.trim()+te.replace(x,"$1"+G.trim());default:if(0<1*re&&0<te.indexOf("\f"))return te.replace(x,(G.charCodeAt(0)===58?"":"$1")+G.trim())}return G+te}function i(G,te,re,q){var $=G+";",me=2*te+3*re+4*q;if(me===944){G=$.indexOf(":",9)+1;var ae=$.substring(G,$.length-1).trim();return ae=$.substring(0,G).trim()+ae+";",U===1||U===2&&s(ae,1)?"-webkit-"+ae+ae:ae}if(U===0||U===2&&!s($,1))return $;switch(me){case 1015:return $.charCodeAt(10)===97?"-webkit-"+$+$:$;case 951:return $.charCodeAt(3)===116?"-webkit-"+$+$:$;case 963:return $.charCodeAt(5)===110?"-webkit-"+$+$:$;case 1009:if($.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+$+$;case 978:return"-webkit-"+$+"-moz-"+$+$;case 1019:case 983:return"-webkit-"+$+"-moz-"+$+"-ms-"+$+$;case 883:if($.charCodeAt(8)===45)return"-webkit-"+$+$;if(0<$.indexOf("image-set(",11))return $.replace(L,"$1-webkit-$2")+$;break;case 932:if($.charCodeAt(4)===45)switch($.charCodeAt(5)){case 103:return"-webkit-box-"+$.replace("-grow","")+"-webkit-"+$+"-ms-"+$.replace("grow","positive")+$;case 115:return"-webkit-"+$+"-ms-"+$.replace("shrink","negative")+$;case 98:return"-webkit-"+$+"-ms-"+$.replace("basis","preferred-size")+$}return"-webkit-"+$+"-ms-"+$+$;case 964:return"-webkit-"+$+"-ms-flex-"+$+$;case 1023:if($.charCodeAt(8)!==99)break;return ae=$.substring($.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+ae+"-webkit-"+$+"-ms-flex-pack"+ae+$;case 1005:return g.test($)?$.replace(m,":-webkit-")+$.replace(m,":-moz-")+$:$;case 1e3:switch(ae=$.substring(13).trim(),te=ae.indexOf("-")+1,ae.charCodeAt(0)+ae.charCodeAt(te)){case 226:ae=$.replace(A,"tb");break;case 232:ae=$.replace(A,"tb-rl");break;case 220:ae=$.replace(A,"lr");break;default:return $}return"-webkit-"+$+"-ms-"+ae+$;case 1017:if($.indexOf("sticky",9)===-1)break;case 975:switch(te=($=G).length-10,ae=($.charCodeAt(te)===33?$.substring(0,te):$).substring(G.indexOf(":",7)+1).trim(),me=ae.charCodeAt(0)+(ae.charCodeAt(7)|0)){case 203:if(111>ae.charCodeAt(8))break;case 115:$=$.replace(ae,"-webkit-"+ae)+";"+$;break;case 207:case 102:$=$.replace(ae,"-webkit-"+(102<me?"inline-":"")+"box")+";"+$.replace(ae,"-webkit-"+ae)+";"+$.replace(ae,"-ms-"+ae+"box")+";"+$}return $+";";case 938:if($.charCodeAt(5)===45)switch($.charCodeAt(6)){case 105:return ae=$.replace("-items",""),"-webkit-"+$+"-webkit-box-"+ae+"-ms-flex-"+ae+$;case 115:return"-webkit-"+$+"-ms-flex-item-"+$.replace(M,"")+$;default:return"-webkit-"+$+"-ms-flex-line-pack"+$.replace("align-content","").replace(M,"")+$}break;case 973:case 989:if($.charCodeAt(3)!==45||$.charCodeAt(4)===122)break;case 931:case 953:if(O.test(G)===!0)return(ae=G.substring(G.indexOf(":")+1)).charCodeAt(0)===115?i(G.replace("stretch","fill-available"),te,re,q).replace(":fill-available",":stretch"):$.replace(ae,"-webkit-"+ae)+$.replace(ae,"-moz-"+ae.replace("fill-",""))+$;break;case 962:if($="-webkit-"+$+($.charCodeAt(5)===102?"-ms-"+$:"")+$,re+q===211&&$.charCodeAt(13)===105&&0<$.indexOf("transform",10))return $.substring(0,$.indexOf(";",27)+1).replace(v,"$1-webkit-$2")+$}return $}function s(G,te){var re=G.indexOf(te===1?":":"{"),q=G.substring(0,te!==3?re:10);return re=G.substring(re+1,G.length-1),z(te!==2?q:q.replace(R,"$1"),re,te)}function o(G,te){var re=i(te,te.charCodeAt(0),te.charCodeAt(1),te.charCodeAt(2));return re!==te+";"?re.replace(I," or ($1)").substring(4):"("+te+")"}function a(G,te,re,q,$,me,ae,xe,Ae,Me){for(var ce=0,ve=te,Ie;ce<D;++ce)switch(Ie=Q[ce].call(u,G,ve,re,q,$,me,ae,xe,Ae,Me)){case void 0:case!1:case!0:case null:break;default:ve=Ie}if(ve!==te)return ve}function l(G){switch(G){case void 0:case null:D=Q.length=0;break;default:if(typeof G=="function")Q[D++]=G;else if(typeof G=="object")for(var te=0,re=G.length;te<re;++te)l(G[te]);else Z=!!G|0}return l}function c(G){return G=G.prefix,G!==void 0&&(z=null,G?typeof G!="function"?U=1:(U=2,z=G):U=0),c}function u(G,te){var re=G;if(33>re.charCodeAt(0)&&(re=re.trim()),he=re,re=[he],0<D){var q=a(-1,te,re,re,W,X,0,0,0,0);q!==void 0&&typeof q=="string"&&(te=q)}var $=e(ee,re,te,0,0);return 0<D&&(q=a(-2,$,re,re,W,X,$.length,0,0,0),q!==void 0&&($=q)),he="",K=0,X=W=1,$}var d=/^\0+/g,h=/[\0\r\f]/g,m=/: */g,g=/zoo|gra/,v=/([,: ])(transform)/g,_=/,\r+?/g,x=/([\t\r\n ])*\f?&/g,b=/@(k\w+)\s*(\S*)\s*/,w=/::(place)/g,E=/:(read-only)/g,A=/[svh]\w+-[tblr]{2}/,T=/\(\s*(.*)\s*\)/g,I=/([\s\S]*?);/g,M=/-self|flex-/g,R=/[^]*?(:[rp][el]a[\w-]+)[^]*/,O=/stretch|:\s*\w+\-(?:conte|avail)/,L=/([^-])(image-set\()/,X=1,W=1,K=0,U=1,ee=[],Q=[],D=0,z=null,Z=0,he="";return u.use=l,u.set=c,n!==void 0&&c(n),u}var jme={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function ga(){return(ga=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}var Uz=function(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t},tR=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!Fb.typeOf(n)},gw=Object.freeze([]),Pc=Object.freeze({});function Lv(n){return typeof n=="function"}function Hz(n){return n.displayName||n.name||"Component"}function sk(n){return n&&typeof n.styledComponentId=="string"}var np=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",ok=typeof window<"u"&&"HTMLElement"in window,$me=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1),Kme={};function Dy(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var Xme=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var r=0,i=0;i<t;i++)r+=this.groupSizes[i];return r},e.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;t>=o;)(o<<=1)<0&&Dy(16,""+t);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(t+1),c=0,u=r.length;c<u;c++)this.tag.insertRule(l,r[c])&&(this.groupSizes[t]++,l++)},e.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r;this.groupSizes[t]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},n}(),tb=new Map,vw=new Map,Wg=1,O_=function(n){if(tb.has(n))return tb.get(n);for(;vw.has(Wg);)Wg++;var e=Wg++;return tb.set(n,e),vw.set(e,n),e},Jme=function(n){return vw.get(n)},Yme=function(n,e){e>=Wg&&(Wg=e+1),tb.set(n,e),vw.set(e,n)},qme="style["+np+'][data-styled-version="5.3.6"]',Qme=new RegExp("^"+np+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Zme=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},ege=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=t.length;i<s;i++){var o=t[i].trim();if(o){var a=o.match(Qme);if(a){var l=0|parseInt(a[1],10),c=a[2];l!==0&&(Yme(c,l),Zme(n,c,a[3]),n.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},tge=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},$9=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,c=l.length;c>=0;c--){var u=l[c];if(u&&u.nodeType===1&&u.hasAttribute(np))return u}}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(np,"active"),r.setAttribute("data-styled-version","5.3.6");var o=tge();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},nge=function(){function n(t){var r=this.element=$9(t);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}Dy(17)}(r),this.length=0}var e=n.prototype;return e.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var r=this.sheet.cssRules[t];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},n}(),rge=function(){function n(t){var r=this.element=$9(t);this.nodes=r.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,r){if(t<=this.length&&t>=0){var i=document.createTextNode(r),s=this.nodes[t];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),ige=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),Gz=ok,sge={isServer:!ok,useCSSOMInjection:!$me},yw=function(){function n(t,r,i){t===void 0&&(t=Pc),r===void 0&&(r={}),this.options=ga({},sge,{},t),this.gs=r,this.names=new Map(i),this.server=!!t.isServer,!this.server&&ok&&Gz&&(Gz=!1,function(s){for(var o=document.querySelectorAll(qme),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(np)!=="active"&&(ege(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this))}n.registerId=function(t){return O_(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new n(ga({},this.options,{},t),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,t=i?new ige(o):s?new nge(o):new rge(o),new Xme(t)));var t,r,i,s,o},e.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.registerName=function(t,r){if(O_(t),this.names.has(t))this.names.get(t).add(r);else{var i=new Set;i.add(r),this.names.set(t,i)}},e.insertRules=function(t,r,i){this.registerName(t,r),this.getTag().insertRules(O_(t),i)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(O_(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var r=t.getTag(),i=r.length,s="",o=0;o<i;o++){var a=Jme(o);if(a!==void 0){var l=t.names.get(a),c=r.getGroup(o);if(l&&c&&l.size){var u=np+".g"+o+'[id="'+a+'"]',d="";l!==void 0&&l.forEach(function(h){h.length>0&&(d+=h+",")}),s+=""+c+u+'{content:"'+d+`"}/*!sc*/
`}}}return s}(this)},n}(),oge=/(a)(d)/gi,Vz=function(n){return String.fromCharCode(n+(n>25?39:97))};function nR(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=Vz(e%52)+t;return(Vz(e%52)+t).replace(oge,"$1-$2")}var of=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},K9=function(n){return of(5381,n)};function X9(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Lv(t)&&!sk(t))return!1}return!0}var age=K9("5.3.6"),lge=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&X9(e),this.componentId=t,this.baseHash=of(age,t),this.baseStyle=r,yw.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=Ed(this.rules,e,t,r).join(""),a=nR(of(this.baseHash,o)>>>0);if(!t.hasNameForId(i,a)){var l=r(o,"."+a,void 0,i);t.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var c=this.rules.length,u=of(this.baseHash,r.hash),d="",h=0;h<c;h++){var m=this.rules[h];if(typeof m=="string")d+=m;else if(m){var g=Ed(m,e,t,r),v=Array.isArray(g)?g.join(""):g;u=of(u,v+h),d+=v}}if(d){var _=nR(u>>>0);if(!t.hasNameForId(i,_)){var x=r(d,"."+_,void 0,i);t.insertRules(i,_,x)}s.push(_)}}return s.join(" ")},n}(),cge=/^\s*\/\/.*$/gm,uge=[":","[",".","#"];function dge(n){var e,t,r,i,s=n===void 0?Pc:n,o=s.options,a=o===void 0?Pc:o,l=s.plugins,c=l===void 0?gw:l,u=new Wme(a),d=[],h=function(v){function _(x){if(x)try{v(x+"}")}catch{}}return function(x,b,w,E,A,T,I,M,R,O){switch(x){case 1:if(R===0&&b.charCodeAt(0)===64)return v(b+";"),"";break;case 2:if(M===0)return b+"/*|*/";break;case 3:switch(M){case 102:case 112:return v(w[0]+b),"";default:return b+(O===0?"/*|*/":"")}case-2:b.split("/*|*/}").forEach(_)}}}(function(v){d.push(v)}),m=function(v,_,x){return _===0&&uge.indexOf(x[t.length])!==-1||x.match(i)?v:"."+e};function g(v,_,x,b){b===void 0&&(b="&");var w=v.replace(cge,""),E=_&&x?x+" "+_+" { "+w+" }":w;return e=b,t=_,r=new RegExp("\\"+t+"\\b","g"),i=new RegExp("(\\"+t+"\\b){2,}"),u(x||!_?"":_,E)}return u.use([].concat(c,[function(v,_,x){v===2&&x.length&&x[0].lastIndexOf(t)>0&&(x[0]=x[0].replace(r,m))},h,function(v){if(v===-2){var _=d;return d=[],_}}])),g.hash=c.length?c.reduce(function(v,_){return _.name||Dy(15),of(v,_.name)},5381).toString():"",g}var J9=_e.createContext();J9.Consumer;var Y9=_e.createContext(),hge=(Y9.Consumer,new yw),rR=dge();function q9(){return N.useContext(J9)||hge}function Q9(){return N.useContext(Y9)||rR}var fge=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=rR);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return Dy(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=rR),this.name+e.hash},n}(),pge=/([A-Z])/,mge=/([A-Z])/g,gge=/^ms-/,vge=function(n){return"-"+n.toLowerCase()};function Wz(n){return pge.test(n)?n.replace(mge,vge).replace(gge,"-ms-"):n}var jz=function(n){return n==null||n===!1||n===""};function Ed(n,e,t,r){if(Array.isArray(n)){for(var i,s=[],o=0,a=n.length;o<a;o+=1)(i=Ed(n[o],e,t,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(jz(n))return"";if(sk(n))return"."+n.styledComponentId;if(Lv(n)){if(typeof(c=n)!="function"||c.prototype&&c.prototype.isReactComponent||!e)return n;var l=n(e);return Ed(l,e,t,r)}var c;return n instanceof fge?t?(n.inject(t,r),n.getName(r)):n:tR(n)?function u(d,h){var m,g,v=[];for(var _ in d)d.hasOwnProperty(_)&&!jz(d[_])&&(Array.isArray(d[_])&&d[_].isCss||Lv(d[_])?v.push(Wz(_)+":",d[_],";"):tR(d[_])?v.push.apply(v,u(d[_],_)):v.push(Wz(_)+": "+(m=_,(g=d[_])==null||typeof g=="boolean"||g===""?"":typeof g!="number"||g===0||m in jme?String(g).trim():g+"px")+";"));return h?[h+" {"].concat(v,["}"]):v}(n):n.toString()}var $z=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function Z9(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return Lv(n)||tR(n)?$z(Ed(Uz(gw,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:$z(Ed(Uz(n,t)))}var eW=function(n,e,t){return t===void 0&&(t=Pc),n.theme!==t.theme&&n.theme||e||t.theme},yge=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_ge=/(^-|-$)/g;function EA(n){return n.replace(yge,"-").replace(_ge,"")}var tW=function(n){return nR(K9(n)>>>0)};function L_(n){return typeof n=="string"&&!0}var iR=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},xge=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function bge(n,e,t){var r=n[t];iR(e)&&iR(r)?nW(r,e):n[t]=e}function nW(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i];if(iR(o))for(var a in o)xge(a)&&bge(n,o[a],a)}return n}var ak=_e.createContext();ak.Consumer;var CA={};function rW(n,e,t){var r=sk(n),i=!L_(n),s=e.attrs,o=s===void 0?gw:s,a=e.componentId,l=a===void 0?function(b,w){var E=typeof b!="string"?"sc":EA(b);CA[E]=(CA[E]||0)+1;var A=E+"-"+tW("5.3.6"+E+CA[E]);return w?w+"-"+A:A}(e.displayName,e.parentComponentId):a,c=e.displayName,u=c===void 0?function(b){return L_(b)?"styled."+b:"Styled("+Hz(b)+")"}(n):c,d=e.displayName&&e.componentId?EA(e.displayName)+"-"+e.componentId:e.componentId||l,h=r&&n.attrs?Array.prototype.concat(n.attrs,o).filter(Boolean):o,m=e.shouldForwardProp;r&&n.shouldForwardProp&&(m=e.shouldForwardProp?function(b,w,E){return n.shouldForwardProp(b,w,E)&&e.shouldForwardProp(b,w,E)}:n.shouldForwardProp);var g,v=new lge(t,d,r?n.componentStyle:void 0),_=v.isStatic&&o.length===0,x=function(b,w){return function(E,A,T,I){var M=E.attrs,R=E.componentStyle,O=E.defaultProps,L=E.foldedComponentIds,X=E.shouldForwardProp,W=E.styledComponentId,K=E.target,U=function(q,$,me){q===void 0&&(q=Pc);var ae=ga({},$,{theme:q}),xe={};return me.forEach(function(Ae){var Me,ce,ve,Ie=Ae;for(Me in Lv(Ie)&&(Ie=Ie(ae)),Ie)ae[Me]=xe[Me]=Me==="className"?(ce=xe[Me],ve=Ie[Me],ce&&ve?ce+" "+ve:ce||ve):Ie[Me]}),[ae,xe]}(eW(A,N.useContext(ak),O)||Pc,A,M),ee=U[0],Q=U[1],D=function(q,$,me,ae){var xe=q9(),Ae=Q9(),Me=$?q.generateAndInjectStyles(Pc,xe,Ae):q.generateAndInjectStyles(me,xe,Ae);return Me}(R,I,ee),z=T,Z=Q.$as||A.$as||Q.as||A.as||K,he=L_(Z),G=Q!==A?ga({},A,{},Q):A,te={};for(var re in G)re[0]!=="$"&&re!=="as"&&(re==="forwardedAs"?te.as=G[re]:(X?X(re,UT,Z):!he||UT(re))&&(te[re]=G[re]));return A.style&&Q.style!==A.style&&(te.style=ga({},A.style,{},Q.style)),te.className=Array.prototype.concat(L,W,D!==W?D:null,A.className,Q.className).filter(Boolean).join(" "),te.ref=z,N.createElement(Z,te)}(g,b,w,_)};return x.displayName=u,(g=_e.forwardRef(x)).attrs=h,g.componentStyle=v,g.displayName=u,g.shouldForwardProp=m,g.foldedComponentIds=r?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):gw,g.styledComponentId=d,g.target=r?n.target:n,g.withComponent=function(b){var w=e.componentId,E=function(T,I){if(T==null)return{};var M,R,O={},L=Object.keys(T);for(R=0;R<L.length;R++)M=L[R],I.indexOf(M)>=0||(O[M]=T[M]);return O}(e,["componentId"]),A=w&&w+"-"+(L_(b)?b:EA(Hz(b)));return rW(b,ga({},E,{attrs:h,componentId:A}),t)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=r?nW({},n.defaultProps,b):b}}),g.toString=function(){return"."+g.styledComponentId},i&&tte(g,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var sR=function(n){return function e(t,r,i){if(i===void 0&&(i=Pc),!Fb.isValidElementType(r))return Dy(1,String(r));var s=function(){return t(r,i,Z9.apply(void 0,arguments))};return s.withConfig=function(o){return e(t,r,ga({},i,{},o))},s.attrs=function(o){return e(t,r,ga({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(rW,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){sR[n]=sR(n)});var wge=function(){function n(t,r){this.rules=t,this.componentId=r,this.isStatic=X9(t),yw.registerId(this.componentId+1)}var e=n.prototype;return e.createStyles=function(t,r,i,s){var o=s(Ed(this.rules,r,i,s).join(""),""),a=this.componentId+t;i.insertRules(a,a,o)},e.removeStyles=function(t,r){r.clearRules(this.componentId+t)},e.renderStyles=function(t,r,i,s){t>2&&yw.registerId(this.componentId+t),this.removeStyles(t,i),this.createStyles(t,r,i,s)},n}();function Sge(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=Z9.apply(void 0,[n].concat(t)),s="sc-global-"+tW(JSON.stringify(i)),o=new wge(i,s);function a(c){var u=q9(),d=Q9(),h=N.useContext(ak),m=N.useRef(u.allocateGSInstance(s)).current;return u.server&&l(m,c,u,h,d),N.useLayoutEffect(function(){if(!u.server)return l(m,c,u,h,d),function(){return o.removeStyles(m,u)}},[m,c,u,h,d]),null}function l(c,u,d,h,m){if(o.isStatic)o.renderStyles(c,Kme,d,m);else{var g=ga({},u,{theme:eW(u,h,a.defaultProps)});o.renderStyles(c,g,d,m)}}return _e.memo(a)}const Na=sR;var $e={},Ege={get exports(){return $e},set exports(n){$e=n}},Cge="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Age=Cge,Mge=Age;function iW(){}function sW(){}sW.resetWarningCache=iW;var Tge=function(){function n(r,i,s,o,a,l){if(l!==Mge){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:sW,resetWarningCache:iW};return t.PropTypes=t,t};Ege.exports=Tge();function Kz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function _w(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kz(Object(t),!0).forEach(function(r){Ks(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Kz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Pge(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Xz(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Rge(n,e,t){return e&&Xz(n.prototype,e),t&&Xz(n,t),n}function Ks(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ige(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&oR(n,e)}function xw(n){return xw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xw(n)}function oR(n,e){return oR=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},oR(n,e)}function Nge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oa(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function kge(n,e){return e&&(typeof e=="object"||typeof e=="function")?e:oa(n)}function Oge(n){var e=Nge();return function(){var r=xw(n),i;if(e){var s=xw(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return kge(this,i)}}function Vo(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Lge(n,e){return Dge(n)||Bge(n,e)||oW(n,e)||Fge()}function Dge(n){if(Array.isArray(n))return n}function Bge(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function oW(n,e){if(n){if(typeof n=="string")return Jz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Jz(n,e)}}function Jz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Fge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Af(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=oW(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return s=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(o)throw a}}}}var Yz,zge=Sge(Yz||(Yz=Vo([`
  .focus-outline-hidden :focus {
      outline: none;
  }
`]))),qz,aW=Na.button(qz||(qz=Vo([`
  display: block;
  padding: 0;
  border: 0;
  background: none;
  font-size: 0;
  cursor: `,`;
`])),function(n){return n.disabled?"not-allowed":"pointer"}),Qz,Zz,Uge=Na.span(Qz||(Qz=Vo([`
  font-size: 12px;
  line-height: 1;
`])));function lW(n){var e=n.className,t=n.onClick,r=n.inverted,i=n.label,s=n.disabled;return _e.createElement(aW,{className:e,onClick:t,"data-tour-elem":"".concat(r?"right":"left","-arrow"),disabled:s},i?_e.createElement(Uge,null,i):_e.createElement("svg",{viewBox:"0 0 18.4 14.4"},_e.createElement("path",{d:r?"M17 7.2H1M10.8 1L17 7.2l-6.2 6.2":"M1.4 7.2h16M7.6 1L1.4 7.2l6.2 6.2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeMiterlimit:"10"})))}lW.propTypes={className:$e.string.isRequired,onClick:$e.func.isRequired,inverted:$e.bool,label:$e.node,disabled:$e.bool};var e4=Na(lW)(Zz||(Zz=Vo([`
  color: `,`;

  `,`;
  `,`;

  &:hover {
    color: `,`;
  }
`])),function(n){return n.disabled?"#caccce":"#646464"},function(n){return n.inverted?"margin-left: 24px;":"margin-right: 24px;"},function(n){return!n.label&&`
    width: 16px;
    height: 12px;
    flex: 0 0 16px;
  `},function(n){return n.disabled?"#caccce":"#000"}),t4;function cW(n){var e=n.className,t=n.onClick,r=n.ariaLabel;return _e.createElement(aW,{className:e,onClick:t,"aria-label":r},_e.createElement("svg",{viewBox:"0 0 9.1 9.1","aria-hidden":!0,role:"presentation"},_e.createElement("path",{fill:"currentColor",d:"M5.9 4.5l2.8-2.8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L4.5 3.1 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4l2.8 2.8L.3 7.4c-.4.4-.4 1 0 1.4.2.2.4.3.7.3s.5-.1.7-.3L4.5 6l2.8 2.8c.3.2.5.3.8.3s.5-.1.7-.3c.4-.4.4-1 0-1.4L5.9 4.5z"})))}cW.propTypes={className:$e.string.isRequired,onClick:$e.func.isRequired,ariaLabel:$e.string};var Hge=Na(cW)(t4||(t4=Vo([`
  position: absolute;
  top: 22px;
  right: 22px;
  width: 9px;
  height: 9px;
  color: #5e5e5e;
  &:hover {
    color: #000;
  }
`])));function nb(n){var e=n.getBoundingClientRect(),t=e.top,r=e.right,i=e.bottom,s=e.left,o=e.width,a=e.height;return{top:t,right:r,bottom:i,left:s,width:o,height:a}}function uW(n,e){if(!e.highlightedSelectors)return nb(n);var t=nb(n),r=Af(e.highlightedSelectors),i;try{for(r.s();!(i=r.n()).done;){var s=i.value,o=document.querySelector(s);if(!(!o||o.style.display==="none"||o.style.visibility==="hidden")){var a=nb(o);a.top<t.top&&(t.top=a.top),a.right>t.right&&(t.right=a.right),a.bottom>t.bottom&&(t.bottom=a.bottom),a.left<t.left&&(t.left=a.left)}}}catch(l){r.e(l)}finally{r.f()}return t.width=t.right-t.left,t.height=t.bottom-t.top,t}function Gge(n){var e=n.top,t=n.right,r=n.bottom,i=n.left,s=n.w,o=n.h,a=n.threshold,l=a===void 0?0:a;return e>=0+l&&i>=0+l&&r<=o-l&&t<=s-l}function Vge(n){return n===document.querySelector("body")||n===document.querySelector("html")}var Wge=function(e){return/(left|right)/.test(e)},AA=function(e,t){return e>t},MA=function(e,t){return e>t},ia=function(e){return e<0?0:e};function jge(n){return Object.keys(n).map(function(e){return{position:e,value:n[e]}}).sort(function(e,t){return t.value-e.value}).map(function(e){return e.position})}var n4,$ge=Na.div(n4||(n4=Vo([`
  --reactour-accent: `,`;
  `,`
  position: fixed;
  transition: transform 0.3s;
  top: 0;
  left: 0;
  z-index: 1000000;

  transform: `,`;
`])),function(n){return n.accentColor},function(n){return n.defaultStyles?`
  max-width: 331px;
  min-width: 150px;
  padding-right: 40px;
  border-radius: `.concat(n.rounded,`px;
  background-color: #fff;
  padding: 24px 30px;
  box-shadow: 0 0.5em 3em rgba(0, 0, 0, 0.3);
  color: inherit;
  `):""},function(n){var e=n.targetTop,t=n.targetRight,r=n.targetBottom,i=n.targetLeft,s=n.windowWidth,o=n.windowHeight,a=n.helperWidth,l=n.helperHeight,c=n.helperPosition,u=n.padding,d={left:i,right:s-t,top:e,bottom:o-r},h=function(x){return d[x]>(Wge(x)?a+u*2:l+u*2)},m=function(x){for(var b=jge(d),w=0;w<b.length;w++)if(h(b[w]))return x[b[w]];return x.center},g=function(x){if(Array.isArray(x)){var b=AA(x[0],s),w=MA(x[1],o),E=function(L,X){console.warn("".concat(L,":").concat(X," is outside window, falling back to center"))};return b&&E("x",x[0]),w&&E("y",x[1]),[b?s/2-a/2:x[0],w?o/2-l/2:x[1]]}var A=AA(i+a,s)?AA(t+u,s)?t-a:t-a+u:i-u,T=A>u?A:u,I=MA(e+l,o)?MA(r+u,o)?r-l:r-l+u:e-u,M=I>u?I:u,R={top:[T,e-l-u*2],right:[t+u*2,M],bottom:[T,r+u*2],left:[i-a-u*2,M],center:[s/2-a/2,o/2-l/2]};return x==="center"||h(x)?R[x]:m(R)},v=g(c);return"translate(".concat(Math.round(v[0]),"px, ").concat(Math.round(v[1]),"px)")}),r4,Kge=Na.span(r4||(r4=Vo([`
  position: absolute;
  font-family: monospace;
  background: var(--reactour-accent);
  background: `,`;
  height: 1.875em;
  line-height: 2;
  padding-left: 0.8125em;
  padding-right: 0.8125em;
  font-size: 1em;
  border-radius: 1.625em;
  color: white;
  text-align: center;
  box-shadow: 0 0.25em 0.5em rgba(0, 0, 0, 0.3);
  top: -0.8125em;
  left: -0.8125em;
`])),function(n){return n.accentColor}),i4,Xge=Na.div(i4||(i4=Vo([`
  display: flex;
  margin-top: 24px;
  align-items: center;
  justify-content: center;
`]))),s4,Jge=Na.nav(s4||(s4=Vo([`
  counter-reset: dot;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
`]))),o4,Yge=Na.button(o4||(o4=Vo([`
  counter-increment: dot;
  width: 8px;
  height: 8px;
  border: `,`;

  border-radius: 100%;
  padding: 0;
  display: block;
  margin: 4px;
  transition: opacity 0.3s, transform 0.3s;
  cursor: `,`;
  transform: scale(`,`);

  color: `,`;
  background: `,`;

  color: `,`;
  background: `,`;

  &:before {
    content: counter(dot);
    position: absolute;
    bottom: calc(100% + 0.25em);
    left: 50%;
    opacity: 0;
    transform: translate(-50%, 1em);
    transition: 0.3s;
    display: `,`;
  }

  &:hover {
    background-color: currentColor;

    &:before {
      opacity: 0.5;
      transform: translate(-50%, -2px);
    }
  }
`])),function(n){return n.current===n.index?"0":"1px solid #caccce"},function(n){return n.disabled?"not-allowed":"pointer"},function(n){return n.current===n.index?1.25:1},function(n){return n.current===n.index?"var(--reactour-accent)":"#caccce"},function(n){return n.current===n.index?"var(--reactour-accent)":"none"},function(n){return n.current===n.index?n.accentColor:"#caccce"},function(n){return n.current===n.index?n.accentColor:"none"},function(n){return n.showNumber?"block":"none"}),a4,qge=Na.div(a4||(a4=Vo([`
  opacity: `,`;
  color: `,`;
  width: 100%;
  left: 0;
  top: 0;
  height: 100%;
  position: fixed;
  z-index: 99999;
  pointer-events: none;
`])),function(n){return!n.maskClassName&&.7},function(n){return!n.maskClassName&&"#000"});function dW(n){var e=n.windowWidth,t=n.windowHeight,r=n.targetWidth,i=n.targetHeight,s=n.targetTop,o=n.targetLeft,a=n.padding,l=n.rounded,c=n.roundedStep,u=n.disableInteraction,d=n.disableInteractionClassName,h=n.className,m=n.onClick,g=n.highlightedBorder,v=ia(r+a*2),_=ia(i+a*2),x=ia(s-a),b=ia(o-a),w=c?Math.min(v/2,_/2):l;return _e.createElement(qge,{onClick:m,maskClassName:h},_e.createElement("svg",{width:e,height:t,xmlns:"http://www.w3.org/2000/svg",className:h},_e.createElement("defs",null,_e.createElement("mask",{id:"mask-main"},_e.createElement("rect",{x:0,y:0,width:e,height:t,fill:"white"}),_e.createElement("rect",{x:b,y:x,width:v,height:_,fill:"black"}),_e.createElement("rect",{x:b-1,y:x-1,width:w,height:w,fill:"white"}),_e.createElement("circle",{cx:b+w,cy:x+w,r:w,fill:"black"}),_e.createElement("rect",{x:b+v-w+1,y:x-1,width:w,height:w,fill:"white"}),_e.createElement("circle",{cx:b+v-w,cy:x+w,r:w,fill:"black"}),_e.createElement("rect",{x:b-1,y:x+_-w+1,width:w,height:w,fill:"white"}),_e.createElement("circle",{cx:b+w,cy:x+_-w,r:w,fill:"black"}),_e.createElement("rect",{x:b+v-w+1,y:x+_-w+1,width:w,height:w,fill:"white"}),_e.createElement("circle",{cx:b+v-w,cy:x+_-w,r:w,fill:"black "})),_e.createElement("clipPath",{id:"clip-path"},_e.createElement("rect",{x:0,y:0,width:e,height:x}),_e.createElement("rect",{x:0,y:x,width:b,height:_}),_e.createElement("rect",{x:o+r+a,y:x,width:ia(e-r-b),height:_}),_e.createElement("rect",{x:0,y:s+i+a,width:e,height:ia(t-i-x)}))),_e.createElement("rect",{x:0,y:0,width:e,height:t,fill:"currentColor",mask:"url(#mask-main)"}),_e.createElement("rect",{x:0,y:0,width:e,height:t,fill:"currentColor",clipPath:"url(#clip-path)",pointerEvents:"auto"}),_e.createElement("rect",{x:b,y:x,width:v,height:_,pointerEvents:"auto",fill:"transparent",display:u?"block":"none",className:d}),g&&_e.createElement("rect",{x:ia(b+g.width/2),y:ia(x+g.width/2),width:ia(v-g.width),height:ia(_-g.width),pointerEvents:"auto",fill:"none",strokeWidth:g.width,stroke:g.color,rx:w-2})))}dW.propTypes={windowWidth:$e.number.isRequired,windowHeight:$e.number.isRequired,targetWidth:$e.number.isRequired,targetHeight:$e.number.isRequired,targetTop:$e.number.isRequired,targetLeft:$e.number.isRequired,padding:$e.number.isRequired,rounded:$e.number.isRequired,roundedStep:$e.bool,disableInteraction:$e.bool.isRequired,disableInteractionClassName:$e.string.isRequired,highlightedBorder:$e.shape({color:$e.string.isRequired,width:$e.number.isRequired})};var Qge=function(n){var e=n.step,t=n.refresh,r=N.useState(0),i=Lge(r,2),s=i[0],o=i[1];return N.useEffect(function(){if(e.resizeObservables){var a=function(h){var m=Af(h),g;try{var v=function(){var b=g.value;if(!b.attributes)return"continue";var w=e.resizeObservables.find(function(E){return b.matches(E)||b.querySelector(E)!=null});w&&o(s+1)};for(m.s();!(g=m.n()).done;)var _=v()}catch(x){m.e(x)}finally{m.f()}},l=new MutationObserver(function(d){var h=Af(d),m;try{for(h.s();!(m=h.n()).done;){var g=m.value;g.addedNodes.length!==0&&a(g.addedNodes),g.removedNodes.length!==0&&a(g.removedNodes)}}catch(v){h.e(v)}finally{h.f()}}),c=document.documentElement||document.body,u={childList:!0,subtree:!0};return l.observe(c,u),function(){l.disconnect()}}},[e,s]),N.useEffect(function(){if(e.resizeObservables){var a=new ResizeObserver(function(h){t()}),l=Af(e.resizeObservables),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,d=document.querySelector(u);d&&a.observe(d)}}catch(h){l.e(h)}finally{l.f()}return function(){a.disconnect()}}},[e,s]),null},Zge=function(n){var e=n.step,t=n.refresh;return N.useEffect(function(){if(e.mutationObservables){var r=function(l){var c=Af(l),u;try{var d=function(){var g=u.value;if(!g.attributes)return"continue";var v=e.mutationObservables.find(function(_){return g.matches(_)||g.querySelector(_)!=null});v&&t()};for(c.s();!(u=c.n()).done;)var h=d()}catch(m){c.e(m)}finally{c.f()}},i=new MutationObserver(function(a){var l=Af(a),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;u.addedNodes.length!==0&&r(u.addedNodes),u.removedNodes.length!==0&&r(u.removedNodes)}}catch(d){l.e(d)}finally{l.f()}}),s=document.documentElement||document.body,o={childList:!0,subtree:!0};return i.observe(s,o),function(){i.disconnect()}}},[e]),null};function eve(n){var e=n.children,t=N.useRef(null);return t.current===null&&(t.current=document.createElement("div"),t.current.setAttribute("id","___reactour")),N.useEffect(function(){return document.body.appendChild(t.current),function(){document.body.removeChild(t.current)}},[t]),pd.createPortal(e,t.current)}var tve={disableFocusLock:$e.bool,badgeContent:$e.func,highlightedMaskClassName:$e.string,children:$e.oneOfType([$e.node,$e.element]),className:$e.string,closeButtonAriaLabel:$e.string,closeWithMask:$e.bool,inViewThreshold:$e.number,isOpen:$e.bool.isRequired,lastStepNextButton:$e.node,maskClassName:$e.string,maskSpace:$e.number,nextButton:$e.node,onAfterOpen:$e.func,onBeforeClose:$e.func,onRequestClose:$e.func,prevButton:$e.node,scrollDuration:$e.number,scrollOffset:$e.number,showButtons:$e.bool,showCloseButton:$e.bool,showNavigation:$e.bool,showNavigationNumber:$e.bool,showNumber:$e.bool,startAt:$e.number,goToStep:$e.number,getCurrentStep:$e.func,nextStep:$e.func,prevStep:$e.func,steps:$e.arrayOf($e.shape({selector:$e.string,content:$e.oneOfType([$e.node,$e.element,$e.func]).isRequired,position:$e.oneOfType([$e.arrayOf($e.number),$e.oneOf(["top","right","bottom","left","center"])]),action:$e.func,style:$e.object,stepInteraction:$e.bool,navDotAriaLabel:$e.string,roundedStep:$e.bool})),update:$e.string,updateDelay:$e.number,disableInteraction:$e.bool,disableDotsNavigation:$e.bool,disableKeyboardNavigation:$e.oneOfType([$e.arrayOf($e.oneOf(["esc","right","left"])),$e.bool]),rounded:$e.number,accentColor:$e.string,highlightedBorder:$e.shape({color:$e.string.isRequired,width:$e.number.isRequired})},nve={disableFocusLock:!1,showNavigation:!0,showNavigationNumber:!0,showButtons:!0,showCloseButton:!0,closeButtonAriaLabel:"Close",showNumber:!0,scrollDuration:1,maskSpace:10,updateDelay:1,disableInteraction:!1,rounded:0,accentColor:"#007aff",closeWithMask:!0},vh={mask:{base:"reactour__mask",isOpen:"reactour__mask--is-open",disableInteraction:"reactour__mask--disable-interaction"},helper:{base:"reactour__helper",isOpen:"reactour__helper--is-open"},dot:{base:"reactour__dot",active:"reactour__dot--is-active"}},lk=function(n){Ige(t,n);var e=Oge(t);function t(){var r;return Pge(this,t),r=e.call(this),Ks(oa(r),"unlockFocus",function(i){r.setState({focusUnlocked:!0},i())}),Ks(oa(r),"showStep",function(){if(!(!r.helper||!r.helper.current)){var i=r.props.steps,s=r.state,o=s.current,a=s.focusUnlocked;a&&r.setState({focusUnlocked:!1});var l=i[o],c=l.selector?document.querySelector(l.selector):null,u=function(v){l.action&&typeof l.action=="function"&&r.unlockFocus(function(){return l.action(v)})};if(l.observe){var d=document.querySelector(l.observe),h={attributes:!0,childList:!0,characterData:!0};r.setState(function(g){return g.observer&&setTimeout(function(){g.observer.disconnect()},0),{observer:new MutationObserver(function(v){v.forEach(function(_){if(_.type==="childList"&&_.addedNodes.length>0){var x=function(){return u(_.addedNodes[0])};setTimeout(function(){return r.calculateNode(_.addedNodes[0],l,x)},100)}else if(_.type==="childList"&&_.removedNodes.length>0){var b=function(){return u(c)};r.calculateNode(c,l,b)}})})}},function(){return r.state.observer.observe(d,h)})}else r.state.observer&&(r.state.observer.disconnect(),r.setState({observer:null}));if(c){var m=function(){return u(c)};r.calculateNode(c,l,m)}else r.setState(TA(null,l,r.helper.current),u),l.selector&&console.warn("Doesn't find a DOM node '".concat(l.selector,"'. Please check the 'steps' Tour prop Array at position ").concat(o,"."))}}),Ks(oa(r),"calculateNode",function(i,s,o){var a=r.props,l=a.scrollDuration,c=a.inViewThreshold,u=a.scrollOffset,d=uW(i,s),h=Math.max(document.documentElement.clientWidth,window.innerWidth||0),m=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(Gge(_w(_w({},d),{},{w:h,h:m,threshold:c})))r.setState(TA(i,s,r.helper.current),o);else{var g=Cpe(i),v=u||(d.height>m?-25:-(m/2)+d.height/2);Spe.to(i,{context:Vge(g)?window:g,duration:l,offset:v,callback:function(x){r.setState(TA(x,s,r.helper.current),o)}})}}),Ks(oa(r),"recalculateNode",function(i){var s=document.querySelector(i.selector),o=function(l){i.action&&typeof i.action=="function"&&r.unlockFocus(function(){return i.action(l)})};r.calculateNode(s,i,function(){return o(s)})}),Ks(oa(r),"maskClickHandler",function(i){var s=r.props,o=s.closeWithMask,a=s.onRequestClose;o&&!i.target.classList.contains(vh.mask.disableInteraction)&&a(i)}),Ks(oa(r),"nextStep",function(){var i=r.props,s=i.steps,o=i.getCurrentStep;r.setState(function(a){var l=a.current<s.length-1?a.current+1:a.current;return typeof o=="function"&&o(l),{current:l}},r.showStep)}),Ks(oa(r),"prevStep",function(){var i=r.props.getCurrentStep;r.setState(function(s){var o=s.current>0?s.current-1:s.current;return typeof i=="function"&&i(o),{current:o}},r.showStep)}),Ks(oa(r),"gotoStep",function(i){var s=r.props,o=s.steps,a=s.getCurrentStep;r.setState(function(l){var c=o[i]?i:l.current;return typeof a=="function"&&a(c),{current:c}},r.showStep)}),Ks(oa(r),"keyDownHandler",function(i){var s=r.props,o=s.onRequestClose,a=s.nextStep,l=s.prevStep,c=s.disableKeyboardNavigation;if(i.stopPropagation(),c!==!0){var u,d,h;c&&(u=c.includes("esc"),d=c.includes("right"),h=c.includes("left")),i.keyCode===27&&!u&&(i.preventDefault(),o()),i.keyCode===39&&!d&&(i.preventDefault(),typeof a=="function"?a():r.nextStep()),i.keyCode===37&&!h&&(i.preventDefault(),typeof l=="function"?l():r.prevStep())}}),r.state={isOpen:!1,current:0,top:0,right:0,bottom:0,left:0,width:0,height:0,w:0,h:0,inDOM:!1,observer:null,focusUnlocked:!1},r.helper=N.createRef(),r.helperElement=null,r.debouncedShowStep=Vpe(r.showStep,70),r}return Rge(t,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isOpen,o=i.startAt;s&&this.open(o)}},{key:"UNSAFE_componentWillReceiveProps",value:function(i){var s=this.props,o=s.isOpen,a=s.update,l=s.updateDelay;!o&&i.isOpen?this.open(i.startAt):o&&!i.isOpen&&this.close(),o&&a!==i.update&&(i.steps[this.state.current]?setTimeout(this.showStep,l):this.props.onRequestClose()),o&&i.isOpen&&this.state.current!==i.goToStep&&this.gotoStep(i.goToStep)}},{key:"componentWillUnmount",value:function(){var i=this.props.isOpen;i&&this.close(),this.state.observer&&this.state.observer.disconnect()}},{key:"open",value:function(i){var s=this,o=this.props.onAfterOpen;this.setState(function(a){return{isOpen:!0,current:i!==void 0?i:a.current}},function(){setTimeout(s.showStep,1),s.helperElement=s.helper.current,s.props.disableFocusLock||s.helper.current.focus(),o&&o(s.helperElement)}),window.addEventListener("resize",this.debouncedShowStep,!1),window.addEventListener("keydown",this.keyDownHandler,!1)}},{key:"close",value:function(){this.setState(function(i){return i.observer&&i.observer.disconnect(),{isOpen:!1,observer:null}},this.onBeforeClose),window.removeEventListener("resize",this.debouncedShowStep),window.removeEventListener("keydown",this.keyDownHandler)}},{key:"onBeforeClose",value:function(){var i=this.props.onBeforeClose;i&&i(this.helperElement)}},{key:"render",value:function(){var i=this,s=this.props,o=s.className,a=s.steps,l=s.maskClassName,c=s.showButtons,u=s.showCloseButton,d=s.closeButtonAriaLabel,h=s.showNavigation,m=s.showNavigationNumber,g=s.showNumber,v=s.onRequestClose,_=s.maskSpace,x=s.lastStepNextButton,b=s.nextButton,w=s.prevButton,E=s.badgeContent,A=s.highlightedMaskClassName,T=s.disableInteraction,I=s.disableDotsNavigation,M=s.nextStep,R=s.prevStep,O=s.rounded,L=s.accentColor,X=s.CustomHelper,W=s.disableFocusLock,K=s.highlightedBorder,U=this.state,ee=U.isOpen,Q=U.current,D=U.inDOM,z=U.top,Z=U.right,he=U.bottom,G=U.left,te=U.width,re=U.height,q=U.w,$=U.h,me=U.helperWidth,ae=U.helperHeight,xe=U.helperPosition;return ee?_e.createElement(eve,null,_e.createElement(zge,null),_e.createElement(Qge,{step:a[Q],refresh:function(){return i.recalculateNode(a[Q])}}),_e.createElement(Zge,{step:a[Q],refresh:function(){return i.recalculateNode(a[Q])}}),_e.createElement(dW,{onClick:this.maskClickHandler,forwardRef:function(Me){return i.mask=Me},windowWidth:q,windowHeight:$,targetWidth:te,targetHeight:re,targetTop:z,targetLeft:G,padding:_,rounded:O,roundedStep:a[Q].roundedStep,className:l,disableInteraction:a[Q].stepInteraction===!1||T?!a[Q].stepInteraction:T,disableInteractionClassName:"".concat(vh.mask.disableInteraction," ").concat(A),highlightedBorder:K}),_e.createElement(Vme,{disabled:W,autoFocus:!1},_e.createElement($ge,{ref:this.helper,targetHeight:re,targetWidth:te,targetTop:z,targetRight:Z,targetBottom:he,targetLeft:G,windowWidth:q,windowHeight:$,helperWidth:me,helperHeight:ae,helperPosition:xe,padding:_,tabIndex:-1,current:Q,style:a[Q].style?a[Q].style:{},rounded:O,className:kz(vh.helper.base,o,Ks({},vh.helper.isOpen,ee)),accentColor:L,defaultStyles:!X,role:"dialog"},X?_e.createElement(X,{current:Q,totalSteps:a.length,gotoStep:this.gotoStep,close:v,content:a[Q]&&(typeof a[Q].content=="function"?a[Q].content({close:v,goTo:this.gotoStep,inDOM:D,step:Q+1}):a[Q].content)},this.props.children):_e.createElement(_e.Fragment,null,this.props.children,a[Q]&&(typeof a[Q].content=="function"?a[Q].content({close:v,goTo:this.gotoStep,inDOM:D,step:Q+1}):a[Q].content),g&&_e.createElement(Kge,{"data-tour-elem":"badge",accentColor:L},typeof E=="function"?E(Q+1,a.length):Q+1),(c||h)&&_e.createElement(Xge,{"data-tour-elem":"controls"},c&&_e.createElement(e4,{onClick:typeof R=="function"?R:this.prevStep,disabled:Q===0,label:w||null}),h&&_e.createElement(Jge,{"data-tour-elem":"navigation"},a.map(function(Ae,Me){return _e.createElement(Yge,{key:"".concat(Ae.selector?Ae.selector:"undef","_").concat(Me),onClick:function(){return i.gotoStep(Me)},current:Q,index:Me,accentColor:L,disabled:Q===Me||I,showNumber:m,"data-tour-elem":"dot",className:kz(vh.dot.base,Ks({},vh.dot.active,Q===Me)),"aria-label":Ae.navDotAriaLabel})})),c&&_e.createElement(e4,{onClick:Q===a.length-1?x?v:function(){}:typeof M=="function"?M:this.nextStep,disabled:!x&&Q===a.length-1,inverted:!0,label:x&&Q===a.length-1?x:b||null})),u&&_e.createElement(Hge,{onClick:v,className:"reactour__close",ariaLabel:d}))))):null}}]),t}(N.Component),TA=function(e,t,r){if(r){var i=Math.max(document.documentElement.clientWidth,window.innerWidth||0),s=Math.max(document.documentElement.clientHeight,window.innerHeight||0),o=nb(r),a=o.width,l=o.height,c={top:s+10,right:i/2+9,bottom:s/2+9,left:i/2-a/2,width:0,height:0,w:i,h:s,helperPosition:"center"};return e&&(c=uW(e,t)),function(){return _w(_w({w:i,h:s,helperWidth:a,helperHeight:l,helperPosition:t.position},c),{},{inDOM:!!e})}}};lk.propTypes=tve;lk.defaultProps=nve;const rve=[{selector:".chapters-btn",content:"This is the chapters. It provides navigation and additional information."}],ive=()=>{const[n,e]=N.useState(!1),[t,r]=N.useState(!1);return F("div",{className:"footer",children:[F("div",{children:[y("button",{className:"chapters-btn",onClick:()=>r(!0),children:"Chapters"}),y(mpe,{open:t,onClose:()=>r(!1)})]}),n&&y(lk,{steps:rve,isOpen:n,onRequestClose:()=>e(!1)})]})},sve="/assets/rotate-device-4b4314ef.svg",ove=()=>y("div",{className:"rotate-device-overlay",children:F("div",{className:"rotate-device-container",children:[y("img",{src:sve,className:"rotate-device-icon"}),y("p",{className:"rotate-device-text",children:"Rotate device for better experience"})]})});var ck={},ave=zo;Object.defineProperty(ck,"__esModule",{value:!0});var hW=ck.default=void 0,lve=ave(Ml()),cve=Tl,uve=(0,lve.default)((0,cve.jsx)("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"}),"MusicNote");hW=ck.default=uve;var uk={},dve=zo;Object.defineProperty(uk,"__esModule",{value:!0});var fW=uk.default=void 0,hve=dve(Ml()),fve=Tl,pve=(0,hve.default)((0,fve.jsx)("path",{d:"M4.27 3 3 4.27l9 9v.28c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4v-1.73L19.73 21 21 19.73 4.27 3zM14 7h4V3h-6v5.18l2 2z"}),"MusicOff");fW=uk.default=pve;const l4="/assets/Just-Relax_Lesfm-ad713bc1.mp3",mve="/assets/Chapter1-8ef2a5d3.mp3",gve="/assets/Chapter2-f6030f1d.mp3",vve="/assets/Chapter3-6ff35a94.mp3",yve="/assets/Chapter4-495b70c1.mp3",_ve="/assets/Chapter5-b60f80f8.mp3",xve=()=>{const{pathname:n}=yy(),[e,t]=N.useState(new Map),[r,i]=N.useState(!1),s=()=>{const o=e.get(n);r?(o.pause(),i(!1),sessionStorage.setItem("muteState","muted")):(o.play(),i(!0),sessionStorage.setItem("muteState","unmuted"))};return N.useEffect(()=>{let o=e.get(n);if(o)sessionStorage.getItem("muteState")==="unmuted"?(o.play(),i(!0)):(o.pause(),i(!1));else{let a;switch(n){case"/":a=l4;break;case"/chapters-directory/chapter-1":a=mve;break;case"/chapters-directory/chapter-2":case"/chapters-directory/chapter-2/pre-colonial":case"/chapters-directory/chapter-2/pre-colonial/2":case"/chapters-directory/chapter-2/spanish":case"/chapters-directory/chapter-2/american":case"/chapters-directory/chapter-2/philippines":a=gve;break;case"/chapters-directory/chapter-3":a=vve;break;case"/chapters-directory/chapter-4":a=yve;break;case"/chapters-directory/chapter-5":a=_ve;break;default:a=l4;break}o=new Audio(a),t(e.set(n,o)),sessionStorage.getItem("muteState")==="unmuted"?(o.play(),i(!0)):(o.pause(),i(!1))}return o.addEventListener("ended",()=>i(!1)),()=>{o.removeEventListener("ended",()=>i(!1)),o.pause()}},[n]),[r,s]},bve=()=>{N.useState(!1);const[n,e]=xve();return y("a",{className:"menu-element-ii",children:y("button",{className:"musicbitch",onClick:e,children:n?y(hW,{className:"material-icons music-on"}):y(fW,{className:"material-icons music-off"})})})};var dk={},wve=zo;Object.defineProperty(dk,"__esModule",{value:!0});var pW=dk.default=void 0,Sve=wve(Ml()),Eve=Tl,Cve=(0,Sve.default)((0,Eve.jsx)("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"}),"ImportContactsOutlined");pW=dk.default=Cve;const Ave=()=>(N.useState(!1),y("a",{className:"menu-element-i",children:y("label",{htmlFor:"ntbk-checkbox-toggle",className:"ntbk-btn",children:y(pW,{className:"material-icons ntbk-icon"})})}));function Mve(n){return(1+Math.sin(Math.PI*n-Math.PI/2))/2}function Tve(n,e,t,r={},i=()=>{}){const{ease:s=Mve,duration:o=300}=r;let a=null;const l=e[n];let c=!1;const u=()=>{c=!0},d=h=>{if(c){i(new Error("Animation cancelled"));return}a===null&&(a=h);const m=Math.min(1,(h-a)/o);if(e[n]=s(m)*(t-l)+l,m>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return l===t?(i(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const Pve=["onChange"],Rve={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Ive(n){const{onChange:e}=n,t=Xn(n,Pve),r=N.useRef(),i=N.useRef(null),s=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return N.useEffect(()=>{const o=zb(()=>{const l=r.current;s(),l!==r.current&&e(r.current)}),a=T2(i.current);return a.addEventListener("resize",o),()=>{o.clear(),a.removeEventListener("resize",o)}},[e]),N.useEffect(()=>{s(),e(r.current)},[e]),y("div",Ne({style:Rve,ref:i},t))}const Nve=V1(y("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),kve=V1(y("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Ove(n){return Jr("MuiTabScrollButton",n)}const Lve=Yr("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Dve=Lve;var c4,u4;const Bve=["className","direction","orientation","disabled"],Fve=n=>{const{classes:e,orientation:t,disabled:r}=n;return ui({root:["root",t,r&&"disabled"]},Ove,e)},zve=on(j1,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.orientation&&e[t.orientation]]}})(({ownerState:n})=>Ne({width:40,flexShrink:0,opacity:.8,[`&.${Dve.disabled}`]:{opacity:0}},n.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${n.isRtl?-90:90}deg)`}})),Uve=N.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiTabScrollButton"}),{className:i,direction:s}=r,o=Xn(r,Bve),l=Ey().direction==="rtl",c=Ne({isRtl:l},r),u=Fve(c);return y(zve,Ne({component:"div",className:Ft(u.root,i),ref:t,role:null,ownerState:c,tabIndex:null},o,{children:s==="left"?c4||(c4=y(Nve,{fontSize:"small"})):u4||(u4=y(kve,{fontSize:"small"}))}))}),Hve=Uve;function Gve(n){return Jr("MuiTabs",n)}const Vve=Yr("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),PA=Vve,Wve=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],d4=(n,e)=>n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n.firstChild,h4=(n,e)=>n===e?n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n.lastChild,D_=(n,e,t)=>{let r=!1,i=t(n,e);for(;i;){if(i===n.firstChild){if(r)return;r=!0}const s=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||s)i=t(n,i);else{i.focus();return}}},jve=n=>{const{vertical:e,fixed:t,hideScrollbar:r,scrollableX:i,scrollableY:s,centered:o,scrollButtonsHideMobile:a,classes:l}=n;return ui({root:["root",e&&"vertical"],scroller:["scroller",t&&"fixed",r&&"hideScrollbar",i&&"scrollableX",s&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},Gve,l)},$ve=on("div",{name:"MuiTabs",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${PA.scrollButtons}`]:e.scrollButtons},{[`& .${PA.scrollButtons}`]:t.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,t.vertical&&e.vertical]}})(({ownerState:n,theme:e})=>Ne({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},n.vertical&&{flexDirection:"column"},n.scrollButtonsHideMobile&&{[`& .${PA.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),Kve=on("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.scroller,t.fixed&&e.fixed,t.hideScrollbar&&e.hideScrollbar,t.scrollableX&&e.scrollableX,t.scrollableY&&e.scrollableY]}})(({ownerState:n})=>Ne({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},n.fixed&&{overflowX:"hidden",width:"100%"},n.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},n.scrollableX&&{overflowX:"auto",overflowY:"hidden"},n.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Xve=on("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.flexContainer,t.vertical&&e.flexContainerVertical,t.centered&&e.centered]}})(({ownerState:n})=>Ne({display:"flex"},n.vertical&&{flexDirection:"column"},n.centered&&{justifyContent:"center"})),Jve=on("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(n,e)=>e.indicator})(({ownerState:n,theme:e})=>Ne({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},n.indicatorColor==="primary"&&{backgroundColor:(e.vars||e).palette.primary.main},n.indicatorColor==="secondary"&&{backgroundColor:(e.vars||e).palette.secondary.main},n.vertical&&{height:"100%",width:2,right:0})),Yve=on(Ive,{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),f4={},qve=N.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiTabs"}),i=Ey(),s=i.direction==="rtl",{"aria-label":o,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:d,component:h="div",allowScrollButtonsMobile:m=!1,indicatorColor:g="primary",onChange:v,orientation:_="horizontal",ScrollButtonComponent:x=Hve,scrollButtons:b="auto",selectionFollowsFocus:w,TabIndicatorProps:E={},TabScrollButtonProps:A={},textColor:T="primary",value:I,variant:M="standard",visibleScrollbar:R=!1}=r,O=Xn(r,Wve),L=M==="scrollable",X=_==="vertical",W=X?"scrollTop":"scrollLeft",K=X?"top":"left",U=X?"bottom":"right",ee=X?"clientHeight":"clientWidth",Q=X?"height":"width",D=Ne({},r,{component:h,allowScrollButtonsMobile:m,indicatorColor:g,orientation:_,vertical:X,scrollButtons:b,textColor:T,variant:M,visibleScrollbar:R,fixed:!L,hideScrollbar:L&&!R,scrollableX:L&&!X,scrollableY:L&&X,centered:c&&!L,scrollButtonsHideMobile:!m}),z=jve(D),[Z,he]=N.useState(!1),[G,te]=N.useState(f4),[re,q]=N.useState({start:!1,end:!1}),[$,me]=N.useState({overflow:"hidden",scrollbarWidth:0}),ae=new Map,xe=N.useRef(null),Ae=N.useRef(null),Me=()=>{const we=xe.current;let ue;if(we){const Fe=we.getBoundingClientRect();ue={clientWidth:we.clientWidth,scrollLeft:we.scrollLeft,scrollTop:we.scrollTop,scrollLeftNormalized:ZB(we,i.direction),scrollWidth:we.scrollWidth,top:Fe.top,bottom:Fe.bottom,left:Fe.left,right:Fe.right}}let fe;if(we&&I!==!1){const Fe=Ae.current.children;if(Fe.length>0){const Y=Fe[ae.get(I)];fe=Y?Y.getBoundingClientRect():null}}return{tabsMeta:ue,tabMeta:fe}},ce=il(()=>{const{tabsMeta:we,tabMeta:ue}=Me();let fe=0,Fe;if(X)Fe="top",ue&&we&&(fe=ue.top-we.top+we.scrollTop);else if(Fe=s?"right":"left",ue&&we){const ye=s?we.scrollLeftNormalized+we.clientWidth-we.scrollWidth:we.scrollLeft;fe=(s?-1:1)*(ue[Fe]-we[Fe]+ye)}const Y={[Fe]:fe,[Q]:ue?ue[Q]:0};if(isNaN(G[Fe])||isNaN(G[Q]))te(Y);else{const ye=Math.abs(G[Fe]-Y[Fe]),ke=Math.abs(G[Q]-Y[Q]);(ye>=1||ke>=1)&&te(Y)}}),ve=(we,{animation:ue=!0}={})=>{ue?Tve(W,xe.current,we,{duration:i.transitions.duration.standard}):xe.current[W]=we},Ie=we=>{let ue=xe.current[W];X?ue+=we:(ue+=we*(s?-1:1),ue*=s&&CV()==="reverse"?-1:1),ve(ue)},Le=()=>{const we=xe.current[ee];let ue=0;const fe=Array.from(Ae.current.children);for(let Fe=0;Fe<fe.length;Fe+=1){const Y=fe[Fe];if(ue+Y[ee]>we){Fe===0&&(ue=we);break}ue+=Y[ee]}return ue},De=()=>{Ie(-1*Le())},ze=()=>{Ie(Le())},We=N.useCallback(we=>{me({overflow:null,scrollbarWidth:we})},[]),et=()=>{const we={};we.scrollbarSizeListener=L?y(Yve,{onChange:We,className:Ft(z.scrollableX,z.hideScrollbar)}):null;const ue=re.start||re.end,fe=L&&(b==="auto"&&ue||b===!0);return we.scrollButtonStart=fe?y(x,Ne({orientation:_,direction:s?"right":"left",onClick:De,disabled:!re.start},A,{className:Ft(z.scrollButtons,A.className)})):null,we.scrollButtonEnd=fe?y(x,Ne({orientation:_,direction:s?"left":"right",onClick:ze,disabled:!re.end},A,{className:Ft(z.scrollButtons,A.className)})):null,we},qe=il(we=>{const{tabsMeta:ue,tabMeta:fe}=Me();if(!(!fe||!ue)){if(fe[K]<ue[K]){const Fe=ue[W]+(fe[K]-ue[K]);ve(Fe,{animation:we})}else if(fe[U]>ue[U]){const Fe=ue[W]+(fe[U]-ue[U]);ve(Fe,{animation:we})}}}),it=il(()=>{if(L&&b!==!1){const{scrollTop:we,scrollHeight:ue,clientHeight:fe,scrollWidth:Fe,clientWidth:Y}=xe.current;let ye,ke;if(X)ye=we>1,ke=we<ue-fe-1;else{const Ue=ZB(xe.current,i.direction);ye=s?Ue<Fe-Y-1:Ue>1,ke=s?Ue>1:Ue<Fe-Y-1}(ye!==re.start||ke!==re.end)&&q({start:ye,end:ke})}});N.useEffect(()=>{const we=zb(()=>{xe.current&&(ce(),it())}),ue=T2(xe.current);ue.addEventListener("resize",we);let fe;return typeof ResizeObserver<"u"&&(fe=new ResizeObserver(we),Array.from(Ae.current.children).forEach(Fe=>{fe.observe(Fe)})),()=>{we.clear(),ue.removeEventListener("resize",we),fe&&fe.disconnect()}},[ce,it]);const j=N.useMemo(()=>zb(()=>{it()}),[it]);N.useEffect(()=>()=>{j.clear()},[j]),N.useEffect(()=>{he(!0)},[]),N.useEffect(()=>{ce(),it()}),N.useEffect(()=>{qe(f4!==G)},[qe,G]),N.useImperativeHandle(l,()=>({updateIndicator:ce,updateScrollButtons:it}),[ce,it]);const B=y(Jve,Ne({},E,{className:Ft(z.indicator,E.className),ownerState:D,style:Ne({},G,E.style)}));let ne=0;const Se=N.Children.map(u,we=>{if(!N.isValidElement(we))return null;const ue=we.props.value===void 0?ne:we.props.value;ae.set(ue,ne);const fe=ue===I;return ne+=1,N.cloneElement(we,Ne({fullWidth:M==="fullWidth",indicator:fe&&!Z&&B,selected:fe,selectionFollowsFocus:w,onChange:v,textColor:T,value:ue},ne===1&&I===!1&&!we.props.tabIndex?{tabIndex:0}:{}))}),Be=we=>{const ue=Ae.current,fe=yv(ue).activeElement;if(fe.getAttribute("role")!=="tab")return;let Y=_==="horizontal"?"ArrowLeft":"ArrowUp",ye=_==="horizontal"?"ArrowRight":"ArrowDown";switch(_==="horizontal"&&s&&(Y="ArrowRight",ye="ArrowLeft"),we.key){case Y:we.preventDefault(),D_(ue,fe,h4);break;case ye:we.preventDefault(),D_(ue,fe,d4);break;case"Home":we.preventDefault(),D_(ue,null,d4);break;case"End":we.preventDefault(),D_(ue,null,h4);break}},He=et();return F($ve,Ne({className:Ft(z.root,d),ownerState:D,ref:t,as:h},O,{children:[He.scrollButtonStart,He.scrollbarSizeListener,F(Kve,{className:z.scroller,ownerState:D,style:{overflow:$.overflow,[X?`margin${s?"Left":"Right"}`:"marginBottom"]:R?void 0:-$.scrollbarWidth},ref:xe,onScroll:j,children:[y(Xve,{"aria-label":o,"aria-labelledby":a,"aria-orientation":_==="vertical"?"vertical":null,className:z.flexContainer,ownerState:D,onKeyDown:Be,ref:Ae,role:"tablist",children:Se}),Z&&B]}),He.scrollButtonEnd]}))}),Qve=qve;function Zve(n){return Jr("MuiTab",n)}const eye=Yr("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),xu=eye,tye=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],nye=n=>{const{classes:e,textColor:t,fullWidth:r,wrapped:i,icon:s,label:o,selected:a,disabled:l}=n,c={root:["root",s&&o&&"labelIcon",`textColor${pr(t)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return ui(c,Zve,e)},rye=on(j1,{name:"MuiTab",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.label&&t.icon&&e.labelIcon,e[`textColor${pr(t.textColor)}`],t.fullWidth&&e.fullWidth,t.wrapped&&e.wrapped]}})(({theme:n,ownerState:e})=>Ne({},n.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${xu.iconWrapper}`]:Ne({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:n.spacing(1)},e.iconPosition==="end"&&{marginLeft:n.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${xu.selected}`]:{opacity:1},[`&.${xu.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity}},e.textColor==="primary"&&{color:(n.vars||n).palette.text.secondary,[`&.${xu.selected}`]:{color:(n.vars||n).palette.primary.main},[`&.${xu.disabled}`]:{color:(n.vars||n).palette.text.disabled}},e.textColor==="secondary"&&{color:(n.vars||n).palette.text.secondary,[`&.${xu.selected}`]:{color:(n.vars||n).palette.secondary.main},[`&.${xu.disabled}`]:{color:(n.vars||n).palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:n.typography.pxToRem(12)})),iye=N.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiTab"}),{className:i,disabled:s=!1,disableFocusRipple:o=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:h,onClick:m,onFocus:g,selected:v,selectionFollowsFocus:_,textColor:x="inherit",value:b,wrapped:w=!1}=r,E=Xn(r,tye),A=Ne({},r,{disabled:s,disableFocusRipple:o,selected:v,icon:!!l,iconPosition:c,label:!!d,fullWidth:a,textColor:x,wrapped:w}),T=nye(A),I=l&&d&&N.isValidElement(l)?N.cloneElement(l,{className:Ft(T.iconWrapper,l.props.className)}):l,M=O=>{!v&&h&&h(O,b),m&&m(O)},R=O=>{_&&!v&&h&&h(O,b),g&&g(O)};return F(rye,Ne({focusRipple:!o,className:Ft(T.root,i),ref:t,role:"tab","aria-selected":v,disabled:s,onClick:M,onFocus:R,ownerState:A,tabIndex:v?0:-1},E,{children:[c==="top"||c==="start"?F(N.Fragment,{children:[I,d]}):F(N.Fragment,{children:[d,I]}),u]}))}),Lm=iye;function sye(n){return Jr("MuiTypography",n)}Yr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const oye=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],aye=n=>{const{align:e,gutterBottom:t,noWrap:r,paragraph:i,variant:s,classes:o}=n,a={root:["root",s,n.align!=="inherit"&&`align${pr(e)}`,t&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return ui(a,sye,o)},lye=on("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${pr(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(({theme:n,ownerState:e})=>Ne({margin:0},e.variant&&n.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),p4={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},cye={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},uye=n=>cye[n]||n,dye=N.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiTypography"}),i=uye(r.color),s=n6(Ne({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:m=p4}=s,g=Xn(s,oye),v=Ne({},s,{align:o,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:h,variantMapping:m}),_=l||(d?"p":m[h]||p4[h])||"span",x=aye(v);return y(lye,Ne({as:_,ref:t,ownerState:v,className:Ft(x.root,a)},g))}),Je=dye,hye=o6(),fye=Ene({defaultTheme:hye,defaultClassName:"MuiBox-root",generateClassName:I2.generate}),pye=fye,mye=n=>n.scrollTop;function bw(n,e){var t,r;const{timeout:i,easing:s,style:o={}}=n;return{duration:(t=o.transitionDuration)!=null?t:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function gye(n){return Jr("MuiCollapse",n)}Yr("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const vye=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],yye=n=>{const{orientation:e,classes:t}=n,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return ui(r,gye,t)},_ye=on("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.orientation],t.state==="entered"&&e.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&e.hidden]}})(({theme:n,ownerState:e})=>Ne({height:0,overflow:"hidden",transition:n.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:n.transitions.create("width")},e.state==="entered"&&Ne({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),xye=on("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(n,e)=>e.wrapper})(({ownerState:n})=>Ne({display:"flex",width:"100%"},n.orientation==="horizontal"&&{width:"auto",height:"100%"})),bye=on("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(n,e)=>e.wrapperInner})(({ownerState:n})=>Ne({width:"100%"},n.orientation==="horizontal"&&{width:"auto",height:"100%"})),mW=N.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiCollapse"}),{addEndListener:i,children:s,className:o,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:h,onEntering:m,onExit:g,onExited:v,onExiting:_,orientation:x="vertical",style:b,timeout:w=s6.standard,TransitionComponent:E=h6}=r,A=Xn(r,vye),T=Ne({},r,{orientation:x,collapsedSize:a}),I=yye(T),M=Ey(),R=N.useRef(),O=N.useRef(null),L=N.useRef(),X=typeof a=="number"?`${a}px`:a,W=x==="horizontal",K=W?"width":"height";N.useEffect(()=>()=>{clearTimeout(R.current)},[]);const U=N.useRef(null),ee=Aa(t,U),Q=$=>me=>{if($){const ae=U.current;me===void 0?$(ae):$(ae,me)}},D=()=>O.current?O.current[W?"clientWidth":"clientHeight"]:0,z=Q(($,me)=>{O.current&&W&&(O.current.style.position="absolute"),$.style[K]=X,d&&d($,me)}),Z=Q(($,me)=>{const ae=D();O.current&&W&&(O.current.style.position="");const{duration:xe,easing:Ae}=bw({style:b,timeout:w,easing:c},{mode:"enter"});if(w==="auto"){const Me=M.transitions.getAutoHeightDuration(ae);$.style.transitionDuration=`${Me}ms`,L.current=Me}else $.style.transitionDuration=typeof xe=="string"?xe:`${xe}ms`;$.style[K]=`${ae}px`,$.style.transitionTimingFunction=Ae,m&&m($,me)}),he=Q(($,me)=>{$.style[K]="auto",h&&h($,me)}),G=Q($=>{$.style[K]=`${D()}px`,g&&g($)}),te=Q(v),re=Q($=>{const me=D(),{duration:ae,easing:xe}=bw({style:b,timeout:w,easing:c},{mode:"exit"});if(w==="auto"){const Ae=M.transitions.getAutoHeightDuration(me);$.style.transitionDuration=`${Ae}ms`,L.current=Ae}else $.style.transitionDuration=typeof ae=="string"?ae:`${ae}ms`;$.style[K]=X,$.style.transitionTimingFunction=xe,_&&_($)});return y(E,Ne({in:u,onEnter:z,onEntered:he,onEntering:Z,onExit:G,onExited:te,onExiting:re,addEndListener:$=>{w==="auto"&&(R.current=setTimeout($,L.current||0)),i&&i(U.current,$)},nodeRef:U,timeout:w==="auto"?null:w},A,{children:($,me)=>y(_ye,Ne({as:l,className:Ft(I.root,o,{entered:I.entered,exited:!u&&X==="0px"&&I.hidden}[$]),style:Ne({[W?"minWidth":"minHeight"]:X},b),ownerState:Ne({},T,{state:$}),ref:ee},me,{children:y(xye,{ownerState:Ne({},T,{state:$}),className:I.wrapper,ref:O,children:y(bye,{ownerState:Ne({},T,{state:$}),className:I.wrapperInner,children:s})})}))}))});mW.muiSupportAuto=!0;const wye=mW,Sye=N.createContext({}),gW=Sye;function Eye(n){return Jr("MuiAccordion",n)}const Cye=Yr("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),B_=Cye,Aye=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],Mye=n=>{const{classes:e,square:t,expanded:r,disabled:i,disableGutters:s}=n;return ui({root:["root",!t&&"rounded",r&&"expanded",i&&"disabled",!s&&"gutters"],region:["region"]},Eye,e)},Tye=on(c6,{name:"MuiAccordion",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${B_.region}`]:e.region},e.root,!t.square&&e.rounded,!t.disableGutters&&e.gutters]}})(({theme:n})=>{const e={duration:n.transitions.duration.shortest};return{position:"relative",transition:n.transitions.create(["margin"],e),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(n.vars||n).palette.divider,transition:n.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${B_.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${B_.disabled}`]:{backgroundColor:(n.vars||n).palette.action.disabledBackground}}},({theme:n,ownerState:e})=>Ne({},!e.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(n.vars||n).shape.borderRadius,borderBottomRightRadius:(n.vars||n).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!e.disableGutters&&{[`&.${B_.expanded}`]:{margin:"16px 0"}})),Pye=N.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiAccordion"}),{children:i,className:s,defaultExpanded:o=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,TransitionComponent:h=wye,TransitionProps:m}=r,g=Xn(r,Aye),[v,_]=P2({controlled:c,default:o,name:"Accordion",state:"expanded"}),x=N.useCallback(I=>{_(!v),u&&u(I,!v)},[v,u,_]),[b,...w]=N.Children.toArray(i),E=N.useMemo(()=>({expanded:v,disabled:a,disableGutters:l,toggle:x}),[v,a,l,x]),A=Ne({},r,{square:d,disabled:a,disableGutters:l,expanded:v}),T=Mye(A);return F(Tye,Ne({className:Ft(T.root,s),ref:t,ownerState:A,square:d},g,{children:[y(gW.Provider,{value:E,children:b}),y(h,Ne({in:v,timeout:"auto"},m,{children:y("div",{"aria-labelledby":b.props.id,id:b.props["aria-controls"],role:"region",className:T.region,children:w})}))]}))}),jt=Pye;function Rye(n){return Jr("MuiAccordionSummary",n)}const Iye=Yr("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),af=Iye,Nye=["children","className","expandIcon","focusVisibleClassName","onClick"],kye=n=>{const{classes:e,expanded:t,disabled:r,disableGutters:i}=n;return ui({root:["root",t&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",t&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",t&&"expanded"]},Rye,e)},Oye=on(j1,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n,ownerState:e})=>{const t={duration:n.transitions.duration.shortest};return Ne({display:"flex",minHeight:48,padding:n.spacing(0,2),transition:n.transitions.create(["min-height","background-color"],t),[`&.${af.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${af.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`&:hover:not(.${af.disabled})`]:{cursor:"pointer"}},!e.disableGutters&&{[`&.${af.expanded}`]:{minHeight:64}})}),Lye=on("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(n,e)=>e.content})(({theme:n,ownerState:e})=>Ne({display:"flex",flexGrow:1,margin:"12px 0"},!e.disableGutters&&{transition:n.transitions.create(["margin"],{duration:n.transitions.duration.shortest}),[`&.${af.expanded}`]:{margin:"20px 0"}})),Dye=on("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(n,e)=>e.expandIconWrapper})(({theme:n})=>({display:"flex",color:(n.vars||n).palette.action.active,transform:"rotate(0deg)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),[`&.${af.expanded}`]:{transform:"rotate(180deg)"}})),Bye=N.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiAccordionSummary"}),{children:i,className:s,expandIcon:o,focusVisibleClassName:a,onClick:l}=r,c=Xn(r,Nye),{disabled:u=!1,disableGutters:d,expanded:h,toggle:m}=N.useContext(gW),g=x=>{m&&m(x),l&&l(x)},v=Ne({},r,{expanded:h,disabled:u,disableGutters:d}),_=kye(v);return F(Oye,Ne({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":h,className:Ft(_.root,s),focusVisibleClassName:Ft(_.focusVisible,a),onClick:g,ref:t,ownerState:v},c,{children:[y(Lye,{className:_.content,ownerState:v,children:i}),o&&y(Dye,{className:_.expandIconWrapper,ownerState:v,children:o})]}))}),$t=Bye;function Fye(n){return Jr("MuiAccordionDetails",n)}Yr("MuiAccordionDetails",["root"]);const zye=["className"],Uye=n=>{const{classes:e}=n;return ui({root:["root"]},Fye,e)},Hye=on("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n})=>({padding:n.spacing(1,2,2)})),Gye=N.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiAccordionDetails"}),{className:i}=r,s=Xn(r,zye),o=r,a=Uye(o);return y(Hye,Ne({className:Ft(a.root,i),ref:t,ownerState:o},s))}),Kt=Gye;var hk={},Vye=zo;Object.defineProperty(hk,"__esModule",{value:!0});var Gt=hk.default=void 0,Wye=Vye(Ml()),jye=Tl,$ye=(0,Wye.default)((0,jye.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");Gt=hk.default=$ye;const Xt={boxShadow:"none",background:"none",borderBottom:1,borderColor:"#d4d2d2"},Jt={ariaControls:"panel1a-content",id:"panel1a-header",alignText:"left",padding:0,minWidth:0,minHeight:0},Yt={alignText:"left",paddingLeft:0,paddingTop:0},Kye={margin:0,marginLeft:"2.5vh",border:"none",minWidth:0,minHeight:0},Dm={color:"#b9b9b9",padding:"1vw",paddingLeft:"2vw",paddingRight:"2vw",fontSize:"0.8rem","&.Mui-selected":{color:"#FDDE00"},indicator:{backgroundColor:"white"},minWidth:"1vh",minHeight:"5vh"},ln={alignText:"left",paddingLeft:0};function Fh(n){const{children:e,value:t,index:r,...i}=n;return y("div",{role:"tabpanel",hidden:t!==r,id:`simple-tabpanel-${r}`,"aria-labelledby":`simple-tab-${r}`,...i,children:t===r&&y(pye,{sx:{p:"6vh"},children:y(Je,{children:e})})})}Fh.propTypes={children:Rg.node,index:Rg.number.isRequired,value:Rg.number.isRequired};function Bm(n){return{id:`simple-tab-${n}`,"aria-controls":`simple-tabpanel-${n}`}}function Xye(){const[n,e]=N.useState(0);return F("div",{className:"ntbk-container",children:[F("div",{className:"ntbk-header",children:[y("div",{className:"ntbk-topic",children:"Chapter Guide"}),F(Qve,{value:n,sx:Kye,onChange:(r,i)=>{e(i)},"aria-label":"basic tabs example",className:"ntbk-tabs",TabIndicatorProps:{hidden:"true"},children:[y(Lm,{label:"Ch. 1",sx:Dm,...Bm(0),containerElement:y(Hi,{to:"/notebook/chapter-one"})}),y(Lm,{label:"Ch. 2",sx:Dm,...Bm(1),containerElement:y(Hi,{to:"/notebook/chapter-two"})}),y(Lm,{label:"Ch. 3",sx:Dm,...Bm(2),containerElement:y(Hi,{to:"/notebook/chapter-three"})}),y(Lm,{label:"Ch. 4",sx:Dm,...Bm(3),containerElement:y(Hi,{to:"/notebook/chapter-four"})}),y(Lm,{label:"Ch. 5",sx:Dm,...Bm(4),containerElement:y(Hi,{to:"/notebook/chapter-five"})})]})]}),F(Fh,{value:n,index:0,className:"ntbk-tabpanel",children:[y("div",{className:"ntbk-title",children:y("h3",{children:"The Peasantry"})}),F("p",{children:["Peasants are small farmers from rural areas who have little to no land and who are oppressed-exploited by landlords. ",y("br",{}),y("br",{}),"These farmers are considered peasants because they are tied to a feudal or landlord- and-peasant relationship. To illustrate, landlords—together with big corporations–continue to rob the peasants with high land rents, low wages, and high interest rates. As a result, the peasants continue to get poorer, while the landlords continue to get richer. Granted that they are not under any of these harsh socioeconomic conditions, they are not peasants, but just farmers. ",y("br",{}),y("br",{}),"It is important for us to know that peasants are the main force of the national economy. Many of them are engaged in various activities, not only exclusive to farming. These can be fishing, handicraft work, pastoralism and livestock raising, forestry, hunting and gathering, carpentry, among many others. ",y("br",{}),y("br",{}),"Moreover, not all peasants are the same. They can be categorized into three strata: namely, rich, middle, and poor peasants. Of course, even though they can be considered as “rich,” they are still peasants after all and the majority of them are oppressed and exploited by landlords until now. ",y("br",{}),y("br",{}),"Do you know, being peasants can also extend to indigenous people and settlers who work on the land?"]})]}),F(Fh,{value:n,index:1,className:"ntbk-tabpanel",children:[y("div",{className:"ntbk-title",children:y("h3",{children:"History"})}),F("div",{children:[F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subtitle",children:"Pre-colonial Period"})})}),y(Kt,{sx:Yt,children:y(Je,{children:F("p",{children:["Before we were colonized by the Spaniards, although the social systems were not perfect, not free from peasant oppression and slavery — land, at least in many parts of Luzon, was shared by everyone and was tilled for the whole community. ",y("br",{}),y("br",{}),"One well-known development is that there was already a prosperous irrigation system for their fields at that time. The famous rice terraces are worth mentioning, a product of the engineering genius of the early Ifugaos. ",y("br",{}),y("br",{}),"More so, pre-colonial Philippines had a great deal of achievements: livestock-raising, fishing, brewing, mining, lumbering, weapons and cannons, gunpowder, weaving, shipbuilding, and ornaments.",y("br",{}),y("br",{})]})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{children:y("p",{className:"ntbk-subtitle",children:"Spanish Colonial Period"})})}),y(Kt,{sx:Yt,children:y(Je,{children:F("p",{children:["The land problem and peasant oppression intensified when the Spanish Empire in the 1500s colonized the Philippines. These were made possible through the following below. ",y("br",{}),y("br",{}),y("p",{className:"ntbk-subsubtitle",children:"The Regalian Doctrine"}),"Through the regalian doctrine the conquistadors introduced, all our lands were to be completely owned by the “crown” or the King of Spain.",y("br",{}),y("br",{}),y("p",{className:"ntbk-subsubtitle",children:"Encomienda System"}),"This was a system where the Spanish colonial officials and religious orders were granted wide areas of lands as an award for their services in the conquest of the Filipinos. They were granted the right to force Filipino peasants to farm the stolen lands to produce the needs of the crown and its other colonies.",y("br",{}),y("br",{}),y("p",{className:"ntbk-subsubtitle",children:"Hacienda System"}),"After some time, the encomienda system evolved into the hacienda system. Compared to the former, this system was geared to produce superprofits by expanding the possessed lands into plantations or “haciendas.” Here, crops and raw materials are produced for export, consumption, and demand of Spanish and other European countries.",y("br",{}),y("br",{}),y("p",{className:"ntbk-subsubtitle",children:"Compulsory Taxation"}),"Throughout, taxes were compulsory and had to be collected (50% of crops produced). Peasants were forced to clear forested areas for farming and infrastructures for the new government.",y("br",{}),y("br",{})]})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{children:y("p",{className:"ntbk-subtitle",children:"American Colonial Period"})})}),y(Kt,{sx:Yt,children:F(Je,{children:[y("p",{children:"After replacing the former rulers, the United States continued the hacienda system and the status of the Philippines as a colony, and developed it to its full potential. U.S. imperialism committed genocide and large-scale grave human rights abuses against Filipinos."}),y("br",{}),F("ol",{children:[y("li",{children:"They encouraged the development of the hacienda system, resulting in extracting more export crops and natural resources — all sold at low prices through cheap labor and the expansion of their base in the country."}),y("li",{children:"They implemented deceptive land laws that only reinforced the land monopoly, land-grabbings, and landlessness."}),y("li",{children:"To spread their influence, imports of American commodities were advertised and sold in the motherland. They  also sought the Philippines as a market for their surplus goods, which crushed local handicrafts and manufacturers, resorting the Filipinos to buy these overpriced finished goods instead of manufacturing them – leaving them to become dependent on importing expensive goods and exporting cheap ones."}),y("li",{children:"During the 1950s, foreign machinery and agricultural inputs were sold at excessive prices. This played a major role in the widespread poverty, hunger, and inequality across the Philippines and other colonies. They accumulated so much debt that they have still been taking out loans from international financing institutions such as the International Monetary Fund and World Bank. In exchange for the loans, they have been mandated to buy overpriced genetically modified seeds and agro-chemicals that kill local indigenous crop varieties and sustainable agricultural practices."})]})]})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{children:y("p",{className:"ntbk-subtitle",children:"Present Republic"})})}),y(Kt,{sx:Yt,children:F(Je,{children:[y("p",{children:"The regimes that followed the declaration of the Philippines’ fake independence from the US were not entirely different from their colonial masters. They heeded the demands of the peasant communities through counterinsurgency campaigns and anti-peasant programs."}),F("div",{children:[F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subsubtitle",children:"1. Pres. Manuel Roxas"})})}),y(Kt,{sx:Yt,children:y(Je,{children:F("ul",{children:[y("li",{children:"Maintained US ownership and utilization of the country’s lands, natural resources, and public utilities through agreements with the United States 	(e.g., U.S.-R.P. Treaty of General Relations, Property Act, and Bell Trade Act)."}),y("li",{children:"Attacked peasant communities who were begging for land reform through military forces 	(e.g., Maliwalu massacre and Masico massacre)."}),y("li",{children:"Charged peasants for all the unpaid land rent during the recent Philippine-Japanese war."})]})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subsubtitle",children:"2. Pres. Ramon Magsaysay"})})}),y(Kt,{sx:Yt,children:y(Je,{children:y("ul",{children:y("li",{children:"The agrarian program that aimed for land distribution was barely enforced (i.e., 1955 Agrarian Reform Law)."})})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subsubtitle",children:"3. Pres. Diosdado Macapagal"})})}),y(Kt,{sx:Yt,children:y(Je,{children:F("ul",{children:[y("li",{children:"The agrarian program that aimed for limiting land ownership of landlords was barely enforced."}),y("li",{children:"Raised land rent, caused the decline of prices of farmers’ agricultural goods, and expanded plantations for export crops. (Points 1 and 2 through the 1963 Agrarian Reform Code.)"})]})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subsubtitle",children:"4. Pres. Ferdinand Marcos"})})}),y(Kt,{sx:Yt,children:y(Je,{children:F("ul",{children:[y("li",{children:"Subjected rice and corn farms to land distribution yet exempted haciendas and plantations devoted to export crops like sugar, copra, bananas, tobacco, pineapples, etc. More than half of farmers were deprived to own lands. (Through the Presidential Decree 2 and 27.) "}),y("li",{children:"Expanded the lands of foreign corporate farms and plantations. Farms owned by peasants were then stolen by these big businesses, instead of acquiring idle, abandoned, or unexploited lands. In turn, this raised rural poverty and landlessness. (Through the Green Revolution/Masagana 99.)"}),y("li",{children:"Required farmers to use expensive imported seeds, chemical soil fertilizers, and pesticides. This, as well as the adding ever-increasing prices of farm inputs, buried the farmers in debt and pushed them into poverty. (Through the Green Revolution/Masagana 99.)"})]})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subsubtitle",children:"5. Pres. Corazon Aquino"})})}),y(Kt,{sx:Yt,children:y(Je,{children:y("ul",{children:y("li",{children:"Peasants are obliged to pay for land rent at a high cost."})})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subsubtitle",children:"6. Pres. Fidel Ramos"})})}),y(Kt,{sx:Yt,children:y(Je,{children:F("ul",{children:[y("li",{children:"Privatized and commercialized peasant-owned lands, expanding business interests and worsening peasant landlessness. (Through the Philippines 2000 program.)"}),y("li",{children:"Further encouraged export-oriented production of cheap goods and importation of expensive ones. (Through joining the World Trade Organization.) "}),y("li",{children:"Declared a war on the peasant Moros in the countryside."})]})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subsubtitle",children:"7. Pres. Joseph Estrada"})})}),y(Kt,{sx:Yt,children:y(Je,{children:F("ul",{children:[y("li",{children:"Did not have any programs for peasants at all."}),y("li",{children:"Declared an “All Out War” on Moros in the countryside."})]})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subsubtitle",children:"8. Pres. Gloria Arroyo"})})}),y(Kt,{sx:Yt,children:y(Je,{children:F("ul",{children:[y("li",{children:"The national income for agriculture further declined because of excessive importation. Because of this, millions of farmers lost their livelihoods, were forced to sell or mortgage their very little lands, and were forced to look for other jobs in cities because. Worse, the products that were being imported were products that could be produced in the Philippines – rice, vegetables, sugar, and fish."}),y("li",{children:"Militarization and bombings in the countryside (i.e., Bangsa Moro, Liguasan Marsh, Capiz)."}),y("li",{children:"EJKs of members, leaders, sympathizers of the peasantry; even priests, journalists, lawyers, doctors, students, etc. (Through Oplan Bantay Laya.)"})]})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subsubtitle",children:"9. Pres. Benigno Aquino III"})})}),y(Kt,{sx:Yt,children:y(Je,{children:F("ul",{children:[y("li",{children:"The new agrarian reform that was passed only worsened rural poverty and landlessness (i.e., CARPER)."}),y("li",{children:"Worsened imperialist exploitation of the country’s natural resources (Through PPP)."}),y("li",{children:"Reinforced counter-insurgency campaigns that mainly affected those in the countryside. (Through Oplan Bayanihan.)"}),y("li",{children:"Thousands of farmers who were asking for agricultural support were shot by state forces (Kidapawan massacre)."})]})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subsubtitle",children:"10. Pres. Rodrigo Duterte"})})}),y(Kt,{sx:Yt,children:y(Je,{children:F("ul",{children:[y("li",{children:"Overprioritzation of infrastructure projects that lead to trillions of debts and failure of distribution of government funds. (Through Build! Build! Build!)"}),y("li",{children:"Increased taxes of basic commodities, burdening the masses even more, especially the poorest. These are also used to pay off the country’s high amounts of debts. (Through Train Law of 2018.)"}),y("li",{children:"Worsened peasant-farmer livelihoods by prioritizing rice importation through removing rice import quotas. (Through Rice Liberalization Law.)"}),y("li",{children:"Created a national task force that only put peasant lives in danger, as they are popular targets of violence and black propaganda among state forces. (Through Executive Order No. 70 (NTF-ELCAC) and “whole-of-nation” approach)"})]})})})]})]})]})})]})]})]}),F(Fh,{value:n,index:2,className:"ntbk-tabpanel",children:[y("div",{className:"ntbk-title",children:y("h3",{children:"Plight"})}),F("div",{children:[F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subtitle",children:"1. Landlessness"})})}),y(Kt,{sx:Yt,children:y(Je,{children:y("p",{children:"At least 7 out of 10 farmers are landless and do not own the land they till. For a farmer, losing their land is like losing their basic right to existence."})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subtitle",children:"2. Land-grabbing, land use conversion, and corporate plantation"})})}),y(Kt,{sx:Yt,children:F(Je,{children:[y("p",{children:"Today, peasants are still forced to give up their lands because of the conversion of agricultural lands to commercial use. Many are evicted from their lands through military means and anti-peasant laws and policies."}),y("p",{children:"In many cases, there are peasants who are the owners of their lands as declared on paper, yet the agribusinesses are always the ones who control and benefit from them. Peasants cannot also grow their own crops on abandoned commercial lands they used to work on, do not have the autonomy to choose which types of crops and agricultural inputs to use, and are forced to buy and use expensive environment- and health-damaging foreign imports of agricultural inputs."})]})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subtitle",children:"3. Food insecurity"})})}),y(Kt,{sx:Yt,children:F(Je,{children:[y("p",{children:"The ever-expansion of land monopoly among big landlords and agribusinesses are a threat to the food security of Filipinos, especially the peasants. Export crops have taken over and far exceeded the rice and corn farms, which the peasants mainly depend on for food and sustenance. "}),y("p",{children:"The influx of imported expensive agricultural products, too, have taken a toll on their livelihoods and food as they end up earning next to nothing."})]})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subtitle",children:"4. Low wages"})})}),y(Kt,{sx:Yt,children:y(Je,{children:y("p",{children:"Peasant workers are paid below their required basic income and are forced to sell their agricultural products at a very low price. The national minimum wage is also not adequate enough for them to achieve financial security."})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subtitle",children:"5. High land rent"})})}),y(Kt,{sx:Yt,children:y(Je,{children:y("p",{children:"Peasants are obliged to pay for land rent at a high cost."})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subtitle",children:"6. High loan and tax interest rates"})})}),y(Kt,{sx:Yt,children:y(Je,{children:y("p",{children:"Extreme poverty compels peasants to take out loans with high interest rates."})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subtitle",children:"7. Forced labor"})})}),y(Kt,{sx:Yt,children:y(Je,{children:y("p",{children:"Members of farmer’s families serve the landlords’ household for free."})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subtitle",children:"8. Militarization and criminalization"})})}),y(Kt,{sx:Yt,children:y(Je,{children:y("p",{children:"Peasants are a popular target of state forces. Therefore, they are also the most red-tagged, criminalized, and harassed."})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subtitle",children:"9. EJKs and other human rights abuses"})})}),y(Kt,{sx:Yt,children:y(Je,{children:y("p",{children:"Majority of EJK victims are peasants."})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subtitle",children:"10. Bogus land reforms"})})}),y(Kt,{sx:Yt,children:y(Je,{children:y("p",{children:"The land reforms that preceded were only farce, violent, loan-based, and empowered big foreign and local landlords and businesses."})})})]})]})]}),F(Fh,{value:n,index:3,className:"ntbk-tabpanel",children:[y("div",{className:"ntbk-title",children:y("h3",{children:"Roots"})}),F("div",{children:[F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subtitle",children:"Imperialism"})})}),y(Kt,{sx:Yt,children:F(Je,{children:[y("p",{children:"Imperialism is the monopoly of a weaker nation’s economy, politics, and culture, where they are controlled and concentrated in the hands of a few big capitalists. They hold the markets, source of raw materials, modern technology, and skilled labor. They have influence on the dictation of laws and policies, and also on the size of production, price, and lending."}),y("p",{children:"Rich and powerful nations have been interested in third world countries like the Philippines as a source of cheap raw materials, cheap labor, and a market for their surplus goods and capital. Imperialism prevents peasants from attaining food security, food sovereignty, and from their rights to safe, healthy and ecologically sustainable production."})]})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subtitle",children:"Feudalism"})})}),y(Kt,{sx:Yt,children:y(Je,{children:y("p",{children:"Feudalism is the oppression against peasants by landlords. Here, agricultural lands are monopolized by a few landlords and vast tracts of land are tilled by the peasantry who face landlessness and food insecurity. Exploitation is intensified through high land rent and high interest and loan rates, slavery, cheap labor and products, and backward method of farming."})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subtitle",children:"Bureaucrat Capitalism"})})}),y(Kt,{sx:Yt,children:y(Je,{children:y("p",{children:"Bureaucrat capitalism is operating on the government as a business and for the enrichment of those sitting in power. Most top bureaucrats are in national, provincial, and municipal governments.The bureaucrat capitalists direct the operation of the reactionary state. They wield political power to serve imperialists, landlords, and the large comprador bourgeoisie. At the same time, they are harnessing their position to loot from the people’s money and expand land ownership and their own businesses."})})})]})]})]}),F(Fh,{value:n,index:4,className:"ntbk-tabpanel",children:[y("div",{className:"ntbk-title",children:y("h3",{children:"Solutions"})}),y("p",{className:"ntbk-subtitle",children:"Genuine Agrarian Reform Bill"}),y("p",{children:"The Genuine Agrarian Reform Bill (GARB) aims to break up the monopoly of a few landowners and foreign control of agricultural lands, eliminate all forms of oppression and exploitation in the countryside, and pave the way for social justice. Its objectives are situated below. "}),F("div",{children:[F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subsubtitle",children:"1. Free distribution of land"})})}),y(Kt,{sx:Yt,children:y(Je,{children:y("p",{children:"Land will be given in five years at no cost, land-related debts will be cleared, and a land title will be issued"})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subsubtitle",children:"2. No exemptions"})})}),y(Kt,{sx:Yt,children:y(Je,{children:y("p",{children:"All private and public agricultural lands will be distributed."})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subsubtitle",children:"3. Land protection"})})}),y(Kt,{sx:Yt,children:y(Je,{children:F("ul",{children:[y("li",{children:"The lands are prohibited against sale, mortgage, transfer, or any conveyance, except for hereditary succession."}),y("li",{children:"Progress of land distribution will be kept track through operation centers in Land Reform Zones"})]})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subsubtitle",children:"4. Additional support"})})}),y(Kt,{sx:Yt,children:y(Je,{children:F("ul",{children:[y("li",{children:"50B pesos allocated budget to improve the productivity and working conditions of the peasantry."}),y("li",{children:"Credit facilities, production support, post-harvest, market access and market, price guarantees and other necessary services for a viable production and raising of income."})]})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subsubtitle",children:"5. Agricultural worker support"})})}),y(Kt,{sx:Yt,children:y(Je,{children:F("ul",{children:[y("li",{children:"Necessary support, incentives, and privileges"}),y("li",{children:"Regularization of security of tenure"}),y("li",{children:"Higher income and benefits"})]})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subsubtitle",children:"6. Farmer participation"})})}),y(Kt,{sx:Yt,children:y(Je,{children:y("p",{children:"They will participate and help in the land distribution process, land and landlord problems, building cooperatives, and delivering support services."})})})]}),F(jt,{sx:Xt,children:[y($t,{expandIcon:y(Gt,{}),sx:Jt,children:y(Je,{sx:ln,children:y("p",{className:"ntbk-subsubtitle",children:"7. National industrialization"})})}),y(Kt,{sx:Yt,children:y(Je,{children:F("ul",{children:[y("li",{children:"Break free from foreign exploitation"}),y("li",{children:"Natural resources will be used to develop national industries"}),y("li",{children:"Prioritize Filipino products and industries"}),y("li",{children:"Protect Filipino producers from unfair regulations, local corruption, and foreign business advantage"})]})})})]})]})]})]})}const Jye=()=>F(fs,{children:[y("input",{type:"checkbox",id:"ntbk-checkbox-toggle",className:"ntbk-checkbox"}),y("div",{className:"ntbk-overlay",children:y("label",{htmlFor:"ntbk-checkbox-toggle",className:"ntbk-overlay-close"})}),y(Xye,{})]});var fk={},Yye=zo;Object.defineProperty(fk,"__esModule",{value:!0});var pk=fk.default=void 0,qye=Yye(Ml()),Qye=Tl,Zye=(0,qye.default)((0,Qye.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");pk=fk.default=Zye;const e0e=({setChecked:n})=>y("a",{className:"menu-element-iii",onClick:()=>n(!0),children:y("label",{htmlFor:"about-navi-checkbox-toggle",className:"about-nav-btn",children:y(pk,{className:"material-icons about-btn"})})}),t0e="/assets/umaLogo-1d5b5fd8.svg",n0e=()=>F("div",{className:"about-org",children:[y("div",{className:"uma-logo-container",children:y("img",{src:t0e,className:"uma-logo",alt:"UMA Logo"})}),F("div",{children:[y("h1",{className:"header-title about-header-title",children:"the organization"}),y("p",{children:"Unyon ng Manggagawa sa Agrikultura (UMA) or National Federation of Agricultural Workers is the national progressive center of unions, federations, and organizations of agricultural workers in the Philippines."}),y("p",{children:"UMA is a member of the Asian Peasant Coalition (APC) and the International League of Peoples’ Struggles (ILPS)."})]})]}),r0e=()=>F("div",{className:"about-website",children:[y("h1",{className:"header-title about-header-title",children:"about 5Siglo"}),y("p",{children:"5Siglo, pronounced as Limang Siglo, is an interactive web primer primarily focused on the conditions of the Filipino peasantry before and throughout the 500 years of colonialism and resistance in the Philippines."}),y("p",{children:"Interested in learning more about the peasantry? Go check out our animated explainer video below!"}),y("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/gpQ1ms1Awjo",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope;  modestbranding",allowfullscreen:!0,className:"explainer-video"})]}),i0e=()=>F("div",{className:"about-cta",children:[y("h1",{className:"header-title about-header-title",children:"call to action"}),y("p",{children:"In little ways, we can support the Filipino peasant movement's struggle for national freedom and democracy. In the celebration of the Peasant Month this October, we can stand with them in their struggle for land, food, and justice, through amplifying their voices."}),y("p",{children:"Join us in honoring them through submitting any peasant-related artworks — illustrations, songs, videos, writings, among many other ones, carrying these calls:"}),y("p",{className:"highlighted-text",children:"#LandToTheTillers #StandWithFarmers"})]});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve=function(n,e){if(!n)throw Ip(e)},Ip=function(n){return new Error("Firebase Database ("+vW.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},s0e=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(h=64)),r.push(t[u],t[d],t[h],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yW(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):s0e(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new o0e;const h=s<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class o0e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _W=function(n){const e=yW(n);return mk.encodeByteArray(e,!0)},ww=function(n){return _W(n).replace(/\./g,"")},aR=function(n){try{return mk.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0e(n){return Dv(void 0,n)}function Dv(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!l0e(t)||(n[t]=Dv(n[t],e[t]));return n}function l0e(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0e=()=>c0e().__FIREBASE_DEFAULTS__,d0e=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},h0e=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&aR(n[1]);return e&&JSON.parse(e)},f0e=()=>{try{return u0e()||d0e()||h0e()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},p0e=()=>{var n;return(n=f0e())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0e(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n),a="";return[ww(JSON.stringify(t)),ww(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g0e())}function v0e(){return typeof self=="object"&&self.self===self}function y0e(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bW(){return vW.NODE_ADMIN===!0}function _0e(){try{return typeof indexedDB=="object"}catch{return!1}}function x0e(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0e="FirebaseError";class Np extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=b0e,Object.setPrototypeOf(this,Np.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oS.prototype.create)}}class oS{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?w0e(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Np(i,a,r)}}function w0e(n,e){return n.replace(S0e,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const S0e=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(n){return JSON.parse(n)}function Nr(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=Bv(aR(s[0])||""),t=Bv(aR(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},E0e=function(n){const e=wW(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},C0e=function(n){const e=wW(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Cd(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function lR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Sw(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function cR(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(m4(s)&&m4(o)){if(!cR(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function m4(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0e(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0e{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function T0e(n,e){const t=new P0e(n,e);return t.subscribe.bind(t)}class P0e{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");R0e(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=RA),i.error===void 0&&(i.error=RA),i.complete===void 0&&(i.complete=RA);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R0e(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function RA(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt=function(n,e,t,r){let i;if(r<e?i="at least "+e:r>t&&(i=t===0?"none":"no more than "+t),i){const s=n+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function cs(n,e){return`${n} failed: ${e} argument `}function Wr(n,e,t,r){if(!(r&&!t)&&typeof t!="function")throw new Error(cs(n,e)+"must be a valid function.")}function g4(n,e,t,r){if(!(r&&!t)&&(typeof t!="object"||t===null))throw new Error(cs(n,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Ve(r<n.length,"Surrogate pair missing trail surrogate.");const o=n.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},aS=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(n){return n&&n._delegate?n._delegate:n}class Gc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SW=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new es;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k0e(e))try{this.getOrInitializeService({instanceIdentifier:Lu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Lu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lu){return this.instances.has(e)}getOptions(e=Lu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N0e(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lu){return this.component?this.component.multipleInstances?e:Lu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function N0e(n){return n===Lu?void 0:n}function k0e(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new SW(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=[];var Sn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Sn||(Sn={}));const CW={debug:Sn.DEBUG,verbose:Sn.VERBOSE,info:Sn.INFO,warn:Sn.WARN,error:Sn.ERROR,silent:Sn.SILENT},O0e=Sn.INFO,L0e={[Sn.DEBUG]:"log",[Sn.VERBOSE]:"log",[Sn.INFO]:"info",[Sn.WARN]:"warn",[Sn.ERROR]:"error"},D0e=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=L0e[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lS{constructor(e){this.name=e,this._logLevel=O0e,this._logHandler=D0e,this._userLogHandler=null,gk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Sn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Sn.DEBUG,...e),this._logHandler(this,Sn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Sn.VERBOSE,...e),this._logHandler(this,Sn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Sn.INFO,...e),this._logHandler(this,Sn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Sn.WARN,...e),this._logHandler(this,Sn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Sn.ERROR,...e),this._logHandler(this,Sn.ERROR,...e)}}function B0e(n){gk.forEach(e=>{e.setLogLevel(n)})}function F0e(n,e){for(const t of gk){let r=null;e&&e.level&&(r=CW[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&n({level:Sn[s].toLowerCase(),message:a,args:o,type:i.name})}}}const z0e=(n,e)=>e.some(t=>n instanceof t);let v4,y4;function U0e(){return v4||(v4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H0e(){return y4||(y4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AW=new WeakMap,uR=new WeakMap,MW=new WeakMap,IA=new WeakMap,vk=new WeakMap;function G0e(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Rc(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&AW.set(t,n)}).catch(()=>{}),vk.set(e,n),e}function V0e(n){if(uR.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});uR.set(n,e)}let dR={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return uR.get(n);if(e==="objectStoreNames")return n.objectStoreNames||MW.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Rc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function W0e(n){dR=n(dR)}function j0e(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(NA(this),e,...t);return MW.set(r,e.sort?e.sort():[e]),Rc(r)}:H0e().includes(n)?function(...e){return n.apply(NA(this),e),Rc(AW.get(this))}:function(...e){return Rc(n.apply(NA(this),e))}}function $0e(n){return typeof n=="function"?j0e(n):(n instanceof IDBTransaction&&V0e(n),z0e(n,U0e())?new Proxy(n,dR):n)}function Rc(n){if(n instanceof IDBRequest)return G0e(n);if(IA.has(n))return IA.get(n);const e=$0e(n);return e!==n&&(IA.set(n,e),vk.set(e,n)),e}const NA=n=>vk.get(n);function K0e(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Rc(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Rc(o.result),l.oldVersion,l.newVersion,Rc(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const X0e=["get","getKey","getAll","getAllKeys","count"],J0e=["put","add","delete","clear"],kA=new Map;function _4(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kA.get(e))return kA.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=J0e.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X0e.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return kA.set(e,s),s}W0e(n=>({...n,get:(e,t,r)=>_4(e,t)||n.get(e,t,r),has:(e,t)=>!!_4(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(q0e(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function q0e(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hR="@firebase/app",x4="0.9.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=new lS("@firebase/app"),Q0e="@firebase/app-compat",Z0e="@firebase/analytics-compat",e_e="@firebase/analytics",t_e="@firebase/app-check-compat",n_e="@firebase/app-check",r_e="@firebase/auth",i_e="@firebase/auth-compat",s_e="@firebase/database",o_e="@firebase/database-compat",a_e="@firebase/functions",l_e="@firebase/functions-compat",c_e="@firebase/installations",u_e="@firebase/installations-compat",d_e="@firebase/messaging",h_e="@firebase/messaging-compat",f_e="@firebase/performance",p_e="@firebase/performance-compat",m_e="@firebase/remote-config",g_e="@firebase/remote-config-compat",v_e="@firebase/storage",y_e="@firebase/storage-compat",__e="@firebase/firestore",x_e="@firebase/firestore-compat",b_e="firebase",w_e="9.18.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="[DEFAULT]",S_e={[hR]:"fire-core",[Q0e]:"fire-core-compat",[e_e]:"fire-analytics",[Z0e]:"fire-analytics-compat",[n_e]:"fire-app-check",[t_e]:"fire-app-check-compat",[r_e]:"fire-auth",[i_e]:"fire-auth-compat",[s_e]:"fire-rtdb",[o_e]:"fire-rtdb-compat",[a_e]:"fire-fn",[l_e]:"fire-fn-compat",[c_e]:"fire-iid",[u_e]:"fire-iid-compat",[d_e]:"fire-fcm",[h_e]:"fire-fcm-compat",[f_e]:"fire-perf",[p_e]:"fire-perf-compat",[m_e]:"fire-rc",[g_e]:"fire-rc-compat",[v_e]:"fire-gcs",[y_e]:"fire-gcs-compat",[__e]:"fire-fst",[x_e]:"fire-fst-compat","fire-js":"fire-js",[b_e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Map,Fv=new Map;function Ew(n,e){try{n.container.addComponent(e)}catch(t){Ad.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function TW(n,e){n.container.addOrOverwriteComponent(e)}function rp(n){const e=n.name;if(Fv.has(e))return Ad.debug(`There were multiple attempts to register component ${e}.`),!1;Fv.set(e,n);for(const t of Wc.values())Ew(t,n);return!0}function PW(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function E_e(n,e,t=Vc){PW(n,e).clearInstance(t)}function C_e(){Fv.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_e={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},hl=new oS("app","Firebase",A_e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M_e=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hl.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=w_e;function _k(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw hl.create("bad-app-name",{appName:String(i)});if(t||(t=p0e()),!t)throw hl.create("no-options");const s=Wc.get(i);if(s){if(cR(t,s.options)&&cR(r,s.config))return s;throw hl.create("duplicate-app",{appName:i})}const o=new EW(i);for(const l of Fv.values())o.addComponent(l);const a=new M_e(t,r,o);return Wc.set(i,a),a}function T_e(n=Vc){const e=Wc.get(n);if(!e&&n===Vc)return _k();if(!e)throw hl.create("no-app",{appName:n});return e}function P_e(){return Array.from(Wc.values())}async function RW(n){const e=n.name;Wc.has(e)&&(Wc.delete(e),await Promise.all(n.container.getProviders().map(t=>t.delete())),n.isDeleted=!0)}function Ic(n,e,t){var r;let i=(r=S_e[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ad.warn(a.join(" "));return}rp(new Gc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function IW(n,e){if(n!==null&&typeof n!="function")throw hl.create("invalid-log-argument");F0e(n,e)}function NW(n){B0e(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_e="firebase-heartbeat-database",I_e=1,zv="firebase-heartbeat-store";let OA=null;function kW(){return OA||(OA=K0e(R_e,I_e,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(zv)}}}).catch(n=>{throw hl.create("idb-open",{originalErrorMessage:n.message})})),OA}async function N_e(n){try{return(await kW()).transaction(zv).objectStore(zv).get(OW(n))}catch(e){if(e instanceof Np)Ad.warn(e.message);else{const t=hl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ad.warn(t.message)}}}async function b4(n,e){try{const r=(await kW()).transaction(zv,"readwrite");return await r.objectStore(zv).put(e,OW(n)),r.done}catch(t){if(t instanceof Np)Ad.warn(t.message);else{const r=hl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ad.warn(r.message)}}}function OW(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_e=1024,O_e=30*24*60*60*1e3;class L_e{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new B_e(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=w4();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=O_e}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=w4(),{heartbeatsToSend:t,unsentEntries:r}=D_e(this._heartbeatsCache.heartbeats),i=ww(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function w4(){return new Date().toISOString().substring(0,10)}function D_e(n,e=k_e){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),S4(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),S4(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class B_e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _0e()?x0e().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await N_e(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return b4(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return b4(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function S4(n){return ww(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_e(n){rp(new Gc("platform-logger",e=>new Y0e(e),"PRIVATE")),rp(new Gc("heartbeat",e=>new L_e(e),"PRIVATE")),Ic(hR,x4,n),Ic(hR,x4,"esm2017"),Ic("fire-js","")}F_e("");const z_e=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Np,SDK_VERSION:yk,_DEFAULT_ENTRY_NAME:Vc,_addComponent:Ew,_addOrOverwriteComponent:TW,_apps:Wc,_clearComponents:C_e,_components:Fv,_getProvider:PW,_registerComponent:rp,_removeServiceInstance:E_e,deleteApp:RW,getApp:T_e,getApps:P_e,initializeApp:_k,onLog:IW,registerVersion:Ic,setLogLevel:NW},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_e{constructor(e,t){this._delegate=e,this.firebase=t,Ew(e,new Gc("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),RW(this._delegate)))}_getService(e,t=Vc){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Vc){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Ew(this._delegate,e)}_addOrOverwriteComponent(e){TW(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_e={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},E4=new oS("app-compat","Firebase",H_e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_e(n){const e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:Ic,setLogLevel:NW,onLog:IW,apps:null,SDK_VERSION:yk,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:z_e}};t.default=t,Object.defineProperty(t,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||Vc,!Is(e,c))throw E4.create("no-app",{appName:c});return e[c]}i.App=n;function s(c,u={}){const d=_k(c,u);if(Is(e,d.name))return e[d.name];const h=new n(d,t);return e[d.name]=h,h}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const u=c.name,d=u.replace("-compat","");if(rp(c)&&c.type==="PUBLIC"){const h=(m=i())=>{if(typeof m[d]!="function")throw E4.create("invalid-app-argument",{appName:u});return m[d]()};c.serviceProps!==void 0&&Dv(h,c.serviceProps),t[d]=h,n.prototype[d]=function(...m){return this._getService.bind(this,u).apply(this,c.multipleInstances?m:[])}}return c.type==="PUBLIC"?t[d]:null}function l(c,u){return u==="serverAuth"?null:u}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(){const n=G_e(U_e);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:LW,extendNamespace:e,createSubscribe:T0e,ErrorFactory:oS,deepExtend:Dv});function e(t){Dv(n,t)}return n}const V_e=LW();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=new lS("@firebase/app-compat"),W_e="@firebase/app-compat",j_e="0.2.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_e(n){Ic(W_e,j_e,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(v0e()&&self.firebase!==void 0){C4.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&C4.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const By=V_e;$_e();var K_e="firebase",X_e="9.18.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */By.registerVersion(K_e,X_e,"app-compat");const A4="@firebase/database",M4="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DW="";function BW(n){DW=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_e{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Nr(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Bv(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_e{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Is(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FW=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new J_e(e)}}catch{}return new Y_e},Yu=FW("localStorage"),fR=FW("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new lS("@firebase/database"),zW=function(){let n=1;return function(){return n++}}(),UW=function(n){const e=I0e(n),t=new M0e;t.update(e);const r=t.digest();return mk.encodeByteArray(r)},Fy=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Fy.apply(null,r):typeof r=="object"?e+=Nr(r):e+=r,e+=" "}return e};let ld=null,T4=!0;const HW=function(n,e){Ve(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(Mf.logLevel=Sn.VERBOSE,ld=Mf.log.bind(Mf),e&&fR.set("logging_enabled",!0)):typeof n=="function"?ld=n:(ld=null,fR.remove("logging_enabled"))},$r=function(...n){if(T4===!0&&(T4=!1,ld===null&&fR.get("logging_enabled")===!0&&HW(!0)),ld){const e=Fy.apply(null,n);ld(e)}},zy=function(n){return function(...e){$r(n,...e)}},pR=function(...n){const e="FIREBASE INTERNAL ERROR: "+Fy(...n);Mf.error(e)},Ta=function(...n){const e=`FIREBASE FATAL ERROR: ${Fy(...n)}`;throw Mf.error(e),new Error(e)},Ri=function(...n){const e="FIREBASE WARNING: "+Fy(...n);Mf.warn(e)},q_e=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ri("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},cS=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Q_e=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},jc="[MIN_NAME]",wl="[MAX_NAME]",zd=function(n,e){if(n===e)return 0;if(n===jc||e===wl)return-1;if(e===jc||n===wl)return 1;{const t=P4(n),r=P4(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},Z_e=function(n,e){return n===e?0:n<e?-1:1},Fm=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Nr(e))},xk=function(n){if(typeof n!="object"||n===null)return Nr(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Nr(e[r]),t+=":",t+=xk(n[e[r]]);return t+="}",t},GW=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function Xr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const VW=function(n){Ve(!cS(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,s,o,a,l;n===0?(s=0,o=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(s=0,o=Math.round(n/Math.pow(2,1-r-t))));const c=[];for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},exe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},txe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function nxe(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}const rxe=new RegExp("^-?(0*)\\d{1,10}$"),ixe=-2147483648,sxe=2147483647,P4=function(n){if(rxe.test(n)){const e=Number(n);if(e>=ixe&&e<=sxe)return e}return null},kp=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Ri("Exception was thrown by user callback.",t),e},Math.floor(0))}},oxe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},jg=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class axe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ri(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lxe{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?($r("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ri(e)}}class Tf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Tf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="5",WW="v",jW="s",$W="r",KW="f",XW=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,JW="ls",YW="p",mR="ac",qW="websocket",QW="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(e,t,r,i,s=!1,o="",a=!1,l=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yu.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Yu.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function cxe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function ej(n,e,t){Ve(typeof e=="string","typeof type must == string"),Ve(typeof t=="object","typeof params must == object");let r;if(e===qW)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===QW)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);cxe(n)&&(t.ns=n.namespace);const i=[];return Xr(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uxe{constructor(){this.counters_={}}incrementCounter(e,t=1){Is(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return a0e(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA={},DA={};function wk(n){const e=n.toString();return LA[e]||(LA[e]=new uxe),LA[e]}function dxe(n,e){const t=n.toString();return DA[t]||(DA[t]=e()),DA[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hxe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&kp(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="start",fxe="close",pxe="pLPCommand",mxe="pRTLPCB",tj="id",nj="pw",rj="ser",gxe="cb",vxe="seg",yxe="ts",_xe="d",xxe="dframe",ij=1870,sj=30,bxe=ij-sj,wxe=25e3,Sxe=3e4;class fc{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zy(e),this.stats_=wk(t),this.urlFn=l=>(this.appCheckToken&&(l[mR]=this.appCheckToken),ej(t,QW,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new hxe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Sxe)),Q_e(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Sk((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===R4)this.id=a,this.password=l;else if(o===fxe)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[R4]="t",r[rj]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[gxe]=this.scriptTagHolder.uniqueCallbackIdentifier),r[WW]=bk,this.transportSessionId&&(r[jW]=this.transportSessionId),this.lastSessionId&&(r[JW]=this.lastSessionId),this.applicationId&&(r[YW]=this.applicationId),this.appCheckToken&&(r[mR]=this.appCheckToken),typeof location<"u"&&location.hostname&&XW.test(location.hostname)&&(r[$W]=KW);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){fc.forceAllow_=!0}static forceDisallow(){fc.forceDisallow_=!0}static isAvailable(){return fc.forceAllow_?!0:!fc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!exe()&&!txe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Nr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=_W(t),i=GW(r,bxe);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[xxe]="t",r[tj]=e,r[nj]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Nr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Sk{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=zW(),window[pxe+this.uniqueCallbackIdentifier]=e,window[mxe+this.uniqueCallbackIdentifier]=t,this.myIFrame=Sk.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){$r("frame writing exception"),a.stack&&$r(a.stack),$r(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||$r("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[tj]=this.myID,e[nj]=this.myPW,e[rj]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+sj+r.length<=ij;){const o=this.pendingSegs.shift();r=r+"&"+vxe+i+"="+o.seg+"&"+yxe+i+"="+o.ts+"&"+_xe+i+"="+o.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(wxe)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{$r("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Exe=16384,Cxe=45e3;let Cw=null;typeof MozWebSocket<"u"?Cw=MozWebSocket:typeof WebSocket<"u"&&(Cw=WebSocket);class Zs{constructor(e,t,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zy(this.connId),this.stats_=wk(t),this.connURL=Zs.connectionURL_(t,o,a,i,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i,s){const o={};return o[WW]=bk,typeof location<"u"&&location.hostname&&XW.test(location.hostname)&&(o[$W]=KW),t&&(o[jW]=t),r&&(o[JW]=r),i&&(o[mR]=i),s&&(o[YW]=s),ej(e,qW,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yu.set("previous_websocket_failure",!0);try{let r;bW(),this.mySock=new Cw(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Zs.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Cw!==null&&!Zs.forceDisallow_}static previouslyFailed(){return Yu.isInMemoryStorage||Yu.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=Bv(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ve(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=Nr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=GW(t,Exe);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Cxe))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zs.responsesRequiredToBeHealthy=2;Zs.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[fc,Zs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Zs&&Zs.isAvailable();let r=t&&!Zs.previouslyFailed();if(e.webSocketOnly&&(t||Ri("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Zs];else{const i=this.transports_=[];for(const s of ip.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ip.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ip.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Axe=6e4,Mxe=5e3,Txe=10*1024,Pxe=100*1024,BA="t",I4="d",Rxe="s",N4="r",Ixe="e",k4="o",O4="a",L4="n",D4="p",Nxe="h";class kxe{constructor(e,t,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zy("c:"+this.id+":"),this.transportManager_=new ip(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=jg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Pxe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Txe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(BA in e){const t=e[BA];t===O4?this.upgradeIfSecondaryHealthy_():t===N4?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===k4&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Fm("t",e),r=Fm("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:D4,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:O4,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:L4,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Fm("t",e),r=Fm("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Fm(BA,e);if(I4 in e){const r=e[I4];if(t===Nxe){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===L4){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Rxe?this.onConnectionShutdown_(r):t===N4?this.onReset_(r):t===Ixe?pR("Server Error: "+r):t===k4?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pR("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),bk!==r&&Ri("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),jg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Axe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Mxe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:D4,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.allowedEvents_=e,this.listeners_={},Ve(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Ve(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw extends aj{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!xW()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Aw}getInitialEvent(e){return Ve(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=32,F4=768;let pn=class{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}};function sn(){return new pn("")}function It(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function $c(n){return n.pieces_.length-n.pieceNum_}function Cn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new pn(n.pieces_,e)}function Ek(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Oxe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Uv(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function lj(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new pn(e,0)}function $n(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof pn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new pn(t,0)}function Nt(n){return n.pieceNum_>=n.pieces_.length}function Vi(n,e){const t=It(n),r=It(e);if(t===null)return e;if(t===r)return Vi(Cn(n),Cn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Lxe(n,e){const t=Uv(n,0),r=Uv(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=zd(t[i],r[i]);if(s!==0)return s}return t.length===r.length?0:t.length<r.length?-1:1}function Ck(n,e){if($c(n)!==$c(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function no(n,e){let t=n.pieceNum_,r=e.pieceNum_;if($c(n)>$c(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class Dxe{constructor(e,t){this.errorPrefix_=t,this.parts_=Uv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=aS(this.parts_[r]);cj(this)}}function Bxe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=aS(e),cj(n)}function Fxe(n){const e=n.parts_.pop();n.byteLength_-=aS(e),n.parts_.length>0&&(n.byteLength_-=1)}function cj(n){if(n.byteLength_>F4)throw new Error(n.errorPrefix_+"has a key path longer than "+F4+" bytes ("+n.byteLength_+").");if(n.parts_.length>B4)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+B4+") or object contains a cycle "+Du(n))}function Du(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak extends aj{constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Ak}getInitialEvent(e){return Ve(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=1e3,zxe=60*5*1e3,z4=30*1e3,Uxe=1.3,Hxe=3e4,Gxe="server_kill",U4=3;class fl extends oj{constructor(e,t,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=fl.nextPersistentConnectionId_++,this.log_=zy("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zm,this.maxReconnectDelay_=zxe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!bW())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ak.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Aw.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,s={r:i,a:e,b:t};this.log_(Nr(s)),Ve(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new es,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?t.resolve(a):t.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),t.promise}listen(e,t,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ve(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ve(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;fl.warnOnListenWarnings_(l,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Is(e,"w")){const r=Cd(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',s=t._path.toString();Ri(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||C0e(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=z4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=E0e(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Ve(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const s={p:t,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,s){this.initConnection_();const o={p:t,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,s=>{this.log_(t+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Nr(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):pR("Unrecognized action received from server: "+Nr(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ve(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zm,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=zm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Hxe&&(this.reconnectDelay_=zm),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Uxe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+fl.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){Ve(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?$r("getToken() completed but was canceled"):($r("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new kxe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,m=>{Ri(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(Gxe)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ri(d),l())}}}interrupt(e){$r("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){$r("Resuming connection for reason: "+e),delete this.interruptReasons_[e],lR(this.interruptReasons_)&&(this.reconnectDelay_=zm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(s=>xk(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new pn(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(t),s.delete(t),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){$r("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=U4&&(this.reconnectDelay_=z4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){$r("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=U4&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+DW.replace(/\./g,"-")]=1,xW()?e["framework.cordova"]=1:y0e()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Aw.getInstance().currentlyOnline();return lR(this.interruptReasons_)&&e}}fl.nextPersistentConnectionId_=0;fl.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Dt(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Dt(jc,e),i=new Dt(jc,t);return this.compare(r,i)!==0}minPost(){return Dt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F_;class uj extends uS{static get __EMPTY_NODE(){return F_}static set __EMPTY_NODE(e){F_=e}compare(e,t){return zd(e.name,t.name)}isDefinedOn(e){throw Ip("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Dt.MIN}maxPost(){return new Dt(wl,F_)}makePost(e,t){return Ve(typeof e=="string","KeyIndex indexValue must always be a string."),new Dt(e,F_)}toString(){return".key"}}const Sa=new uj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class jr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??jr.RED,this.left=i??rs.EMPTY_NODE,this.right=s??rs.EMPTY_NODE}copy(e,t,r,i,s){return new jr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return rs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return rs.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}jr.RED=!0;jr.BLACK=!1;class Vxe{copy(e,t,r,i,s){return this}insert(e,t,r){return new jr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class rs{constructor(e,t=rs.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new rs(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,jr.BLACK,null,null))}remove(e){return new rs(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,jr.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new z_(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new z_(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new z_(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new z_(this.root_,null,this.comparator_,!0,e)}}rs.EMPTY_NODE=new Vxe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wxe(n,e){return zd(n.name,e.name)}function Mk(n,e){return zd(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gR;function jxe(n){gR=n}const dj=function(n){return typeof n=="number"?"number:"+VW(n):"string:"+n},hj=function(n){if(n.isLeafNode()){const e=n.val();Ve(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Is(e,".sv"),"Priority must be a string or number.")}else Ve(n===gR||n.isEmpty(),"priority of unexpected type.");Ve(n===gR||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H4;class Gr{constructor(e,t=Gr.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Ve(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),hj(this.priorityNode_)}static set __childrenNodeConstructor(e){H4=e}static get __childrenNodeConstructor(){return H4}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Gr(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Gr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Nt(e)?this:It(e)===".priority"?this.priorityNode_:Gr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Gr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=It(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(Ve(r!==".priority"||$c(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Gr.__childrenNodeConstructor.EMPTY_NODE.updateChild(Cn(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+dj(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=VW(this.value_):e+=this.value_,this.lazyHash_=UW(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Gr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Gr.__childrenNodeConstructor?-1:(Ve(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=Gr.VALUE_TYPE_ORDER.indexOf(t),s=Gr.VALUE_TYPE_ORDER.indexOf(r);return Ve(i>=0,"Unknown leaf type: "+t),Ve(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Gr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fj,pj;function $xe(n){fj=n}function Kxe(n){pj=n}class Xxe extends uS{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return s===0?zd(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Dt.MIN}maxPost(){return new Dt(wl,new Gr("[PRIORITY-POST]",pj))}makePost(e,t){const r=fj(e);return new Dt(t,new Gr("[PRIORITY-POST]",r))}toString(){return".priority"}}const Nn=new Xxe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jxe=Math.log(2);class Yxe{constructor(e){const t=s=>parseInt(Math.log(s)/Jxe,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Mw=function(n,e,t,r){n.sort(e);const i=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=n[l],h=t?t(d):d,new jr(h,d.node,jr.BLACK,null,null);{const m=parseInt(u/2,10)+l,g=i(l,m),v=i(m+1,c);return d=n[m],h=t?t(d):d,new jr(h,d.node,jr.BLACK,g,v)}},s=function(l){let c=null,u=null,d=n.length;const h=function(g,v){const _=d-g,x=d;d-=g;const b=i(_+1,x),w=n[_],E=t?t(w):w;m(new jr(E,w.node,v,null,b))},m=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const v=l.nextBitIsOne(),_=Math.pow(2,l.count-(g+1));v?h(_,jr.BLACK):(h(_,jr.BLACK),h(_,jr.RED))}return u},o=new Yxe(n.length),a=s(o);return new rs(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FA;const yh={};class sl{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Ve(yh&&Nn,"ChildrenNode.ts has not been loaded"),FA=FA||new sl({".priority":yh},{".priority":Nn}),FA}get(e){const t=Cd(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof rs?t:null}hasIndex(e){return Is(this.indexSet_,e.toString())}addIndex(e,t){Ve(e!==Sa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(Dt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Mw(r,e.getCompare()):a=yh;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new sl(u,c)}addToIndexes(e,t){const r=Sw(this.indexes_,(i,s)=>{const o=Cd(this.indexSet_,s);if(Ve(o,"Missing index implementation for "+s),i===yh)if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(Dt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Mw(a,o.getCompare())}else return yh;else{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new Dt(e.name,a))),l.insert(e,e.node)}});return new sl(r,this.indexSet_)}removeFromIndexes(e,t){const r=Sw(this.indexes_,i=>{if(i===yh)return i;{const s=t.get(e.name);return s?i.remove(new Dt(e.name,s)):i}});return new sl(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um;class ht{constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&hj(this.priorityNode_),this.children_.isEmpty()&&Ve(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Um||(Um=new ht(new rs(Mk),null,sl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Um}updatePriority(e){return this.children_.isEmpty()?this:new ht(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Um:t}}getChild(e){const t=It(e);return t===null?this:this.getImmediateChild(t).getChild(Cn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(Ve(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new Dt(e,t);let i,s;t.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Um:this.priorityNode_;return new ht(i,o,s)}}updateChild(e,t){const r=It(e);if(r===null)return t;{Ve(It(e)!==".priority"||$c(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Cn(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,s=!0;if(this.forEachChild(Nn,(o,a)=>{t[o]=a.val(e),r++,s&&ht.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in t)o[a]=t[a];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+dj(this.getPriority().val())+":"),this.forEachChild(Nn,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":UW(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Dt(e,t));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Dt(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Dt(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Dt.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Dt.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Uy?-1:0}withIndex(e){if(e===Sa||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new ht(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Sa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(Nn),i=t.getIterator(Nn);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Sa?null:this.indexMap_.get(e.toString())}}ht.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class qxe extends ht{constructor(){super(new rs(Mk),ht.EMPTY_NODE,sl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ht.EMPTY_NODE}isEmpty(){return!1}}const Uy=new qxe;Object.defineProperties(Dt,{MIN:{value:new Dt(jc,ht.EMPTY_NODE)},MAX:{value:new Dt(wl,Uy)}});uj.__EMPTY_NODE=ht.EMPTY_NODE;Gr.__childrenNodeConstructor=ht;jxe(Uy);Kxe(Uy);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qxe=!0;function Qn(n,e=null){if(n===null)return ht.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),Ve(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Gr(t,Qn(e))}if(!(n instanceof Array)&&Qxe){const t=[];let r=!1;if(Xr(n,(o,a)=>{if(o.substring(0,1)!=="."){const l=Qn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new Dt(o,l)))}}),t.length===0)return ht.EMPTY_NODE;const s=Mw(t,Wxe,o=>o.name,Mk);if(r){const o=Mw(t,Nn.getCompare());return new ht(s,Qn(e),new sl({".priority":o},{".priority":Nn}))}else return new ht(s,Qn(e),sl.Default)}else{let t=ht.EMPTY_NODE;return Xr(n,(r,i)=>{if(Is(n,r)&&r.substring(0,1)!=="."){const s=Qn(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Qn(e))}}$xe(Qn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk extends uS{constructor(e){super(),this.indexPath_=e,Ve(!Nt(e)&&It(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return s===0?zd(e.name,t.name):s}makePost(e,t){const r=Qn(e),i=ht.EMPTY_NODE.updateChild(this.indexPath_,r);return new Dt(t,i)}maxPost(){const e=ht.EMPTY_NODE.updateChild(this.indexPath_,Uy);return new Dt(wl,e)}toString(){return Uv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zxe extends uS{compare(e,t){const r=e.node.compareTo(t.node);return r===0?zd(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Dt.MIN}maxPost(){return Dt.MAX}makePost(e,t){const r=Qn(e);return new Dt(t,r)}toString(){return".value"}}const Pk=new Zxe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(n){return{type:"value",snapshotNode:n}}function sp(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Hv(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Gv(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function ebe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.index_=e}updateChild(e,t,r,i,s,o){Ve(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(Hv(t,a)):Ve(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(sp(t,r)):o.trackChildChange(Gv(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Nn,(i,s)=>{t.hasChild(i)||r.trackChildChange(Hv(i,s))}),t.isLeafNode()||t.forEachChild(Nn,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Gv(i,s,o))}else r.trackChildChange(sp(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ht.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this.indexedFilter_=new Rk(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Vv.getStartPost_(e),this.endPost_=Vv.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,o){return this.matches(new Dt(t,r))||(r=ht.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=ht.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(ht.EMPTY_NODE);const s=this;return t.forEachChild(Nn,(o,a)=>{s.matches(new Dt(o,a))||(i=i.updateImmediateChild(o,ht.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tbe{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Vv(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,o){return this.rangedFilter_.matches(new Dt(t,r))||(r=ht.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,o):this.fullLimitUpdateChild_(e,t,r,s,o)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=ht.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){i=ht.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=t.withIndex(this.index_),i=i.updatePriority(ht.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,ht.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,m)=>d(m,h)}else o=this.index_.getCompare();const a=e;Ve(a.numChildren()===this.limit_,"");const l=new Dt(t,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){const d=a.getImmediateChild(t);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===t||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const m=h==null?1:o(h,l);if(u&&!r.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(Gv(t,r,d)),a.updateImmediateChild(t,r);{s!=null&&s.trackChildChange(Hv(t,d));const v=a.updateImmediateChild(t,ht.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(sp(h.name,h.node)),v.updateImmediateChild(h.name,h.node)):v}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Hv(c.name,c.node)),s.trackChildChange(sp(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(c.name,ht.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ve(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ve(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jc}hasEnd(){return this.endSet_}getIndexEndValue(){return Ve(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ve(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ve(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nn}copy(){const e=new dS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function nbe(n){return n.loadsAllData()?new Rk(n.getIndex()):n.hasLimit()?new tbe(n):new Vv(n)}function rbe(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}function ibe(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}function vR(n,e,t){const r=n.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,t!=null?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function sbe(n,e,t){let r;return n.index_===Sa||t?r=vR(n,e,t):r=vR(n,e,wl),r.startAfterSet_=!0,r}function yR(n,e,t){const r=n.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,t!==void 0?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function obe(n,e,t){let r;return n.index_===Sa||t?r=yR(n,e,t):r=yR(n,e,jc),r.endBeforeSet_=!0,r}function hS(n,e){const t=n.copy();return t.index_=e,t}function G4(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Nn?t="$priority":n.index_===Pk?t="$value":n.index_===Sa?t="$key":(Ve(n.index_ instanceof Tk,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Nr(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Nr(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Nr(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Nr(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Nr(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function V4(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Nn&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw extends oj{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=zy("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(Ve(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Tw.getListenId_(e,r),a={};this.listens_[o]=a;const l=G4(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),Cd(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,t){const r=Tw.getListenId_(e,t);delete this.listens_[r]}get(e){const t=G4(e._queryParams),r=e._path.toString(),i=new es;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+A0e(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Bv(a.responseText)}catch{Ri("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ri("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class abe{constructor(){this.rootNode_=ht.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(){return{value:null,children:new Map}}function Op(n,e,t){if(Nt(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=It(e);n.children.has(r)||n.children.set(r,Pw());const i=n.children.get(r);e=Cn(e),Op(i,e,t)}}function _R(n,e){if(Nt(e))return n.value=null,n.children.clear(),!0;if(n.value!==null){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Nn,(r,i)=>{Op(n,new pn(r),i)}),_R(n,e)}}else if(n.children.size>0){const t=It(e);return e=Cn(e),n.children.has(t)&&_R(n.children.get(t),e)&&n.children.delete(t),n.children.size===0}else return!0}function xR(n,e,t){n.value!==null?t(e,n.value):lbe(n,(r,i)=>{const s=new pn(e.toString()+"/"+r);xR(i,s,t)})}function lbe(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cbe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Xr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=10*1e3,ube=30*1e3,dbe=5*60*1e3;class hbe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new cbe(e);const r=W4+(ube-W4)*Math.random();jg(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Xr(e,(i,s)=>{s>0&&Is(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),jg(this.reportStats_.bind(this),Math.floor(Math.random()*2*dbe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Io;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Io||(Io={}));function Ik(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Nk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kk(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Io.ACK_USER_WRITE,this.source=Ik()}operationForChild(e){if(Nt(this.path)){if(this.affectedTree.value!=null)return Ve(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new pn(e));return new Rw(sn(),t,this.revert)}}else return Ve(It(this.path)===e,"operationForChild called for unrelated child."),new Rw(Cn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,t){this.source=e,this.path=t,this.type=Io.LISTEN_COMPLETE}operationForChild(e){return Nt(this.path)?new Wv(this.source,sn()):new Wv(this.source,Cn(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Io.OVERWRITE}operationForChild(e){return Nt(this.path)?new Md(this.source,sn(),this.snap.getImmediateChild(e)):new Md(this.source,Cn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Io.MERGE}operationForChild(e){if(Nt(this.path)){const t=this.children.subtree(new pn(e));return t.isEmpty()?null:t.value?new Md(this.source,sn(),t.value):new op(this.source,sn(),t)}else return Ve(It(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new op(this.source,Cn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Nt(e))return this.isFullyInitialized()&&!this.filtered_;const t=It(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fbe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function pbe(n,e,t,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(ebe(o.childName,o.snapshotNode))}),Hm(n,i,"child_removed",e,r,t),Hm(n,i,"child_added",e,r,t),Hm(n,i,"child_moved",s,r,t),Hm(n,i,"child_changed",e,r,t),Hm(n,i,"value",e,r,t),i}function Hm(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,l)=>gbe(n,a,l)),o.forEach(a=>{const l=mbe(n,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function mbe(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function gbe(n,e,t){if(e.childName==null||t.childName==null)throw Ip("Should only compare child_ events.");const r=new Dt(e.childName,e.snapshotNode),i=new Dt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(n,e){return{eventCache:n,serverCache:e}}function $g(n,e,t,r){return fS(new Kc(e,t,r),n.serverCache)}function gj(n,e,t,r){return fS(n.eventCache,new Kc(e,t,r))}function Iw(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Td(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zA;const vbe=()=>(zA||(zA=new rs(Z_e)),zA);class Mn{constructor(e,t=vbe()){this.value=e,this.children=t}static fromObject(e){let t=new Mn(null);return Xr(e,(r,i)=>{t=t.set(new pn(r),i)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:sn(),value:this.value};if(Nt(e))return null;{const r=It(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Cn(e),t);return s!=null?{path:$n(new pn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Nt(e))return this;{const t=It(e),r=this.children.get(t);return r!==null?r.subtree(Cn(e)):new Mn(null)}}set(e,t){if(Nt(e))return new Mn(t,this.children);{const r=It(e),s=(this.children.get(r)||new Mn(null)).set(Cn(e),t),o=this.children.insert(r,s);return new Mn(this.value,o)}}remove(e){if(Nt(e))return this.children.isEmpty()?new Mn(null):new Mn(null,this.children);{const t=It(e),r=this.children.get(t);if(r){const i=r.remove(Cn(e));let s;return i.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,i),this.value===null&&s.isEmpty()?new Mn(null):new Mn(this.value,s)}else return this}}get(e){if(Nt(e))return this.value;{const t=It(e),r=this.children.get(t);return r?r.get(Cn(e)):null}}setTree(e,t){if(Nt(e))return t;{const r=It(e),s=(this.children.get(r)||new Mn(null)).setTree(Cn(e),t);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Mn(this.value,o)}}fold(e){return this.fold_(sn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_($n(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,sn(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if(Nt(e))return null;{const s=It(e),o=this.children.get(s);return o?o.findOnPath_(Cn(e),$n(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,sn(),t)}foreachOnPath_(e,t,r){if(Nt(e))return this;{this.value&&r(t,this.value);const i=It(e),s=this.children.get(i);return s?s.foreachOnPath_(Cn(e),$n(t,i),r):new Mn(null)}}foreach(e){this.foreach_(sn(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_($n(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.writeTree_=e}static empty(){return new Do(new Mn(null))}}function Kg(n,e,t){if(Nt(e))return new Do(new Mn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Vi(i,e);return s=s.updateChild(o,t),new Do(n.writeTree_.set(i,s))}else{const i=new Mn(t),s=n.writeTree_.setTree(e,i);return new Do(s)}}}function bR(n,e,t){let r=n;return Xr(t,(i,s)=>{r=Kg(r,$n(e,i),s)}),r}function j4(n,e){if(Nt(e))return Do.empty();{const t=n.writeTree_.setTree(e,new Mn(null));return new Do(t)}}function wR(n,e){return Ud(n,e)!=null}function Ud(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Vi(t.path,e)):null}function $4(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Nn,(r,i)=>{e.push(new Dt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Dt(r,i.value))}),e}function Nc(n,e){if(Nt(e))return n;{const t=Ud(n,e);return t!=null?new Do(new Mn(t)):new Do(n.writeTree_.subtree(e))}}function SR(n){return n.writeTree_.isEmpty()}function ap(n,e){return vj(sn(),n.writeTree_,e)}function vj(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Ve(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):t=vj($n(n,i),s,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild($n(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(n,e){return bj(e,n)}function ybe(n,e,t,r,i){Ve(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Kg(n.visibleWrites,e,t)),n.lastWriteId=r}function _be(n,e,t,r){Ve(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=bR(n.visibleWrites,e,t),n.lastWriteId=r}function xbe(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function bbe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);Ve(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&wbe(a,r.path)?i=!1:no(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return Sbe(n),!0;if(r.snap)n.visibleWrites=j4(n.visibleWrites,r.path);else{const a=r.children;Xr(a,l=>{n.visibleWrites=j4(n.visibleWrites,$n(r.path,l))})}return!0}else return!1}function wbe(n,e){if(n.snap)return no(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&no($n(n.path,t),e))return!0;return!1}function Sbe(n){n.visibleWrites=yj(n.allWrites,Ebe,sn()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function Ebe(n){return n.visible}function yj(n,e,t){let r=Do.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)no(t,o)?(a=Vi(t,o),r=Kg(r,a,s.snap)):no(o,t)&&(a=Vi(o,t),r=Kg(r,sn(),s.snap.getChild(a)));else if(s.children){if(no(t,o))a=Vi(t,o),r=bR(r,a,s.children);else if(no(o,t))if(a=Vi(o,t),Nt(a))r=bR(r,sn(),s.children);else{const l=Cd(s.children,It(a));if(l){const c=l.getChild(Cn(a));r=Kg(r,sn(),c)}}}else throw Ip("WriteRecord should have .snap or .children")}}return r}function _j(n,e,t,r,i){if(!r&&!i){const s=Ud(n.visibleWrites,e);if(s!=null)return s;{const o=Nc(n.visibleWrites,e);if(SR(o))return t;if(t==null&&!wR(o,sn()))return null;{const a=t||ht.EMPTY_NODE;return ap(o,a)}}}else{const s=Nc(n.visibleWrites,e);if(!i&&SR(s))return t;if(!i&&t==null&&!wR(s,sn()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(no(c.path,e)||no(e,c.path))},a=yj(n.allWrites,o,e),l=t||ht.EMPTY_NODE;return ap(a,l)}}}function Cbe(n,e,t){let r=ht.EMPTY_NODE;const i=Ud(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Nn,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=Nc(n.visibleWrites,e);return t.forEachChild(Nn,(o,a)=>{const l=ap(Nc(s,new pn(o)),a);r=r.updateImmediateChild(o,l)}),$4(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Nc(n.visibleWrites,e);return $4(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Abe(n,e,t,r,i){Ve(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=$n(e,t);if(wR(n.visibleWrites,s))return null;{const o=Nc(n.visibleWrites,s);return SR(o)?i.getChild(t):ap(o,i.getChild(t))}}function Mbe(n,e,t,r){const i=$n(e,t),s=Ud(n.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(t)){const o=Nc(n.visibleWrites,i);return ap(o,r.getNode().getImmediateChild(t))}else return null}function Tbe(n,e){return Ud(n.visibleWrites,e)}function Pbe(n,e,t,r,i,s,o){let a;const l=Nc(n.visibleWrites,e),c=Ud(l,sn());if(c!=null)a=c;else if(t!=null)a=ap(l,t);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let m=h.getNext();for(;m&&u.length<i;)d(m,r)!==0&&u.push(m),m=h.getNext();return u}else return[]}function Rbe(){return{visibleWrites:Do.empty(),allWrites:[],lastWriteId:-1}}function Nw(n,e,t,r){return _j(n.writeTree,n.treePath,e,t,r)}function Ok(n,e){return Cbe(n.writeTree,n.treePath,e)}function K4(n,e,t,r){return Abe(n.writeTree,n.treePath,e,t,r)}function kw(n,e){return Tbe(n.writeTree,$n(n.treePath,e))}function Ibe(n,e,t,r,i,s){return Pbe(n.writeTree,n.treePath,e,t,r,i,s)}function Lk(n,e,t){return Mbe(n.writeTree,n.treePath,e,t)}function xj(n,e){return bj($n(n.treePath,e),n.writeTree)}function bj(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nbe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;Ve(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),Ve(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(r,Gv(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(r,Hv(r,i.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(r,sp(r,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(r,Gv(r,e.snapshotNode,i.oldSnap));else throw Ip("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kbe{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const wj=new kbe;class Dk{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Kc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lk(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Td(this.viewCache_),s=Ibe(this.writes_,i,t,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Obe(n){return{filter:n}}function Lbe(n,e){Ve(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Ve(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function Dbe(n,e,t,r,i){const s=new Nbe;let o,a;if(t.type===Io.OVERWRITE){const c=t;c.source.fromUser?o=ER(n,e,c.path,c.snap,r,i,s):(Ve(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Nt(c.path),o=Ow(n,e,c.path,c.snap,r,i,a,s))}else if(t.type===Io.MERGE){const c=t;c.source.fromUser?o=Fbe(n,e,c.path,c.children,r,i,s):(Ve(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=CR(n,e,c.path,c.children,r,i,a,s))}else if(t.type===Io.ACK_USER_WRITE){const c=t;c.revert?o=Hbe(n,e,c.path,r,i,s):o=zbe(n,e,c.path,c.affectedTree,r,i,s)}else if(t.type===Io.LISTEN_COMPLETE)o=Ube(n,e,t.path,r,s);else throw Ip("Unknown operation type: "+t.type);const l=s.getChanges();return Bbe(e,o,l),{viewCache:o,changes:l}}function Bbe(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Iw(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(mj(Iw(e)))}}function Sj(n,e,t,r,i,s){const o=e.eventCache;if(kw(r,t)!=null)return e;{let a,l;if(Nt(t))if(Ve(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Td(e),u=c instanceof ht?c:ht.EMPTY_NODE,d=Ok(r,u);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Nw(r,Td(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=It(t);if(c===".priority"){Ve($c(t)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=K4(r,t,u,l);d!=null?a=n.filter.updatePriority(u,d):a=o.getNode()}else{const u=Cn(t);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=K4(r,t,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=Lk(r,c,e.serverCache);d!=null?a=n.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return $g(e,a,o.isFullyInitialized()||Nt(t),n.filter.filtersNodes())}}function Ow(n,e,t,r,i,s,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(Nt(t))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(t,r);c=u.updateFullNode(l.getNode(),m,null)}else{const m=It(t);if(!l.isCompleteForPath(t)&&$c(t)>1)return e;const g=Cn(t),_=l.getNode().getImmediateChild(m).updateChild(g,r);m===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),m,_,g,wj,null)}const d=gj(e,c,l.isFullyInitialized()||Nt(t),u.filtersNodes()),h=new Dk(i,d,s);return Sj(n,d,t,i,h,a)}function ER(n,e,t,r,i,s,o){const a=e.eventCache;let l,c;const u=new Dk(i,e,s);if(Nt(t))c=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=$g(e,c,!0,n.filter.filtersNodes());else{const d=It(t);if(d===".priority")c=n.filter.updatePriority(e.eventCache.getNode(),r),l=$g(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Cn(t),m=a.getNode().getImmediateChild(d);let g;if(Nt(h))g=r;else{const v=u.getCompleteChild(d);v!=null?Ek(h)===".priority"&&v.getChild(lj(h)).isEmpty()?g=v:g=v.updateChild(h,r):g=ht.EMPTY_NODE}if(m.equals(g))l=e;else{const v=n.filter.updateChild(a.getNode(),d,g,h,u,o);l=$g(e,v,a.isFullyInitialized(),n.filter.filtersNodes())}}}return l}function X4(n,e){return n.eventCache.isCompleteForChild(e)}function Fbe(n,e,t,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=$n(t,l);X4(e,It(u))&&(a=ER(n,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=$n(t,l);X4(e,It(u))||(a=ER(n,a,u,c,i,s,o))}),a}function J4(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function CR(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Nt(t)?c=r:c=new Mn(null).setTree(t,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const m=e.serverCache.getNode().getImmediateChild(d),g=J4(n,m,h);l=Ow(n,l,new pn(d),g,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const m=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!m){const g=e.serverCache.getNode().getImmediateChild(d),v=J4(n,g,h);l=Ow(n,l,new pn(d),v,i,s,o,a)}}),l}function zbe(n,e,t,r,i,s,o){if(kw(i,t)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Nt(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return Ow(n,e,t,l.getNode().getChild(t),i,s,a,o);if(Nt(t)){let c=new Mn(null);return l.getNode().forEachChild(Sa,(u,d)=>{c=c.set(new pn(u),d)}),CR(n,e,t,c,i,s,a,o)}else return e}else{let c=new Mn(null);return r.foreach((u,d)=>{const h=$n(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),CR(n,e,t,c,i,s,a,o)}}function Ube(n,e,t,r,i){const s=e.serverCache,o=gj(e,s.getNode(),s.isFullyInitialized()||Nt(t),s.isFiltered());return Sj(n,o,t,r,wj,i)}function Hbe(n,e,t,r,i,s){let o;if(kw(r,t)!=null)return e;{const a=new Dk(r,e,i),l=e.eventCache.getNode();let c;if(Nt(t)||It(t)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Nw(r,Td(e));else{const d=e.serverCache.getNode();Ve(d instanceof ht,"serverChildren would be complete if leaf node"),u=Ok(r,d)}u=u,c=n.filter.updateFullNode(l,u,s)}else{const u=It(t);let d=Lk(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=n.filter.updateChild(l,u,d,Cn(t),a,s):e.eventCache.getNode().hasChild(u)?c=n.filter.updateChild(l,u,ht.EMPTY_NODE,Cn(t),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Nw(r,Td(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||kw(r,sn())!=null,$g(e,c,o,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gbe{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Rk(r.getIndex()),s=nbe(r);this.processor_=Obe(s);const o=t.serverCache,a=t.eventCache,l=i.updateFullNode(ht.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(ht.EMPTY_NODE,a.getNode(),null),u=new Kc(l,o.isFullyInitialized(),i.filtersNodes()),d=new Kc(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=fS(d,u),this.eventGenerator_=new fbe(this.query_)}get query(){return this.query_}}function Vbe(n){return n.viewCache_.serverCache.getNode()}function Wbe(n){return Iw(n.viewCache_)}function jbe(n,e){const t=Td(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Nt(e)&&!t.getImmediateChild(It(e)).isEmpty())?t.getChild(e):null}function Y4(n){return n.eventRegistrations_.length===0}function $be(n,e){n.eventRegistrations_.push(e)}function q4(n,e,t){const r=[];if(t){Ve(e==null,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function Q4(n,e,t,r){e.type===Io.MERGE&&e.source.queryId!==null&&(Ve(Td(n.viewCache_),"We should always have a full cache before handling merges"),Ve(Iw(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=Dbe(n.processor_,i,e,t,r);return Lbe(n.processor_,s.viewCache),Ve(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,Ej(n,s.changes,s.viewCache.eventCache.getNode(),null)}function Kbe(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Nn,(s,o)=>{r.push(sp(s,o))}),t.isFullyInitialized()&&r.push(mj(t.getNode())),Ej(n,r,t.getNode(),e)}function Ej(n,e,t,r){const i=r?[r]:n.eventRegistrations_;return pbe(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lw;class Cj{constructor(){this.views=new Map}}function Xbe(n){Ve(!Lw,"__referenceConstructor has already been defined"),Lw=n}function Jbe(){return Ve(Lw,"Reference.ts has not been loaded"),Lw}function Ybe(n){return n.views.size===0}function Bk(n,e,t,r){const i=e.source.queryId;if(i!==null){const s=n.views.get(i);return Ve(s!=null,"SyncTree gave us an op for an invalid query."),Q4(s,e,t,r)}else{let s=[];for(const o of n.views.values())s=s.concat(Q4(o,e,t,r));return s}}function Aj(n,e,t,r,i){const s=e._queryIdentifier,o=n.views.get(s);if(!o){let a=Nw(t,i?r:null),l=!1;a?l=!0:r instanceof ht?(a=Ok(t,r),l=!1):(a=ht.EMPTY_NODE,l=!1);const c=fS(new Kc(a,l,!1),new Kc(r,i,!1));return new Gbe(e,c)}return o}function qbe(n,e,t,r,i,s){const o=Aj(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),$be(o,t),Kbe(o,t)}function Qbe(n,e,t,r){const i=e._queryIdentifier,s=[];let o=[];const a=Xc(n);if(i==="default")for(const[l,c]of n.views.entries())o=o.concat(q4(c,t,r)),Y4(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=n.views.get(i);l&&(o=o.concat(q4(l,t,r)),Y4(l)&&(n.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Xc(n)&&s.push(new(Jbe())(e._repo,e._path)),{removed:s,events:o}}function Mj(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function kc(n,e){let t=null;for(const r of n.views.values())t=t||jbe(r,e);return t}function Tj(n,e){if(e._queryParams.loadsAllData())return mS(n);{const r=e._queryIdentifier;return n.views.get(r)}}function Pj(n,e){return Tj(n,e)!=null}function Xc(n){return mS(n)!=null}function mS(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dw;function Zbe(n){Ve(!Dw,"__referenceConstructor has already been defined"),Dw=n}function ewe(){return Ve(Dw,"Reference.ts has not been loaded"),Dw}let twe=1;class Z4{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mn(null),this.pendingWriteTree_=Rbe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Fk(n,e,t,r,i){return ybe(n.pendingWriteTree_,e,t,r,i),i?Lp(n,new Md(Ik(),e,t)):[]}function nwe(n,e,t,r){_be(n.pendingWriteTree_,e,t,r);const i=Mn.fromObject(t);return Lp(n,new op(Ik(),e,i))}function pc(n,e,t=!1){const r=xbe(n.pendingWriteTree_,e);if(bbe(n.pendingWriteTree_,e)){let s=new Mn(null);return r.snap!=null?s=s.set(sn(),!0):Xr(r.children,o=>{s=s.set(new pn(o),!0)}),Lp(n,new Rw(r.path,s,t))}else return[]}function Hy(n,e,t){return Lp(n,new Md(Nk(),e,t))}function rwe(n,e,t){const r=Mn.fromObject(t);return Lp(n,new op(Nk(),e,r))}function iwe(n,e){return Lp(n,new Wv(Nk(),e))}function swe(n,e,t){const r=zk(n,t);if(r){const i=Uk(r),s=i.path,o=i.queryId,a=Vi(s,e),l=new Wv(kk(o),a);return Hk(n,s,l)}else return[]}function Bw(n,e,t,r,i=!1){const s=e._path,o=n.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||Pj(o,e))){const l=Qbe(o,e,t,r);Ybe(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=n.syncPointTree_.findOnPath(s,(h,m)=>Xc(m));if(u&&!d){const h=n.syncPointTree_.subtree(s);if(!h.isEmpty()){const m=lwe(h);for(let g=0;g<m.length;++g){const v=m[g],_=v.query,x=kj(n,v);n.listenProvider_.startListening(Xg(_),jv(n,_),x.hashFn,x.onComplete)}}}!d&&c.length>0&&!r&&(u?n.listenProvider_.stopListening(Xg(e),null):c.forEach(h=>{const m=n.queryToTagMap.get(vS(h));n.listenProvider_.stopListening(Xg(h),m)}))}cwe(n,c)}return a}function Rj(n,e,t,r){const i=zk(n,r);if(i!=null){const s=Uk(i),o=s.path,a=s.queryId,l=Vi(o,e),c=new Md(kk(a),l,t);return Hk(n,o,c)}else return[]}function owe(n,e,t,r){const i=zk(n,r);if(i){const s=Uk(i),o=s.path,a=s.queryId,l=Vi(o,e),c=Mn.fromObject(t),u=new op(kk(a),l,c);return Hk(n,o,u)}else return[]}function AR(n,e,t,r=!1){const i=e._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(i,(h,m)=>{const g=Vi(h,i);s=s||kc(m,g),o=o||Xc(m)});let a=n.syncPointTree_.get(i);a?(o=o||Xc(a),s=s||kc(a,sn())):(a=new Cj,n.syncPointTree_=n.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=ht.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((m,g)=>{const v=kc(g,sn());v&&(s=s.updateImmediateChild(m,v))}));const c=Pj(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=vS(e);Ve(!n.queryToTagMap.has(h),"View does not exist, but we have a tag");const m=uwe();n.queryToTagMap.set(h,m),n.tagToQueryMap.set(m,h)}const u=pS(n.pendingWriteTree_,i);let d=qbe(a,e,t,u,s,l);if(!c&&!o&&!r){const h=Tj(a,e);d=d.concat(dwe(n,e,h))}return d}function gS(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const l=Vi(o,e),c=kc(a,l);if(c)return c});return _j(i,e,s,t,!0)}function awe(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(c,u)=>{const d=Vi(c,t);r=r||kc(u,d)});let i=n.syncPointTree_.get(t);i?r=r||kc(i,sn()):(i=new Cj,n.syncPointTree_=n.syncPointTree_.set(t,i));const s=r!=null,o=s?new Kc(r,!0,!1):null,a=pS(n.pendingWriteTree_,e._path),l=Aj(i,e,a,s?o.getNode():ht.EMPTY_NODE,s);return Wbe(l)}function Lp(n,e){return Ij(e,n.syncPointTree_,null,pS(n.pendingWriteTree_,sn()))}function Ij(n,e,t,r){if(Nt(n.path))return Nj(n,e,t,r);{const i=e.get(sn());t==null&&i!=null&&(t=kc(i,sn()));let s=[];const o=It(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=xj(r,o);s=s.concat(Ij(a,l,c,u))}return i&&(s=s.concat(Bk(i,n,r,t))),s}}function Nj(n,e,t,r){const i=e.get(sn());t==null&&i!=null&&(t=kc(i,sn()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=xj(r,o),u=n.operationForChild(o);u&&(s=s.concat(Nj(u,a,l,c)))}),i&&(s=s.concat(Bk(i,n,r,t))),s}function kj(n,e){const t=e.query,r=jv(n,t);return{hashFn:()=>(Vbe(e)||ht.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?swe(n,t._path,r):iwe(n,t._path);{const s=nxe(i,t);return Bw(n,t,null,s)}}}}function jv(n,e){const t=vS(e);return n.queryToTagMap.get(t)}function vS(n){return n._path.toString()+"$"+n._queryIdentifier}function zk(n,e){return n.tagToQueryMap.get(e)}function Uk(n){const e=n.indexOf("$");return Ve(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new pn(n.substr(0,e))}}function Hk(n,e,t){const r=n.syncPointTree_.get(e);Ve(r,"Missing sync point for query tag that we're tracking");const i=pS(n.pendingWriteTree_,e);return Bk(r,t,i,null)}function lwe(n){return n.fold((e,t,r)=>{if(t&&Xc(t))return[mS(t)];{let i=[];return t&&(i=Mj(t)),Xr(r,(s,o)=>{i=i.concat(o)}),i}})}function Xg(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(ewe())(n._repo,n._path):n}function cwe(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=vS(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}function uwe(){return twe++}function dwe(n,e,t){const r=e._path,i=jv(n,e),s=kj(n,t),o=n.listenProvider_.startListening(Xg(e),i,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(r);if(i)Ve(!Xc(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!Nt(c)&&u&&Xc(u))return[mS(u).query];{let h=[];return u&&(h=h.concat(Mj(u).map(m=>m.query))),Xr(d,(m,g)=>{h=h.concat(g)}),h}});for(let c=0;c<l.length;++c){const u=l[c];n.listenProvider_.stopListening(Xg(u),jv(n,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Gk(t)}node(){return this.node_}}class Vk{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=$n(this.path_,e);return new Vk(this.syncTree_,t)}node(){return gS(this.syncTree_,this.path_)}}const hwe=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},e5=function(n,e,t){if(!n||typeof n!="object")return n;if(Ve(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return fwe(n[".sv"],e,t);if(typeof n[".sv"]=="object")return pwe(n[".sv"],e);Ve(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},fwe=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:Ve(!1,"Unexpected server value: "+n)}},pwe=function(n,e,t){n.hasOwnProperty("increment")||Ve(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&Ve(!1,"Unexpected increment value: "+r);const i=e.node();if(Ve(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Oj=function(n,e,t,r){return jk(e,new Vk(t,n),r)},Wk=function(n,e,t){return jk(n,new Gk(e),t)};function jk(n,e,t){const r=n.getPriority().val(),i=e5(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=e5(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new Gr(a,Qn(i)):n}else{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Gr(i))),o.forEachChild(Nn,(a,l)=>{const c=jk(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function yS(n,e){let t=e instanceof pn?e:new pn(e),r=n,i=It(t);for(;i!==null;){const s=Cd(r.node.children,i)||{children:{},childCount:0};r=new $k(i,r,s),t=Cn(t),i=It(t)}return r}function Hd(n){return n.node.value}function Kk(n,e){n.node.value=e,MR(n)}function Lj(n){return n.node.childCount>0}function mwe(n){return Hd(n)===void 0&&!Lj(n)}function _S(n,e){Xr(n.node.children,(t,r)=>{e(new $k(t,n,r))})}function Dj(n,e,t,r){t&&!r&&e(n),_S(n,i=>{Dj(i,e,!0,r)}),t&&r&&e(n)}function gwe(n,e,t){let r=t?n:n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Gy(n){return new pn(n.parent===null?n.name:Gy(n.parent)+"/"+n.name)}function MR(n){n.parent!==null&&vwe(n.parent,n.name,n)}function vwe(n,e,t){const r=mwe(t),i=Is(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,MR(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,MR(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ywe=/[\[\].#$\/\u0000-\u001F\u007F]/,_we=/[\[\].#$\u0000-\u001F\u007F]/,UA=10*1024*1024,xS=function(n){return typeof n=="string"&&n.length!==0&&!ywe.test(n)},Bj=function(n){return typeof n=="string"&&n.length!==0&&!_we.test(n)},xwe=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Bj(n)},$v=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!cS(n)||n&&typeof n=="object"&&Is(n,".sv")},Pa=function(n,e,t,r){r&&e===void 0||Vy(cs(n,"value"),e,t)},Vy=function(n,e,t){const r=t instanceof pn?new Dxe(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Du(r));if(typeof e=="function")throw new Error(n+"contains a function "+Du(r)+" with contents = "+e.toString());if(cS(e))throw new Error(n+"contains "+e.toString()+" "+Du(r));if(typeof e=="string"&&e.length>UA/3&&aS(e)>UA)throw new Error(n+"contains a string greater than "+UA+" utf8 bytes "+Du(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Xr(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!xS(o)))throw new Error(n+" contains an invalid key ("+o+") "+Du(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Bxe(r,o),Vy(n,a,r),Fxe(r)}),i&&s)throw new Error(n+' contains ".value" child '+Du(r)+" in addition to actual children.")}},bwe=function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=Uv(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!xS(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Lxe);let i=null;for(t=0;t<e.length;t++){if(r=e[t],i!==null&&no(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Fj=function(n,e,t,r){if(r&&e===void 0)return;const i=cs(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Xr(e,(o,a)=>{const l=new pn(o);if(Vy(i,a,$n(t,l)),Ek(l)===".priority"&&!$v(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),bwe(i,s)},Xk=function(n,e,t){if(!(t&&e===void 0)){if(cS(e))throw new Error(cs(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!$v(e))throw new Error(cs(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Wy=function(n,e,t,r){if(!(r&&t===void 0)&&!xS(t))throw new Error(cs(n,e)+'was an invalid key = "'+t+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Kv=function(n,e,t,r){if(!(r&&t===void 0)&&!Bj(t))throw new Error(cs(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wwe=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Kv(n,e,t,r)},ro=function(n,e){if(It(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},zj=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!xS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!xwe(t))throw new Error(cs(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Swe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bS(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();t!==null&&!Ck(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function Uj(n,e,t){bS(n,t),Hj(n,r=>Ck(r,e))}function Ns(n,e,t){bS(n,t),Hj(n,r=>no(r,e)||no(e,r))}function Hj(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const s=i.path;e(s)?(Ewe(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function Ewe(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();ld&&$r("event: "+t.toString()),kp(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj="repo_interrupt",Cwe=25;class Awe{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Swe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Pw(),this.transactionQueueTree_=new $k,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Mwe(n,e,t){if(n.stats_=wk(n.repoInfo_),n.forceRestClient_||oxe())n.server_=new Tw(n.repoInfo_,(r,i,s,o)=>{t5(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>n5(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nr(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new fl(n.repoInfo_,e,(r,i,s,o)=>{t5(n,r,i,s,o)},r=>{n5(n,r)},r=>{Twe(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=dxe(n.repoInfo_,()=>new hbe(n.stats_,n.server_)),n.infoData_=new abe,n.infoSyncTree_=new Z4({startListening:(r,i,s,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=Hy(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Jk(n,"connected",!1),n.serverSyncTree_=new Z4({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Ns(n.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function Vj(n){const t=n.infoData_.getNode(new pn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function jy(n){return hwe({timestamp:Vj(n)})}function t5(n,e,t,r,i){n.dataUpdateCount++;const s=new pn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const l=Sw(t,c=>Qn(c));o=owe(n.serverSyncTree_,s,l,i)}else{const l=Qn(t);o=Rj(n.serverSyncTree_,s,l,i)}else if(r){const l=Sw(t,c=>Qn(c));o=rwe(n.serverSyncTree_,s,l)}else{const l=Qn(t);o=Hy(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=lp(n,s)),Ns(n.eventQueue_,a,o)}function n5(n,e){Jk(n,"connected",e),e===!1&&Iwe(n)}function Twe(n,e){Xr(e,(t,r)=>{Jk(n,t,r)})}function Jk(n,e,t){const r=new pn("/.info/"+e),i=Qn(t);n.infoData_.updateSnapshot(r,i);const s=Hy(n.infoSyncTree_,r,i);Ns(n.eventQueue_,r,s)}function wS(n){return n.nextWriteId_++}function Pwe(n,e,t){const r=awe(n.serverSyncTree_,e);return r!=null?Promise.resolve(r):n.server_.get(e).then(i=>{const s=Qn(i).withIndex(e._queryParams.getIndex());AR(n.serverSyncTree_,e,t,!0);let o;if(e._queryParams.loadsAllData())o=Hy(n.serverSyncTree_,e._path,s);else{const a=jv(n.serverSyncTree_,e);o=Rj(n.serverSyncTree_,e._path,s,a)}return Ns(n.eventQueue_,e._path,o),Bw(n.serverSyncTree_,e,t,null,!0),s},i=>(Dp(n,"get for query "+Nr(e)+" failed: "+i),Promise.reject(new Error(i))))}function Yk(n,e,t,r,i){Dp(n,"set",{path:e.toString(),value:t,priority:r});const s=jy(n),o=Qn(t,r),a=gS(n.serverSyncTree_,e),l=Wk(o,a,s),c=wS(n),u=Fk(n.serverSyncTree_,e,l,c,!0);bS(n.eventQueue_,u),n.server_.put(e.toString(),o.val(!0),(h,m)=>{const g=h==="ok";g||Ri("set at "+e+" failed: "+h);const v=pc(n.serverSyncTree_,c,!g);Ns(n.eventQueue_,e,v),Jc(n,i,h,m)});const d=Qk(n,e);lp(n,d),Ns(n.eventQueue_,d,[])}function Rwe(n,e,t,r){Dp(n,"update",{path:e.toString(),value:t});let i=!0;const s=jy(n),o={};if(Xr(t,(a,l)=>{i=!1,o[a]=Oj($n(e,a),Qn(l),n.serverSyncTree_,s)}),i)$r("update() called with empty data.  Don't do anything."),Jc(n,r,"ok",void 0);else{const a=wS(n),l=nwe(n.serverSyncTree_,e,o,a);bS(n.eventQueue_,l),n.server_.merge(e.toString(),t,(c,u)=>{const d=c==="ok";d||Ri("update at "+e+" failed: "+c);const h=pc(n.serverSyncTree_,a,!d),m=h.length>0?lp(n,e):e;Ns(n.eventQueue_,m,h),Jc(n,r,c,u)}),Xr(t,c=>{const u=Qk(n,$n(e,c));lp(n,u)}),Ns(n.eventQueue_,e,[])}}function Iwe(n){Dp(n,"onDisconnectEvents");const e=jy(n),t=Pw();xR(n.onDisconnect_,sn(),(i,s)=>{const o=Oj(i,s,n.serverSyncTree_,e);Op(t,i,o)});let r=[];xR(t,sn(),(i,s)=>{r=r.concat(Hy(n.serverSyncTree_,i,s));const o=Qk(n,i);lp(n,o)}),n.onDisconnect_=Pw(),Ns(n.eventQueue_,sn(),r)}function Nwe(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&_R(n.onDisconnect_,e),Jc(n,t,r,i)})}function r5(n,e,t,r){const i=Qn(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{s==="ok"&&Op(n.onDisconnect_,e,i),Jc(n,r,s,o)})}function kwe(n,e,t,r,i){const s=Qn(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{o==="ok"&&Op(n.onDisconnect_,e,s),Jc(n,i,o,a)})}function Owe(n,e,t,r){if(lR(t)){$r("onDisconnect().update() called with empty data.  Don't do anything."),Jc(n,r,"ok",void 0);return}n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{i==="ok"&&Xr(t,(o,a)=>{const l=Qn(a);Op(n.onDisconnect_,$n(e,o),l)}),Jc(n,r,i,s)})}function Lwe(n,e,t){let r;It(e._path)===".info"?r=AR(n.infoSyncTree_,e,t):r=AR(n.serverSyncTree_,e,t),Uj(n.eventQueue_,e._path,r)}function TR(n,e,t){let r;It(e._path)===".info"?r=Bw(n.infoSyncTree_,e,t):r=Bw(n.serverSyncTree_,e,t),Uj(n.eventQueue_,e._path,r)}function Wj(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Gj)}function Dwe(n){n.persistentConnection_&&n.persistentConnection_.resume(Gj)}function Dp(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),$r(t,...e)}function Jc(n,e,t,r){e&&kp(()=>{if(t==="ok")e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function Bwe(n,e,t,r,i,s){Dp(n,"transaction on "+e);const o={path:e,update:t,onComplete:r,status:null,order:zW(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=qk(n,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Vy("transaction failed: Data returned ",l,o.path),o.status=0;const c=yS(n.transactionQueueTree_,e),u=Hd(c)||[];u.push(o),Kk(c,u);let d;typeof l=="object"&&l!==null&&Is(l,".priority")?(d=Cd(l,".priority"),Ve($v(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(gS(n.serverSyncTree_,e)||ht.EMPTY_NODE).getPriority().val();const h=jy(n),m=Qn(l,d),g=Wk(m,a,h);o.currentOutputSnapshotRaw=m,o.currentOutputSnapshotResolved=g,o.currentWriteId=wS(n);const v=Fk(n.serverSyncTree_,e,g,o.currentWriteId,o.applyLocally);Ns(n.eventQueue_,e,v),SS(n,n.transactionQueueTree_)}}function qk(n,e,t){return gS(n.serverSyncTree_,e,t)||ht.EMPTY_NODE}function SS(n,e=n.transactionQueueTree_){if(e||ES(n,e),Hd(e)){const t=$j(n,e);Ve(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&Fwe(n,Gy(e),t)}else Lj(e)&&_S(e,t=>{SS(n,t)})}function Fwe(n,e,t){const r=t.map(c=>c.currentWriteId),i=qk(n,e,r);let s=i;const o=i.hash();for(let c=0;c<t.length;c++){const u=t[c];Ve(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Vi(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{Dp(n,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(pc(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();ES(n,yS(n.transactionQueueTree_,e)),SS(n,n.transactionQueueTree_),Ns(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)kp(d[h])}else{if(c==="datastale")for(let d=0;d<t.length;d++)t[d].status===3?t[d].status=4:t[d].status=0;else{Ri("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}lp(n,e)}},o)}function lp(n,e){const t=jj(n,e),r=Gy(t),i=$j(n,t);return zwe(n,i,r),r}function zwe(n,e,t){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Vi(t,l.path);let u=!1,d;if(Ve(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(pc(n.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Cwe)u=!0,d="maxretry",i=i.concat(pc(n.serverSyncTree_,l.currentWriteId,!0));else{const h=qk(n,l.path,o);l.currentInputSnapshot=h;const m=e[a].update(h.val());if(m!==void 0){Vy("transaction failed: Data returned ",m,l.path);let g=Qn(m);typeof m=="object"&&m!=null&&Is(m,".priority")||(g=g.updatePriority(h.getPriority()));const _=l.currentWriteId,x=jy(n),b=Wk(g,h,x);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=b,l.currentWriteId=wS(n),o.splice(o.indexOf(_),1),i=i.concat(Fk(n.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),i=i.concat(pc(n.serverSyncTree_,_,!0))}else u=!0,d="nodata",i=i.concat(pc(n.serverSyncTree_,l.currentWriteId,!0))}Ns(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}ES(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)kp(r[a]);SS(n,n.transactionQueueTree_)}function jj(n,e){let t,r=n.transactionQueueTree_;for(t=It(e);t!==null&&Hd(r)===void 0;)r=yS(r,t),e=Cn(e),t=It(e);return r}function $j(n,e){const t=[];return Kj(n,e,t),t.sort((r,i)=>r.order-i.order),t}function Kj(n,e,t){const r=Hd(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);_S(e,i=>{Kj(n,i,t)})}function ES(n,e){const t=Hd(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,Kk(e,t.length>0?t:void 0)}_S(e,r=>{ES(n,r)})}function Qk(n,e){const t=Gy(jj(n,e)),r=yS(n.transactionQueueTree_,e);return gwe(r,i=>{HA(n,i)}),HA(n,r),Dj(r,i=>{HA(n,i)}),t}function HA(n,e){const t=Hd(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(Ve(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(Ve(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(pc(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Kk(e,void 0):t.length=s+1,Ns(n.eventQueue_,Gy(e),i);for(let o=0;o<r.length;o++)kp(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uwe(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Hwe(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ri(`Invalid query segment '${t}' in query '${n}'`)}return e}const PR=function(n,e){const t=Gwe(n),r=t.namespace;t.domain==="firebase.com"&&Ta(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&Ta("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||q_e();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new ZW(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new pn(t.pathString)}},Gwe=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if(typeof n=="string"){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");u===-1&&(u=n.length);let d=n.indexOf("?");d===-1&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(i=Uwe(n.substring(u,d)));const h=Hwe(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")t="localhost";else if(m.split(".").length<=2)t=m;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),t=e.substring(g+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Vwe=function(){let n=0;const e=[];return function(t){const r=t===n;n=t;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=i5.charAt(t%64),t=Math.floor(t/64);Ve(t===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=i5.charAt(e[i]);return Ve(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Nr(this.snapshot.exportVal())}}class Jj{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Ve(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wwe=class{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new es;return Nwe(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){ro("OnDisconnect.remove",this._path);const e=new es;return r5(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){ro("OnDisconnect.set",this._path),Pa("OnDisconnect.set",e,this._path,!1);const t=new es;return r5(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){ro("OnDisconnect.setWithPriority",this._path),Pa("OnDisconnect.setWithPriority",e,this._path,!1),Xk("OnDisconnect.setWithPriority",t,!1);const r=new es;return kwe(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){ro("OnDisconnect.update",this._path),Fj("OnDisconnect.update",e,this._path,!1);const t=new es;return Owe(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Nt(this._path)?null:Ek(this._path)}get ref(){return new po(this._repo,this._path)}get _queryIdentifier(){const e=V4(this._queryParams),t=xk(e);return t==="{}"?"default":t}get _queryObject(){return V4(this._queryParams)}isEqual(e){if(e=Bs(e),!(e instanceof ps))return!1;const t=this._repo===e._repo,r=Ck(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Oxe(this._path)}}function CS(n,e){if(n._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function iu(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Sa){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==jc)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==wl)throw new Error(r);if(typeof t!="string")throw new Error(i)}}else if(n.getIndex()===Nn){if(e!=null&&!$v(e)||t!=null&&!$v(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Ve(n.getIndex()instanceof Tk||n.getIndex()===Pk,"unknown index type."),e!=null&&typeof e=="object"||t!=null&&typeof t=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function AS(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class po extends ps{constructor(e,t){super(e,t,new dS,!1)}get parent(){const e=lj(this._path);return e===null?null:new po(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let MS=class RR{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new pn(e),r=Pd(this.ref,e);return new RR(this._node.getChild(t),r,Nn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new RR(i,Pd(this.ref,r),Nn)))}hasChild(e){const t=new pn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Yj(n,e){return n=Bs(n),n._checkNotDeleted("ref"),e!==void 0?Pd(n._root,e):n._root}function s5(n,e){n=Bs(n),n._checkNotDeleted("refFromURL");const t=PR(e,n._repo.repoInfo_.nodeAdmin);zj("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Ta("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),Yj(n,t.path.toString())}function Pd(n,e){return n=Bs(n),It(n._path)===null?wwe("child","path",e,!1):Kv("child","path",e,!1),new po(n._repo,$n(n._path,e))}function jwe(n,e){n=Bs(n),ro("push",n._path),Pa("push",e,n._path,!0);const t=Vj(n._repo),r=Vwe(t),i=Pd(n,r),s=Pd(n,r);let o;return e!=null?o=eO(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function $we(n){return ro("remove",n._path),eO(n,null)}function eO(n,e){n=Bs(n),ro("set",n._path),Pa("set",e,n._path,!1);const t=new es;return Yk(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Kwe(n,e){n=Bs(n),ro("setPriority",n._path),Xk("setPriority",e,!1);const t=new es;return Yk(n._repo,$n(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}function Xwe(n,e,t){if(ro("setWithPriority",n._path),Pa("setWithPriority",e,n._path,!1),Xk("setWithPriority",t,!1),n.key===".length"||n.key===".keys")throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new es;return Yk(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}function Jwe(n,e){Fj("update",e,n._path,!1);const t=new es;return Rwe(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function Ywe(n){n=Bs(n);const e=new Zk(()=>{}),t=new $y(e);return Pwe(n._repo,n,t).then(r=>new MS(r,new po(n._repo,n._path),n._queryParams.getIndex()))}class $y{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const r=t._queryParams.getIndex();return new Xj("value",this,new MS(e.snapshotNode,new po(t._repo,t._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Jj(this,e,t):null}matches(e){return e instanceof $y?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class TS{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t=e==="children_added"?"child_added":e;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Jj(this,e,t):null}createEvent(e,t){Ve(e.childName!=null,"Child events should have a childName.");const r=Pd(new po(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new Xj(e.type,this,new MS(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof TS?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Ky(n,e,t,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=t,c=(u,d)=>{TR(n._repo,n,a),l(u,d)};c.userCallback=t.userCallback,c.context=t.context,t=c}const o=new Zk(t,s||void 0),a=e==="value"?new $y(o):new TS(e,o);return Lwe(n._repo,n,a),()=>TR(n._repo,n,a)}function IR(n,e,t,r){return Ky(n,"value",e,t,r)}function o5(n,e,t,r){return Ky(n,"child_added",e,t,r)}function a5(n,e,t,r){return Ky(n,"child_changed",e,t,r)}function l5(n,e,t,r){return Ky(n,"child_moved",e,t,r)}function c5(n,e,t,r){return Ky(n,"child_removed",e,t,r)}function u5(n,e,t){let r=null;const i=t?new Zk(t):null;e==="value"?r=new $y(i):e&&(r=new TS(e,i)),TR(n._repo,n,r)}class Wo{}class qj extends Wo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Pa("endAt",this._value,e._path,!0);const t=yR(e._queryParams,this._value,this._key);if(AS(t),iu(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ps(e._repo,e._path,t,e._orderByCalled)}}function qwe(n,e){return Wy("endAt","key",e,!0),new qj(n,e)}class Qwe extends Wo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Pa("endBefore",this._value,e._path,!1);const t=obe(e._queryParams,this._value,this._key);if(AS(t),iu(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ps(e._repo,e._path,t,e._orderByCalled)}}function Zwe(n,e){return Wy("endBefore","key",e,!0),new Qwe(n,e)}class Qj extends Wo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Pa("startAt",this._value,e._path,!0);const t=vR(e._queryParams,this._value,this._key);if(AS(t),iu(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ps(e._repo,e._path,t,e._orderByCalled)}}function e1e(n=null,e){return Wy("startAt","key",e,!0),new Qj(n,e)}class t1e extends Wo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Pa("startAfter",this._value,e._path,!1);const t=sbe(e._queryParams,this._value,this._key);if(AS(t),iu(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ps(e._repo,e._path,t,e._orderByCalled)}}function n1e(n,e){return Wy("startAfter","key",e,!0),new t1e(n,e)}class r1e extends Wo{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ps(e._repo,e._path,rbe(e._queryParams,this._limit),e._orderByCalled)}}function i1e(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new r1e(n)}class s1e extends Wo{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ps(e._repo,e._path,ibe(e._queryParams,this._limit),e._orderByCalled)}}function o1e(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new s1e(n)}class a1e extends Wo{constructor(e){super(),this._path=e}_apply(e){CS(e,"orderByChild");const t=new pn(this._path);if(Nt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Tk(t),i=hS(e._queryParams,r);return iu(i),new ps(e._repo,e._path,i,!0)}}function l1e(n){if(n==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(n==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(n==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Kv("orderByChild","path",n,!1),new a1e(n)}class c1e extends Wo{_apply(e){CS(e,"orderByKey");const t=hS(e._queryParams,Sa);return iu(t),new ps(e._repo,e._path,t,!0)}}function u1e(){return new c1e}class d1e extends Wo{_apply(e){CS(e,"orderByPriority");const t=hS(e._queryParams,Nn);return iu(t),new ps(e._repo,e._path,t,!0)}}function h1e(){return new d1e}class f1e extends Wo{_apply(e){CS(e,"orderByValue");const t=hS(e._queryParams,Pk);return iu(t),new ps(e._repo,e._path,t,!0)}}function p1e(){return new f1e}class m1e extends Wo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Pa("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new qj(this._value,this._key)._apply(new Qj(this._value,this._key)._apply(e))}}function g1e(n,e){return Wy("equalTo","key",e,!0),new m1e(n,e)}function bo(n,...e){let t=Bs(n);for(const r of e)t=r._apply(t);return t}Xbe(po);Zbe(po);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1e="FIREBASE_DATABASE_EMULATOR_HOST",NR={};let y1e=!1;function _1e(n,e,t,r){n.repoInfo_=new ZW(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}function Zj(n,e,t,r,i){let s=r||n.options.databaseURL;s===void 0&&(n.options.projectId||Ta("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$r("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=PR(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[v1e]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=PR(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Tf(Tf.OWNER):new lxe(n.name,n.options,e);zj("Invalid Firebase Database URL",o),Nt(o.path)||Ta("Database URL must point to the root of a Firebase Database (not including a child path).");const d=b1e(a,n,u,new axe(n.name,t));return new w1e(d,n)}function x1e(n,e){const t=NR[e];(!t||t[n.key]!==n)&&Ta(`Database ${e}(${n.repoInfo_}) has already been deleted.`),Wj(n),delete t[n.key]}function b1e(n,e,t,r){let i=NR[e.name];i||(i={},NR[e.name]=i);let s=i[n.toURLString()];return s&&Ta("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Awe(n,y1e,t,r),i[n.toURLString()]=s,s}let w1e=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Mwe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new po(this._repo,sn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(x1e(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ta("Cannot call "+e+" on a deleted database.")}};function e$(){ip.IS_TRANSPORT_INITIALIZED&&Ri("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function S1e(){e$(),fc.forceDisallow()}function E1e(){e$(),Zs.forceDisallow(),fc.forceAllow()}function C1e(n,e,t,r={}){n=Bs(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&Ta("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ta('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Tf(Tf.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:m0e(r.mockUserToken,n.app.options.projectId);s=new Tf(o)}_1e(i,e,t,s)}function A1e(n){n=Bs(n),n._checkNotDeleted("goOffline"),Wj(n._repo)}function M1e(n){n=Bs(n),n._checkNotDeleted("goOnline"),Dwe(n._repo)}function T1e(n,e){HW(n,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1e(n){BW(yk),rp(new Gc("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Zj(r,i,s,t)},"PUBLIC").setMultipleInstances(!0)),Ic(A4,M4,n),Ic(A4,M4,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1e={".sv":"timestamp"};function I1e(){return R1e}function N1e(n){return{".sv":{increment:n}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k1e=class{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function O1e(n,e,t){var r;if(n=Bs(n),ro("Reference.transaction",n._path),n.key===".length"||n.key===".keys")throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=(r=t==null?void 0:t.applyLocally)!==null&&r!==void 0?r:!0,s=new es,o=(l,c,u)=>{let d=null;l?s.reject(l):(d=new MS(u,new po(n._repo,n._path),Nn),s.resolve(new k1e(c,d)))},a=IR(n,()=>{});return Bwe(n._repo,n._path,e,o,a,i),s.promise}fl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};fl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};P1e();const L1e="@firebase/database-compat",D1e="0.3.4";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1e=new lS("@firebase/database-compat"),t$=function(n){const e="FIREBASE WARNING: "+n;B1e.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1e=function(n,e,t,r){if(!(r&&t===void 0)&&typeof t!="boolean")throw new Error(cs(n,e)+"must be a boolean.")},z1e=function(n,e,t){if(!(t&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(cs(n,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1e{constructor(e){this._delegate=e}cancel(e){pt("OnDisconnect.cancel",0,1,arguments.length),Wr("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){pt("OnDisconnect.remove",0,1,arguments.length),Wr("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){pt("OnDisconnect.set",1,2,arguments.length),Wr("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){pt("OnDisconnect.setWithPriority",2,3,arguments.length),Wr("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,t){if(pt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,t$("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Wr("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1e{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return pt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this._database=e,this._delegate=t}val(){return pt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return pt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return pt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return pt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return pt("DataSnapshot.child",0,1,arguments.length),e=String(e),Kv("DataSnapshot.child","path",e,!1),new Oc(this._database,this._delegate.child(e))}hasChild(e){return pt("DataSnapshot.hasChild",1,1,arguments.length),Kv("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return pt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return pt("DataSnapshot.forEach",1,1,arguments.length),Wr("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Oc(this._database,t)))}hasChildren(){return pt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return pt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return pt("DataSnapshot.ref",0,0,arguments.length),new Ss(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ni{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var s;pt("Query.on",2,4,arguments.length),Wr("Query.on","callback",t,!1);const o=ni.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{t.call(o.context,new Oc(this.database,c),u)};a.userCallback=t,a.context=o.context;const l=(s=o.cancel)===null||s===void 0?void 0:s.bind(o.context);switch(e){case"value":return IR(this._delegate,a,l),t;case"child_added":return o5(this._delegate,a,l),t;case"child_removed":return c5(this._delegate,a,l),t;case"child_changed":return a5(this._delegate,a,l),t;case"child_moved":return l5(this._delegate,a,l),t;default:throw new Error(cs("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if(pt("Query.off",0,3,arguments.length),z1e("Query.off",e,!0),Wr("Query.off","callback",t,!0),g4("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,u5(this._delegate,e,i)}else u5(this._delegate,e)}get(){return Ywe(this._delegate).then(e=>new Oc(this.database,e))}once(e,t,r,i){pt("Query.once",1,4,arguments.length),Wr("Query.once","callback",t,!0);const s=ni.getCancelAndContextArgs_("Query.once",r,i),o=new es,a=(c,u)=>{const d=new Oc(this.database,c);t&&t.call(s.context,d,u),o.resolve(d)};a.userCallback=t,a.context=s.context;const l=c=>{s.cancel&&s.cancel.call(s.context,c),o.reject(c)};switch(e){case"value":IR(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":o5(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":c5(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":a5(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":l5(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(cs("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return pt("Query.limitToFirst",1,1,arguments.length),new ni(this.database,bo(this._delegate,i1e(e)))}limitToLast(e){return pt("Query.limitToLast",1,1,arguments.length),new ni(this.database,bo(this._delegate,o1e(e)))}orderByChild(e){return pt("Query.orderByChild",1,1,arguments.length),new ni(this.database,bo(this._delegate,l1e(e)))}orderByKey(){return pt("Query.orderByKey",0,0,arguments.length),new ni(this.database,bo(this._delegate,u1e()))}orderByPriority(){return pt("Query.orderByPriority",0,0,arguments.length),new ni(this.database,bo(this._delegate,h1e()))}orderByValue(){return pt("Query.orderByValue",0,0,arguments.length),new ni(this.database,bo(this._delegate,p1e()))}startAt(e=null,t){return pt("Query.startAt",0,2,arguments.length),new ni(this.database,bo(this._delegate,e1e(e,t)))}startAfter(e=null,t){return pt("Query.startAfter",0,2,arguments.length),new ni(this.database,bo(this._delegate,n1e(e,t)))}endAt(e=null,t){return pt("Query.endAt",0,2,arguments.length),new ni(this.database,bo(this._delegate,qwe(e,t)))}endBefore(e=null,t){return pt("Query.endBefore",0,2,arguments.length),new ni(this.database,bo(this._delegate,Zwe(e,t)))}equalTo(e,t){return pt("Query.equalTo",1,2,arguments.length),new ni(this.database,bo(this._delegate,g1e(e,t)))}toString(){return pt("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return pt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(pt("Query.isEqual",1,1,arguments.length),!(e instanceof ni)){const t="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(t)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,Wr(e,"cancel",i.cancel,!0),i.context=r,g4(e,"context",i.context,!0);else if(t)if(typeof t=="object"&&t!==null)i.context=t;else if(typeof t=="function")i.cancel=t;else throw new Error(cs(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new Ss(this.database,new po(this._delegate._repo,this._delegate._path))}}class Ss extends ni{constructor(e,t){super(e,new ps(t._repo,t._path,new dS,!1)),this.database=e,this._delegate=t}getKey(){return pt("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return pt("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new Ss(this.database,Pd(this._delegate,e))}getParent(){pt("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ss(this.database,e):null}getRoot(){return pt("Reference.root",0,0,arguments.length),new Ss(this.database,this._delegate.root)}set(e,t){pt("Reference.set",1,2,arguments.length),Wr("Reference.set","onComplete",t,!0);const r=eO(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if(pt("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,t$("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ro("Reference.update",this._delegate._path),Wr("Reference.update","onComplete",t,!0);const r=Jwe(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){pt("Reference.setWithPriority",2,3,arguments.length),Wr("Reference.setWithPriority","onComplete",r,!0);const i=Xwe(this._delegate,e,t);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){pt("Reference.remove",0,1,arguments.length),Wr("Reference.remove","onComplete",e,!0);const t=$we(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){pt("Reference.transaction",1,3,arguments.length),Wr("Reference.transaction","transactionUpdate",e,!1),Wr("Reference.transaction","onComplete",t,!0),F1e("Reference.transaction","applyLocally",r,!0);const i=O1e(this._delegate,e,{applyLocally:r}).then(s=>new H1e(s.committed,new Oc(this.database,s.snapshot)));return t&&i.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),i}setPriority(e,t){pt("Reference.setPriority",1,2,arguments.length),Wr("Reference.setPriority","onComplete",t,!0);const r=Kwe(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){pt("Reference.push",0,2,arguments.length),Wr("Reference.push","onComplete",t,!0);const r=jwe(this._delegate,e),i=r.then(o=>new Ss(this.database,o));t&&i.then(()=>t(null),o=>t(o));const s=new Ss(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return ro("Reference.onDisconnect",this._delegate._path),new U1e(new Wwe(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:S1e,forceLongPolling:E1e}}useEmulator(e,t,r={}){C1e(this._delegate,e,t,r)}ref(e){if(pt("database.ref",0,1,arguments.length),e instanceof Ss){const t=s5(this._delegate,e.toString());return new Ss(this,t)}else{const t=Yj(this._delegate,e);return new Ss(this,t)}}refFromURL(e){pt("database.refFromURL",1,1,arguments.length);const r=s5(this._delegate,e);return new Ss(this,r)}goOffline(){return pt("database.goOffline",0,0,arguments.length),A1e(this._delegate)}goOnline(){return pt("database.goOnline",0,0,arguments.length),M1e(this._delegate)}}Xv.ServerValue={TIMESTAMP:I1e(),increment:n=>N1e(n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1e({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){BW(t);const o=new SW("auth-internal",new EW("database-standalone"));return o.setComponent(new Gc("auth-internal",()=>r,"PRIVATE")),{instance:new Xv(Zj(n,o,void 0,e,s),n),namespace:i}}var V1e=Object.freeze({__proto__:null,initStandalone:G1e});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1e=Xv.ServerValue;function j1e(n){n.INTERNAL.registerComponent(new Gc("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new Xv(i,r)},"PUBLIC").setServiceProps({Reference:Ss,Query:ni,Database:Xv,DataSnapshot:Oc,enableLogging:T1e,INTERNAL:V1e,ServerValue:W1e}).setMultipleInstances(!0)),n.registerVersion(L1e,D1e)}j1e(By);const $1e={apiKey:"AIzaSyDsUK3BRlxm33kxldPQ-Go81rVJkaej8tk",authDomain:"limang-siglo-feedback-form.firebaseapp.com",databaseURL:"https://limang-siglo-feedback-form-default-rtdb.asia-southeast1.firebasedatabase.app/",projectId:"limang-siglo-feedback-form",storageBucket:"limang-siglo-feedback-form.appspot.com",messagingSenderId:"995717808745",appId:"1:995717808745:web:2030b26f1d48ffd5ea18f8",measurementId:"G-YSW3HGJ2LH"};By.initializeApp($1e);const K1e=By.database(),X1e={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e6},J1e={position:"fixed",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(10px)",zIndex:1e6};function Y1e({open:n,onClose:e}){return n?Pi.createPortal(F(fs,{children:[y("div",{onClick:e}),y("div",{style:J1e,onClick:e,className:"terms-overlay"}),y("div",{style:X1e,children:y("div",{className:"terms-privacy-modal-container",children:F("div",{className:"terms-privacy-modal-text",children:[y("h3",{className:"terms-privacy-h3",children:"terms and conditions"}),y("p",{className:"terms-privacy-p",children:'These Terms & Conditions ("Agreement") govern your use of the 5Siglo website ("Site"), which is owned and operated by Unyon ng mga Manggagawa sa Agrikultura. Please read this Agreement carefully before using the Site. By using the Site, you agree to be bound by this Agreement. If you do not agree to be bound by this Agreement, you may not use the Site.'}),y("h2",{className:"terms-privacy-h2",children:"use of site"}),y("p",{className:"terms-privacy-p",children:"The Site provides multimedia content about the Filipino peasantry for educational purposes and to spread awareness about the plight of the Filipino peasantry for peasant empowerment. The content on the Site is not intended to be a substitute for professional advice, diagnosis, or treatment. The Site is available to anyone for use, and is not protected by copyright or intellectual property laws. The Site does not sell any products or advertise any commercial commodities."}),y("h2",{className:"terms-privacy-h2",children:"educational use"}),y("p",{className:"terms-privacy-p",children:"The Site may be used for educational purposes and by like-minded organizations and individuals, granted that this website will be used for spreading awareness about the Filipino peasantry for peasant empowerment. The non-governmental organization reserves the right to monitor such use and may revoke permission at any time."}),y("h2",{className:"terms-privacy-h2",children:"feedback forms"}),y("p",{className:"terms-privacy-p",children:"The Site may contain feedback forms that allow users to submit comments or suggestions to the non-governmental organization. By submitting a feedback form, you acknowledge and agree that the non-governmental organization may use the feedback for any purpose without compensation or attribution to you. The feedback forms are the only user-generated content on the Site."}),y("h2",{className:"terms-privacy-h2",children:"disclaimer of warranties"}),y("p",{className:"terms-privacy-p",children:'The Site is provided "as is" and without warranties of any kind, whether express or implied. To the fullest extent permissible pursuant to applicable law, the non-governmental organization disclaims all warranties, express or implied, including, but not limited to, implied warranties of merchantability and fitness for a particular purpose and non-infringement. The non-governmental organization does not represent or warrant that the Site will be uninterrupted or error-free, that any defects will be corrected, or that the Site or the server that makes the Site available are free of viruses or anything else harmful.'}),y("h2",{className:"terms-privacy-h2",children:"limitation of liability"}),y("p",{className:"terms-privacy-p",children:"The non-governmental organization shall not be liable for any direct, indirect, incidental, special, or consequential damages arising out of or relating to the use or inability to use the Site or any content on the Site. This limitation of liability applies whether the alleged liability is based on contract, tort, negligence, strict liability, or any other basis, even if the non-governmental organization has been advised of the possibility of such damage. The scope of liability is limited to the extent permitted by applicable law, and you acknowledge and agree that this limitation of liability is reasonable."}),y("h2",{className:"terms-privacy-h2",children:"indemnification"}),y("p",{className:"terms-privacy-p",children:"You agree to indemnify, defend, and hold harmless the non-governmental organization, its officers, directors, employees, agents, licensors, and suppliers from and against all claims, losses, expenses, damages, and costs, including reasonable attorneys' fees, arising out of or relating to your use of the Site or any violation of this Agreement by you."}),y("h2",{className:"terms-privacy-h2",children:"governing law and jurisdiction"}),y("p",{className:"terms-privacy-p",children:"This Agreement shall be governed by and construed in accordance with the laws of the Philippines, without regard to its conflict of law provisions. Any dispute arising out of or relating to this Agreement or the breach thereof shall be settled by arbitration in the Philippines in accordance with the rules of the Philippine Dispute Resolution Center, and judgment upon the award rendered by the arbitrator(s) may be entered in any court having jurisdiction thereof."}),y("h2",{className:"terms-privacy-h2",children:"modification of agreement"}),y("p",{className:"terms-privacy-p",children:"The non-governmental organization may modify this Agreement at any time by posting a revised version of the Agreement on the Site. Your continued use of the Site following any such modification constitutes your agreement to be bound by the modified Agreement. The non-governmental organization will also endeavor to notify users of any updates to the Agreement."}),y("p",{className:"terms-privacy-p",children:"By using this Site, you acknowledge that you have read and agree to be bound by this Agreement. If you do not agree to be bound by this Agreement, do not use the Site."}),y("p",{className:"terms-privacy-p",children:"If you have any questions or concerns about these Terms & Conditions, please contact us at uma.pilipinas@gmail.com. Thank you for using 5Siglo."})]})})})]}),document.getElementById("portal")):null}const q1e={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e6},Q1e={position:"fixed",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(10px)",zIndex:1e6};function Z1e({open:n,onClose:e}){return n?Pi.createPortal(F(fs,{children:[y("div",{onClick:e}),y("div",{style:Q1e,onClick:e}),y("div",{style:q1e,children:y("div",{className:"terms-privacy-modal-container",children:F("div",{className:"terms-privacy-modal-text",children:[y("h3",{className:"terms-privacy-h3",children:"privacy policy"}),y("p",{className:"terms-privacy-p",children:'This Privacy Policy ("Policy") outlines how 5Siglo, a website owned and operated by Unyon ng mga Manggagawa sa Agrikultura, collects, uses, and protects any personal information that users may provide while using the website. Please read this Policy carefully before using the website. By using the website, you agree to be bound by this Policy.'}),y("h2",{className:"terms-privacy-h2",children:"data collection"}),y("p",{className:"terms-privacy-p",children:"5Siglo does not collect any personal information from its users. The website is a single-page application that provides multimedia content about the Filipino peasantry for educational purposes and to spread awareness about the plight of the Filipino peasantry for peasant empowerment. The website is public, can be navigated by anyone, and not protected by copyright or intellectual property laws. The website does not use cookies, and it does not have a database for storing personal information."}),y("h2",{className:"terms-privacy-h2",children:"feedback forms"}),y("p",{className:"terms-privacy-p",children:"The website may contain feedback forms that allow users to submit comments or suggestions to the non-governmental organization. By submitting a feedback form, you acknowledge and agree that the non-governmental organization may use the feedback for any purpose without compensation or attribution to you. The feedback forms are the only user-generated content on the website, and they do not require users to provide personal information."}),y("h2",{className:"terms-privacy-h2",children:"protection of personal information"}),y("p",{className:"terms-privacy-p",children:"Since the website does not collect personal information, no user data is stored or processed on the website. Any feedback provided through the feedback forms is solely used by the non-governmental organization for internal purposes and is not shared with any third parties."}),y("h2",{className:"terms-privacy-h2",children:"target audience"}),y("p",{className:"terms-privacy-p",children:"The website's originally intended target audience is the urban youth sector. However, it is not exclusive to them, and anyone can access the website for educational purposes and to spread awareness about the Filipino peasantry."}),y("h2",{className:"terms-privacy-h2",children:"modification of policy"}),y("p",{className:"terms-privacy-p",children:"The non-governmental organization may modify this Policy at any time by posting a revised version of the Policy on the website. Your continued use of the website following any such modification constitutes your agreement to be bound by the modified Policy. The non-governmental organization will also endeavor to notify users of any updates to the Policy."}),y("p",{className:"terms-privacy-p",children:"By using this website, you acknowledge that you have read and agree to be bound by this Policy. If you do not agree to be bound by this Policy, do not use the website."}),y("p",{className:"terms-privacy-p",children:"If you have any questions or concerns about this Policy, please contact us at uma.pilipinas@gmail.com. Thank you for using 5Siglo."})]})})})]}),document.getElementById("portal")):null}function eSe(){const[n,e]=N.useState(""),[t,r]=N.useState(""),[i,s]=N.useState(""),[o,a]=N.useState(!1),[l,c]=N.useState(!1),[u,d]=N.useState(!1);return y("div",{className:"about-feedback",children:F("form",{className:"feedback-form",onSubmit:m=>{m.preventDefault(),a(!0);const g=K1e.ref("feedback"),v={name:n,email:t,message:i,timestamp:By.database.ServerValue.TIMESTAMP};g.push(v).then(()=>{e(""),r(""),s(""),a(!1)})},children:[F("div",{className:"feedback-form__title-container",children:[y("h2",{className:"feedback-form__title",children:"your feedback matters"}),y("p",{children:"Want to share your thoughts with us concerning the peasantry or primer?"}),y("p",{children:"Don't hesitate to drop us a message, we are always here to listen."})]}),F("div",{className:"feedback-form__field-container",children:[F("div",{className:"feedback-form__field",children:[y("label",{className:"feedback-form__label",htmlFor:"name",children:y("p",{className:"feedback-form__label",children:"Name"})}),y("input",{className:"feedback-form__input",type:"text",id:"name",value:n,placeholder:"Your name is..?",onChange:m=>e(m.target.value),required:!0,autoComplete:"off"})]}),F("div",{className:"feedback-form__field",children:[y("label",{className:"feedback-form__label",htmlFor:"email",children:y("p",{className:"feedback-form__label",children:"Email"})}),y("input",{className:"feedback-form__input",type:"email",id:"email",value:t,placeholder:"What's your email?",onChange:m=>r(m.target.value),required:!0,autoComplete:"off"})]}),F("div",{className:"feedback-form__field",children:[y("label",{className:"feedback-form__label",htmlFor:"message",children:y("p",{className:"feedback-form__label",children:"Feedback"})}),y("textarea",{className:"feedback-form__input feedback-form__textarea",id:"message",value:i,placeholder:"Any feedback, questions, or concerns?",onChange:m=>s(m.target.value),required:!0,autoComplete:"off"})]}),F("div",{className:"feedback-form__terms-privacy-container",children:[y("button",{type:"button",className:"terms-privacy-btn",onClick:()=>c(!0),children:"Terms"}),y("button",{type:"button",className:"terms-privacy-btn",onClick:()=>d(!0),children:"Privacy"})]}),y(Y1e,{open:l,onClose:()=>c(!1)}),y(Z1e,{open:u,onClose:()=>d(!1)}),y("button",{className:"feedback-form__button",type:"submit",disabled:o,children:o?"Submitting...":"Submit"})]})]})})}const tSe=({setChecked:n})=>F("div",{className:"about-nav",children:[y("input",{type:"checkbox",id:"about-navi-checkbox-toggle"}),y("label",{htmlFor:"about-navi-checkbox-toggle",className:"about-nav-btn-alt",onClick:()=>n(e=>!e),children:y(pk,{className:"material-icons about-btn-alt"})}),y("div",{className:"about-nav-bg",children:" "}),F("div",{className:"about-nav-list about-scroller",children:[y(r0e,{}),y(n0e,{}),y(i0e,{}),y(eSe,{})]})]});var tO={},nSe=zo;Object.defineProperty(tO,"__esModule",{value:!0});var n$=tO.default=void 0,rSe=nSe(Ml()),iSe=Tl,sSe=(0,rSe.default)((0,iSe.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");n$=tO.default=sSe;const oSe=({checked:n,setChecked:e})=>F(fs,{children:[y("input",{type:"checkbox",id:"checkbox_toggle",checked:n,onChange:t=>e(t.target.checked)}),y("label",{htmlFor:"checkbox_toggle",className:"ham",children:y(n$,{className:"material-icons ham-btn"})})]}),aSe=()=>{const[n,e]=N.useState(!1);return N.useState(!1),F("div",{className:"right-header",children:[y(oSe,{}),F("div",{className:"menu",children:[y(Ave,{}),y(bve,{}),y(e0e,{setChecked:e})]}),y(tSe,{}),y(Jye,{})]})},Bp=()=>F("div",{children:[F("div",{className:"nav-header",children:[y(Lre,{}),y(aSe,{})]}),y(ive,{}),y(ove,{})]}),lSe={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e6},cSe={position:"fixed",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(5px)",zIndex:1e6};function uSe({open:n,onClose:e,startTour:t}){if(!n)return null;const r=()=>{t(),e()};return Pi.createPortal(F("div",{children:[y("div",{onClick:e}),y("div",{style:cSe,onClick:e,className:"terms-overlay"}),y("div",{style:lSe,children:y("div",{className:"terms-privacy-modal-container",children:F("div",{className:"terms-privacy-modal-text",children:[y("h3",{className:"terms-privacy-h3",children:"Kamusta po tayo? 🌾"}),y("p",{className:"terms-privacy-p",children:"Welcome to 5Siglo, a 3D interactive website and a multimedia primer on the Filipino peasantry. We're excited to have you here! Our website is designed to provide you with an engaging and informative experience as you explore the struggles and challenges faced by the Filipino peasantry."}),y("p",{className:"terms-privacy-p",children:"To help you get started, we'd like to introduce you to some of the key features of our homepage."}),y("button",{className:"get-started",onClick:r,children:"Click to get started"})]})})})]}),document.getElementById("portal"))}var dSe={attributes:!0,characterData:!0,subtree:!0,childList:!0};function hSe(n,e,t=dSe){N.useEffect(()=>{if(n.current){const r=new MutationObserver(e);return r.observe(n.current,t),()=>{r.disconnect()}}},[e,t])}var r$=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(i,s){return i[0]===t?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];t.call(r,o[1],o[0])}},e}()}(),kR=typeof window<"u"&&typeof document<"u"&&window.document===document,Fw=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),fSe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Fw):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),pSe=2;function mSe(n,e){var t=!1,r=!1,i=0;function s(){t&&(t=!1,n()),r&&a()}function o(){fSe(s)}function a(){var l=Date.now();if(t){if(l-i<pSe)return;r=!0}else t=!0,r=!1,setTimeout(o,e);i=l}return a}var gSe=20,vSe=["top","right","bottom","left","width","height","size","weight"],ySe=typeof MutationObserver<"u",_Se=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=mSe(this.refresh.bind(this),gSe)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!kR||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ySe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!kR||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,i=vSe.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),i$=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},cp=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||Fw},s$=PS(0,0,0,0);function zw(n){return parseFloat(n)||0}function d5(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){var s=n["border-"+i+"-width"];return r+zw(s)},0)}function xSe(n){for(var e=["top","right","bottom","left"],t={},r=0,i=e;r<i.length;r++){var s=i[r],o=n["padding-"+s];t[s]=zw(o)}return t}function bSe(n){var e=n.getBBox();return PS(0,0,e.width,e.height)}function wSe(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return s$;var r=cp(n).getComputedStyle(n),i=xSe(r),s=i.left+i.right,o=i.top+i.bottom,a=zw(r.width),l=zw(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=d5(r,"left","right")+s),Math.round(l+o)!==t&&(l-=d5(r,"top","bottom")+o)),!ESe(n)){var c=Math.round(a+s)-e,u=Math.round(l+o)-t;Math.abs(c)!==1&&(a-=c),Math.abs(u)!==1&&(l-=u)}return PS(i.left,i.top,a,l)}var SSe=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof cp(n).SVGGraphicsElement}:function(n){return n instanceof cp(n).SVGElement&&typeof n.getBBox=="function"}}();function ESe(n){return n===cp(n).document.documentElement}function CSe(n){return kR?SSe(n)?bSe(n):wSe(n):s$}function ASe(n){var e=n.x,t=n.y,r=n.width,i=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return i$(o,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),o}function PS(n,e,t,r){return{x:n,y:e,width:t,height:r}}var MSe=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=PS(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=CSe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),TSe=function(){function n(e,t){var r=ASe(t);i$(this,{target:e,contentRect:r})}return n}(),PSe=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new r$,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof cp(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new MSe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof cp(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new TSe(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),o$=typeof WeakMap<"u"?new WeakMap:new r$,a$=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=_Se.getInstance(),r=new PSe(e,t,this);o$.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){a$.prototype[n]=function(){var e;return(e=o$.get(this))[n].apply(e,arguments)}});var RSe=function(){return typeof Fw.ResizeObserver<"u"?Fw.ResizeObserver:a$}(),ISe=({mutationObservables:n,resizeObservables:e,refresh:t})=>{const[r,i]=N.useState(0),s=N.useRef(document.documentElement||document.body);function o(l){const c=Array.from(l);for(const u of c)if(n){if(!u.attributes)continue;n.find(h=>u.matches(h))&&t(!0)}}function a(l){const c=Array.from(l);for(const u of c)if(e){if(!u.attributes)continue;e.find(h=>u.matches(h))&&i(r+1)}}return hSe(s,l=>{for(const c of l)c.addedNodes.length!==0&&(o(c.addedNodes),a(c.addedNodes)),c.removedNodes.length!==0&&(o(c.removedNodes),a(c.removedNodes))},{childList:!0,subtree:!0}),N.useEffect(()=>{if(!e)return;const l=new RSe(()=>{t()});for(const c of e){const u=document.querySelector(c);u&&l.observe(u)}return()=>{l.disconnect()}},[e,r]),null},NSe=ISe;function rb(n){let e=l$;return n&&(e=n.getBoundingClientRect()),e}function kSe(n,e){const[t,r]=N.useState(l$),i=N.useCallback(()=>{n!=null&&n.current&&r(rb(n==null?void 0:n.current))},[n==null?void 0:n.current]);return N.useEffect(()=>(i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)),[n==null?void 0:n.current,e]),t}var l$={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0};function OSe(n,e){return new Promise(t=>{if(!(n instanceof Element))throw new TypeError("Argument 1 must be an Element");let r=0,i=null;const s=Object.assign({behavior:"smooth"},e);n.scrollIntoView(s),requestAnimationFrame(o);function o(){const a=n==null?void 0:n.getBoundingClientRect().top;if(a===i){if(r++>2)return t(null)}else r=0,i=a;requestAnimationFrame(o)}})}function U_(n){return n<0?0:n}function LSe(n){return typeof n=="object"&&n!==null?{thresholdX:n.x||0,thresholdY:n.y||0}:{thresholdX:n||0,thresholdY:n||0}}function RS(){const n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return{w:n,h:e}}function DSe({top:n,right:e,bottom:t,left:r,threshold:i}){const{w:s,h:o}=RS(),{thresholdX:a,thresholdY:l}=LSe(i);return n<0&&t-n>o?!0:n>=0+l&&r>=0+a&&t<=o-l&&e<=s-a}var BSe=n=>/(left|right)/.test(n),GA=(n,e)=>n>e,VA=(n,e)=>n>e;function FSe(n){return Object.keys(n).map(e=>({position:e,value:n[e]})).sort((e,t)=>t.value-e.value).map(e=>e.position)}var WA=10;function OR(n=WA){return Array.isArray(n)?n[0]?[n[0],n[1]?n[1]:n[0]]:[WA,WA]:[n,n]}var zSe={maskWrapper:()=>({opacity:.7,left:0,top:0,position:"fixed",zIndex:99999,pointerEvents:"none",color:"#000"}),svgWrapper:({windowWidth:n,windowHeight:e,wpx:t,wpy:r})=>({width:n,height:e,left:Number(t)/2,top:Number(r)/2,position:"fixed"}),maskArea:({x:n,y:e,width:t,height:r})=>({x:n,y:e,width:t,height:r,fill:"black",rx:0}),maskRect:({windowWidth:n,windowHeight:e,maskID:t})=>({x:0,y:0,width:n,height:e,fill:"currentColor",mask:`url(#${t})`}),clickArea:({windowWidth:n,windowHeight:e,clipID:t})=>({x:0,y:0,width:n,height:e,fill:"currentcolor",pointerEvents:"auto",clipPath:`url(#${t})`}),highlightedArea:({x:n,y:e,width:t,height:r})=>({x:n,y:e,width:t,height:r,pointerEvents:"auto",fill:"transparent",display:"none"})};function USe(n){return(e,t)=>{const r=zSe[e](t),i=n[e];return i?i(r,t):r}}var HSe=({padding:n=10,wrapperPadding:e=0,onClick:t,onClickHighlighted:r,styles:i={},sizes:s,className:o,highlightedAreaClassName:a,maskId:l,clipId:c})=>{const u=l||h5("mask__"),d=c||h5("clip__"),h=USe(i),[m,g]=OR(n),[v,_]=OR(e),{w:x,h:b}=RS(),w=U_((s==null?void 0:s.width)+m*2),E=U_((s==null?void 0:s.height)+g*2),A=U_((s==null?void 0:s.top)-g-_/2),T=U_((s==null?void 0:s.left)-m-v/2),I=x-v,M=b-_,R=h("maskArea",{x:T,y:A,width:w,height:E}),O=h("highlightedArea",{x:T,y:A,width:w,height:E});return _e.createElement("div",{style:h("maskWrapper",{}),onClick:t,className:o},_e.createElement("svg",{width:I,height:M,xmlns:"http://www.w3.org/2000/svg",style:h("svgWrapper",{windowWidth:I,windowHeight:M,wpx:v,wpy:_})},_e.createElement("defs",null,_e.createElement("mask",{id:u},_e.createElement("rect",{x:0,y:0,width:I,height:M,fill:"white"}),_e.createElement("rect",{style:R,rx:R.rx?1:void 0})),_e.createElement("clipPath",{id:d},_e.createElement("polygon",{points:`0 0, 0 ${M}, ${T} ${M}, ${T} ${A}, ${T+w} ${A}, ${T+w} ${A+E}, ${T} ${A+E}, ${T} ${M}, ${I} ${M}, ${I} 0`}))),_e.createElement("rect",{style:h("maskRect",{windowWidth:I,windowHeight:M,maskID:u})}),_e.createElement("rect",{style:h("clickArea",{windowWidth:I,windowHeight:M,top:A,left:T,width:w,height:E,clipID:d})}),_e.createElement("rect",{style:O,className:a,onClick:r,rx:O.rx?1:void 0})))},GSe=HSe;function h5(n){return n+Math.random().toString(36).substring(2,16)}var VSe={popover:()=>({position:"fixed",maxWidth:353,backgroundColor:"#fff",padding:"24px 30px",boxShadow:"0 0.5em 3em rgba(0, 0, 0, 0.3)",color:"inherit",zIndex:1e5,transition:"transform 0.3s",top:0,left:0})};function WSe(n){return(e,t)=>{const r=VSe[e](t),i=n[e];return i?i(r,t):r}}var jSe=({children:n,position:e="bottom",padding:t=10,styles:r={},sizes:i,refresher:s,...o})=>{const a=N.useRef(null),l=N.useRef(""),c=N.useRef(""),u=N.useRef(""),{w:d,h}=RS(),m=WSe(r),g=kSe(a,s),{width:v,height:_}=g,x=i==null?void 0:i.left,b=i==null?void 0:i.top,w=i==null?void 0:i.right,E=i==null?void 0:i.bottom,A=e&&typeof e=="function"?e({width:v,height:_,windowWidth:d,windowHeight:h,top:b,left:x,right:w,bottom:E,x:i.x,y:i.y},g):e,T={left:x,right:d-w,top:b,bottom:h-E},[I,M]=OR(t),R=W=>T[W]>(BSe(W)?v+I*2:_+M*2),O=W=>{const K=FSe(T);for(let U=0;U<K.length;U++)if(R(K[U]))return l.current=K[U],W[K[U]];return l.current="center",W.center},X=(W=>{if(Array.isArray(W)){const z=GA(W[0],d),Z=VA(W[1],h);return l.current="custom",[z?d/2-v/2:W[0],Z?h/2-_/2:W[1]]}const K=GA(x+v,d)?w-v+I:x-I,U=K>I?K:I,ee=VA(b+_,h)?E-_+M:b-M,Q=ee>M?ee:M;VA(b+_,h)?c.current="bottom":c.current="top",GA(x+v,d)?u.current="left":u.current="right";const D={top:[U,b-_-M*2],right:[w+I*2,Q],bottom:[U,E+M*2],left:[x-v-I*2,Q],center:[d/2-v/2,h/2-_/2]};return W==="center"||R(W)?(l.current=W,D[W]):O(D)})(A);return _e.createElement("div",{className:"reactour__popover",style:{...m("popover",{position:l.current,verticalAlign:c.current,horizontalAlign:u.current}),transform:`translate(${Math.round(X[0])}px, ${Math.round(X[1])}px)`},ref:a,...o},n)},$Se=jSe,KSe=Object.defineProperty,XSe=Object.defineProperties,JSe=Object.getOwnPropertyDescriptors,Uw=Object.getOwnPropertySymbols,c$=Object.prototype.hasOwnProperty,u$=Object.prototype.propertyIsEnumerable,f5=(n,e,t)=>e in n?KSe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ai=(n,e)=>{for(var t in e||(e={}))c$.call(e,t)&&f5(n,t,e[t]);if(Uw)for(var t of Uw(e))u$.call(e,t)&&f5(n,t,e[t]);return n},nO=(n,e)=>XSe(n,JSe(e)),Jv=(n,e)=>{var t={};for(var r in n)c$.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Uw)for(var r of Uw(n))e.indexOf(r)<0&&u$.call(n,r)&&(t[r]=n[r]);return t},YSe={bottom:0,height:0,left:0,right:0,top:0,width:0,windowWidth:0,windowHeight:0,x:0,y:0};function qSe(n,e={block:"center",behavior:"smooth",inViewThreshold:0}){const[t,r]=N.useState(!1),[i,s]=N.useState(!1),[o,a]=N.useState(!1),[l,c]=N.useState(null),[u,d]=N.useState(YSe),h=(n==null?void 0:n.selector)instanceof Element?n==null?void 0:n.selector:document.querySelector(n==null?void 0:n.selector),m=N.useCallback(()=>{const v=p5(h,n==null?void 0:n.highlightedSelectors,n==null?void 0:n.bypassElem),_=Jv(v,["hasHighligtedElems"]);Object.entries(u).some(([x,b])=>_[x]!==b)&&d(_)},[h,n==null?void 0:n.highlightedSelectors,u]);N.useEffect(()=>(m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)),[h,n==null?void 0:n.highlightedSelectors,l]),N.useEffect(()=>{!DSe(nO(Ai({},u),{threshold:e.inViewThreshold}))&&h&&(r(!0),OSe(h,e).then(()=>{i||c(Date.now())}).finally(()=>{r(!1)}))},[u]);const g=N.useCallback(()=>{s(!0);const v=p5(h,n==null?void 0:n.highlightedSelectors,n==null?void 0:n.bypassElem),{hasHighligtedElems:_}=v,x=Jv(v,["hasHighligtedElems"]);a(_),d(x),s(!1)},[h,n==null?void 0:n.highlightedSelectors,u]);return{sizes:u,transition:t,target:h,observableRefresher:g,isHighlightingObserved:o}}function p5(n,e=[],t=!0){let r=!1;const{w:i,h:s}=RS();if(!e)return nO(Ai({},rb(n)),{windowWidth:i,windowHeight:s,hasHighligtedElems:!1});let o=rb(n),a={bottom:0,height:0,left:i,right:0,top:s,width:0};for(const c of e){const u=document.querySelector(c);if(!u||u.style.display==="none"||u.style.visibility==="hidden")continue;const d=rb(u);r=!0,t||!n?(d.top<a.top&&(a.top=d.top),d.right>a.right&&(a.right=d.right),d.bottom>a.bottom&&(a.bottom=d.bottom),d.left<a.left&&(a.left=d.left),a.width=a.right-a.left,a.height=a.bottom-a.top):(d.top<o.top&&(o.top=d.top),d.right>o.right&&(o.right=d.right),d.bottom>o.bottom&&(o.bottom=d.bottom),d.left<o.left&&(o.left=d.left),o.width=o.right-o.left,o.height=o.bottom-o.top)}const l=t||!n?a.width>0&&a.height>0:!1;return{left:(l?a:o).left,top:(l?a:o).top,right:(l?a:o).right,bottom:(l?a:o).bottom,width:(l?a:o).width,height:(l?a:o).height,windowWidth:i,windowHeight:s,hasHighligtedElems:r,x:o.x,y:o.y}}var QSe=({disableKeyboardNavigation:n,setCurrentStep:e,currentStep:t,setIsOpen:r,stepsLength:i,disable:s,rtl:o,clickProps:a,keyboardHandler:l})=>{function c(u){if(u.stopPropagation(),n===!0||s)return;let d,h,m;n&&(d=n.includes("esc"),h=n.includes("right"),m=n.includes("left"));function g(){e(Math.min(t+1,i-1))}function v(){e(Math.max(t-1,0))}l&&typeof l=="function"?l(u,a,{isEscDisabled:d,isRightDisabled:h,isLeftDisabled:m}):(u.keyCode===27&&!d&&(u.preventDefault(),r(!1)),u.keyCode===39&&!h&&(u.preventDefault(),o?v():g()),u.keyCode===37&&!m&&(u.preventDefault(),o?g():v()))}return N.useEffect(()=>(window.addEventListener("keydown",c,!1),()=>{window.removeEventListener("keydown",c)}),[s,e,t]),null},ZSe=QSe,eEe={badge:()=>({position:"absolute",fontFamily:"monospace",background:"var(--reactour-accent,#007aff)",height:"1.875em",lineHeight:2,paddingLeft:"0.8125em",paddingRight:"0.8125em",fontSize:"1em",borderRadius:"1.625em",color:"white",textAlign:"center",boxShadow:"0 0.25em 0.5em rgba(0, 0, 0, 0.3)",top:"-0.8125em",left:"-0.8125em"}),controls:()=>({display:"flex",marginTop:24,alignItems:"center",justifyContent:"space-between"}),navigation:()=>({counterReset:"dot",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"}),button:({disabled:n})=>({display:"block",padding:0,border:0,background:"none",cursor:n?"not-allowed":"pointer"}),arrow:({disabled:n})=>({color:n?"#caccce":"#646464",width:16,height:12,flex:"0 0 16px"}),dot:({current:n,disabled:e,showNumber:t})=>({counterIncrement:"dot",width:8,height:8,border:n?"0":"1px solid #caccce",borderRadius:"100%",padding:0,display:"block",margin:4,transition:"opacity 0.3s, transform 0.3s",cursor:e?"not-allowed":"pointer",transform:`scale(${n?1.25:1})`,color:n?"var(--reactour-accent, #007aff)":"#caccce",background:n?"var(--reactour-accent, #007aff)":"none"}),close:({disabled:n})=>({position:"absolute",top:22,right:22,width:9,height:9,"--rt-close-btn":n?"#caccce":"#5e5e5e","--rt-close-btn-disabled":n?"#caccce":"#000"}),svg:()=>({display:"block"})};function IS(n){return(e,t)=>{const r=eEe[e](t),i=n[e];return i?i(r,t):r}}var tEe=({styles:n={},children:e})=>{const t=IS(n);return _e.createElement("span",{style:t("badge",{})},e)},nEe=tEe,rEe=n=>{var e=n,{styles:t={},onClick:r,disabled:i}=e,s=Jv(e,["styles","onClick","disabled"]);const o=IS(t);return _e.createElement("button",Ai({className:"reactour__close-button",style:Ai(Ai({},o("button",{})),o("close",{disabled:i})),onClick:r},s),_e.createElement("svg",{viewBox:"0 0 9.1 9.1","aria-hidden":!0,role:"presentation",style:Ai({},o("svg",{}))},_e.createElement("path",{fill:"currentColor",d:"M5.9 4.5l2.8-2.8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L4.5 3.1 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4l2.8 2.8L.3 7.4c-.4.4-.4 1 0 1.4.2.2.4.3.7.3s.5-.1.7-.3L4.5 6l2.8 2.8c.3.2.5.3.8.3s.5-.1.7-.3c.4-.4.4-1 0-1.4L5.9 4.5z"})))},iEe=rEe,sEe=({content:n,setCurrentStep:e,transition:t,isHighlightingObserved:r,currentStep:i,setIsOpen:s})=>typeof n=="function"?n({setCurrentStep:e,transition:t,isHighlightingObserved:r,currentStep:i,setIsOpen:s}):n,oEe=sEe,aEe=({styles:n={},steps:e,setCurrentStep:t,currentStep:r,setIsOpen:i,nextButton:s,prevButton:o,disableDots:a,hideDots:l,hideButtons:c,disableAll:u,rtl:d,Arrow:h=d$})=>{const m=e.length,g=IS(n),v=({onClick:_,kind:x="next",children:b,hideArrow:w})=>{function E(){u||(_&&typeof _=="function"?_():t(x==="next"?Math.min(r+1,m-1):Math.max(r-1,0)))}return _e.createElement("button",{style:g("button",{kind:x,disabled:u||(x==="next"?m-1===r:r===0)}),onClick:E,"aria-label":`Go to ${x} step`},w?null:_e.createElement(h,{styles:n,inverted:d?x==="prev":x==="next",disabled:u||(x==="next"?m-1===r:r===0)}),b)};return _e.createElement("div",{style:g("controls",{}),dir:d?"rtl":"ltr"},c?null:o&&typeof o=="function"?o({Button:v,setCurrentStep:t,currentStep:r,stepsLength:m,setIsOpen:i,steps:e}):_e.createElement(v,{kind:"prev"}),l?null:_e.createElement("div",{style:g("navigation",{})},Array.from({length:m},(_,x)=>x).map(_=>{var x;return _e.createElement("button",{style:g("dot",{current:_===r,disabled:a||u}),onClick:()=>{!a&&!u&&t(_)},key:`navigation_dot_${_}`,"aria-label":((x=e[_])==null?void 0:x.navDotAriaLabel)||`Go to step ${_+1}`})})),c?null:s&&typeof s=="function"?s({Button:v,setCurrentStep:t,currentStep:r,stepsLength:m,setIsOpen:i,steps:e}):_e.createElement(v,null))},lEe=aEe,d$=({styles:n={},inverted:e=!1,disabled:t})=>{const r=IS(n);return _e.createElement("svg",{viewBox:"0 0 18.4 14.4",style:r("arrow",{inverted:e,disabled:t})},_e.createElement("path",{d:e?"M17 7.2H1M10.8 1L17 7.2l-6.2 6.2":"M1.4 7.2h16M7.6 1L1.4 7.2l6.2 6.2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeMiterlimit:"10"}))},cEe={Badge:nEe,Close:iEe,Content:oEe,Navigation:lEe,Arrow:d$},uEe=n=>Ai(Ai({},cEe),n),dEe=({styles:n,components:e={},badgeContent:t,accessibilityOptions:r,disabledActions:i,onClickClose:s,steps:o,setCurrentStep:a,currentStep:l,transition:c,isHighlightingObserved:u,setIsOpen:d,nextButton:h,prevButton:m,disableDotsNavigation:g,rtl:v,showPrevNextButtons:_=!0,showCloseButton:x=!0,showNavigation:b=!0,showBadge:w=!0,showDots:E=!0,meta:A,setMeta:T,setSteps:I})=>{const M=o[l],{Badge:R,Close:O,Content:L,Navigation:X,Arrow:W}=uEe(e),K=t&&typeof t=="function"?t({currentStep:l,totalSteps:o.length,transition:c}):l+1;function U(){i||(s&&typeof s=="function"?s({setCurrentStep:a,setIsOpen:d,currentStep:l,steps:o,meta:A,setMeta:T,setSteps:I}):d(!1))}return _e.createElement(_e.Fragment,null,w?_e.createElement(R,{styles:n},K):null,x?_e.createElement(O,{styles:n,"aria-label":r==null?void 0:r.closeButtonAriaLabel,disabled:i,onClick:U}):null,_e.createElement(L,{content:M==null?void 0:M.content,setCurrentStep:a,currentStep:l,transition:c,isHighlightingObserved:u,setIsOpen:d}),b?_e.createElement(X,{setCurrentStep:a,currentStep:l,setIsOpen:d,steps:o,styles:n,"aria-hidden":!(r!=null&&r.showNavigationScreenReaders),nextButton:h,prevButton:m,disableDots:g,hideButtons:!_,hideDots:!E,disableAll:i,rtl:v,Arrow:W}):null)},hEe=dEe,fEe=n=>{var e=n,{currentStep:t,setCurrentStep:r,setIsOpen:i,steps:s=[],setSteps:o,styles:a={},scrollSmooth:l,afterOpen:c,beforeClose:u,padding:d=10,position:h,onClickMask:m,onClickHighlighted:g,keyboardHandler:v,className:_="reactour__popover",maskClassName:x="reactour__mask",highlightedMaskClassName:b,clipId:w,maskId:E,disableInteraction:A,disableKeyboardNavigation:T,inViewThreshold:I,disabledActions:M,setDisabledActions:R,rtl:O,accessibilityOptions:L={closeButtonAriaLabel:"Close Tour",showNavigationScreenReaders:!0},ContentComponent:X,Wrapper:W,meta:K,setMeta:U,onTransition:ee=()=>"center"}=e,Q=Jv(e,["currentStep","setCurrentStep","setIsOpen","steps","setSteps","styles","scrollSmooth","afterOpen","beforeClose","padding","position","onClickMask","onClickHighlighted","keyboardHandler","className","maskClassName","highlightedMaskClassName","clipId","maskId","disableInteraction","disableKeyboardNavigation","inViewThreshold","disabledActions","setDisabledActions","rtl","accessibilityOptions","ContentComponent","Wrapper","meta","setMeta","onTransition"]),D;const z=s[t],Z=Ai(Ai({},a),z==null?void 0:z.styles),{sizes:he,transition:G,observableRefresher:te,isHighlightingObserved:re,target:q}=qSe(z,{block:"center",behavior:l?"smooth":"auto",inViewThreshold:I});N.useEffect(()=>(c&&typeof c=="function"&&c(q),()=>{u&&typeof u=="function"&&u(q)}),[]);const{maskPadding:$,popoverPadding:me,wrapperPadding:ae}=mEe((D=z==null?void 0:z.padding)!=null?D:d),xe={setCurrentStep:r,setIsOpen:i,currentStep:t,setSteps:o,steps:s,setMeta:U,meta:K};function Ae(){M||(m&&typeof m=="function"?m(xe):i(!1))}const Me=typeof(z==null?void 0:z.stepInteraction)=="boolean"?!(z!=null&&z.stepInteraction):A;N.useEffect(()=>(z!=null&&z.action&&typeof(z==null?void 0:z.action)=="function"&&(z==null||z.action(q)),(z==null?void 0:z.disableActions)!==void 0&&R(z==null?void 0:z.disableActions),()=>{z!=null&&z.actionAfter&&typeof(z==null?void 0:z.actionAfter)=="function"&&(z==null||z.actionAfter(q))}),[z]);const ce=G?ee:z!=null&&z.position?z==null?void 0:z.position:h,ve=W||_e.Fragment;return z?_e.createElement(ve,null,_e.createElement(NSe,{mutationObservables:z==null?void 0:z.mutationObservables,resizeObservables:z==null?void 0:z.resizeObservables,refresh:te}),_e.createElement(ZSe,{setCurrentStep:r,currentStep:t,setIsOpen:i,stepsLength:s.length,disableKeyboardNavigation:T,disable:M,rtl:O,clickProps:xe,keyboardHandler:v}),_e.createElement(GSe,{sizes:G?gEe:he,onClick:Ae,styles:Ai({highlightedArea:Ie=>nO(Ai({},Ie),{display:Me?"block":"none"})},Z),padding:G?0:$,highlightedAreaClassName:b,className:x,onClickHighlighted:g,wrapperPadding:ae,clipId:w,maskId:E}),_e.createElement($Se,{sizes:he,styles:Z,position:ce,padding:me,"aria-labelledby":L==null?void 0:L.ariaLabelledBy,className:_,refresher:t},X?_e.createElement(X,Ai({styles:Z,setCurrentStep:r,currentStep:t,setIsOpen:i,steps:s,accessibilityOptions:L,disabledActions:M,transition:G,isHighlightingObserved:re,rtl:O},Q)):_e.createElement(hEe,Ai({styles:Z,setCurrentStep:r,currentStep:t,setIsOpen:i,steps:s,setSteps:o,accessibilityOptions:L,disabledActions:M,transition:G,isHighlightingObserved:re,rtl:O,meta:K,setMeta:U},Q)))):null},pEe=fEe;function mEe(n){return typeof n=="object"&&n!==null?{maskPadding:n.mask,popoverPadding:n.popover,wrapperPadding:n.wrapper}:{maskPadding:n,popoverPadding:n,wrapperPadding:0}}var gEe={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},vEe={isOpen:!1,setIsOpen:()=>!1,currentStep:0,setCurrentStep:()=>0,steps:[],setSteps:()=>[],setMeta:()=>"",disabledActions:!1,setDisabledActions:()=>!1,components:{}},h$=_e.createContext(vEe),yEe=n=>{var e=n,{children:t,defaultOpen:r=!1,startAt:i=0,steps:s,setCurrentStep:o,currentStep:a}=e,l=Jv(e,["children","defaultOpen","startAt","steps","setCurrentStep","currentStep"]);const[c,u]=N.useState(r),[d,h]=N.useState(i),[m,g]=N.useState(s),[v,_]=N.useState(""),[x,b]=N.useState(!1),w=Ai({isOpen:c,setIsOpen:u,currentStep:a||d,setCurrentStep:o&&typeof o=="function"?o:h,steps:m,setSteps:g,disabledActions:x,setDisabledActions:b,meta:v,setMeta:_},l);return _e.createElement(h$.Provider,{value:w},t,c?_e.createElement(pEe,Ai({},w)):null)};function _Ee(){return N.useContext(h$)}const xEe=()=>{const{setIsOpen:n}=_Ee(),[e,t]=N.useState(!1);return N.useState(!1),F("div",{children:[y(Bp,{}),F("div",{className:"farm-vid-container",children:[y("video",{muted:!0,autoPlay:!0,src:mQ,loop:!0,playsInline:!0,"webkit-playsinline":!0,preload:!0}),F("div",{className:"weblogo-container",children:[y("img",{src:gQ,className:"weblogo-image"}),y("div",{className:"homepage-subtitle",children:y("p",{children:"A Filipino Peasant Primer"})}),F("div",{className:"homepage-btns",children:[y(Hi,{to:"/chapters-directory/chapter-1",style:{color:"white"},children:y("button",{className:"homepage-start-btn",children:"Start"})}),y("button",{className:"homepage-start-btn homepage-guide-btn",onClick:()=>{t(!0)},children:"Guide"})]})]})]}),y(uSe,{open:e,onClose:()=>t(!1),startTour:()=>{n(!0),t(!1),setCurrentStep(0)}})]})};var rO={},bEe=zo;Object.defineProperty(rO,"__esModule",{value:!0});var NS=rO.default=void 0,wEe=bEe(Ml()),SEe=Tl,EEe=(0,wEe.default)((0,SEe.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");NS=rO.default=EEe;const CEe="/assets/Half_Woman-1-ef66260e.png",AEe={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e3},MEe={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(2px)",zIndex:1e3};function TEe({open:n,onClose:e}){const[t,r]=N.useState(0),i=["Oh, hi there. I didn't notice you.","Peasants, you say?","Peasants are basically farmers who are tied to a feudal bondage. Feudal, as in landlord versus peasant. The land we till is not ours.","Land is really important to us, especially when it's what we get our food and livelihood from.","I hope that helped a bit. You can ask the other two if you want to know more, okay?"];N.useEffect(()=>{n||r(0)},[n]);const s=()=>{t<i.length-1?r(t+1):e()};return n&&Pi.createPortal(F(fs,{children:[y("div",{onClick:e}),y("div",{style:MEe,onClick:e}),F("div",{style:AEe,children:[y("div",{className:"dialogue-half-char-container",children:y("img",{src:CEe,className:"dialogue-half-char",alt:"Character"})}),F("div",{className:"dialogue-modal-container",children:[F("div",{className:"dialogue-modal-text",children:[y("h2",{className:"dialogue-modal-h2",children:"Peasant Indigenous Woman"}),y("div",{className:"dialogue-modal-p",children:y("p",{children:i[t]})})]}),y("div",{className:"dialogue-modal-buttons-container",children:t<i.length-1?y("div",{className:"dialogue-modal-buttons-subcontainer",children:y("div",{className:"dialogue-modal-next-container",children:F("button",{className:"dialogue-modal-next-button",onClick:s,children:[y("span",{children:"Next"}),y("svg",{className:"arrow-right-svg",viewBox:"0 0 24 24",children:y(Rl,{})})]})})}):y("div",{className:"dialogue-modal-buttons-subcontainer",children:y("div",{className:"dialogue-modal-next-container",children:F("button",{className:"dialogue-modal-close-button",onClick:e,children:[y("span",{children:"Close"}),y("svg",{className:"close-svg",viewBox:"0 0 24 24",children:y(NS,{})})]})})})})]})]})]}),document.getElementById("portal"))}const PEe="/assets/Half_Man-2-01786d3e.png",REe={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e3},IEe={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(2px)",zIndex:1e3};function NEe({open:n,onClose:e}){const[t,r]=N.useState(0),i=["Hello, I was just fishing a while ago.","Yes, I am a fisherman but I also farm. Do you know peasants can earn from various livelihoods?","Some raise animals. Some are carpenters. Some may also do handicraft work like that lady over there.","Nevertheless, we're still peasants. Landless farmers who have a common dream of having a land of our own."];N.useEffect(()=>{n||r(0)},[n]);const s=()=>{t<i.length-1?r(t+1):e()};return n&&Pi.createPortal(F(fs,{children:[y("div",{onClick:e}),y("div",{style:IEe,onClick:e}),F("div",{style:REe,children:[y("div",{className:"dialogue-half-char-container",children:y("img",{src:PEe,className:"dialogue-half-char",alt:"Character"})}),F("div",{className:"dialogue-modal-container",children:[F("div",{className:"dialogue-modal-text",children:[y("h2",{className:"dialogue-modal-h2",children:"Peasant Fisherman"}),y("div",{className:"dialogue-modal-p",children:y("p",{children:i[t]})})]}),y("div",{className:"dialogue-modal-buttons-container",children:t<i.length-1?y("div",{className:"dialogue-modal-buttons-subcontainer",children:y("div",{className:"dialogue-modal-next-container",children:F("button",{className:"dialogue-modal-next-button",onClick:s,children:[y("span",{children:"Next"}),y("svg",{className:"arrow-right-svg",viewBox:"0 0 24 24",children:y(Rl,{})})]})})}):y("div",{className:"dialogue-modal-buttons-subcontainer",children:y("div",{className:"dialogue-modal-next-container",children:F("button",{className:"dialogue-modal-close-button",onClick:e,children:[y("span",{children:"Close"}),y("svg",{className:"close-svg",viewBox:"0 0 24 24",children:y(NS,{})})]})})})})]})]})]}),document.getElementById("portal"))}const kEe="/assets/Half_Man-1-416e950e.png",OEe={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e3},LEe={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(2px)",zIndex:1e3};function DEe({open:n,onClose:e}){const[t,r]=N.useState(0),i=["Hey, need something?","Sure, I think can share a thing or two.","In the countryside or rural areas, peasants can be rich, middle, or poor.","Of course, they are exactly alike to those in urban areas. The urban rich is different from the rural rich.","Rich, middle, or poor peasant — they are still peasants after all, oppressed and exploited by powerful forces.","Big landlords, corporations, and bureaucrats.","That's pretty much it. Thanks for dropping by."];N.useEffect(()=>{n||r(0)},[n]);const s=()=>{t<i.length-1?r(t+1):e()};return n&&Pi.createPortal(F(fs,{children:[y("div",{onClick:e}),y("div",{style:LEe,onClick:e}),F("div",{style:OEe,children:[y("div",{className:"dialogue-half-char-container",children:y("img",{src:kEe,className:"dialogue-half-char",alt:"Character"})}),F("div",{className:"dialogue-modal-container",children:[F("div",{className:"dialogue-modal-text",children:[y("h2",{className:"dialogue-modal-h2",children:"Peasant Man"}),y("div",{className:"dialogue-modal-p",children:y("p",{children:i[t]})})]}),y("div",{className:"dialogue-modal-buttons-container",children:t<i.length-1?y("div",{className:"dialogue-modal-buttons-subcontainer",children:y("div",{className:"dialogue-modal-next-container",children:F("button",{className:"dialogue-modal-next-button",onClick:s,children:[y("span",{children:"Next"}),y("svg",{className:"arrow-right-svg",viewBox:"0 0 24 24",children:y(Rl,{})})]})})}):y("div",{className:"dialogue-modal-buttons-subcontainer",children:y("div",{className:"dialogue-modal-next-container",children:F("button",{className:"dialogue-modal-close-button",onClick:e,children:[y("span",{children:"Close"}),y("svg",{className:"close-svg",viewBox:"0 0 24 24",children:y(NS,{})})]})})})})]})]})]}),document.getElementById("portal"))}const BEe={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e3},FEe={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(2px)",zIndex:1e3};function zEe({open:n,onClose:e}){return n?Pi.createPortal(F(fs,{children:[y("div",{onClick:e}),y("div",{style:FEe,onClick:e}),y("div",{style:BEe,children:y("div",{className:"sol-modal-container",children:F("div",{className:"sol-modal-text",children:[y("h2",{className:"sol-modal-h2",children:"Chapter 1"}),y("h3",{className:"sol-modal-h3",children:"Introduction"}),y("p",{className:"sol-modal-p",children:"Have you met any peasants here in the Philippines?"}),y("p",{className:"sol-modal-p",children:"This chapter helps us answer and reflect on questions that commonly confuse some people -- Who are the peasants exactly? Where are they situated? What makes a peasant... a peasant?"}),y("p",{className:"sol-modal-p",children:y("i",{children:"To know more, open the Chapter Guide found at the top-right of your screen."})})]})})})]}),document.getElementById("portal")):null}const UEe="/assets/Head_Woman-1-1920765f.png",HEe="/assets/Head_Man-1-4f0a6ce6.png",GEe="/assets/Head_Man-2-9819ac67.png",VEe="/assets/Chapter-1-e0443cc6.webm",WEe=()=>{const[n,e]=N.useState(!1),[t,r]=N.useState(!1),[i,s]=N.useState(!1),[o,a]=N.useState(!1);return _e.useRef(),F("div",{className:"farm-vid-container",children:[y(Bp,{}),y("video",{muted:!0,autoPlay:!0,src:VEe,loop:!0,playsInline:!0,"webkit-playsinline":!0,preload:!0}),F("div",{className:"prec-1 chii-z",children:[F("h1",{className:"page-header-title",children:["chapter1",y("sup",{children:y("button",{className:"about-ch",onClick:()=>a(!0),children:"?"})})]}),y(zEe,{open:o,onClose:()=>a(!1)})]}),F("div",{className:"farm-heads-container",children:[y("button",{className:"farm-head-icon",onClick:()=>e(!0),children:y("img",{className:"farm-head-img",src:UEe,alt:"Head Woman 1"})}),y("button",{className:"farm-head-icon",onClick:()=>r(!0),children:y("img",{className:"farm-head-img",src:GEe,alt:"Head Man 2"})}),y("button",{className:"farm-head-icon",onClick:()=>s(!0),children:y("img",{className:"farm-head-img",src:HEe,alt:"Head Man 1"})}),y(TEe,{open:n,onClose:()=>e(!1)}),y(NEe,{open:t,onClose:()=>r(!1)}),y(DEe,{open:i,onClose:()=>s(!1)})]})]})},jEe={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e3},$Ee={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(2px)",zIndex:1e3};function Fp({open:n,onClose:e}){return n?Pi.createPortal(F(fs,{children:[y("div",{onClick:e}),y("div",{style:$Ee,onClick:e}),y("div",{style:jEe,children:y("div",{className:"sol-modal-container",children:F("div",{className:"sol-modal-text",children:[y("h2",{className:"sol-modal-h2",children:"Chapter 2"}),y("h3",{className:"sol-modal-h3",children:"History of the Peasant Struggle"}),y("p",{className:"sol-modal-p",children:"Chapter 2 illustrates the history of the peasant struggle. This contains four sub-chapters: Pre-Colonial Period, Spanish Colonization Period, American Colonization Period, and the Present Republic of the Philippines."}),y("p",{className:"sol-modal-p",children:y("i",{children:"To know more, open the Chapter Guide found at the top-right of your screen."})})]})})})]}),document.getElementById("portal")):null}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const kS="150",Bu={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Fu={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},f$=0,LR=1,p$=2,KEe=3,m$=0,OS=1,Jg=2,qu=3,Ra=0,us=1,No=2,XEe=2,pl=0,cd=1,DR=2,BR=3,FR=4,g$=5,Vu=100,v$=101,y$=102,zR=103,UR=104,_$=200,x$=201,b$=202,w$=203,iO=204,sO=205,S$=206,E$=207,C$=208,A$=209,M$=210,T$=0,P$=1,R$=2,Hw=3,I$=4,N$=5,k$=6,O$=7,Xy=0,L$=1,D$=2,Bo=0,B$=1,F$=2,z$=3,oO=4,U$=5,LS=300,Sl=301,Yc=302,up=303,Yv=304,zp=306,qc=1e3,si=1001,dp=1002,dr=1003,qv=1004,JEe=1004,Pf=1005,YEe=1005,Dn=1006,DS=1007,qEe=1007,Ia=1008,QEe=1008,El=1009,H$=1010,G$=1011,aO=1012,V$=1013,mc=1014,io=1015,ko=1016,W$=1017,j$=1018,ud=1020,$$=1021,ts=1023,K$=1024,X$=1025,Lc=1026,Rd=1027,J$=1028,Y$=1029,q$=1030,Q$=1031,Z$=1033,ib=33776,sb=33777,ob=33778,ab=33779,HR=35840,GR=35841,VR=35842,WR=35843,e7=36196,jR=37492,$R=37496,KR=37808,XR=37809,JR=37810,YR=37811,qR=37812,QR=37813,ZR=37814,eI=37815,tI=37816,nI=37817,rI=37818,iI=37819,sI=37820,oI=37821,lb=36492,t7=36283,aI=36284,lI=36285,cI=36286,n7=2200,r7=2201,i7=2202,hp=2300,Id=2301,cb=2302,Qu=2400,Zu=2401,Qv=2402,BS=2500,lO=2501,ZEe=0,s7=1,cO=2,Uo=3e3,Ut=3001,o7=3200,a7=3201,Il=0,l7=1,eCe="",To="srgb",fp="srgb-linear",uO="display-p3",tCe=0,ub=7680,nCe=7681,rCe=7682,iCe=7683,sCe=34055,oCe=34056,aCe=5386,lCe=512,cCe=513,uCe=514,dCe=515,hCe=516,fCe=517,pCe=518,c7=519,Zv=35044,mCe=35048,gCe=35040,vCe=35045,yCe=35049,_Ce=35041,xCe=35046,bCe=35050,wCe=35042,SCe="100",uI="300 es",Gw=1035;class ka{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const _i=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let m5=1234567;const dd=Math.PI/180,ey=180/Math.PI;function Ts(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(_i[n&255]+_i[n>>8&255]+_i[n>>16&255]+_i[n>>24&255]+"-"+_i[e&255]+_i[e>>8&255]+"-"+_i[e>>16&15|64]+_i[e>>24&255]+"-"+_i[t&63|128]+_i[t>>8&255]+"-"+_i[t>>16&255]+_i[t>>24&255]+_i[r&255]+_i[r>>8&255]+_i[r>>16&255]+_i[r>>24&255]).toLowerCase()}function yr(n,e,t){return Math.max(e,Math.min(t,n))}function dO(n,e){return(n%e+e)%e}function ECe(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function CCe(n,e,t){return n!==e?(t-n)/(e-n):0}function Yg(n,e,t){return(1-t)*n+t*e}function ACe(n,e,t,r){return Yg(n,e,1-Math.exp(-t*r))}function MCe(n,e=1){return e-Math.abs(dO(n,e*2)-e)}function TCe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function PCe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function RCe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function ICe(n,e){return n+Math.random()*(e-n)}function NCe(n){return n*(.5-Math.random())}function kCe(n){n!==void 0&&(m5=n);let e=m5+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function OCe(n){return n*dd}function LCe(n){return n*ey}function dI(n){return(n&n-1)===0&&n!==0}function u7(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function d7(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function DCe(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),d=s((e-r)/2),h=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*d,l*h,a*c);break;case"YZY":n.set(l*h,a*u,l*d,a*c);break;case"ZXZ":n.set(l*d,l*h,a*u,a*c);break;case"XZX":n.set(a*u,l*g,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*g,a*c);break;case"ZYZ":n.set(l*g,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ol(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function wn(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const h7={DEG2RAD:dd,RAD2DEG:ey,generateUUID:Ts,clamp:yr,euclideanModulo:dO,mapLinear:ECe,inverseLerp:CCe,lerp:Yg,damp:ACe,pingpong:MCe,smoothstep:TCe,smootherstep:PCe,randInt:RCe,randFloat:ICe,randFloatSpread:NCe,seededRandom:kCe,degToRad:OCe,radToDeg:LCe,isPowerOfTwo:dI,ceilPowerOfTwo:u7,floorPowerOfTwo:d7,setQuaternionFromProperEuler:DCe,normalize:wn,denormalize:ol};class Re{constructor(e=0,t=0){Re.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class oi{constructor(){oi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],h=r[2],m=r[5],g=r[8],v=i[0],_=i[3],x=i[6],b=i[1],w=i[4],E=i[7],A=i[2],T=i[5],I=i[8];return s[0]=o*v+a*b+l*A,s[3]=o*_+a*w+l*T,s[6]=o*x+a*E+l*I,s[1]=c*v+u*b+d*A,s[4]=c*_+u*w+d*T,s[7]=c*x+u*E+d*I,s[2]=h*v+m*b+g*A,s[5]=h*_+m*w+g*T,s[8]=h*x+m*E+g*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,h=a*l-u*s,m=c*s-o*l,g=t*d+r*h+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=d*v,e[1]=(i*c-u*r)*v,e[2]=(a*r-i*o)*v,e[3]=h*v,e[4]=(u*t-i*l)*v,e[5]=(i*s-a*t)*v,e[6]=m*v,e[7]=(r*l-c*t)*v,e[8]=(o*t-r*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(jA.makeScale(e,t)),this}rotate(e){return this.premultiply(jA.makeRotation(-e)),this}translate(e,t){return this.premultiply(jA.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const jA=new oi;function f7(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const BCe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function lf(n,e){return new BCe[n](e)}function ty(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}class li{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const h=s[o+0],m=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(a===1){e[t+0]=h,e[t+1]=m,e[t+2]=g,e[t+3]=v;return}if(d!==v||l!==h||c!==m||u!==g){let _=1-a;const x=l*h+c*m+u*g+d*v,b=x>=0?1:-1,w=1-x*x;if(w>Number.EPSILON){const A=Math.sqrt(w),T=Math.atan2(A,x*b);_=Math.sin(_*T)/A,a=Math.sin(a*T)/A}const E=a*b;if(l=l*_+h*E,c=c*_+m*E,u=u*_+g*E,d=d*_+v*E,_===1-a){const A=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=A,c*=A,u*=A,d*=A}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=s[o],h=s[o+1],m=s[o+2],g=s[o+3];return e[t]=a*g+u*d+l*m-c*h,e[t+1]=l*g+u*h+c*d-a*m,e[t+2]=c*g+u*m+a*h-l*d,e[t+3]=u*g-a*d-l*h-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(s/2),h=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=h*u*d+c*m*g,this._y=c*m*d-h*u*g,this._z=c*u*g+h*m*d,this._w=c*u*d-h*m*g;break;case"YXZ":this._x=h*u*d+c*m*g,this._y=c*m*d-h*u*g,this._z=c*u*g-h*m*d,this._w=c*u*d+h*m*g;break;case"ZXY":this._x=h*u*d-c*m*g,this._y=c*m*d+h*u*g,this._z=c*u*g+h*m*d,this._w=c*u*d-h*m*g;break;case"ZYX":this._x=h*u*d-c*m*g,this._y=c*m*d+h*u*g,this._z=c*u*g-h*m*d,this._w=c*u*d+h*m*g;break;case"YZX":this._x=h*u*d+c*m*g,this._y=c*m*d+h*u*g,this._z=c*u*g-h*m*d,this._w=c*u*d-h*m*g;break;case"XZY":this._x=h*u*d-c*m*g,this._y=c*m*d-h*u*g,this._z=c*u*g+h*m*d,this._w=c*u*d+h*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],h=r+a+d;if(h>0){const m=.5/Math.sqrt(h+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>d){const m=2*Math.sqrt(1+r-a-d);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-r-d);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+d-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(yr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,h=Math.sin(t*u)/c;return this._w=o*d+this._w*h,this._x=r*d+this._x*h,this._y=i*d+this._y*h,this._z=s*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class V{constructor(e=0,t=0,r=0){V.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(g5.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(g5.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,u=l*r+a*t-s*i,d=l*i+s*r-o*t,h=-s*t-o*r-a*i;return this.x=c*l+h*-s+u*-a-d*-o,this.y=u*l+h*-o+d*-s-c*-a,this.z=d*l+h*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return $A.copy(this).projectOnVector(e),this.sub($A)}reflect(e){return this.sub($A.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(yr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const $A=new V,g5=new li;function Rf(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function KA(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const FCe=new oi().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),zCe=new oi().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),gc=new V;function UCe(n){return n.convertSRGBToLinear(),gc.set(n.r,n.g,n.b).applyMatrix3(zCe),n.setRGB(gc.x,gc.y,gc.z)}function HCe(n){return gc.set(n.r,n.g,n.b).applyMatrix3(FCe),n.setRGB(gc.x,gc.y,gc.z).convertLinearToSRGB()}const GCe={[fp]:n=>n,[To]:n=>n.convertSRGBToLinear(),[uO]:UCe},VCe={[fp]:n=>n,[To]:n=>n.convertLinearToSRGB(),[uO]:HCe},wi={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return fp},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=GCe[e],i=VCe[t];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let _h;class hO{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{_h===void 0&&(_h=ty("canvas")),_h.width=e.width,_h.height=e.height;const r=_h.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=_h}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=ty("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Rf(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Rf(t[r]/255)*255):t[r]=Rf(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class ed{constructor(e=null){this.isSource=!0,this.uuid=Ts(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(XA(i[o].image)):s.push(XA(i[o]))}else s=XA(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function XA(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?hO.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let WCe=0;class Kn extends ka{constructor(e=Kn.DEFAULT_IMAGE,t=Kn.DEFAULT_MAPPING,r=si,i=si,s=Dn,o=Ia,a=ts,l=El,c=Kn.DEFAULT_ANISOTROPY,u=Uo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:WCe++}),this.uuid=Ts(),this.name="",this.source=new ed(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Re(0,0),this.repeat=new Re(1,1),this.center=new Re(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new oi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==LS)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case qc:e.x=e.x-Math.floor(e.x);break;case si:e.x=e.x<0?0:1;break;case dp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case qc:e.y=e.y-Math.floor(e.y);break;case si:e.y=e.y<0?0:1;break;case dp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Kn.DEFAULT_IMAGE=null;Kn.DEFAULT_MAPPING=LS;Kn.DEFAULT_ANISOTROPY=1;class gn{constructor(e=0,t=0,r=0,i=1){gn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],d=l[8],h=l[1],m=l[5],g=l[9],v=l[2],_=l[6],x=l[10];if(Math.abs(u-h)<.01&&Math.abs(d-v)<.01&&Math.abs(g-_)<.01){if(Math.abs(u+h)<.1&&Math.abs(d+v)<.1&&Math.abs(g+_)<.1&&Math.abs(c+m+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(c+1)/2,E=(m+1)/2,A=(x+1)/2,T=(u+h)/4,I=(d+v)/4,M=(g+_)/4;return w>E&&w>A?w<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(w),i=T/r,s=I/r):E>A?E<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(E),r=T/i,s=M/i):A<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(A),r=I/s,i=M/s),this.set(r,i,s,t),this}let b=Math.sqrt((_-g)*(_-g)+(d-v)*(d-v)+(h-u)*(h-u));return Math.abs(b)<.001&&(b=1),this.x=(_-g)/b,this.y=(d-v)/b,this.z=(h-u)/b,this.w=Math.acos((c+m+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ho extends ka{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new gn(0,0,e,t),this.scissorTest=!1,this.viewport=new gn(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new Kn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Dn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new ed(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class FS extends Kn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=dr,this.minFilter=dr,this.wrapR=si,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class jCe extends Ho{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new FS(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class fO extends Kn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=dr,this.minFilter=dr,this.wrapR=si,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class $Ce extends Ho{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new fO(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class KCe extends Ho{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class su{constructor(e=new V(1/0,1/0,1/0),t=new V(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],h=e[l+2];u<t&&(t=u),d<r&&(r=d),h<i&&(i=h),u>s&&(s=u),d>o&&(o=d),h>a&&(a=h)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),h=e.getZ(l);u<t&&(t=u),d<r&&(r=d),h<i&&(i=h),u>s&&(s=u),d>o&&(o=d),h>a&&(a=h)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=bu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)bu.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(bu)}else r.boundingBox===null&&r.computeBoundingBox(),JA.copy(r.boundingBox),JA.applyMatrix4(e.matrixWorld),this.union(JA);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,bu),bu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Gm),H_.subVectors(this.max,Gm),xh.subVectors(e.a,Gm),bh.subVectors(e.b,Gm),wh.subVectors(e.c,Gm),jl.subVectors(bh,xh),$l.subVectors(wh,bh),wu.subVectors(xh,wh);let t=[0,-jl.z,jl.y,0,-$l.z,$l.y,0,-wu.z,wu.y,jl.z,0,-jl.x,$l.z,0,-$l.x,wu.z,0,-wu.x,-jl.y,jl.x,0,-$l.y,$l.x,0,-wu.y,wu.x,0];return!YA(t,xh,bh,wh,H_)||(t=[1,0,0,0,1,0,0,0,1],!YA(t,xh,bh,wh,H_))?!1:(G_.crossVectors(jl,$l),t=[G_.x,G_.y,G_.z],YA(t,xh,bh,wh,H_))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,bu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(bu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ja[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ja[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ja[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ja[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ja[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ja[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ja[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ja[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ja),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ja=[new V,new V,new V,new V,new V,new V,new V,new V],bu=new V,JA=new su,xh=new V,bh=new V,wh=new V,jl=new V,$l=new V,wu=new V,Gm=new V,H_=new V,G_=new V,Su=new V;function YA(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Su.fromArray(n,s);const a=i.x*Math.abs(Su.x)+i.y*Math.abs(Su.y)+i.z*Math.abs(Su.z),l=e.dot(Su),c=t.dot(Su),u=r.dot(Su);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const XCe=new su,Vm=new V,qA=new V;class ou{constructor(e=new V,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):XCe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Vm.subVectors(e,this.center);const t=Vm.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Vm,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(qA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Vm.copy(e.center).add(qA)),this.expandByPoint(Vm.copy(e.center).sub(qA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const $a=new V,QA=new V,V_=new V,Kl=new V,ZA=new V,W_=new V,eM=new V;class Jy{constructor(e=new V,t=new V(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,$a)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=$a.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):($a.copy(this.origin).addScaledVector(this.direction,t),$a.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){QA.copy(e).add(t).multiplyScalar(.5),V_.copy(t).sub(e).normalize(),Kl.copy(this.origin).sub(QA);const s=e.distanceTo(t)*.5,o=-this.direction.dot(V_),a=Kl.dot(this.direction),l=-Kl.dot(V_),c=Kl.lengthSq(),u=Math.abs(1-o*o);let d,h,m,g;if(u>0)if(d=o*l-a,h=o*a-l,g=s*u,d>=0)if(h>=-g)if(h<=g){const v=1/u;d*=v,h*=v,m=d*(d+o*h+2*a)+h*(o*d+h+2*l)+c}else h=s,d=Math.max(0,-(o*h+a)),m=-d*d+h*(h+2*l)+c;else h=-s,d=Math.max(0,-(o*h+a)),m=-d*d+h*(h+2*l)+c;else h<=-g?(d=Math.max(0,-(-o*s+a)),h=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+h*(h+2*l)+c):h<=g?(d=0,h=Math.min(Math.max(-s,-l),s),m=h*(h+2*l)+c):(d=Math.max(0,-(o*s+a)),h=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+h*(h+2*l)+c);else h=o>0?-s:s,d=Math.max(0,-(o*h+a)),m=-d*d+h*(h+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(QA).addScaledVector(V_,h),m}intersectSphere(e,t){$a.subVectors(e.center,this.origin);const r=$a.dot(this.direction),i=$a.dot($a)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(r=(e.min.x-h.x)*c,i=(e.max.x-h.x)*c):(r=(e.max.x-h.x)*c,i=(e.min.x-h.x)*c),u>=0?(s=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(a=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,$a)!==null}intersectTriangle(e,t,r,i,s){ZA.subVectors(t,e),W_.subVectors(r,e),eM.crossVectors(ZA,W_);let o=this.direction.dot(eM),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Kl.subVectors(this.origin,e);const l=a*this.direction.dot(W_.crossVectors(Kl,W_));if(l<0)return null;const c=a*this.direction.dot(ZA.cross(Kl));if(c<0||l+c>o)return null;const u=-a*Kl.dot(eM);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class vt{constructor(){vt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,c,u,d,h,m,g,v,_){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=c,x[6]=u,x[10]=d,x[14]=h,x[3]=m,x[7]=g,x[11]=v,x[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new vt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Sh.setFromMatrixColumn(e,0).length(),s=1/Sh.setFromMatrixColumn(e,1).length(),o=1/Sh.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const h=o*u,m=o*d,g=a*u,v=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=m+g*c,t[5]=h-v*c,t[9]=-a*l,t[2]=v-h*c,t[6]=g+m*c,t[10]=o*l}else if(e.order==="YXZ"){const h=l*u,m=l*d,g=c*u,v=c*d;t[0]=h+v*a,t[4]=g*a-m,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=m*a-g,t[6]=v+h*a,t[10]=o*l}else if(e.order==="ZXY"){const h=l*u,m=l*d,g=c*u,v=c*d;t[0]=h-v*a,t[4]=-o*d,t[8]=g+m*a,t[1]=m+g*a,t[5]=o*u,t[9]=v-h*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const h=o*u,m=o*d,g=a*u,v=a*d;t[0]=l*u,t[4]=g*c-m,t[8]=h*c+v,t[1]=l*d,t[5]=v*c+h,t[9]=m*c-g,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const h=o*l,m=o*c,g=a*l,v=a*c;t[0]=l*u,t[4]=v-h*d,t[8]=g*d+m,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*d+g,t[10]=h-v*d}else if(e.order==="XZY"){const h=o*l,m=o*c,g=a*l,v=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=h*d+v,t[5]=o*u,t[9]=m*d-g,t[2]=g*d-m,t[6]=a*u,t[10]=v*d+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(JCe,e,YCe)}lookAt(e,t,r){const i=this.elements;return _s.subVectors(e,t),_s.lengthSq()===0&&(_s.z=1),_s.normalize(),Xl.crossVectors(r,_s),Xl.lengthSq()===0&&(Math.abs(r.z)===1?_s.x+=1e-4:_s.z+=1e-4,_s.normalize(),Xl.crossVectors(r,_s)),Xl.normalize(),j_.crossVectors(_s,Xl),i[0]=Xl.x,i[4]=j_.x,i[8]=_s.x,i[1]=Xl.y,i[5]=j_.y,i[9]=_s.y,i[2]=Xl.z,i[6]=j_.z,i[10]=_s.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],h=r[9],m=r[13],g=r[2],v=r[6],_=r[10],x=r[14],b=r[3],w=r[7],E=r[11],A=r[15],T=i[0],I=i[4],M=i[8],R=i[12],O=i[1],L=i[5],X=i[9],W=i[13],K=i[2],U=i[6],ee=i[10],Q=i[14],D=i[3],z=i[7],Z=i[11],he=i[15];return s[0]=o*T+a*O+l*K+c*D,s[4]=o*I+a*L+l*U+c*z,s[8]=o*M+a*X+l*ee+c*Z,s[12]=o*R+a*W+l*Q+c*he,s[1]=u*T+d*O+h*K+m*D,s[5]=u*I+d*L+h*U+m*z,s[9]=u*M+d*X+h*ee+m*Z,s[13]=u*R+d*W+h*Q+m*he,s[2]=g*T+v*O+_*K+x*D,s[6]=g*I+v*L+_*U+x*z,s[10]=g*M+v*X+_*ee+x*Z,s[14]=g*R+v*W+_*Q+x*he,s[3]=b*T+w*O+E*K+A*D,s[7]=b*I+w*L+E*U+A*z,s[11]=b*M+w*X+E*ee+A*Z,s[15]=b*R+w*W+E*Q+A*he,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],h=e[10],m=e[14],g=e[3],v=e[7],_=e[11],x=e[15];return g*(+s*l*d-i*c*d-s*a*h+r*c*h+i*a*m-r*l*m)+v*(+t*l*m-t*c*h+s*o*h-i*o*m+i*c*u-s*l*u)+_*(+t*c*d-t*a*m-s*o*d+r*o*m+s*a*u-r*c*u)+x*(-i*a*u-t*l*d+t*a*h+i*o*d-r*o*h+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],m=e[11],g=e[12],v=e[13],_=e[14],x=e[15],b=d*_*c-v*h*c+v*l*m-a*_*m-d*l*x+a*h*x,w=g*h*c-u*_*c-g*l*m+o*_*m+u*l*x-o*h*x,E=u*v*c-g*d*c+g*a*m-o*v*m-u*a*x+o*d*x,A=g*d*l-u*v*l-g*a*h+o*v*h+u*a*_-o*d*_,T=t*b+r*w+i*E+s*A;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/T;return e[0]=b*I,e[1]=(v*h*s-d*_*s-v*i*m+r*_*m+d*i*x-r*h*x)*I,e[2]=(a*_*s-v*l*s+v*i*c-r*_*c-a*i*x+r*l*x)*I,e[3]=(d*l*s-a*h*s-d*i*c+r*h*c+a*i*m-r*l*m)*I,e[4]=w*I,e[5]=(u*_*s-g*h*s+g*i*m-t*_*m-u*i*x+t*h*x)*I,e[6]=(g*l*s-o*_*s-g*i*c+t*_*c+o*i*x-t*l*x)*I,e[7]=(o*h*s-u*l*s+u*i*c-t*h*c-o*i*m+t*l*m)*I,e[8]=E*I,e[9]=(g*d*s-u*v*s-g*r*m+t*v*m+u*r*x-t*d*x)*I,e[10]=(o*v*s-g*a*s+g*r*c-t*v*c-o*r*x+t*a*x)*I,e[11]=(u*a*s-o*d*s-u*r*c+t*d*c+o*r*m-t*a*m)*I,e[12]=A*I,e[13]=(u*v*i-g*d*i+g*r*h-t*v*h-u*r*_+t*d*_)*I,e[14]=(g*a*i-o*v*i-g*r*l+t*v*l+o*r*_-t*a*_)*I,e[15]=(o*d*i-u*a*i+u*r*l-t*d*l-o*r*h+t*a*h)*I,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,h=s*c,m=s*u,g=s*d,v=o*u,_=o*d,x=a*d,b=l*c,w=l*u,E=l*d,A=r.x,T=r.y,I=r.z;return i[0]=(1-(v+x))*A,i[1]=(m+E)*A,i[2]=(g-w)*A,i[3]=0,i[4]=(m-E)*T,i[5]=(1-(h+x))*T,i[6]=(_+b)*T,i[7]=0,i[8]=(g+w)*I,i[9]=(_-b)*I,i[10]=(1-(h+v))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Sh.set(i[0],i[1],i[2]).length();const o=Sh.set(i[4],i[5],i[6]).length(),a=Sh.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],wo.copy(this);const c=1/s,u=1/o,d=1/a;return wo.elements[0]*=c,wo.elements[1]*=c,wo.elements[2]*=c,wo.elements[4]*=u,wo.elements[5]*=u,wo.elements[6]*=u,wo.elements[8]*=d,wo.elements[9]*=d,wo.elements[10]*=d,t.setFromRotationMatrix(wo),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),u=(t+e)/(t-e),d=(r+i)/(r-i),h=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),u=1/(o-s),d=(t+e)*l,h=(r+i)*c,m=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Sh=new V,wo=new vt,JCe=new V(0,0,0),YCe=new V(1,1,1),Xl=new V,j_=new V,_s=new V,v5=new vt,y5=new li;class Yy{constructor(e=0,t=0,r=0,i=Yy.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],h=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(yr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-yr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(yr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-yr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(yr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-yr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return v5.makeRotationFromQuaternion(e),this.setFromRotationMatrix(v5,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return y5.setFromEuler(this),this.setFromQuaternion(y5,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Yy.DEFAULT_ORDER="XYZ";class hd{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let qCe=0;const _5=new V,Eh=new li,Ka=new vt,$_=new V,Wm=new V,QCe=new V,ZCe=new li,x5=new V(1,0,0),b5=new V(0,1,0),w5=new V(0,0,1),eAe={type:"added"},S5={type:"removed"};class Qt extends ka{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:qCe++}),this.uuid=Ts(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Qt.DEFAULT_UP.clone();const e=new V,t=new Yy,r=new li,i=new V(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new vt},normalMatrix:{value:new oi}}),this.matrix=new vt,this.matrixWorld=new vt,this.matrixAutoUpdate=Qt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Qt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new hd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Eh.setFromAxisAngle(e,t),this.quaternion.multiply(Eh),this}rotateOnWorldAxis(e,t){return Eh.setFromAxisAngle(e,t),this.quaternion.premultiply(Eh),this}rotateX(e){return this.rotateOnAxis(x5,e)}rotateY(e){return this.rotateOnAxis(b5,e)}rotateZ(e){return this.rotateOnAxis(w5,e)}translateOnAxis(e,t){return _5.copy(e).applyQuaternion(this.quaternion),this.position.add(_5.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(x5,e)}translateY(e){return this.translateOnAxis(b5,e)}translateZ(e){return this.translateOnAxis(w5,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ka.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?$_.copy(e):$_.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Wm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ka.lookAt(Wm,$_,this.up):Ka.lookAt($_,Wm,this.up),this.quaternion.setFromRotationMatrix(Ka),i&&(Ka.extractRotation(i.matrixWorld),Eh.setFromRotationMatrix(Ka),this.quaternion.premultiply(Eh.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(eAe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(S5)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(S5)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ka.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ka.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ka),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wm,e,QCe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wm,ZCe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),h=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),h.length>0&&(r.skeletons=h),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Qt.DEFAULT_UP=new V(0,1,0);Qt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Qt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const So=new V,Xa=new V,tM=new V,Ja=new V,Ch=new V,Ah=new V,E5=new V,nM=new V,rM=new V,iM=new V;class eo{constructor(e=new V,t=new V,r=new V){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),So.subVectors(e,t),i.cross(So);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){So.subVectors(i,t),Xa.subVectors(r,t),tM.subVectors(e,t);const o=So.dot(So),a=So.dot(Xa),l=So.dot(tM),c=Xa.dot(Xa),u=Xa.dot(tM),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const h=1/d,m=(c*l-a*u)*h,g=(o*u-a*l)*h;return s.set(1-m-g,g,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Ja),Ja.x>=0&&Ja.y>=0&&Ja.x+Ja.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Ja),l.set(0,0),l.addScaledVector(s,Ja.x),l.addScaledVector(o,Ja.y),l.addScaledVector(a,Ja.z),l}static isFrontFacing(e,t,r,i){return So.subVectors(r,t),Xa.subVectors(e,t),So.cross(Xa).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return So.subVectors(this.c,this.b),Xa.subVectors(this.a,this.b),So.cross(Xa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return eo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return eo.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return eo.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return eo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return eo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Ch.subVectors(i,r),Ah.subVectors(s,r),nM.subVectors(e,r);const l=Ch.dot(nM),c=Ah.dot(nM);if(l<=0&&c<=0)return t.copy(r);rM.subVectors(e,i);const u=Ch.dot(rM),d=Ah.dot(rM);if(u>=0&&d<=u)return t.copy(i);const h=l*d-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(Ch,o);iM.subVectors(e,s);const m=Ch.dot(iM),g=Ah.dot(iM);if(g>=0&&m<=g)return t.copy(s);const v=m*c-l*g;if(v<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(r).addScaledVector(Ah,a);const _=u*g-m*d;if(_<=0&&d-u>=0&&m-g>=0)return E5.subVectors(s,i),a=(d-u)/(d-u+(m-g)),t.copy(i).addScaledVector(E5,a);const x=1/(_+v+h);return o=v*x,a=h*x,t.copy(r).addScaledVector(Ch,o).addScaledVector(Ah,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let tAe=0;class Mr extends ka{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:tAe++}),this.uuid=Ts(),this.name="",this.type="Material",this.blending=cd,this.side=Ra,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=iO,this.blendDst=sO,this.blendEquation=Vu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Hw,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=c7,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ub,this.stencilZFail=ub,this.stencilZPass=ub,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==cd&&(r.blending=this.blending),this.side!==Ra&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const p7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Eo={h:0,s:0,l:0},K_={h:0,s:0,l:0};function sM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Ke{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=To){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,wi.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=wi.workingColorSpace){return this.r=e,this.g=t,this.b=r,wi.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=wi.workingColorSpace){if(e=dO(e,1),t=yr(t,0,1),r=yr(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=sM(o,s,e+1/3),this.g=sM(o,s,e),this.b=sM(o,s,e-1/3)}return wi.toWorkingColorSpace(this,i),this}setStyle(e,t=To){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,wi.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,wi.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,u,t)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,wi.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,wi.toWorkingColorSpace(this,t),this;console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=To){const r=p7[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Rf(e.r),this.g=Rf(e.g),this.b=Rf(e.b),this}copyLinearToSRGB(e){return this.r=KA(e.r),this.g=KA(e.g),this.b=KA(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=To){return wi.fromWorkingColorSpace(xi.copy(this),e),yr(xi.r*255,0,255)<<16^yr(xi.g*255,0,255)<<8^yr(xi.b*255,0,255)<<0}getHexString(e=To){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=wi.workingColorSpace){wi.fromWorkingColorSpace(xi.copy(this),t);const r=xi.r,i=xi.g,s=xi.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=wi.workingColorSpace){return wi.fromWorkingColorSpace(xi.copy(this),t),e.r=xi.r,e.g=xi.g,e.b=xi.b,e}getStyle(e=To){wi.fromWorkingColorSpace(xi.copy(this),e);const t=xi.r,r=xi.g,i=xi.b;return e!==To?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${t*255|0},${r*255|0},${i*255|0})`}offsetHSL(e,t,r){return this.getHSL(Eo),Eo.h+=e,Eo.s+=t,Eo.l+=r,this.setHSL(Eo.h,Eo.s,Eo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Eo),e.getHSL(K_);const r=Yg(Eo.h,K_.h,t),i=Yg(Eo.s,K_.s,t),s=Yg(Eo.l,K_.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const xi=new Ke;Ke.NAMES=p7;class Cs extends Mr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Xy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Sr=new V,X_=new Re;class un{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Zv,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)X_.fromBufferAttribute(this,t),X_.applyMatrix3(e),this.setXY(t,X_.x,X_.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Sr.fromBufferAttribute(this,t),Sr.applyMatrix3(e),this.setXYZ(t,Sr.x,Sr.y,Sr.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Sr.fromBufferAttribute(this,t),Sr.applyMatrix4(e),this.setXYZ(t,Sr.x,Sr.y,Sr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Sr.fromBufferAttribute(this,t),Sr.applyNormalMatrix(e),this.setXYZ(t,Sr.x,Sr.y,Sr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Sr.fromBufferAttribute(this,t),Sr.transformDirection(e),this.setXYZ(t,Sr.x,Sr.y,Sr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ol(t,this.array)),t}setX(e,t){return this.normalized&&(t=wn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ol(t,this.array)),t}setY(e,t){return this.normalized&&(t=wn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ol(t,this.array)),t}setZ(e,t){return this.normalized&&(t=wn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ol(t,this.array)),t}setW(e,t){return this.normalized&&(t=wn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=wn(t,this.array),r=wn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=wn(t,this.array),r=wn(r,this.array),i=wn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=wn(t,this.array),r=wn(r,this.array),i=wn(i,this.array),s=wn(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Zv&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class nAe extends un{constructor(e,t,r){super(new Int8Array(e),t,r)}}class rAe extends un{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class iAe extends un{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class sAe extends un{constructor(e,t,r){super(new Int16Array(e),t,r)}}class pO extends un{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class oAe extends un{constructor(e,t,r){super(new Int32Array(e),t,r)}}class mO extends un{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class aAe extends un{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class st extends un{constructor(e,t,r){super(new Float32Array(e),t,r)}}class lAe extends un{constructor(e,t,r){super(new Float64Array(e),t,r)}}let cAe=0;const $s=new vt,oM=new Qt,Mh=new V,xs=new su,jm=new su,Hr=new V;class At extends ka{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:cAe++}),this.uuid=Ts(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(f7(e)?mO:pO)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new oi().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return $s.makeRotationFromQuaternion(e),this.applyMatrix4($s),this}rotateX(e){return $s.makeRotationX(e),this.applyMatrix4($s),this}rotateY(e){return $s.makeRotationY(e),this.applyMatrix4($s),this}rotateZ(e){return $s.makeRotationZ(e),this.applyMatrix4($s),this}translate(e,t,r){return $s.makeTranslation(e,t,r),this.applyMatrix4($s),this}scale(e,t,r){return $s.makeScale(e,t,r),this.applyMatrix4($s),this}lookAt(e){return oM.lookAt(e),oM.updateMatrix(),this.applyMatrix4(oM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Mh).negate(),this.translate(Mh.x,Mh.y,Mh.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new st(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new su);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new V(-1/0,-1/0,-1/0),new V(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];xs.setFromBufferAttribute(s),this.morphTargetsRelative?(Hr.addVectors(this.boundingBox.min,xs.min),this.boundingBox.expandByPoint(Hr),Hr.addVectors(this.boundingBox.max,xs.max),this.boundingBox.expandByPoint(Hr)):(this.boundingBox.expandByPoint(xs.min),this.boundingBox.expandByPoint(xs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ou);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new V,1/0);return}if(e){const r=this.boundingSphere.center;if(xs.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];jm.setFromBufferAttribute(a),this.morphTargetsRelative?(Hr.addVectors(xs.min,jm.min),xs.expandByPoint(Hr),Hr.addVectors(xs.max,jm.max),xs.expandByPoint(Hr)):(xs.expandByPoint(jm.min),xs.expandByPoint(jm.max))}xs.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Hr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Hr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Hr.fromBufferAttribute(a,c),l&&(Mh.fromBufferAttribute(e,c),Hr.add(Mh)),i=Math.max(i,r.distanceToSquared(Hr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new un(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let O=0;O<a;O++)c[O]=new V,u[O]=new V;const d=new V,h=new V,m=new V,g=new Re,v=new Re,_=new Re,x=new V,b=new V;function w(O,L,X){d.fromArray(i,O*3),h.fromArray(i,L*3),m.fromArray(i,X*3),g.fromArray(o,O*2),v.fromArray(o,L*2),_.fromArray(o,X*2),h.sub(d),m.sub(d),v.sub(g),_.sub(g);const W=1/(v.x*_.y-_.x*v.y);isFinite(W)&&(x.copy(h).multiplyScalar(_.y).addScaledVector(m,-v.y).multiplyScalar(W),b.copy(m).multiplyScalar(v.x).addScaledVector(h,-_.x).multiplyScalar(W),c[O].add(x),c[L].add(x),c[X].add(x),u[O].add(b),u[L].add(b),u[X].add(b))}let E=this.groups;E.length===0&&(E=[{start:0,count:r.length}]);for(let O=0,L=E.length;O<L;++O){const X=E[O],W=X.start,K=X.count;for(let U=W,ee=W+K;U<ee;U+=3)w(r[U+0],r[U+1],r[U+2])}const A=new V,T=new V,I=new V,M=new V;function R(O){I.fromArray(s,O*3),M.copy(I);const L=c[O];A.copy(L),A.sub(I.multiplyScalar(I.dot(L))).normalize(),T.crossVectors(M,L);const W=T.dot(u[O])<0?-1:1;l[O*4]=A.x,l[O*4+1]=A.y,l[O*4+2]=A.z,l[O*4+3]=W}for(let O=0,L=E.length;O<L;++O){const X=E[O],W=X.start,K=X.count;for(let U=W,ee=W+K;U<ee;U+=3)R(r[U+0]),R(r[U+1]),R(r[U+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new un(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let h=0,m=r.count;h<m;h++)r.setXYZ(h,0,0,0);const i=new V,s=new V,o=new V,a=new V,l=new V,c=new V,u=new V,d=new V;if(e)for(let h=0,m=e.count;h<m;h+=3){const g=e.getX(h+0),v=e.getX(h+1),_=e.getX(h+2);i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,_),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,_),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(_,c.x,c.y,c.z)}else for(let h=0,m=t.count;h<m;h+=3)i.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),r.setXYZ(h+0,u.x,u.y,u.z),r.setXYZ(h+1,u.x,u.y,u.z),r.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Hr.fromBufferAttribute(e,t),Hr.normalize(),e.setXYZ(t,Hr.x,Hr.y,Hr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,h=new c.constructor(l.length*u);let m=0,g=0;for(let v=0,_=l.length;v<_;v++){a.isInterleavedBufferAttribute?m=l[v]*a.data.stride+a.offset:m=l[v]*u;for(let x=0;x<u;x++)h[g++]=c[m++]}return new un(h,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new At,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const h=c[u],m=e(h,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,h=c.length;d<h;d++){const m=c[d];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let h=0,m=d.length;h<m;h++)u.push(d[h].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const C5=new vt,sa=new Jy,J_=new ou,A5=new V,$m=new V,Km=new V,Xm=new V,aM=new V,Y_=new V,q_=new Re,Q_=new Re,Z_=new Re,lM=new V,ex=new V;class Or extends Qt{constructor(e=new At,t=new Cs){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Y_.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],d=s[l];u!==0&&(aM.fromBufferAttribute(d,e),o?Y_.addScaledVector(aM,u):Y_.addScaledVector(aM.sub(t),u))}t.add(Y_)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),J_.copy(r.boundingSphere),J_.applyMatrix4(s),sa.copy(e.ray).recast(e.near),J_.containsPoint(sa.origin)===!1&&(sa.intersectSphere(J_,A5)===null||sa.origin.distanceToSquared(A5)>(e.far-e.near)**2))||(C5.copy(s).invert(),sa.copy(e.ray).applyMatrix4(C5),r.boundingBox!==null&&sa.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.attributes.uv,u=r.attributes.uv2,d=r.groups,h=r.drawRange;if(a!==null)if(Array.isArray(i))for(let m=0,g=d.length;m<g;m++){const v=d[m],_=i[v.materialIndex],x=Math.max(v.start,h.start),b=Math.min(a.count,Math.min(v.start+v.count,h.start+h.count));for(let w=x,E=b;w<E;w+=3){const A=a.getX(w),T=a.getX(w+1),I=a.getX(w+2);o=tx(this,_,e,sa,c,u,A,T,I),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const m=Math.max(0,h.start),g=Math.min(a.count,h.start+h.count);for(let v=m,_=g;v<_;v+=3){const x=a.getX(v),b=a.getX(v+1),w=a.getX(v+2);o=tx(this,i,e,sa,c,u,x,b,w),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let m=0,g=d.length;m<g;m++){const v=d[m],_=i[v.materialIndex],x=Math.max(v.start,h.start),b=Math.min(l.count,Math.min(v.start+v.count,h.start+h.count));for(let w=x,E=b;w<E;w+=3){const A=w,T=w+1,I=w+2;o=tx(this,_,e,sa,c,u,A,T,I),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const m=Math.max(0,h.start),g=Math.min(l.count,h.start+h.count);for(let v=m,_=g;v<_;v+=3){const x=v,b=v+1,w=v+2;o=tx(this,i,e,sa,c,u,x,b,w),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}}}function uAe(n,e,t,r,i,s,o,a){let l;if(e.side===us?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Ra,a),l===null)return null;ex.copy(a),ex.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(ex);return c<t.near||c>t.far?null:{distance:c,point:ex.clone(),object:n}}function tx(n,e,t,r,i,s,o,a,l){n.getVertexPosition(o,$m),n.getVertexPosition(a,Km),n.getVertexPosition(l,Xm);const c=uAe(n,e,t,r,$m,Km,Xm,lM);if(c){i&&(q_.fromBufferAttribute(i,o),Q_.fromBufferAttribute(i,a),Z_.fromBufferAttribute(i,l),c.uv=eo.getUV(lM,$m,Km,Xm,q_,Q_,Z_,new Re)),s&&(q_.fromBufferAttribute(s,o),Q_.fromBufferAttribute(s,a),Z_.fromBufferAttribute(s,l),c.uv2=eo.getUV(lM,$m,Km,Xm,q_,Q_,Z_,new Re));const u={a:o,b:a,c:l,normal:new V,materialIndex:0};eo.getNormal($m,Km,Xm,u.normal),c.face=u}return c}class au extends At{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let h=0,m=0;g("z","y","x",-1,-1,r,t,e,o,s,0),g("z","y","x",1,-1,r,t,-e,o,s,1),g("x","z","y",1,1,e,r,t,i,o,2),g("x","z","y",1,-1,e,r,-t,i,o,3),g("x","y","z",1,-1,e,t,r,i,s,4),g("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new st(c,3)),this.setAttribute("normal",new st(u,3)),this.setAttribute("uv",new st(d,2));function g(v,_,x,b,w,E,A,T,I,M,R){const O=E/I,L=A/M,X=E/2,W=A/2,K=T/2,U=I+1,ee=M+1;let Q=0,D=0;const z=new V;for(let Z=0;Z<ee;Z++){const he=Z*L-W;for(let G=0;G<U;G++){const te=G*O-X;z[v]=te*b,z[_]=he*w,z[x]=K,c.push(z.x,z.y,z.z),z[v]=0,z[_]=0,z[x]=T>0?1:-1,u.push(z.x,z.y,z.z),d.push(G/I),d.push(1-Z/M),Q+=1}}for(let Z=0;Z<M;Z++)for(let he=0;he<I;he++){const G=h+he+U*Z,te=h+he+U*(Z+1),re=h+(he+1)+U*(Z+1),q=h+(he+1)+U*Z;l.push(G,te,q),l.push(te,re,q),D+=6}a.addGroup(m,D,R),m+=D,h+=Q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new au(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function pp(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Fi(n){const e={};for(let t=0;t<n.length;t++){const r=pp(n[t]);for(const i in r)e[i]=r[i]}return e}function dAe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function m7(n){return n.getRenderTarget()===null&&n.outputEncoding===Ut?To:fp}const g7={clone:pp,merge:Fi};var hAe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fAe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Go extends Mr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=hAe,this.fragmentShader=fAe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=pp(e.uniforms),this.uniformsGroups=dAe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class qy extends Qt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new vt,this.projectionMatrix=new vt,this.projectionMatrixInverse=new vt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Bn extends qy{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=ey*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(dd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ey*2*Math.atan(Math.tan(dd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(dd*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Th=-90,Ph=1;class v7 extends Qt{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new Bn(Th,Ph,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new Bn(Th,Ph,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Bn(Th,Ph,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Bn(Th,Ph,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Bn(Th,Ph,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new Bn(Th,Ph,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,h=e.xr.enabled;e.toneMapping=Bo,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=h,r.texture.needsPMREMUpdate=!0}}class Qy extends Kn{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Sl,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class gO extends Ho{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Qy(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Dn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new au(5,5,5),s=new Go({name:"CubemapFromEquirect",uniforms:pp(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:us,blending:pl});s.uniforms.tEquirect.value=t;const o=new Or(i,s),a=t.minFilter;return t.minFilter===Ia&&(t.minFilter=Dn),new v7(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const cM=new V,pAe=new V,mAe=new oi;class oc{constructor(e=new V(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=cM.subVectors(r,t).cross(pAe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(cM),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||mAe.getNormalMatrix(e),i=this.coplanarPoint(cM).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Rh=new ou,nx=new V;class zS{constructor(e=new oc,t=new oc,r=new oc,i=new oc,s=new oc,o=new oc){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],d=r[7],h=r[8],m=r[9],g=r[10],v=r[11],_=r[12],x=r[13],b=r[14],w=r[15];return t[0].setComponents(a-i,d-l,v-h,w-_).normalize(),t[1].setComponents(a+i,d+l,v+h,w+_).normalize(),t[2].setComponents(a+s,d+c,v+m,w+x).normalize(),t[3].setComponents(a-s,d-c,v-m,w-x).normalize(),t[4].setComponents(a-o,d-u,v-g,w-b).normalize(),t[5].setComponents(a+o,d+u,v+g,w+b).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Rh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Rh)}intersectsSprite(e){return Rh.center.set(0,0,0),Rh.radius=.7071067811865476,Rh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Rh)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(nx.x=i.normal.x>0?e.max.x:e.min.x,nx.y=i.normal.y>0?e.max.y:e.min.y,nx.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(nx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function y7(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function gAe(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const d=c.array,h=c.usage,m=n.createBuffer();n.bindBuffer(u,m),n.bufferData(u,d,h),c.onUploadCallback();let g;if(d instanceof Float32Array)g=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(d instanceof Int16Array)g=5122;else if(d instanceof Uint32Array)g=5125;else if(d instanceof Int32Array)g=5124;else if(d instanceof Int8Array)g=5120;else if(d instanceof Uint8Array)g=5121;else if(d instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,d){const h=u.array,m=u.updateRange;n.bindBuffer(d,c),m.count===-1?n.bufferSubData(d,0,h):(t?n.bufferSubData(d,m.offset*h.BYTES_PER_ELEMENT,h,m.offset,m.count):n.bufferSubData(d,m.offset*h.BYTES_PER_ELEMENT,h.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const h=r.get(c);(!h||h.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d===void 0?r.set(c,i(c,u)):d.version<c.version&&(s(d.buffer,c,u),d.version=c.version)}return{get:o,remove:a,update:l}}class Up extends At{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,h=t/l,m=[],g=[],v=[],_=[];for(let x=0;x<u;x++){const b=x*h-o;for(let w=0;w<c;w++){const E=w*d-s;g.push(E,-b,0),v.push(0,0,1),_.push(w/a),_.push(1-x/l)}}for(let x=0;x<l;x++)for(let b=0;b<a;b++){const w=b+c*x,E=b+c*(x+1),A=b+1+c*(x+1),T=b+1+c*x;m.push(w,E,T),m.push(E,A,T)}this.setIndex(m),this.setAttribute("position",new st(g,3)),this.setAttribute("normal",new st(v,3)),this.setAttribute("uv",new st(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Up(e.width,e.height,e.widthSegments,e.heightSegments)}}var vAe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,yAe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,_Ae=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,xAe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,bAe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,wAe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,SAe="vec3 transformed = vec3( position );",EAe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,CAe=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,AAe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,MAe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,TAe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,PAe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,RAe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,IAe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,NAe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,kAe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,OAe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,LAe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,DAe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,BAe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,FAe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,zAe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,UAe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,HAe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,GAe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,VAe="gl_FragColor = linearToOutputTexel( gl_FragColor );",WAe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,jAe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,$Ae=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,KAe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,XAe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,JAe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,YAe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,qAe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,QAe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,ZAe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,eMe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,tMe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,nMe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,rMe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,iMe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,sMe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,oMe=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,aMe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lMe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,cMe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,uMe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,dMe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,hMe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,fMe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,pMe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,mMe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,gMe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,vMe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,yMe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,_Me=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,xMe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,bMe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,wMe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,SMe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,EMe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,CMe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,AMe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,MMe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,TMe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,PMe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,RMe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,IMe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,NMe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,kMe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,OMe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,LMe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,DMe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,BMe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,FMe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,zMe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,UMe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,HMe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,GMe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,VMe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,WMe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,jMe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,$Me=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,KMe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,XMe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,JMe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,YMe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,qMe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,QMe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ZMe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,eTe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,tTe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,nTe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,rTe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,iTe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,sTe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,oTe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,aTe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		
		vec2 lodFudge = pow( 1.95, lod ) / fullSize;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec2 fullSize = vec2( textureSize( sampler, 0 ) );
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,lTe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,cTe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uTe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,dTe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,hTe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,fTe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,pTe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const mTe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,gTe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vTe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,yTe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,_Te=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,xTe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,bTe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,wTe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,STe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,ETe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,CTe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,ATe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,MTe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,TTe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,PTe=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,RTe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ITe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,NTe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kTe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,OTe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LTe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,DTe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,BTe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,FTe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zTe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,UTe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HTe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,GTe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VTe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,WTe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,jTe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$Te=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,KTe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,XTe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Tt={alphamap_fragment:vAe,alphamap_pars_fragment:yAe,alphatest_fragment:_Ae,alphatest_pars_fragment:xAe,aomap_fragment:bAe,aomap_pars_fragment:wAe,begin_vertex:SAe,beginnormal_vertex:EAe,bsdfs:CAe,iridescence_fragment:AAe,bumpmap_pars_fragment:MAe,clipping_planes_fragment:TAe,clipping_planes_pars_fragment:PAe,clipping_planes_pars_vertex:RAe,clipping_planes_vertex:IAe,color_fragment:NAe,color_pars_fragment:kAe,color_pars_vertex:OAe,color_vertex:LAe,common:DAe,cube_uv_reflection_fragment:BAe,defaultnormal_vertex:FAe,displacementmap_pars_vertex:zAe,displacementmap_vertex:UAe,emissivemap_fragment:HAe,emissivemap_pars_fragment:GAe,encodings_fragment:VAe,encodings_pars_fragment:WAe,envmap_fragment:jAe,envmap_common_pars_fragment:$Ae,envmap_pars_fragment:KAe,envmap_pars_vertex:XAe,envmap_physical_pars_fragment:oMe,envmap_vertex:JAe,fog_vertex:YAe,fog_pars_vertex:qAe,fog_fragment:QAe,fog_pars_fragment:ZAe,gradientmap_pars_fragment:eMe,lightmap_fragment:tMe,lightmap_pars_fragment:nMe,lights_lambert_fragment:rMe,lights_lambert_pars_fragment:iMe,lights_pars_begin:sMe,lights_toon_fragment:aMe,lights_toon_pars_fragment:lMe,lights_phong_fragment:cMe,lights_phong_pars_fragment:uMe,lights_physical_fragment:dMe,lights_physical_pars_fragment:hMe,lights_fragment_begin:fMe,lights_fragment_maps:pMe,lights_fragment_end:mMe,logdepthbuf_fragment:gMe,logdepthbuf_pars_fragment:vMe,logdepthbuf_pars_vertex:yMe,logdepthbuf_vertex:_Me,map_fragment:xMe,map_pars_fragment:bMe,map_particle_fragment:wMe,map_particle_pars_fragment:SMe,metalnessmap_fragment:EMe,metalnessmap_pars_fragment:CMe,morphcolor_vertex:AMe,morphnormal_vertex:MMe,morphtarget_pars_vertex:TMe,morphtarget_vertex:PMe,normal_fragment_begin:RMe,normal_fragment_maps:IMe,normal_pars_fragment:NMe,normal_pars_vertex:kMe,normal_vertex:OMe,normalmap_pars_fragment:LMe,clearcoat_normal_fragment_begin:DMe,clearcoat_normal_fragment_maps:BMe,clearcoat_pars_fragment:FMe,iridescence_pars_fragment:zMe,output_fragment:UMe,packing:HMe,premultiplied_alpha_fragment:GMe,project_vertex:VMe,dithering_fragment:WMe,dithering_pars_fragment:jMe,roughnessmap_fragment:$Me,roughnessmap_pars_fragment:KMe,shadowmap_pars_fragment:XMe,shadowmap_pars_vertex:JMe,shadowmap_vertex:YMe,shadowmask_pars_fragment:qMe,skinbase_vertex:QMe,skinning_pars_vertex:ZMe,skinning_vertex:eTe,skinnormal_vertex:tTe,specularmap_fragment:nTe,specularmap_pars_fragment:rTe,tonemapping_fragment:iTe,tonemapping_pars_fragment:sTe,transmission_fragment:oTe,transmission_pars_fragment:aTe,uv_pars_fragment:lTe,uv_pars_vertex:cTe,uv_vertex:uTe,uv2_pars_fragment:dTe,uv2_pars_vertex:hTe,uv2_vertex:fTe,worldpos_vertex:pTe,background_vert:mTe,background_frag:gTe,backgroundCube_vert:vTe,backgroundCube_frag:yTe,cube_vert:_Te,cube_frag:xTe,depth_vert:bTe,depth_frag:wTe,distanceRGBA_vert:STe,distanceRGBA_frag:ETe,equirect_vert:CTe,equirect_frag:ATe,linedashed_vert:MTe,linedashed_frag:TTe,meshbasic_vert:PTe,meshbasic_frag:RTe,meshlambert_vert:ITe,meshlambert_frag:NTe,meshmatcap_vert:kTe,meshmatcap_frag:OTe,meshnormal_vert:LTe,meshnormal_frag:DTe,meshphong_vert:BTe,meshphong_frag:FTe,meshphysical_vert:zTe,meshphysical_frag:UTe,meshtoon_vert:HTe,meshtoon_frag:GTe,points_vert:VTe,points_frag:WTe,shadow_vert:jTe,shadow_frag:$Te,sprite_vert:KTe,sprite_frag:XTe},Xe={common:{diffuse:{value:new Ke(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new oi},uv2Transform:{value:new oi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Re(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ke(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ke(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new oi}},sprite:{diffuse:{value:new Ke(16777215)},opacity:{value:1},center:{value:new Re(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new oi}}},Ro={basic:{uniforms:Fi([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.fog]),vertexShader:Tt.meshbasic_vert,fragmentShader:Tt.meshbasic_frag},lambert:{uniforms:Fi([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,Xe.lights,{emissive:{value:new Ke(0)}}]),vertexShader:Tt.meshlambert_vert,fragmentShader:Tt.meshlambert_frag},phong:{uniforms:Fi([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,Xe.lights,{emissive:{value:new Ke(0)},specular:{value:new Ke(1118481)},shininess:{value:30}}]),vertexShader:Tt.meshphong_vert,fragmentShader:Tt.meshphong_frag},standard:{uniforms:Fi([Xe.common,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.roughnessmap,Xe.metalnessmap,Xe.fog,Xe.lights,{emissive:{value:new Ke(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Tt.meshphysical_vert,fragmentShader:Tt.meshphysical_frag},toon:{uniforms:Fi([Xe.common,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.gradientmap,Xe.fog,Xe.lights,{emissive:{value:new Ke(0)}}]),vertexShader:Tt.meshtoon_vert,fragmentShader:Tt.meshtoon_frag},matcap:{uniforms:Fi([Xe.common,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,{matcap:{value:null}}]),vertexShader:Tt.meshmatcap_vert,fragmentShader:Tt.meshmatcap_frag},points:{uniforms:Fi([Xe.points,Xe.fog]),vertexShader:Tt.points_vert,fragmentShader:Tt.points_frag},dashed:{uniforms:Fi([Xe.common,Xe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Tt.linedashed_vert,fragmentShader:Tt.linedashed_frag},depth:{uniforms:Fi([Xe.common,Xe.displacementmap]),vertexShader:Tt.depth_vert,fragmentShader:Tt.depth_frag},normal:{uniforms:Fi([Xe.common,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,{opacity:{value:1}}]),vertexShader:Tt.meshnormal_vert,fragmentShader:Tt.meshnormal_frag},sprite:{uniforms:Fi([Xe.sprite,Xe.fog]),vertexShader:Tt.sprite_vert,fragmentShader:Tt.sprite_frag},background:{uniforms:{uvTransform:{value:new oi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Tt.background_vert,fragmentShader:Tt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Tt.backgroundCube_vert,fragmentShader:Tt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Tt.cube_vert,fragmentShader:Tt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Tt.equirect_vert,fragmentShader:Tt.equirect_frag},distanceRGBA:{uniforms:Fi([Xe.common,Xe.displacementmap,{referencePosition:{value:new V},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Tt.distanceRGBA_vert,fragmentShader:Tt.distanceRGBA_frag},shadow:{uniforms:Fi([Xe.lights,Xe.fog,{color:{value:new Ke(0)},opacity:{value:1}}]),vertexShader:Tt.shadow_vert,fragmentShader:Tt.shadow_frag}};Ro.physical={uniforms:Fi([Ro.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Re(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Ke(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Re},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ke(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ke(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Tt.meshphysical_vert,fragmentShader:Tt.meshphysical_frag};const rx={r:0,b:0,g:0};function JTe(n,e,t,r,i,s,o){const a=new Ke(0);let l=s===!0?0:1,c,u,d=null,h=0,m=null;function g(_,x){let b=!1,w=x.isScene===!0?x.background:null;w&&w.isTexture&&(w=(x.backgroundBlurriness>0?t:e).get(w));const E=n.xr,A=E.getSession&&E.getSession();A&&A.environmentBlendMode==="additive"&&(w=null),w===null?v(a,l):w&&w.isColor&&(v(w,1),b=!0),(n.autoClear||b)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),w&&(w.isCubeTexture||w.mapping===zp)?(u===void 0&&(u=new Or(new au(1,1,1),new Go({name:"BackgroundCubeMaterial",uniforms:pp(Ro.backgroundCube.uniforms),vertexShader:Ro.backgroundCube.vertexShader,fragmentShader:Ro.backgroundCube.fragmentShader,side:us,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(T,I,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=w,u.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,u.material.toneMapped=w.encoding!==Ut,(d!==w||h!==w.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,d=w,h=w.version,m=n.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new Or(new Up(2,2),new Go({name:"BackgroundMaterial",uniforms:pp(Ro.background.uniforms),vertexShader:Ro.background.vertexShader,fragmentShader:Ro.background.fragmentShader,side:Ra,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,c.material.toneMapped=w.encoding!==Ut,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(d!==w||h!==w.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,d=w,h=w.version,m=n.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function v(_,x){_.getRGB(rx,m7(n)),r.buffers.color.setClear(rx.r,rx.g,rx.b,x,o)}return{getClearColor:function(){return a},setClearColor:function(_,x=1){a.set(_),l=x,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,v(a,l)},render:g}}function YTe(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=_(null);let c=l,u=!1;function d(K,U,ee,Q,D){let z=!1;if(o){const Z=v(Q,ee,U);c!==Z&&(c=Z,m(c.object)),z=x(K,Q,ee,D),z&&b(K,Q,ee,D)}else{const Z=U.wireframe===!0;(c.geometry!==Q.id||c.program!==ee.id||c.wireframe!==Z)&&(c.geometry=Q.id,c.program=ee.id,c.wireframe=Z,z=!0)}D!==null&&t.update(D,34963),(z||u)&&(u=!1,M(K,U,ee,Q),D!==null&&n.bindBuffer(34963,t.get(D).buffer))}function h(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(K){return r.isWebGL2?n.bindVertexArray(K):s.bindVertexArrayOES(K)}function g(K){return r.isWebGL2?n.deleteVertexArray(K):s.deleteVertexArrayOES(K)}function v(K,U,ee){const Q=ee.wireframe===!0;let D=a[K.id];D===void 0&&(D={},a[K.id]=D);let z=D[U.id];z===void 0&&(z={},D[U.id]=z);let Z=z[Q];return Z===void 0&&(Z=_(h()),z[Q]=Z),Z}function _(K){const U=[],ee=[],Q=[];for(let D=0;D<i;D++)U[D]=0,ee[D]=0,Q[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:U,enabledAttributes:ee,attributeDivisors:Q,object:K,attributes:{},index:null}}function x(K,U,ee,Q){const D=c.attributes,z=U.attributes;let Z=0;const he=ee.getAttributes();for(const G in he)if(he[G].location>=0){const re=D[G];let q=z[G];if(q===void 0&&(G==="instanceMatrix"&&K.instanceMatrix&&(q=K.instanceMatrix),G==="instanceColor"&&K.instanceColor&&(q=K.instanceColor)),re===void 0||re.attribute!==q||q&&re.data!==q.data)return!0;Z++}return c.attributesNum!==Z||c.index!==Q}function b(K,U,ee,Q){const D={},z=U.attributes;let Z=0;const he=ee.getAttributes();for(const G in he)if(he[G].location>=0){let re=z[G];re===void 0&&(G==="instanceMatrix"&&K.instanceMatrix&&(re=K.instanceMatrix),G==="instanceColor"&&K.instanceColor&&(re=K.instanceColor));const q={};q.attribute=re,re&&re.data&&(q.data=re.data),D[G]=q,Z++}c.attributes=D,c.attributesNum=Z,c.index=Q}function w(){const K=c.newAttributes;for(let U=0,ee=K.length;U<ee;U++)K[U]=0}function E(K){A(K,0)}function A(K,U){const ee=c.newAttributes,Q=c.enabledAttributes,D=c.attributeDivisors;ee[K]=1,Q[K]===0&&(n.enableVertexAttribArray(K),Q[K]=1),D[K]!==U&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](K,U),D[K]=U)}function T(){const K=c.newAttributes,U=c.enabledAttributes;for(let ee=0,Q=U.length;ee<Q;ee++)U[ee]!==K[ee]&&(n.disableVertexAttribArray(ee),U[ee]=0)}function I(K,U,ee,Q,D,z){r.isWebGL2===!0&&(ee===5124||ee===5125)?n.vertexAttribIPointer(K,U,ee,D,z):n.vertexAttribPointer(K,U,ee,Q,D,z)}function M(K,U,ee,Q){if(r.isWebGL2===!1&&(K.isInstancedMesh||Q.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const D=Q.attributes,z=ee.getAttributes(),Z=U.defaultAttributeValues;for(const he in z){const G=z[he];if(G.location>=0){let te=D[he];if(te===void 0&&(he==="instanceMatrix"&&K.instanceMatrix&&(te=K.instanceMatrix),he==="instanceColor"&&K.instanceColor&&(te=K.instanceColor)),te!==void 0){const re=te.normalized,q=te.itemSize,$=t.get(te);if($===void 0)continue;const me=$.buffer,ae=$.type,xe=$.bytesPerElement;if(te.isInterleavedBufferAttribute){const Ae=te.data,Me=Ae.stride,ce=te.offset;if(Ae.isInstancedInterleavedBuffer){for(let ve=0;ve<G.locationSize;ve++)A(G.location+ve,Ae.meshPerAttribute);K.isInstancedMesh!==!0&&Q._maxInstanceCount===void 0&&(Q._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let ve=0;ve<G.locationSize;ve++)E(G.location+ve);n.bindBuffer(34962,me);for(let ve=0;ve<G.locationSize;ve++)I(G.location+ve,q/G.locationSize,ae,re,Me*xe,(ce+q/G.locationSize*ve)*xe)}else{if(te.isInstancedBufferAttribute){for(let Ae=0;Ae<G.locationSize;Ae++)A(G.location+Ae,te.meshPerAttribute);K.isInstancedMesh!==!0&&Q._maxInstanceCount===void 0&&(Q._maxInstanceCount=te.meshPerAttribute*te.count)}else for(let Ae=0;Ae<G.locationSize;Ae++)E(G.location+Ae);n.bindBuffer(34962,me);for(let Ae=0;Ae<G.locationSize;Ae++)I(G.location+Ae,q/G.locationSize,ae,re,q*xe,q/G.locationSize*Ae*xe)}}else if(Z!==void 0){const re=Z[he];if(re!==void 0)switch(re.length){case 2:n.vertexAttrib2fv(G.location,re);break;case 3:n.vertexAttrib3fv(G.location,re);break;case 4:n.vertexAttrib4fv(G.location,re);break;default:n.vertexAttrib1fv(G.location,re)}}}}T()}function R(){X();for(const K in a){const U=a[K];for(const ee in U){const Q=U[ee];for(const D in Q)g(Q[D].object),delete Q[D];delete U[ee]}delete a[K]}}function O(K){if(a[K.id]===void 0)return;const U=a[K.id];for(const ee in U){const Q=U[ee];for(const D in Q)g(Q[D].object),delete Q[D];delete U[ee]}delete a[K.id]}function L(K){for(const U in a){const ee=a[U];if(ee[K.id]===void 0)continue;const Q=ee[K.id];for(const D in Q)g(Q[D].object),delete Q[D];delete ee[K.id]}}function X(){W(),u=!0,c!==l&&(c=l,m(c.object))}function W(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:X,resetDefaultState:W,dispose:R,releaseStatesOfGeometry:O,releaseStatesOfProgram:L,initAttributes:w,enableAttribute:E,disableUnusedAttributes:T}}function qTe(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,d){if(d===0)return;let h,m;if(i)h=n,m="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[m](s,c,u,d),t.update(u,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function QTe(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(I){if(I==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";I="mediump"}return I==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),h=n.getParameter(35660),m=n.getParameter(3379),g=n.getParameter(34076),v=n.getParameter(34921),_=n.getParameter(36347),x=n.getParameter(36348),b=n.getParameter(36349),w=h>0,E=o||e.has("OES_texture_float"),A=w&&E,T=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:m,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:_,maxVaryings:x,maxFragmentUniforms:b,vertexTextures:w,floatFragmentTextures:E,floatVertexTextures:A,maxSamples:T}}function ZTe(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new oc,a=new oi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){const m=d.length!==0||h||r!==0||i;return i=h,r=d.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,h){t=u(d,h,0)},this.setState=function(d,h,m){const g=d.clippingPlanes,v=d.clipIntersection,_=d.clipShadows,x=n.get(d);if(!i||g===null||g.length===0||s&&!_)s?u(null):c();else{const b=s?0:r,w=b*4;let E=x.clippingState||null;l.value=E,E=u(g,h,w,m);for(let A=0;A!==w;++A)E[A]=t[A];x.clippingState=E,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,h,m,g){const v=d!==null?d.length:0;let _=null;if(v!==0){if(_=l.value,g!==!0||_===null){const x=m+v*4,b=h.matrixWorldInverse;a.getNormalMatrix(b),(_===null||_.length<x)&&(_=new Float32Array(x));for(let w=0,E=m;w!==v;++w,E+=4)o.copy(d[w]).applyMatrix4(b,a),o.normal.toArray(_,E),_[E+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,_}}function ePe(n){let e=new WeakMap;function t(o,a){return a===up?o.mapping=Sl:a===Yv&&(o.mapping=Yc),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===up||a===Yv)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new gO(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class ml extends qy{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const cf=4,M5=[.125,.215,.35,.446,.526,.582],Wu=20,uM=new ml,T5=new Ke;let dM=null;const zu=(1+Math.sqrt(5))/2,Ih=1/zu,P5=[new V(1,1,1),new V(-1,1,1),new V(1,1,-1),new V(-1,1,-1),new V(0,zu,Ih),new V(0,zu,-Ih),new V(Ih,0,zu),new V(-Ih,0,zu),new V(zu,Ih,0),new V(-zu,Ih,0)];class hI{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){dM=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=N5(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=I5(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(dM),e.scissorTest=!1,ix(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Sl||e.mapping===Yc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),dM=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Dn,minFilter:Dn,generateMipmaps:!1,type:ko,format:ts,encoding:Uo,depthBuffer:!1},i=R5(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=R5(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=tPe(s)),this._blurMaterial=nPe(s,e,t)}return i}_compileMaterial(e){const t=new Or(this._lodPlanes[0],e);this._renderer.compile(t,uM)}_sceneToCubeUV(e,t,r,i){const a=new Bn(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,h=u.toneMapping;u.getClearColor(T5),u.toneMapping=Bo,u.autoClear=!1;const m=new Cs({name:"PMREM.Background",side:us,depthWrite:!1,depthTest:!1}),g=new Or(new au,m);let v=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,v=!0):(m.color.copy(T5),v=!0);for(let x=0;x<6;x++){const b=x%3;b===0?(a.up.set(0,l[x],0),a.lookAt(c[x],0,0)):b===1?(a.up.set(0,0,l[x]),a.lookAt(0,c[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,c[x]));const w=this._cubeSize;ix(i,b*w,x>2?w:0,w,w),u.setRenderTarget(i),v&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=h,u.autoClear=d,e.background=_}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Sl||e.mapping===Yc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=N5()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=I5());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Or(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;ix(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,uM)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=P5[(i-1)%P5.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Or(this._lodPlanes[i],c),h=c.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Wu-1),v=s/g,_=isFinite(s)?1+Math.floor(u*v):Wu;_>Wu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${Wu}`);const x=[];let b=0;for(let I=0;I<Wu;++I){const M=I/v,R=Math.exp(-M*M/2);x.push(R),I===0?b+=R:I<_&&(b+=2*R)}for(let I=0;I<x.length;I++)x[I]=x[I]/b;h.envMap.value=e.texture,h.samples.value=_,h.weights.value=x,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:w}=this;h.dTheta.value=g,h.mipInt.value=w-r;const E=this._sizeLods[i],A=3*E*(i>w-cf?i-w+cf:0),T=4*(this._cubeSize-E);ix(t,A,T,3*E,2*E),l.setRenderTarget(t),l.render(d,uM)}}function tPe(n){const e=[],t=[],r=[];let i=n;const s=n-cf+1+M5.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-cf?l=M5[o-n+cf-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],m=6,g=6,v=3,_=2,x=1,b=new Float32Array(v*g*m),w=new Float32Array(_*g*m),E=new Float32Array(x*g*m);for(let T=0;T<m;T++){const I=T%3*2/3-1,M=T>2?0:-1,R=[I,M,0,I+2/3,M,0,I+2/3,M+1,0,I,M,0,I+2/3,M+1,0,I,M+1,0];b.set(R,v*g*T),w.set(h,_*g*T);const O=[T,T,T,T,T,T];E.set(O,x*g*T)}const A=new At;A.setAttribute("position",new un(b,v)),A.setAttribute("uv",new un(w,_)),A.setAttribute("faceIndex",new un(E,x)),e.push(A),i>cf&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function R5(n,e,t){const r=new Ho(n,e,t);return r.texture.mapping=zp,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function ix(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function nPe(n,e,t){const r=new Float32Array(Wu),i=new V(0,1,0);return new Go({name:"SphericalGaussianBlur",defines:{n:Wu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:vO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:pl,depthTest:!1,depthWrite:!1})}function I5(){return new Go({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:vO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:pl,depthTest:!1,depthWrite:!1})}function N5(){return new Go({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:vO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:pl,depthTest:!1,depthWrite:!1})}function vO(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function rPe(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===up||l===Yv,u=l===Sl||l===Yc;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new hI(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&i(d)){t===null&&(t=new hI(n));const h=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function iPe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function sPe(n,e,t,r){const i={},s=new WeakMap;function o(d){const h=d.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);h.removeEventListener("dispose",o),delete i[h.id];const m=s.get(h);m&&(e.remove(m),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function a(d,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,t.memory.geometries++),h}function l(d){const h=d.attributes;for(const g in h)e.update(h[g],34962);const m=d.morphAttributes;for(const g in m){const v=m[g];for(let _=0,x=v.length;_<x;_++)e.update(v[_],34962)}}function c(d){const h=[],m=d.index,g=d.attributes.position;let v=0;if(m!==null){const b=m.array;v=m.version;for(let w=0,E=b.length;w<E;w+=3){const A=b[w+0],T=b[w+1],I=b[w+2];h.push(A,T,T,I,I,A)}}else{const b=g.array;v=g.version;for(let w=0,E=b.length/3-1;w<E;w+=3){const A=w+0,T=w+1,I=w+2;h.push(A,T,T,I,I,A)}}const _=new(f7(h)?mO:pO)(h,1);_.version=v;const x=s.get(d);x&&e.remove(x),s.set(d,_)}function u(d){const h=s.get(d);if(h){const m=d.index;m!==null&&h.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function oPe(n,e,t,r){const i=r.isWebGL2;let s;function o(h){s=h}let a,l;function c(h){a=h.type,l=h.bytesPerElement}function u(h,m){n.drawElements(s,m,a,h*l),t.update(m,s,1)}function d(h,m,g){if(g===0)return;let v,_;if(i)v=n,_="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[_](s,m,a,h*l,g),t.update(m,s,g)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function aPe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function lPe(n,e){return n[0]-e[0]}function cPe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function uPe(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new gn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d){const h=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=g!==void 0?g.length:0;let _=s.get(u);if(_===void 0||_.count!==v){let U=function(){W.dispose(),s.delete(u),u.removeEventListener("dispose",U)};var m=U;_!==void 0&&_.texture.dispose();const w=u.morphAttributes.position!==void 0,E=u.morphAttributes.normal!==void 0,A=u.morphAttributes.color!==void 0,T=u.morphAttributes.position||[],I=u.morphAttributes.normal||[],M=u.morphAttributes.color||[];let R=0;w===!0&&(R=1),E===!0&&(R=2),A===!0&&(R=3);let O=u.attributes.position.count*R,L=1;O>e.maxTextureSize&&(L=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const X=new Float32Array(O*L*4*v),W=new FS(X,O,L,v);W.type=io,W.needsUpdate=!0;const K=R*4;for(let ee=0;ee<v;ee++){const Q=T[ee],D=I[ee],z=M[ee],Z=O*L*4*ee;for(let he=0;he<Q.count;he++){const G=he*K;w===!0&&(o.fromBufferAttribute(Q,he),X[Z+G+0]=o.x,X[Z+G+1]=o.y,X[Z+G+2]=o.z,X[Z+G+3]=0),E===!0&&(o.fromBufferAttribute(D,he),X[Z+G+4]=o.x,X[Z+G+5]=o.y,X[Z+G+6]=o.z,X[Z+G+7]=0),A===!0&&(o.fromBufferAttribute(z,he),X[Z+G+8]=o.x,X[Z+G+9]=o.y,X[Z+G+10]=o.z,X[Z+G+11]=z.itemSize===4?o.w:1)}}_={count:v,texture:W,size:new Re(O,L)},s.set(u,_),u.addEventListener("dispose",U)}let x=0;for(let w=0;w<h.length;w++)x+=h[w];const b=u.morphTargetsRelative?1:1-x;d.getUniforms().setValue(n,"morphTargetBaseInfluence",b),d.getUniforms().setValue(n,"morphTargetInfluences",h),d.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const g=h===void 0?0:h.length;let v=r[u.id];if(v===void 0||v.length!==g){v=[];for(let E=0;E<g;E++)v[E]=[E,0];r[u.id]=v}for(let E=0;E<g;E++){const A=v[E];A[0]=E,A[1]=h[E]}v.sort(cPe);for(let E=0;E<8;E++)E<g&&v[E][1]?(a[E][0]=v[E][0],a[E][1]=v[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(lPe);const _=u.morphAttributes.position,x=u.morphAttributes.normal;let b=0;for(let E=0;E<8;E++){const A=a[E],T=A[0],I=A[1];T!==Number.MAX_SAFE_INTEGER&&I?(_&&u.getAttribute("morphTarget"+E)!==_[T]&&u.setAttribute("morphTarget"+E,_[T]),x&&u.getAttribute("morphNormal"+E)!==x[T]&&u.setAttribute("morphNormal"+E,x[T]),i[E]=I,b+=I):(_&&u.hasAttribute("morphTarget"+E)===!0&&u.deleteAttribute("morphTarget"+E),x&&u.hasAttribute("morphNormal"+E)===!0&&u.deleteAttribute("morphNormal"+E),i[E]=0)}const w=u.morphTargetsRelative?1:1-b;d.getUniforms().setValue(n,"morphTargetBaseInfluence",w),d.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function dPe(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);return i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const _7=new Kn,x7=new FS,b7=new fO,w7=new Qy,k5=[],O5=[],L5=new Float32Array(16),D5=new Float32Array(9),B5=new Float32Array(4);function Hp(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=k5[i];if(s===void 0&&(s=new Float32Array(i),k5[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Dr(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Br(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function US(n,e){let t=O5[e];t===void 0&&(t=new Int32Array(e),O5[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function hPe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function fPe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Dr(t,e))return;n.uniform2fv(this.addr,e),Br(t,e)}}function pPe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Dr(t,e))return;n.uniform3fv(this.addr,e),Br(t,e)}}function mPe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Dr(t,e))return;n.uniform4fv(this.addr,e),Br(t,e)}}function gPe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Dr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Br(t,e)}else{if(Dr(t,r))return;B5.set(r),n.uniformMatrix2fv(this.addr,!1,B5),Br(t,r)}}function vPe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Dr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Br(t,e)}else{if(Dr(t,r))return;D5.set(r),n.uniformMatrix3fv(this.addr,!1,D5),Br(t,r)}}function yPe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Dr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Br(t,e)}else{if(Dr(t,r))return;L5.set(r),n.uniformMatrix4fv(this.addr,!1,L5),Br(t,r)}}function _Pe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function xPe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Dr(t,e))return;n.uniform2iv(this.addr,e),Br(t,e)}}function bPe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Dr(t,e))return;n.uniform3iv(this.addr,e),Br(t,e)}}function wPe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Dr(t,e))return;n.uniform4iv(this.addr,e),Br(t,e)}}function SPe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function EPe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Dr(t,e))return;n.uniform2uiv(this.addr,e),Br(t,e)}}function CPe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Dr(t,e))return;n.uniform3uiv(this.addr,e),Br(t,e)}}function APe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Dr(t,e))return;n.uniform4uiv(this.addr,e),Br(t,e)}}function MPe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||_7,i)}function TPe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||b7,i)}function PPe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||w7,i)}function RPe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||x7,i)}function IPe(n){switch(n){case 5126:return hPe;case 35664:return fPe;case 35665:return pPe;case 35666:return mPe;case 35674:return gPe;case 35675:return vPe;case 35676:return yPe;case 5124:case 35670:return _Pe;case 35667:case 35671:return xPe;case 35668:case 35672:return bPe;case 35669:case 35673:return wPe;case 5125:return SPe;case 36294:return EPe;case 36295:return CPe;case 36296:return APe;case 35678:case 36198:case 36298:case 36306:case 35682:return MPe;case 35679:case 36299:case 36307:return TPe;case 35680:case 36300:case 36308:case 36293:return PPe;case 36289:case 36303:case 36311:case 36292:return RPe}}function NPe(n,e){n.uniform1fv(this.addr,e)}function kPe(n,e){const t=Hp(e,this.size,2);n.uniform2fv(this.addr,t)}function OPe(n,e){const t=Hp(e,this.size,3);n.uniform3fv(this.addr,t)}function LPe(n,e){const t=Hp(e,this.size,4);n.uniform4fv(this.addr,t)}function DPe(n,e){const t=Hp(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function BPe(n,e){const t=Hp(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function FPe(n,e){const t=Hp(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function zPe(n,e){n.uniform1iv(this.addr,e)}function UPe(n,e){n.uniform2iv(this.addr,e)}function HPe(n,e){n.uniform3iv(this.addr,e)}function GPe(n,e){n.uniform4iv(this.addr,e)}function VPe(n,e){n.uniform1uiv(this.addr,e)}function WPe(n,e){n.uniform2uiv(this.addr,e)}function jPe(n,e){n.uniform3uiv(this.addr,e)}function $Pe(n,e){n.uniform4uiv(this.addr,e)}function KPe(n,e,t){const r=this.cache,i=e.length,s=US(t,i);Dr(r,s)||(n.uniform1iv(this.addr,s),Br(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||_7,s[o])}function XPe(n,e,t){const r=this.cache,i=e.length,s=US(t,i);Dr(r,s)||(n.uniform1iv(this.addr,s),Br(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||b7,s[o])}function JPe(n,e,t){const r=this.cache,i=e.length,s=US(t,i);Dr(r,s)||(n.uniform1iv(this.addr,s),Br(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||w7,s[o])}function YPe(n,e,t){const r=this.cache,i=e.length,s=US(t,i);Dr(r,s)||(n.uniform1iv(this.addr,s),Br(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||x7,s[o])}function qPe(n){switch(n){case 5126:return NPe;case 35664:return kPe;case 35665:return OPe;case 35666:return LPe;case 35674:return DPe;case 35675:return BPe;case 35676:return FPe;case 5124:case 35670:return zPe;case 35667:case 35671:return UPe;case 35668:case 35672:return HPe;case 35669:case 35673:return GPe;case 5125:return VPe;case 36294:return WPe;case 36295:return jPe;case 36296:return $Pe;case 35678:case 36198:case 36298:case 36306:case 35682:return KPe;case 35679:case 36299:case 36307:return XPe;case 35680:case 36300:case 36308:case 36293:return JPe;case 36289:case 36303:case 36311:case 36292:return YPe}}class QPe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=IPe(t.type)}}class ZPe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=qPe(t.type)}}class eRe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const hM=/(\w+)(\])?(\[|\.)?/g;function F5(n,e){n.seq.push(e),n.map[e.id]=e}function tRe(n,e,t){const r=n.name,i=r.length;for(hM.lastIndex=0;;){const s=hM.exec(r),o=hM.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){F5(t,c===void 0?new QPe(a,n,e):new ZPe(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new eRe(a),F5(t,d)),t=d}}}class db{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);tRe(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function z5(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let nRe=0;function rRe(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function iRe(n){switch(n){case Uo:return["Linear","( value )"];case Ut:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function U5(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+rRe(n.getShaderSource(e),o)}else return i}function sRe(n,e){const t=iRe(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function oRe(n,e){let t;switch(e){case B$:t="Linear";break;case F$:t="Reinhard";break;case z$:t="OptimizedCineon";break;case oO:t="ACESFilmic";break;case U$:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function aRe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(_g).join(`
`)}function lRe(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function cRe(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function _g(n){return n!==""}function H5(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function G5(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const uRe=/^[ \t]*#include +<([\w\d./]+)>/gm;function fI(n){return n.replace(uRe,dRe)}function dRe(n,e){const t=Tt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return fI(t)}const hRe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function V5(n){return n.replace(hRe,fRe)}function fRe(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function W5(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function pRe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===OS?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Jg?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===qu&&(e="SHADOWMAP_TYPE_VSM"),e}function mRe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Sl:case Yc:e="ENVMAP_TYPE_CUBE";break;case zp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function gRe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Yc:e="ENVMAP_MODE_REFRACTION";break}return e}function vRe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Xy:e="ENVMAP_BLENDING_MULTIPLY";break;case L$:e="ENVMAP_BLENDING_MIX";break;case D$:e="ENVMAP_BLENDING_ADD";break}return e}function yRe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function _Re(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=pRe(t),c=mRe(t),u=gRe(t),d=vRe(t),h=yRe(t),m=t.isWebGL2?"":aRe(t),g=lRe(s),v=i.createProgram();let _,x,b=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=[g].filter(_g).join(`
`),_.length>0&&(_+=`
`),x=[m,g].filter(_g).join(`
`),x.length>0&&(x+=`
`)):(_=[W5(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(_g).join(`
`),x=[m,W5(t),"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Bo?"#define TONE_MAPPING":"",t.toneMapping!==Bo?Tt.tonemapping_pars_fragment:"",t.toneMapping!==Bo?oRe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Tt.encodings_pars_fragment,sRe("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(_g).join(`
`)),o=fI(o),o=H5(o,t),o=G5(o,t),a=fI(a),a=H5(a,t),a=G5(a,t),o=V5(o),a=V5(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,x=["#define varying in",t.glslVersion===uI?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===uI?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const w=b+_+o,E=b+x+a,A=z5(i,35633,w),T=z5(i,35632,E);if(i.attachShader(v,A),i.attachShader(v,T),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),n.debug.checkShaderErrors){const R=i.getProgramInfoLog(v).trim(),O=i.getShaderInfoLog(A).trim(),L=i.getShaderInfoLog(T).trim();let X=!0,W=!0;if(i.getProgramParameter(v,35714)===!1){X=!1;const K=U5(i,A,"vertex"),U=U5(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+R+`
`+K+`
`+U)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(O===""||L==="")&&(W=!1);W&&(this.diagnostics={runnable:X,programLog:R,vertexShader:{log:O,prefix:_},fragmentShader:{log:L,prefix:x}})}i.deleteShader(A),i.deleteShader(T);let I;this.getUniforms=function(){return I===void 0&&(I=new db(i,v)),I};let M;return this.getAttributes=function(){return M===void 0&&(M=cRe(i,v)),M},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=nRe++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=A,this.fragmentShader=T,this}let xRe=0;class bRe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new wRe(e),t.set(e,r)),r}}class wRe{constructor(e){this.id=xRe++,this.code=e,this.usedTimes=0}}function SRe(n,e,t,r,i,s,o){const a=new hd,l=new bRe,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,h=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(M,R,O,L,X){const W=L.fog,K=X.geometry,U=M.isMeshStandardMaterial?L.environment:null,ee=(M.isMeshStandardMaterial?t:e).get(M.envMap||U),Q=ee&&ee.mapping===zp?ee.image.height:null,D=g[M.type];M.precision!==null&&(m=i.getMaxPrecision(M.precision),m!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",m,"instead."));const z=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,Z=z!==void 0?z.length:0;let he=0;K.morphAttributes.position!==void 0&&(he=1),K.morphAttributes.normal!==void 0&&(he=2),K.morphAttributes.color!==void 0&&(he=3);let G,te,re,q;if(D){const Me=Ro[D];G=Me.vertexShader,te=Me.fragmentShader}else G=M.vertexShader,te=M.fragmentShader,l.update(M),re=l.getVertexShaderID(M),q=l.getFragmentShaderID(M);const $=n.getRenderTarget(),me=M.alphaTest>0,ae=M.clearcoat>0,xe=M.iridescence>0;return{isWebGL2:u,shaderID:D,shaderName:M.type,vertexShader:G,fragmentShader:te,defines:M.defines,customVertexShaderID:re,customFragmentShaderID:q,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:m,instancing:X.isInstancedMesh===!0,instancingColor:X.isInstancedMesh===!0&&X.instanceColor!==null,supportsVertexTextures:h,outputEncoding:$===null?n.outputEncoding:$.isXRRenderTarget===!0?$.texture.encoding:Uo,map:!!M.map,matcap:!!M.matcap,envMap:!!ee,envMapMode:ee&&ee.mapping,envMapCubeUVHeight:Q,lightMap:!!M.lightMap,aoMap:!!M.aoMap,emissiveMap:!!M.emissiveMap,bumpMap:!!M.bumpMap,normalMap:!!M.normalMap,objectSpaceNormalMap:M.normalMapType===l7,tangentSpaceNormalMap:M.normalMapType===Il,decodeVideoTexture:!!M.map&&M.map.isVideoTexture===!0&&M.map.encoding===Ut,clearcoat:ae,clearcoatMap:ae&&!!M.clearcoatMap,clearcoatRoughnessMap:ae&&!!M.clearcoatRoughnessMap,clearcoatNormalMap:ae&&!!M.clearcoatNormalMap,iridescence:xe,iridescenceMap:xe&&!!M.iridescenceMap,iridescenceThicknessMap:xe&&!!M.iridescenceThicknessMap,displacementMap:!!M.displacementMap,roughnessMap:!!M.roughnessMap,metalnessMap:!!M.metalnessMap,specularMap:!!M.specularMap,specularIntensityMap:!!M.specularIntensityMap,specularColorMap:!!M.specularColorMap,opaque:M.transparent===!1&&M.blending===cd,alphaMap:!!M.alphaMap,alphaTest:me,gradientMap:!!M.gradientMap,sheen:M.sheen>0,sheenColorMap:!!M.sheenColorMap,sheenRoughnessMap:!!M.sheenRoughnessMap,transmission:M.transmission>0,transmissionMap:!!M.transmissionMap,thicknessMap:!!M.thicknessMap,combine:M.combine,vertexTangents:!!M.normalMap&&!!K.attributes.tangent,vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!K.attributes.color&&K.attributes.color.itemSize===4,vertexUvs:!!M.map||!!M.bumpMap||!!M.normalMap||!!M.specularMap||!!M.alphaMap||!!M.emissiveMap||!!M.roughnessMap||!!M.metalnessMap||!!M.clearcoatMap||!!M.clearcoatRoughnessMap||!!M.clearcoatNormalMap||!!M.iridescenceMap||!!M.iridescenceThicknessMap||!!M.displacementMap||!!M.transmissionMap||!!M.thicknessMap||!!M.specularIntensityMap||!!M.specularColorMap||!!M.sheenColorMap||!!M.sheenRoughnessMap,uvsVertexOnly:!(M.map||M.bumpMap||M.normalMap||M.specularMap||M.alphaMap||M.emissiveMap||M.roughnessMap||M.metalnessMap||M.clearcoatNormalMap||M.iridescenceMap||M.iridescenceThicknessMap||M.transmission>0||M.transmissionMap||M.thicknessMap||M.specularIntensityMap||M.specularColorMap||M.sheen>0||M.sheenColorMap||M.sheenRoughnessMap)&&!!M.displacementMap,fog:!!W,useFog:M.fog===!0,fogExp2:W&&W.isFogExp2,flatShading:!!M.flatShading,sizeAttenuation:M.sizeAttenuation,logarithmicDepthBuffer:d,skinning:X.isSkinnedMesh===!0,morphTargets:K.morphAttributes.position!==void 0,morphNormals:K.morphAttributes.normal!==void 0,morphColors:K.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:he,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:M.dithering,shadowMapEnabled:n.shadowMap.enabled&&O.length>0,shadowMapType:n.shadowMap.type,toneMapping:M.toneMapped?n.toneMapping:Bo,useLegacyLights:n.useLegacyLights,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===No,flipSided:M.side===us,useDepthPacking:!!M.depthPacking,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:M.extensions&&M.extensions.derivatives,extensionFragDepth:M.extensions&&M.extensions.fragDepth,extensionDrawBuffers:M.extensions&&M.extensions.drawBuffers,extensionShaderTextureLOD:M.extensions&&M.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}}function _(M){const R=[];if(M.shaderID?R.push(M.shaderID):(R.push(M.customVertexShaderID),R.push(M.customFragmentShaderID)),M.defines!==void 0)for(const O in M.defines)R.push(O),R.push(M.defines[O]);return M.isRawShaderMaterial===!1&&(x(R,M),b(R,M),R.push(n.outputEncoding)),R.push(M.customProgramCacheKey),R.join()}function x(M,R){M.push(R.precision),M.push(R.outputEncoding),M.push(R.envMapMode),M.push(R.envMapCubeUVHeight),M.push(R.combine),M.push(R.vertexUvs),M.push(R.fogExp2),M.push(R.sizeAttenuation),M.push(R.morphTargetsCount),M.push(R.morphAttributeCount),M.push(R.numDirLights),M.push(R.numPointLights),M.push(R.numSpotLights),M.push(R.numSpotLightMaps),M.push(R.numHemiLights),M.push(R.numRectAreaLights),M.push(R.numDirLightShadows),M.push(R.numPointLightShadows),M.push(R.numSpotLightShadows),M.push(R.numSpotLightShadowsWithMaps),M.push(R.shadowMapType),M.push(R.toneMapping),M.push(R.numClippingPlanes),M.push(R.numClipIntersection),M.push(R.depthPacking)}function b(M,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.map&&a.enable(4),R.matcap&&a.enable(5),R.envMap&&a.enable(6),R.lightMap&&a.enable(7),R.aoMap&&a.enable(8),R.emissiveMap&&a.enable(9),R.bumpMap&&a.enable(10),R.normalMap&&a.enable(11),R.objectSpaceNormalMap&&a.enable(12),R.tangentSpaceNormalMap&&a.enable(13),R.clearcoat&&a.enable(14),R.clearcoatMap&&a.enable(15),R.clearcoatRoughnessMap&&a.enable(16),R.clearcoatNormalMap&&a.enable(17),R.iridescence&&a.enable(18),R.iridescenceMap&&a.enable(19),R.iridescenceThicknessMap&&a.enable(20),R.displacementMap&&a.enable(21),R.specularMap&&a.enable(22),R.roughnessMap&&a.enable(23),R.metalnessMap&&a.enable(24),R.gradientMap&&a.enable(25),R.alphaMap&&a.enable(26),R.alphaTest&&a.enable(27),R.vertexColors&&a.enable(28),R.vertexAlphas&&a.enable(29),R.vertexUvs&&a.enable(30),R.vertexTangents&&a.enable(31),R.uvsVertexOnly&&a.enable(32),M.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.skinning&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.useLegacyLights&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.specularIntensityMap&&a.enable(15),R.specularColorMap&&a.enable(16),R.transmission&&a.enable(17),R.transmissionMap&&a.enable(18),R.thicknessMap&&a.enable(19),R.sheen&&a.enable(20),R.sheenColorMap&&a.enable(21),R.sheenRoughnessMap&&a.enable(22),R.decodeVideoTexture&&a.enable(23),R.opaque&&a.enable(24),M.push(a.mask)}function w(M){const R=g[M.type];let O;if(R){const L=Ro[R];O=g7.clone(L.uniforms)}else O=M.uniforms;return O}function E(M,R){let O;for(let L=0,X=c.length;L<X;L++){const W=c[L];if(W.cacheKey===R){O=W,++O.usedTimes;break}}return O===void 0&&(O=new _Re(n,R,M,s),c.push(O)),O}function A(M){if(--M.usedTimes===0){const R=c.indexOf(M);c[R]=c[c.length-1],c.pop(),M.destroy()}}function T(M){l.remove(M)}function I(){l.dispose()}return{getParameters:v,getProgramCacheKey:_,getUniforms:w,acquireProgram:E,releaseProgram:A,releaseShaderCache:T,programs:c,dispose:I}}function ERe(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function CRe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function j5(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function $5(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(d,h,m,g,v,_){let x=n[e];return x===void 0?(x={id:d.id,object:d,geometry:h,material:m,groupOrder:g,renderOrder:d.renderOrder,z:v,group:_},n[e]=x):(x.id=d.id,x.object=d,x.geometry=h,x.material=m,x.groupOrder=g,x.renderOrder=d.renderOrder,x.z=v,x.group=_),e++,x}function a(d,h,m,g,v,_){const x=o(d,h,m,g,v,_);m.transmission>0?r.push(x):m.transparent===!0?i.push(x):t.push(x)}function l(d,h,m,g,v,_){const x=o(d,h,m,g,v,_);m.transmission>0?r.unshift(x):m.transparent===!0?i.unshift(x):t.unshift(x)}function c(d,h){t.length>1&&t.sort(d||CRe),r.length>1&&r.sort(h||j5),i.length>1&&i.sort(h||j5)}function u(){for(let d=e,h=n.length;d<h;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function ARe(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new $5,n.set(r,[o])):i>=s.length?(o=new $5,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function MRe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new V,color:new Ke};break;case"SpotLight":t={position:new V,direction:new V,color:new Ke,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new V,color:new Ke,distance:0,decay:0};break;case"HemisphereLight":t={direction:new V,skyColor:new Ke,groundColor:new Ke};break;case"RectAreaLight":t={color:new Ke,position:new V,halfWidth:new V,halfHeight:new V};break}return n[e.id]=t,t}}}function TRe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let PRe=0;function RRe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function IRe(n,e){const t=new MRe,r=TRe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new V);const s=new V,o=new vt,a=new vt;function l(u,d){let h=0,m=0,g=0;for(let L=0;L<9;L++)i.probe[L].set(0,0,0);let v=0,_=0,x=0,b=0,w=0,E=0,A=0,T=0,I=0,M=0;u.sort(RRe);const R=d===!0?Math.PI:1;for(let L=0,X=u.length;L<X;L++){const W=u[L],K=W.color,U=W.intensity,ee=W.distance,Q=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)h+=K.r*U*R,m+=K.g*U*R,g+=K.b*U*R;else if(W.isLightProbe)for(let D=0;D<9;D++)i.probe[D].addScaledVector(W.sh.coefficients[D],U);else if(W.isDirectionalLight){const D=t.get(W);if(D.color.copy(W.color).multiplyScalar(W.intensity*R),W.castShadow){const z=W.shadow,Z=r.get(W);Z.shadowBias=z.bias,Z.shadowNormalBias=z.normalBias,Z.shadowRadius=z.radius,Z.shadowMapSize=z.mapSize,i.directionalShadow[v]=Z,i.directionalShadowMap[v]=Q,i.directionalShadowMatrix[v]=W.shadow.matrix,E++}i.directional[v]=D,v++}else if(W.isSpotLight){const D=t.get(W);D.position.setFromMatrixPosition(W.matrixWorld),D.color.copy(K).multiplyScalar(U*R),D.distance=ee,D.coneCos=Math.cos(W.angle),D.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),D.decay=W.decay,i.spot[x]=D;const z=W.shadow;if(W.map&&(i.spotLightMap[I]=W.map,I++,z.updateMatrices(W),W.castShadow&&M++),i.spotLightMatrix[x]=z.matrix,W.castShadow){const Z=r.get(W);Z.shadowBias=z.bias,Z.shadowNormalBias=z.normalBias,Z.shadowRadius=z.radius,Z.shadowMapSize=z.mapSize,i.spotShadow[x]=Z,i.spotShadowMap[x]=Q,T++}x++}else if(W.isRectAreaLight){const D=t.get(W);D.color.copy(K).multiplyScalar(U),D.halfWidth.set(W.width*.5,0,0),D.halfHeight.set(0,W.height*.5,0),i.rectArea[b]=D,b++}else if(W.isPointLight){const D=t.get(W);if(D.color.copy(W.color).multiplyScalar(W.intensity*R),D.distance=W.distance,D.decay=W.decay,W.castShadow){const z=W.shadow,Z=r.get(W);Z.shadowBias=z.bias,Z.shadowNormalBias=z.normalBias,Z.shadowRadius=z.radius,Z.shadowMapSize=z.mapSize,Z.shadowCameraNear=z.camera.near,Z.shadowCameraFar=z.camera.far,i.pointShadow[_]=Z,i.pointShadowMap[_]=Q,i.pointShadowMatrix[_]=W.shadow.matrix,A++}i.point[_]=D,_++}else if(W.isHemisphereLight){const D=t.get(W);D.skyColor.copy(W.color).multiplyScalar(U*R),D.groundColor.copy(W.groundColor).multiplyScalar(U*R),i.hemi[w]=D,w++}}b>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Xe.LTC_FLOAT_1,i.rectAreaLTC2=Xe.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Xe.LTC_HALF_1,i.rectAreaLTC2=Xe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=m,i.ambient[2]=g;const O=i.hash;(O.directionalLength!==v||O.pointLength!==_||O.spotLength!==x||O.rectAreaLength!==b||O.hemiLength!==w||O.numDirectionalShadows!==E||O.numPointShadows!==A||O.numSpotShadows!==T||O.numSpotMaps!==I)&&(i.directional.length=v,i.spot.length=x,i.rectArea.length=b,i.point.length=_,i.hemi.length=w,i.directionalShadow.length=E,i.directionalShadowMap.length=E,i.pointShadow.length=A,i.pointShadowMap.length=A,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=E,i.pointShadowMatrix.length=A,i.spotLightMatrix.length=T+I-M,i.spotLightMap.length=I,i.numSpotLightShadowsWithMaps=M,O.directionalLength=v,O.pointLength=_,O.spotLength=x,O.rectAreaLength=b,O.hemiLength=w,O.numDirectionalShadows=E,O.numPointShadows=A,O.numSpotShadows=T,O.numSpotMaps=I,i.version=PRe++)}function c(u,d){let h=0,m=0,g=0,v=0,_=0;const x=d.matrixWorldInverse;for(let b=0,w=u.length;b<w;b++){const E=u[b];if(E.isDirectionalLight){const A=i.directional[h];A.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(x),h++}else if(E.isSpotLight){const A=i.spot[g];A.position.setFromMatrixPosition(E.matrixWorld),A.position.applyMatrix4(x),A.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(x),g++}else if(E.isRectAreaLight){const A=i.rectArea[v];A.position.setFromMatrixPosition(E.matrixWorld),A.position.applyMatrix4(x),a.identity(),o.copy(E.matrixWorld),o.premultiply(x),a.extractRotation(o),A.halfWidth.set(E.width*.5,0,0),A.halfHeight.set(0,E.height*.5,0),A.halfWidth.applyMatrix4(a),A.halfHeight.applyMatrix4(a),v++}else if(E.isPointLight){const A=i.point[m];A.position.setFromMatrixPosition(E.matrixWorld),A.position.applyMatrix4(x),m++}else if(E.isHemisphereLight){const A=i.hemi[_];A.direction.setFromMatrixPosition(E.matrixWorld),A.direction.transformDirection(x),_++}}}return{setup:l,setupView:c,state:i}}function K5(n,e){const t=new IRe(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(d){r.push(d)}function a(d){i.push(d)}function l(d){t.setup(r,d)}function c(d){t.setupView(r,d)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function NRe(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new K5(n,e),t.set(s,[l])):o>=a.length?(l=new K5(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class yO extends Mr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=o7,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class _O extends Mr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new V,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const kRe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,ORe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function LRe(n,e,t){let r=new zS;const i=new Re,s=new Re,o=new gn,a=new yO({depthPacking:a7}),l=new _O,c={},u=t.maxTextureSize,d={[Ra]:us,[us]:Ra,[No]:No},h=new Go({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Re},radius:{value:4}},vertexShader:kRe,fragmentShader:ORe}),m=h.clone();m.defines.HORIZONTAL_PASS=1;const g=new At;g.setAttribute("position",new un(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Or(g,h),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=OS,this.render=function(E,A,T){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||E.length===0)return;const I=n.getRenderTarget(),M=n.getActiveCubeFace(),R=n.getActiveMipmapLevel(),O=n.state;O.setBlending(pl),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);for(let L=0,X=E.length;L<X;L++){const W=E[L],K=W.shadow;if(K===void 0){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(K.autoUpdate===!1&&K.needsUpdate===!1)continue;i.copy(K.mapSize);const U=K.getFrameExtents();if(i.multiply(U),s.copy(K.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/U.x),i.x=s.x*U.x,K.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/U.y),i.y=s.y*U.y,K.mapSize.y=s.y)),K.map===null){const Q=this.type!==qu?{minFilter:dr,magFilter:dr}:{};K.map=new Ho(i.x,i.y,Q),K.map.texture.name=W.name+".shadowMap",K.camera.updateProjectionMatrix()}n.setRenderTarget(K.map),n.clear();const ee=K.getViewportCount();for(let Q=0;Q<ee;Q++){const D=K.getViewport(Q);o.set(s.x*D.x,s.y*D.y,s.x*D.z,s.y*D.w),O.viewport(o),K.updateMatrices(W,Q),r=K.getFrustum(),w(A,T,K.camera,W,this.type)}K.isPointLightShadow!==!0&&this.type===qu&&x(K,T),K.needsUpdate=!1}_.needsUpdate=!1,n.setRenderTarget(I,M,R)};function x(E,A){const T=e.update(v);h.defines.VSM_SAMPLES!==E.blurSamples&&(h.defines.VSM_SAMPLES=E.blurSamples,m.defines.VSM_SAMPLES=E.blurSamples,h.needsUpdate=!0,m.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new Ho(i.x,i.y)),h.uniforms.shadow_pass.value=E.map.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(A,null,T,h,v,null),m.uniforms.shadow_pass.value=E.mapPass.texture,m.uniforms.resolution.value=E.mapSize,m.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(A,null,T,m,v,null)}function b(E,A,T,I,M,R){let O=null;const L=T.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(L!==void 0)O=L;else if(O=T.isPointLight===!0?l:a,n.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const X=O.uuid,W=A.uuid;let K=c[X];K===void 0&&(K={},c[X]=K);let U=K[W];U===void 0&&(U=O.clone(),K[W]=U),O=U}return O.visible=A.visible,O.wireframe=A.wireframe,R===qu?O.side=A.shadowSide!==null?A.shadowSide:A.side:O.side=A.shadowSide!==null?A.shadowSide:d[A.side],O.alphaMap=A.alphaMap,O.alphaTest=A.alphaTest,O.map=A.map,O.clipShadows=A.clipShadows,O.clippingPlanes=A.clippingPlanes,O.clipIntersection=A.clipIntersection,O.displacementMap=A.displacementMap,O.displacementScale=A.displacementScale,O.displacementBias=A.displacementBias,O.wireframeLinewidth=A.wireframeLinewidth,O.linewidth=A.linewidth,T.isPointLight===!0&&O.isMeshDistanceMaterial===!0&&(O.referencePosition.setFromMatrixPosition(T.matrixWorld),O.nearDistance=I,O.farDistance=M),O}function w(E,A,T,I,M){if(E.visible===!1)return;if(E.layers.test(A.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&M===qu)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,E.matrixWorld);const L=e.update(E),X=E.material;if(Array.isArray(X)){const W=L.groups;for(let K=0,U=W.length;K<U;K++){const ee=W[K],Q=X[ee.materialIndex];if(Q&&Q.visible){const D=b(E,Q,I,T.near,T.far,M);n.renderBufferDirect(T,null,L,D,E,ee)}}}else if(X.visible){const W=b(E,X,I,T.near,T.far,M);n.renderBufferDirect(T,null,L,W,E,null)}}const O=E.children;for(let L=0,X=O.length;L<X;L++)w(O[L],A,T,I,M)}}function DRe(n,e,t){const r=t.isWebGL2;function i(){let ie=!1;const oe=new gn;let Oe=null;const Ze=new gn(0,0,0,0);return{setMask:function(nt){Oe!==nt&&!ie&&(n.colorMask(nt,nt,nt,nt),Oe=nt)},setLocked:function(nt){ie=nt},setClear:function(nt,an,zn,_r,Oi){Oi===!0&&(nt*=_r,an*=_r,zn*=_r),oe.set(nt,an,zn,_r),Ze.equals(oe)===!1&&(n.clearColor(nt,an,zn,_r),Ze.copy(oe))},reset:function(){ie=!1,Oe=null,Ze.set(-1,0,0,0)}}}function s(){let ie=!1,oe=null,Oe=null,Ze=null;return{setTest:function(nt){nt?me(2929):ae(2929)},setMask:function(nt){oe!==nt&&!ie&&(n.depthMask(nt),oe=nt)},setFunc:function(nt){if(Oe!==nt){switch(nt){case T$:n.depthFunc(512);break;case P$:n.depthFunc(519);break;case R$:n.depthFunc(513);break;case Hw:n.depthFunc(515);break;case I$:n.depthFunc(514);break;case N$:n.depthFunc(518);break;case k$:n.depthFunc(516);break;case O$:n.depthFunc(517);break;default:n.depthFunc(515)}Oe=nt}},setLocked:function(nt){ie=nt},setClear:function(nt){Ze!==nt&&(n.clearDepth(nt),Ze=nt)},reset:function(){ie=!1,oe=null,Oe=null,Ze=null}}}function o(){let ie=!1,oe=null,Oe=null,Ze=null,nt=null,an=null,zn=null,_r=null,Oi=null;return{setTest:function(An){ie||(An?me(2960):ae(2960))},setMask:function(An){oe!==An&&!ie&&(n.stencilMask(An),oe=An)},setFunc:function(An,ei,di){(Oe!==An||Ze!==ei||nt!==di)&&(n.stencilFunc(An,ei,di),Oe=An,Ze=ei,nt=di)},setOp:function(An,ei,di){(an!==An||zn!==ei||_r!==di)&&(n.stencilOp(An,ei,di),an=An,zn=ei,_r=di)},setLocked:function(An){ie=An},setClear:function(An){Oi!==An&&(n.clearStencil(An),Oi=An)},reset:function(){ie=!1,oe=null,Oe=null,Ze=null,nt=null,an=null,zn=null,_r=null,Oi=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,d=new WeakMap;let h={},m={},g=new WeakMap,v=[],_=null,x=!1,b=null,w=null,E=null,A=null,T=null,I=null,M=null,R=!1,O=null,L=null,X=null,W=null,K=null;const U=n.getParameter(35661);let ee=!1,Q=0;const D=n.getParameter(7938);D.indexOf("WebGL")!==-1?(Q=parseFloat(/^WebGL (\d)/.exec(D)[1]),ee=Q>=1):D.indexOf("OpenGL ES")!==-1&&(Q=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),ee=Q>=2);let z=null,Z={};const he=n.getParameter(3088),G=n.getParameter(2978),te=new gn().fromArray(he),re=new gn().fromArray(G);function q(ie,oe,Oe){const Ze=new Uint8Array(4),nt=n.createTexture();n.bindTexture(ie,nt),n.texParameteri(ie,10241,9728),n.texParameteri(ie,10240,9728);for(let an=0;an<Oe;an++)n.texImage2D(oe+an,0,6408,1,1,0,6408,5121,Ze);return nt}const $={};$[3553]=q(3553,3553,1),$[34067]=q(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),me(2929),l.setFunc(Hw),De(!1),ze(LR),me(2884),Ie(pl);function me(ie){h[ie]!==!0&&(n.enable(ie),h[ie]=!0)}function ae(ie){h[ie]!==!1&&(n.disable(ie),h[ie]=!1)}function xe(ie,oe){return m[ie]!==oe?(n.bindFramebuffer(ie,oe),m[ie]=oe,r&&(ie===36009&&(m[36160]=oe),ie===36160&&(m[36009]=oe)),!0):!1}function Ae(ie,oe){let Oe=v,Ze=!1;if(ie)if(Oe=g.get(oe),Oe===void 0&&(Oe=[],g.set(oe,Oe)),ie.isWebGLMultipleRenderTargets){const nt=ie.texture;if(Oe.length!==nt.length||Oe[0]!==36064){for(let an=0,zn=nt.length;an<zn;an++)Oe[an]=36064+an;Oe.length=nt.length,Ze=!0}}else Oe[0]!==36064&&(Oe[0]=36064,Ze=!0);else Oe[0]!==1029&&(Oe[0]=1029,Ze=!0);Ze&&(t.isWebGL2?n.drawBuffers(Oe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Oe))}function Me(ie){return _!==ie?(n.useProgram(ie),_=ie,!0):!1}const ce={[Vu]:32774,[v$]:32778,[y$]:32779};if(r)ce[zR]=32775,ce[UR]=32776;else{const ie=e.get("EXT_blend_minmax");ie!==null&&(ce[zR]=ie.MIN_EXT,ce[UR]=ie.MAX_EXT)}const ve={[_$]:0,[x$]:1,[b$]:768,[iO]:770,[M$]:776,[C$]:774,[S$]:772,[w$]:769,[sO]:771,[A$]:775,[E$]:773};function Ie(ie,oe,Oe,Ze,nt,an,zn,_r){if(ie===pl){x===!0&&(ae(3042),x=!1);return}if(x===!1&&(me(3042),x=!0),ie!==g$){if(ie!==b||_r!==R){if((w!==Vu||T!==Vu)&&(n.blendEquation(32774),w=Vu,T=Vu),_r)switch(ie){case cd:n.blendFuncSeparate(1,771,1,771);break;case DR:n.blendFunc(1,1);break;case BR:n.blendFuncSeparate(0,769,0,1);break;case FR:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ie);break}else switch(ie){case cd:n.blendFuncSeparate(770,771,1,771);break;case DR:n.blendFunc(770,1);break;case BR:n.blendFuncSeparate(0,769,0,1);break;case FR:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ie);break}E=null,A=null,I=null,M=null,b=ie,R=_r}return}nt=nt||oe,an=an||Oe,zn=zn||Ze,(oe!==w||nt!==T)&&(n.blendEquationSeparate(ce[oe],ce[nt]),w=oe,T=nt),(Oe!==E||Ze!==A||an!==I||zn!==M)&&(n.blendFuncSeparate(ve[Oe],ve[Ze],ve[an],ve[zn]),E=Oe,A=Ze,I=an,M=zn),b=ie,R=!1}function Le(ie,oe){ie.side===No?ae(2884):me(2884);let Oe=ie.side===us;oe&&(Oe=!Oe),De(Oe),ie.blending===cd&&ie.transparent===!1?Ie(pl):Ie(ie.blending,ie.blendEquation,ie.blendSrc,ie.blendDst,ie.blendEquationAlpha,ie.blendSrcAlpha,ie.blendDstAlpha,ie.premultipliedAlpha),l.setFunc(ie.depthFunc),l.setTest(ie.depthTest),l.setMask(ie.depthWrite),a.setMask(ie.colorWrite);const Ze=ie.stencilWrite;c.setTest(Ze),Ze&&(c.setMask(ie.stencilWriteMask),c.setFunc(ie.stencilFunc,ie.stencilRef,ie.stencilFuncMask),c.setOp(ie.stencilFail,ie.stencilZFail,ie.stencilZPass)),et(ie.polygonOffset,ie.polygonOffsetFactor,ie.polygonOffsetUnits),ie.alphaToCoverage===!0?me(32926):ae(32926)}function De(ie){O!==ie&&(ie?n.frontFace(2304):n.frontFace(2305),O=ie)}function ze(ie){ie!==f$?(me(2884),ie!==L&&(ie===LR?n.cullFace(1029):ie===p$?n.cullFace(1028):n.cullFace(1032))):ae(2884),L=ie}function We(ie){ie!==X&&(ee&&n.lineWidth(ie),X=ie)}function et(ie,oe,Oe){ie?(me(32823),(W!==oe||K!==Oe)&&(n.polygonOffset(oe,Oe),W=oe,K=Oe)):ae(32823)}function qe(ie){ie?me(3089):ae(3089)}function it(ie){ie===void 0&&(ie=33984+U-1),z!==ie&&(n.activeTexture(ie),z=ie)}function j(ie,oe,Oe){Oe===void 0&&(z===null?Oe=33984+U-1:Oe=z);let Ze=Z[Oe];Ze===void 0&&(Ze={type:void 0,texture:void 0},Z[Oe]=Ze),(Ze.type!==ie||Ze.texture!==oe)&&(z!==Oe&&(n.activeTexture(Oe),z=Oe),n.bindTexture(ie,oe||$[ie]),Ze.type=ie,Ze.texture=oe)}function B(){const ie=Z[z];ie!==void 0&&ie.type!==void 0&&(n.bindTexture(ie.type,null),ie.type=void 0,ie.texture=void 0)}function ne(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Se(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Be(){try{n.texSubImage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function He(){try{n.texSubImage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function we(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ue(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function fe(){try{n.texStorage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Fe(){try{n.texStorage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Y(){try{n.texImage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ye(){try{n.texImage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ke(ie){te.equals(ie)===!1&&(n.scissor(ie.x,ie.y,ie.z,ie.w),te.copy(ie))}function Ue(ie){re.equals(ie)===!1&&(n.viewport(ie.x,ie.y,ie.z,ie.w),re.copy(ie))}function ot(ie,oe){let Oe=d.get(oe);Oe===void 0&&(Oe=new WeakMap,d.set(oe,Oe));let Ze=Oe.get(ie);Ze===void 0&&(Ze=n.getUniformBlockIndex(oe,ie.name),Oe.set(ie,Ze))}function wt(ie,oe){const Ze=d.get(oe).get(ie);u.get(oe)!==Ze&&(n.uniformBlockBinding(oe,Ze,ie.__bindingPointIndex),u.set(oe,Ze))}function dn(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},z=null,Z={},m={},g=new WeakMap,v=[],_=null,x=!1,b=null,w=null,E=null,A=null,T=null,I=null,M=null,R=!1,O=null,L=null,X=null,W=null,K=null,te.set(0,0,n.canvas.width,n.canvas.height),re.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:me,disable:ae,bindFramebuffer:xe,drawBuffers:Ae,useProgram:Me,setBlending:Ie,setMaterial:Le,setFlipSided:De,setCullFace:ze,setLineWidth:We,setPolygonOffset:et,setScissorTest:qe,activeTexture:it,bindTexture:j,unbindTexture:B,compressedTexImage2D:ne,compressedTexImage3D:Se,texImage2D:Y,texImage3D:ye,updateUBOMapping:ot,uniformBlockBinding:wt,texStorage2D:fe,texStorage3D:Fe,texSubImage2D:Be,texSubImage3D:He,compressedTexSubImage2D:we,compressedTexSubImage3D:ue,scissor:ke,viewport:Ue,reset:dn}}function BRe(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let v;const _=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(j,B){return x?new OffscreenCanvas(j,B):ty("canvas")}function w(j,B,ne,Se){let Be=1;if((j.width>Se||j.height>Se)&&(Be=Se/Math.max(j.width,j.height)),Be<1||B===!0)if(typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&j instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&j instanceof ImageBitmap){const He=B?d7:Math.floor,we=He(Be*j.width),ue=He(Be*j.height);v===void 0&&(v=b(we,ue));const fe=ne?b(we,ue):v;return fe.width=we,fe.height=ue,fe.getContext("2d").drawImage(j,0,0,we,ue),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+j.width+"x"+j.height+") to ("+we+"x"+ue+")."),fe}else return"data"in j&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+j.width+"x"+j.height+")."),j;return j}function E(j){return dI(j.width)&&dI(j.height)}function A(j){return a?!1:j.wrapS!==si||j.wrapT!==si||j.minFilter!==dr&&j.minFilter!==Dn}function T(j,B){return j.generateMipmaps&&B&&j.minFilter!==dr&&j.minFilter!==Dn}function I(j){n.generateMipmap(j)}function M(j,B,ne,Se,Be=!1){if(a===!1)return B;if(j!==null){if(n[j]!==void 0)return n[j];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+j+"'")}let He=B;return B===6403&&(ne===5126&&(He=33326),ne===5131&&(He=33325),ne===5121&&(He=33321)),B===33319&&(ne===5126&&(He=33328),ne===5131&&(He=33327),ne===5121&&(He=33323)),B===6408&&(ne===5126&&(He=34836),ne===5131&&(He=34842),ne===5121&&(He=Se===Ut&&Be===!1?35907:32856),ne===32819&&(He=32854),ne===32820&&(He=32855)),(He===33325||He===33326||He===33327||He===33328||He===34842||He===34836)&&e.get("EXT_color_buffer_float"),He}function R(j,B,ne){return T(j,ne)===!0||j.isFramebufferTexture&&j.minFilter!==dr&&j.minFilter!==Dn?Math.log2(Math.max(B.width,B.height))+1:j.mipmaps!==void 0&&j.mipmaps.length>0?j.mipmaps.length:j.isCompressedTexture&&Array.isArray(j.image)?B.mipmaps.length:1}function O(j){return j===dr||j===qv||j===Pf?9728:9729}function L(j){const B=j.target;B.removeEventListener("dispose",L),W(B),B.isVideoTexture&&g.delete(B)}function X(j){const B=j.target;B.removeEventListener("dispose",X),U(B)}function W(j){const B=r.get(j);if(B.__webglInit===void 0)return;const ne=j.source,Se=_.get(ne);if(Se){const Be=Se[B.__cacheKey];Be.usedTimes--,Be.usedTimes===0&&K(j),Object.keys(Se).length===0&&_.delete(ne)}r.remove(j)}function K(j){const B=r.get(j);n.deleteTexture(B.__webglTexture);const ne=j.source,Se=_.get(ne);delete Se[B.__cacheKey],o.memory.textures--}function U(j){const B=j.texture,ne=r.get(j),Se=r.get(B);if(Se.__webglTexture!==void 0&&(n.deleteTexture(Se.__webglTexture),o.memory.textures--),j.depthTexture&&j.depthTexture.dispose(),j.isWebGLCubeRenderTarget)for(let Be=0;Be<6;Be++)n.deleteFramebuffer(ne.__webglFramebuffer[Be]),ne.__webglDepthbuffer&&n.deleteRenderbuffer(ne.__webglDepthbuffer[Be]);else{if(n.deleteFramebuffer(ne.__webglFramebuffer),ne.__webglDepthbuffer&&n.deleteRenderbuffer(ne.__webglDepthbuffer),ne.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ne.__webglMultisampledFramebuffer),ne.__webglColorRenderbuffer)for(let Be=0;Be<ne.__webglColorRenderbuffer.length;Be++)ne.__webglColorRenderbuffer[Be]&&n.deleteRenderbuffer(ne.__webglColorRenderbuffer[Be]);ne.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ne.__webglDepthRenderbuffer)}if(j.isWebGLMultipleRenderTargets)for(let Be=0,He=B.length;Be<He;Be++){const we=r.get(B[Be]);we.__webglTexture&&(n.deleteTexture(we.__webglTexture),o.memory.textures--),r.remove(B[Be])}r.remove(B),r.remove(j)}let ee=0;function Q(){ee=0}function D(){const j=ee;return j>=l&&console.warn("THREE.WebGLTextures: Trying to use "+j+" texture units while this GPU supports only "+l),ee+=1,j}function z(j){const B=[];return B.push(j.wrapS),B.push(j.wrapT),B.push(j.wrapR||0),B.push(j.magFilter),B.push(j.minFilter),B.push(j.anisotropy),B.push(j.internalFormat),B.push(j.format),B.push(j.type),B.push(j.generateMipmaps),B.push(j.premultiplyAlpha),B.push(j.flipY),B.push(j.unpackAlignment),B.push(j.encoding),B.join()}function Z(j,B){const ne=r.get(j);if(j.isVideoTexture&&qe(j),j.isRenderTargetTexture===!1&&j.version>0&&ne.__version!==j.version){const Se=j.image;if(Se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ae(ne,j,B);return}}t.bindTexture(3553,ne.__webglTexture,33984+B)}function he(j,B){const ne=r.get(j);if(j.version>0&&ne.__version!==j.version){ae(ne,j,B);return}t.bindTexture(35866,ne.__webglTexture,33984+B)}function G(j,B){const ne=r.get(j);if(j.version>0&&ne.__version!==j.version){ae(ne,j,B);return}t.bindTexture(32879,ne.__webglTexture,33984+B)}function te(j,B){const ne=r.get(j);if(j.version>0&&ne.__version!==j.version){xe(ne,j,B);return}t.bindTexture(34067,ne.__webglTexture,33984+B)}const re={[qc]:10497,[si]:33071,[dp]:33648},q={[dr]:9728,[qv]:9984,[Pf]:9986,[Dn]:9729,[DS]:9985,[Ia]:9987};function $(j,B,ne){if(ne?(n.texParameteri(j,10242,re[B.wrapS]),n.texParameteri(j,10243,re[B.wrapT]),(j===32879||j===35866)&&n.texParameteri(j,32882,re[B.wrapR]),n.texParameteri(j,10240,q[B.magFilter]),n.texParameteri(j,10241,q[B.minFilter])):(n.texParameteri(j,10242,33071),n.texParameteri(j,10243,33071),(j===32879||j===35866)&&n.texParameteri(j,32882,33071),(B.wrapS!==si||B.wrapT!==si)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(j,10240,O(B.magFilter)),n.texParameteri(j,10241,O(B.minFilter)),B.minFilter!==dr&&B.minFilter!==Dn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Se=e.get("EXT_texture_filter_anisotropic");if(B.magFilter===dr||B.minFilter!==Pf&&B.minFilter!==Ia||B.type===io&&e.has("OES_texture_float_linear")===!1||a===!1&&B.type===ko&&e.has("OES_texture_half_float_linear")===!1)return;(B.anisotropy>1||r.get(B).__currentAnisotropy)&&(n.texParameterf(j,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(B.anisotropy,i.getMaxAnisotropy())),r.get(B).__currentAnisotropy=B.anisotropy)}}function me(j,B){let ne=!1;j.__webglInit===void 0&&(j.__webglInit=!0,B.addEventListener("dispose",L));const Se=B.source;let Be=_.get(Se);Be===void 0&&(Be={},_.set(Se,Be));const He=z(B);if(He!==j.__cacheKey){Be[He]===void 0&&(Be[He]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ne=!0),Be[He].usedTimes++;const we=Be[j.__cacheKey];we!==void 0&&(Be[j.__cacheKey].usedTimes--,we.usedTimes===0&&K(B)),j.__cacheKey=He,j.__webglTexture=Be[He].texture}return ne}function ae(j,B,ne){let Se=3553;(B.isDataArrayTexture||B.isCompressedArrayTexture)&&(Se=35866),B.isData3DTexture&&(Se=32879);const Be=me(j,B),He=B.source;t.bindTexture(Se,j.__webglTexture,33984+ne);const we=r.get(He);if(He.version!==we.__version||Be===!0){t.activeTexture(33984+ne),n.pixelStorei(37440,B.flipY),n.pixelStorei(37441,B.premultiplyAlpha),n.pixelStorei(3317,B.unpackAlignment),n.pixelStorei(37443,0);const ue=A(B)&&E(B.image)===!1;let fe=w(B.image,ue,!1,u);fe=it(B,fe);const Fe=E(fe)||a,Y=s.convert(B.format,B.encoding);let ye=s.convert(B.type),ke=M(B.internalFormat,Y,ye,B.encoding,B.isVideoTexture);$(Se,B,Fe);let Ue;const ot=B.mipmaps,wt=a&&B.isVideoTexture!==!0,dn=we.__version===void 0||Be===!0,ie=R(B,fe,Fe);if(B.isDepthTexture)ke=6402,a?B.type===io?ke=36012:B.type===mc?ke=33190:B.type===ud?ke=35056:ke=33189:B.type===io&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),B.format===Lc&&ke===6402&&B.type!==aO&&B.type!==mc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),B.type=mc,ye=s.convert(B.type)),B.format===Rd&&ke===6402&&(ke=34041,B.type!==ud&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),B.type=ud,ye=s.convert(B.type))),dn&&(wt?t.texStorage2D(3553,1,ke,fe.width,fe.height):t.texImage2D(3553,0,ke,fe.width,fe.height,0,Y,ye,null));else if(B.isDataTexture)if(ot.length>0&&Fe){wt&&dn&&t.texStorage2D(3553,ie,ke,ot[0].width,ot[0].height);for(let oe=0,Oe=ot.length;oe<Oe;oe++)Ue=ot[oe],wt?t.texSubImage2D(3553,oe,0,0,Ue.width,Ue.height,Y,ye,Ue.data):t.texImage2D(3553,oe,ke,Ue.width,Ue.height,0,Y,ye,Ue.data);B.generateMipmaps=!1}else wt?(dn&&t.texStorage2D(3553,ie,ke,fe.width,fe.height),t.texSubImage2D(3553,0,0,0,fe.width,fe.height,Y,ye,fe.data)):t.texImage2D(3553,0,ke,fe.width,fe.height,0,Y,ye,fe.data);else if(B.isCompressedTexture)if(B.isCompressedArrayTexture){wt&&dn&&t.texStorage3D(35866,ie,ke,ot[0].width,ot[0].height,fe.depth);for(let oe=0,Oe=ot.length;oe<Oe;oe++)Ue=ot[oe],B.format!==ts?Y!==null?wt?t.compressedTexSubImage3D(35866,oe,0,0,0,Ue.width,Ue.height,fe.depth,Y,Ue.data,0,0):t.compressedTexImage3D(35866,oe,ke,Ue.width,Ue.height,fe.depth,0,Ue.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):wt?t.texSubImage3D(35866,oe,0,0,0,Ue.width,Ue.height,fe.depth,Y,ye,Ue.data):t.texImage3D(35866,oe,ke,Ue.width,Ue.height,fe.depth,0,Y,ye,Ue.data)}else{wt&&dn&&t.texStorage2D(3553,ie,ke,ot[0].width,ot[0].height);for(let oe=0,Oe=ot.length;oe<Oe;oe++)Ue=ot[oe],B.format!==ts?Y!==null?wt?t.compressedTexSubImage2D(3553,oe,0,0,Ue.width,Ue.height,Y,Ue.data):t.compressedTexImage2D(3553,oe,ke,Ue.width,Ue.height,0,Ue.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):wt?t.texSubImage2D(3553,oe,0,0,Ue.width,Ue.height,Y,ye,Ue.data):t.texImage2D(3553,oe,ke,Ue.width,Ue.height,0,Y,ye,Ue.data)}else if(B.isDataArrayTexture)wt?(dn&&t.texStorage3D(35866,ie,ke,fe.width,fe.height,fe.depth),t.texSubImage3D(35866,0,0,0,0,fe.width,fe.height,fe.depth,Y,ye,fe.data)):t.texImage3D(35866,0,ke,fe.width,fe.height,fe.depth,0,Y,ye,fe.data);else if(B.isData3DTexture)wt?(dn&&t.texStorage3D(32879,ie,ke,fe.width,fe.height,fe.depth),t.texSubImage3D(32879,0,0,0,0,fe.width,fe.height,fe.depth,Y,ye,fe.data)):t.texImage3D(32879,0,ke,fe.width,fe.height,fe.depth,0,Y,ye,fe.data);else if(B.isFramebufferTexture){if(dn)if(wt)t.texStorage2D(3553,ie,ke,fe.width,fe.height);else{let oe=fe.width,Oe=fe.height;for(let Ze=0;Ze<ie;Ze++)t.texImage2D(3553,Ze,ke,oe,Oe,0,Y,ye,null),oe>>=1,Oe>>=1}}else if(ot.length>0&&Fe){wt&&dn&&t.texStorage2D(3553,ie,ke,ot[0].width,ot[0].height);for(let oe=0,Oe=ot.length;oe<Oe;oe++)Ue=ot[oe],wt?t.texSubImage2D(3553,oe,0,0,Y,ye,Ue):t.texImage2D(3553,oe,ke,Y,ye,Ue);B.generateMipmaps=!1}else wt?(dn&&t.texStorage2D(3553,ie,ke,fe.width,fe.height),t.texSubImage2D(3553,0,0,0,Y,ye,fe)):t.texImage2D(3553,0,ke,Y,ye,fe);T(B,Fe)&&I(Se),we.__version=He.version,B.onUpdate&&B.onUpdate(B)}j.__version=B.version}function xe(j,B,ne){if(B.image.length!==6)return;const Se=me(j,B),Be=B.source;t.bindTexture(34067,j.__webglTexture,33984+ne);const He=r.get(Be);if(Be.version!==He.__version||Se===!0){t.activeTexture(33984+ne),n.pixelStorei(37440,B.flipY),n.pixelStorei(37441,B.premultiplyAlpha),n.pixelStorei(3317,B.unpackAlignment),n.pixelStorei(37443,0);const we=B.isCompressedTexture||B.image[0].isCompressedTexture,ue=B.image[0]&&B.image[0].isDataTexture,fe=[];for(let oe=0;oe<6;oe++)!we&&!ue?fe[oe]=w(B.image[oe],!1,!0,c):fe[oe]=ue?B.image[oe].image:B.image[oe],fe[oe]=it(B,fe[oe]);const Fe=fe[0],Y=E(Fe)||a,ye=s.convert(B.format,B.encoding),ke=s.convert(B.type),Ue=M(B.internalFormat,ye,ke,B.encoding),ot=a&&B.isVideoTexture!==!0,wt=He.__version===void 0||Se===!0;let dn=R(B,Fe,Y);$(34067,B,Y);let ie;if(we){ot&&wt&&t.texStorage2D(34067,dn,Ue,Fe.width,Fe.height);for(let oe=0;oe<6;oe++){ie=fe[oe].mipmaps;for(let Oe=0;Oe<ie.length;Oe++){const Ze=ie[Oe];B.format!==ts?ye!==null?ot?t.compressedTexSubImage2D(34069+oe,Oe,0,0,Ze.width,Ze.height,ye,Ze.data):t.compressedTexImage2D(34069+oe,Oe,Ue,Ze.width,Ze.height,0,Ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ot?t.texSubImage2D(34069+oe,Oe,0,0,Ze.width,Ze.height,ye,ke,Ze.data):t.texImage2D(34069+oe,Oe,Ue,Ze.width,Ze.height,0,ye,ke,Ze.data)}}}else{ie=B.mipmaps,ot&&wt&&(ie.length>0&&dn++,t.texStorage2D(34067,dn,Ue,fe[0].width,fe[0].height));for(let oe=0;oe<6;oe++)if(ue){ot?t.texSubImage2D(34069+oe,0,0,0,fe[oe].width,fe[oe].height,ye,ke,fe[oe].data):t.texImage2D(34069+oe,0,Ue,fe[oe].width,fe[oe].height,0,ye,ke,fe[oe].data);for(let Oe=0;Oe<ie.length;Oe++){const nt=ie[Oe].image[oe].image;ot?t.texSubImage2D(34069+oe,Oe+1,0,0,nt.width,nt.height,ye,ke,nt.data):t.texImage2D(34069+oe,Oe+1,Ue,nt.width,nt.height,0,ye,ke,nt.data)}}else{ot?t.texSubImage2D(34069+oe,0,0,0,ye,ke,fe[oe]):t.texImage2D(34069+oe,0,Ue,ye,ke,fe[oe]);for(let Oe=0;Oe<ie.length;Oe++){const Ze=ie[Oe];ot?t.texSubImage2D(34069+oe,Oe+1,0,0,ye,ke,Ze.image[oe]):t.texImage2D(34069+oe,Oe+1,Ue,ye,ke,Ze.image[oe])}}}T(B,Y)&&I(34067),He.__version=Be.version,B.onUpdate&&B.onUpdate(B)}j.__version=B.version}function Ae(j,B,ne,Se,Be){const He=s.convert(ne.format,ne.encoding),we=s.convert(ne.type),ue=M(ne.internalFormat,He,we,ne.encoding);r.get(B).__hasExternalTextures||(Be===32879||Be===35866?t.texImage3D(Be,0,ue,B.width,B.height,B.depth,0,He,we,null):t.texImage2D(Be,0,ue,B.width,B.height,0,He,we,null)),t.bindFramebuffer(36160,j),et(B)?h.framebufferTexture2DMultisampleEXT(36160,Se,Be,r.get(ne).__webglTexture,0,We(B)):(Be===3553||Be>=34069&&Be<=34074)&&n.framebufferTexture2D(36160,Se,Be,r.get(ne).__webglTexture,0),t.bindFramebuffer(36160,null)}function Me(j,B,ne){if(n.bindRenderbuffer(36161,j),B.depthBuffer&&!B.stencilBuffer){let Se=33189;if(ne||et(B)){const Be=B.depthTexture;Be&&Be.isDepthTexture&&(Be.type===io?Se=36012:Be.type===mc&&(Se=33190));const He=We(B);et(B)?h.renderbufferStorageMultisampleEXT(36161,He,Se,B.width,B.height):n.renderbufferStorageMultisample(36161,He,Se,B.width,B.height)}else n.renderbufferStorage(36161,Se,B.width,B.height);n.framebufferRenderbuffer(36160,36096,36161,j)}else if(B.depthBuffer&&B.stencilBuffer){const Se=We(B);ne&&et(B)===!1?n.renderbufferStorageMultisample(36161,Se,35056,B.width,B.height):et(B)?h.renderbufferStorageMultisampleEXT(36161,Se,35056,B.width,B.height):n.renderbufferStorage(36161,34041,B.width,B.height),n.framebufferRenderbuffer(36160,33306,36161,j)}else{const Se=B.isWebGLMultipleRenderTargets===!0?B.texture:[B.texture];for(let Be=0;Be<Se.length;Be++){const He=Se[Be],we=s.convert(He.format,He.encoding),ue=s.convert(He.type),fe=M(He.internalFormat,we,ue,He.encoding),Fe=We(B);ne&&et(B)===!1?n.renderbufferStorageMultisample(36161,Fe,fe,B.width,B.height):et(B)?h.renderbufferStorageMultisampleEXT(36161,Fe,fe,B.width,B.height):n.renderbufferStorage(36161,fe,B.width,B.height)}}n.bindRenderbuffer(36161,null)}function ce(j,B){if(B&&B.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,j),!(B.depthTexture&&B.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(B.depthTexture).__webglTexture||B.depthTexture.image.width!==B.width||B.depthTexture.image.height!==B.height)&&(B.depthTexture.image.width=B.width,B.depthTexture.image.height=B.height,B.depthTexture.needsUpdate=!0),Z(B.depthTexture,0);const Se=r.get(B.depthTexture).__webglTexture,Be=We(B);if(B.depthTexture.format===Lc)et(B)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,Se,0,Be):n.framebufferTexture2D(36160,36096,3553,Se,0);else if(B.depthTexture.format===Rd)et(B)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,Se,0,Be):n.framebufferTexture2D(36160,33306,3553,Se,0);else throw new Error("Unknown depthTexture format")}function ve(j){const B=r.get(j),ne=j.isWebGLCubeRenderTarget===!0;if(j.depthTexture&&!B.__autoAllocateDepthBuffer){if(ne)throw new Error("target.depthTexture not supported in Cube render targets");ce(B.__webglFramebuffer,j)}else if(ne){B.__webglDepthbuffer=[];for(let Se=0;Se<6;Se++)t.bindFramebuffer(36160,B.__webglFramebuffer[Se]),B.__webglDepthbuffer[Se]=n.createRenderbuffer(),Me(B.__webglDepthbuffer[Se],j,!1)}else t.bindFramebuffer(36160,B.__webglFramebuffer),B.__webglDepthbuffer=n.createRenderbuffer(),Me(B.__webglDepthbuffer,j,!1);t.bindFramebuffer(36160,null)}function Ie(j,B,ne){const Se=r.get(j);B!==void 0&&Ae(Se.__webglFramebuffer,j,j.texture,36064,3553),ne!==void 0&&ve(j)}function Le(j){const B=j.texture,ne=r.get(j),Se=r.get(B);j.addEventListener("dispose",X),j.isWebGLMultipleRenderTargets!==!0&&(Se.__webglTexture===void 0&&(Se.__webglTexture=n.createTexture()),Se.__version=B.version,o.memory.textures++);const Be=j.isWebGLCubeRenderTarget===!0,He=j.isWebGLMultipleRenderTargets===!0,we=E(j)||a;if(Be){ne.__webglFramebuffer=[];for(let ue=0;ue<6;ue++)ne.__webglFramebuffer[ue]=n.createFramebuffer()}else{if(ne.__webglFramebuffer=n.createFramebuffer(),He)if(i.drawBuffers){const ue=j.texture;for(let fe=0,Fe=ue.length;fe<Fe;fe++){const Y=r.get(ue[fe]);Y.__webglTexture===void 0&&(Y.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&j.samples>0&&et(j)===!1){const ue=He?B:[B];ne.__webglMultisampledFramebuffer=n.createFramebuffer(),ne.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,ne.__webglMultisampledFramebuffer);for(let fe=0;fe<ue.length;fe++){const Fe=ue[fe];ne.__webglColorRenderbuffer[fe]=n.createRenderbuffer(),n.bindRenderbuffer(36161,ne.__webglColorRenderbuffer[fe]);const Y=s.convert(Fe.format,Fe.encoding),ye=s.convert(Fe.type),ke=M(Fe.internalFormat,Y,ye,Fe.encoding,j.isXRRenderTarget===!0),Ue=We(j);n.renderbufferStorageMultisample(36161,Ue,ke,j.width,j.height),n.framebufferRenderbuffer(36160,36064+fe,36161,ne.__webglColorRenderbuffer[fe])}n.bindRenderbuffer(36161,null),j.depthBuffer&&(ne.__webglDepthRenderbuffer=n.createRenderbuffer(),Me(ne.__webglDepthRenderbuffer,j,!0)),t.bindFramebuffer(36160,null)}}if(Be){t.bindTexture(34067,Se.__webglTexture),$(34067,B,we);for(let ue=0;ue<6;ue++)Ae(ne.__webglFramebuffer[ue],j,B,36064,34069+ue);T(B,we)&&I(34067),t.unbindTexture()}else if(He){const ue=j.texture;for(let fe=0,Fe=ue.length;fe<Fe;fe++){const Y=ue[fe],ye=r.get(Y);t.bindTexture(3553,ye.__webglTexture),$(3553,Y,we),Ae(ne.__webglFramebuffer,j,Y,36064+fe,3553),T(Y,we)&&I(3553)}t.unbindTexture()}else{let ue=3553;(j.isWebGL3DRenderTarget||j.isWebGLArrayRenderTarget)&&(a?ue=j.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ue,Se.__webglTexture),$(ue,B,we),Ae(ne.__webglFramebuffer,j,B,36064,ue),T(B,we)&&I(ue),t.unbindTexture()}j.depthBuffer&&ve(j)}function De(j){const B=E(j)||a,ne=j.isWebGLMultipleRenderTargets===!0?j.texture:[j.texture];for(let Se=0,Be=ne.length;Se<Be;Se++){const He=ne[Se];if(T(He,B)){const we=j.isWebGLCubeRenderTarget?34067:3553,ue=r.get(He).__webglTexture;t.bindTexture(we,ue),I(we),t.unbindTexture()}}}function ze(j){if(a&&j.samples>0&&et(j)===!1){const B=j.isWebGLMultipleRenderTargets?j.texture:[j.texture],ne=j.width,Se=j.height;let Be=16384;const He=[],we=j.stencilBuffer?33306:36096,ue=r.get(j),fe=j.isWebGLMultipleRenderTargets===!0;if(fe)for(let Fe=0;Fe<B.length;Fe++)t.bindFramebuffer(36160,ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Fe,36161,null),t.bindFramebuffer(36160,ue.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Fe,3553,null,0);t.bindFramebuffer(36008,ue.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ue.__webglFramebuffer);for(let Fe=0;Fe<B.length;Fe++){He.push(36064+Fe),j.depthBuffer&&He.push(we);const Y=ue.__ignoreDepthValues!==void 0?ue.__ignoreDepthValues:!1;if(Y===!1&&(j.depthBuffer&&(Be|=256),j.stencilBuffer&&(Be|=1024)),fe&&n.framebufferRenderbuffer(36008,36064,36161,ue.__webglColorRenderbuffer[Fe]),Y===!0&&(n.invalidateFramebuffer(36008,[we]),n.invalidateFramebuffer(36009,[we])),fe){const ye=r.get(B[Fe]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,ye,0)}n.blitFramebuffer(0,0,ne,Se,0,0,ne,Se,Be,9728),m&&n.invalidateFramebuffer(36008,He)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),fe)for(let Fe=0;Fe<B.length;Fe++){t.bindFramebuffer(36160,ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Fe,36161,ue.__webglColorRenderbuffer[Fe]);const Y=r.get(B[Fe]).__webglTexture;t.bindFramebuffer(36160,ue.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Fe,3553,Y,0)}t.bindFramebuffer(36009,ue.__webglMultisampledFramebuffer)}}function We(j){return Math.min(d,j.samples)}function et(j){const B=r.get(j);return a&&j.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&B.__useRenderToTexture!==!1}function qe(j){const B=o.render.frame;g.get(j)!==B&&(g.set(j,B),j.update())}function it(j,B){const ne=j.encoding,Se=j.format,Be=j.type;return j.isCompressedTexture===!0||j.isVideoTexture===!0||j.format===Gw||ne!==Uo&&(ne===Ut?a===!1?e.has("EXT_sRGB")===!0&&Se===ts?(j.format=Gw,j.minFilter=Dn,j.generateMipmaps=!1):B=hO.sRGBToLinear(B):(Se!==ts||Be!==El)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ne)),B}this.allocateTextureUnit=D,this.resetTextureUnits=Q,this.setTexture2D=Z,this.setTexture2DArray=he,this.setTexture3D=G,this.setTextureCube=te,this.rebindTextures=Ie,this.setupRenderTarget=Le,this.updateRenderTargetMipmap=De,this.updateMultisampleRenderTarget=ze,this.setupDepthRenderbuffer=ve,this.setupFrameBufferTexture=Ae,this.useMultisampledRTT=et}function S7(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===El)return 5121;if(s===W$)return 32819;if(s===j$)return 32820;if(s===H$)return 5120;if(s===G$)return 5122;if(s===aO)return 5123;if(s===V$)return 5124;if(s===mc)return 5125;if(s===io)return 5126;if(s===ko)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===$$)return 6406;if(s===ts)return 6408;if(s===K$)return 6409;if(s===X$)return 6410;if(s===Lc)return 6402;if(s===Rd)return 34041;if(s===Gw)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===J$)return 6403;if(s===Y$)return 36244;if(s===q$)return 33319;if(s===Q$)return 33320;if(s===Z$)return 36249;if(s===ib||s===sb||s===ob||s===ab)if(o===Ut)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===ib)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===sb)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===ob)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===ab)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===ib)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===sb)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===ob)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===ab)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===HR||s===GR||s===VR||s===WR)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===HR)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===GR)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===VR)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===WR)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===e7)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===jR||s===$R)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===jR)return o===Ut?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===$R)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===KR||s===XR||s===JR||s===YR||s===qR||s===QR||s===ZR||s===eI||s===tI||s===nI||s===rI||s===iI||s===sI||s===oI)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===KR)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===XR)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===JR)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===YR)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===qR)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===QR)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===ZR)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===eI)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===tI)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===nI)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===rI)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===iI)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===sI)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===oI)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===lb)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===lb)return o===Ut?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===t7||s===aI||s===lI||s===cI)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===lb)return a.COMPRESSED_RED_RGTC1_EXT;if(s===aI)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===lI)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===cI)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===ud?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class E7 extends Bn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class al extends Qt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const FRe={type:"move"};class fM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new al,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new al,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new V,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new V),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new al,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new V,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new V),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const v of e.hand.values()){const _=t.getJointPose(v,r),x=this._getHandJoint(c,v);_!==null&&(x.matrix.fromArray(_.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=_.radius),x.visible=_!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],h=u.position.distanceTo(d.position),m=.02,g=.005;c.inputState.pinching&&h>m+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=m-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(FRe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new al;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class C7 extends Kn{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:Lc,u!==Lc&&u!==Rd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Lc&&(r=mc),r===void 0&&u===Rd&&(r=ud),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:dr,this.minFilter=l!==void 0?l:dr,this.flipY=!1,this.generateMipmaps=!1}}class zRe extends ka{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,h=null,m=null,g=null;const v=t.getContextAttributes();let _=null,x=null;const b=[],w=[],E=new Set,A=new Map,T=new Bn;T.layers.enable(1),T.viewport=new gn;const I=new Bn;I.layers.enable(2),I.viewport=new gn;const M=[T,I],R=new E7;R.layers.enable(1),R.layers.enable(2);let O=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let te=b[G];return te===void 0&&(te=new fM,b[G]=te),te.getTargetRaySpace()},this.getControllerGrip=function(G){let te=b[G];return te===void 0&&(te=new fM,b[G]=te),te.getGripSpace()},this.getHand=function(G){let te=b[G];return te===void 0&&(te=new fM,b[G]=te),te.getHandSpace()};function X(G){const te=w.indexOf(G.inputSource);if(te===-1)return;const re=b[te];re!==void 0&&re.dispatchEvent({type:G.type,data:G.inputSource})}function W(){i.removeEventListener("select",X),i.removeEventListener("selectstart",X),i.removeEventListener("selectend",X),i.removeEventListener("squeeze",X),i.removeEventListener("squeezestart",X),i.removeEventListener("squeezeend",X),i.removeEventListener("end",W),i.removeEventListener("inputsourceschange",K);for(let G=0;G<b.length;G++){const te=w[G];te!==null&&(w[G]=null,b[G].disconnect(te))}O=null,L=null,e.setRenderTarget(_),m=null,h=null,d=null,i=null,x=null,he.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){s=G,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){a=G,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(G){c=G},this.getBaseLayer=function(){return h!==null?h:m},this.getBinding=function(){return d},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(G){if(i=G,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",X),i.addEventListener("selectstart",X),i.addEventListener("selectend",X),i.addEventListener("squeeze",X),i.addEventListener("squeezestart",X),i.addEventListener("squeezeend",X),i.addEventListener("end",W),i.addEventListener("inputsourceschange",K),v.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const te={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,te),i.updateRenderState({baseLayer:m}),x=new Ho(m.framebufferWidth,m.framebufferHeight,{format:ts,type:El,encoding:e.outputEncoding,stencilBuffer:v.stencil})}else{let te=null,re=null,q=null;v.depth&&(q=v.stencil?35056:33190,te=v.stencil?Rd:Lc,re=v.stencil?ud:mc);const $={colorFormat:32856,depthFormat:q,scaleFactor:s};d=new XRWebGLBinding(i,t),h=d.createProjectionLayer($),i.updateRenderState({layers:[h]}),x=new Ho(h.textureWidth,h.textureHeight,{format:ts,type:El,depthTexture:new C7(h.textureWidth,h.textureHeight,re,void 0,void 0,void 0,void 0,void 0,void 0,te),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const me=e.properties.get(x);me.__ignoreDepthValues=h.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),he.setContext(i),he.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function K(G){for(let te=0;te<G.removed.length;te++){const re=G.removed[te],q=w.indexOf(re);q>=0&&(w[q]=null,b[q].disconnect(re))}for(let te=0;te<G.added.length;te++){const re=G.added[te];let q=w.indexOf(re);if(q===-1){for(let me=0;me<b.length;me++)if(me>=w.length){w.push(re),q=me;break}else if(w[me]===null){w[me]=re,q=me;break}if(q===-1)break}const $=b[q];$&&$.connect(re)}}const U=new V,ee=new V;function Q(G,te,re){U.setFromMatrixPosition(te.matrixWorld),ee.setFromMatrixPosition(re.matrixWorld);const q=U.distanceTo(ee),$=te.projectionMatrix.elements,me=re.projectionMatrix.elements,ae=$[14]/($[10]-1),xe=$[14]/($[10]+1),Ae=($[9]+1)/$[5],Me=($[9]-1)/$[5],ce=($[8]-1)/$[0],ve=(me[8]+1)/me[0],Ie=ae*ce,Le=ae*ve,De=q/(-ce+ve),ze=De*-ce;te.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(ze),G.translateZ(De),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert();const We=ae+De,et=xe+De,qe=Ie-ze,it=Le+(q-ze),j=Ae*xe/et*We,B=Me*xe/et*We;G.projectionMatrix.makePerspective(qe,it,j,B,We,et)}function D(G,te){te===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(te.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(i===null)return;R.near=I.near=T.near=G.near,R.far=I.far=T.far=G.far,(O!==R.near||L!==R.far)&&(i.updateRenderState({depthNear:R.near,depthFar:R.far}),O=R.near,L=R.far);const te=G.parent,re=R.cameras;D(R,te);for(let $=0;$<re.length;$++)D(re[$],te);R.matrixWorld.decompose(R.position,R.quaternion,R.scale),G.matrix.copy(R.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale);const q=G.children;for(let $=0,me=q.length;$<me;$++)q[$].updateMatrixWorld(!0);re.length===2?Q(R,T,I):R.projectionMatrix.copy(T.projectionMatrix)},this.getCamera=function(){return R},this.getFoveation=function(){if(!(h===null&&m===null))return l},this.setFoveation=function(G){l=G,h!==null&&(h.fixedFoveation=G),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=G)},this.getPlanes=function(){return E};let z=null;function Z(G,te){if(u=te.getViewerPose(c||o),g=te,u!==null){const re=u.views;m!==null&&(e.setRenderTargetFramebuffer(x,m.framebuffer),e.setRenderTarget(x));let q=!1;re.length!==R.cameras.length&&(R.cameras.length=0,q=!0);for(let $=0;$<re.length;$++){const me=re[$];let ae=null;if(m!==null)ae=m.getViewport(me);else{const Ae=d.getViewSubImage(h,me);ae=Ae.viewport,$===0&&(e.setRenderTargetTextures(x,Ae.colorTexture,h.ignoreDepthValues?void 0:Ae.depthStencilTexture),e.setRenderTarget(x))}let xe=M[$];xe===void 0&&(xe=new Bn,xe.layers.enable($),xe.viewport=new gn,M[$]=xe),xe.matrix.fromArray(me.transform.matrix),xe.projectionMatrix.fromArray(me.projectionMatrix),xe.viewport.set(ae.x,ae.y,ae.width,ae.height),$===0&&R.matrix.copy(xe.matrix),q===!0&&R.cameras.push(xe)}}for(let re=0;re<b.length;re++){const q=w[re],$=b[re];q!==null&&$!==void 0&&$.update(q,te,c||o)}if(z&&z(G,te),te.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:te.detectedPlanes});let re=null;for(const q of E)te.detectedPlanes.has(q)||(re===null&&(re=[]),re.push(q));if(re!==null)for(const q of re)E.delete(q),A.delete(q),r.dispatchEvent({type:"planeremoved",data:q});for(const q of te.detectedPlanes)if(!E.has(q))E.add(q),A.set(q,te.lastChangedTime),r.dispatchEvent({type:"planeadded",data:q});else{const $=A.get(q);q.lastChangedTime>$&&(A.set(q,q.lastChangedTime),r.dispatchEvent({type:"planechanged",data:q}))}}g=null}const he=new y7;he.setAnimationLoop(Z),this.setAnimationLoop=function(G){z=G},this.dispose=function(){}}}function URe(n,e){function t(v,_){_.color.getRGB(v.fogColor.value,m7(n)),_.isFog?(v.fogNear.value=_.near,v.fogFar.value=_.far):_.isFogExp2&&(v.fogDensity.value=_.density)}function r(v,_,x,b,w){_.isMeshBasicMaterial||_.isMeshLambertMaterial?i(v,_):_.isMeshToonMaterial?(i(v,_),u(v,_)):_.isMeshPhongMaterial?(i(v,_),c(v,_)):_.isMeshStandardMaterial?(i(v,_),d(v,_),_.isMeshPhysicalMaterial&&h(v,_,w)):_.isMeshMatcapMaterial?(i(v,_),m(v,_)):_.isMeshDepthMaterial?i(v,_):_.isMeshDistanceMaterial?(i(v,_),g(v,_)):_.isMeshNormalMaterial?i(v,_):_.isLineBasicMaterial?(s(v,_),_.isLineDashedMaterial&&o(v,_)):_.isPointsMaterial?a(v,_,x,b):_.isSpriteMaterial?l(v,_):_.isShadowMaterial?(v.color.value.copy(_.color),v.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function i(v,_){v.opacity.value=_.opacity,_.color&&v.diffuse.value.copy(_.color),_.emissive&&v.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(v.map.value=_.map),_.alphaMap&&(v.alphaMap.value=_.alphaMap),_.bumpMap&&(v.bumpMap.value=_.bumpMap,v.bumpScale.value=_.bumpScale,_.side===us&&(v.bumpScale.value*=-1)),_.displacementMap&&(v.displacementMap.value=_.displacementMap,v.displacementScale.value=_.displacementScale,v.displacementBias.value=_.displacementBias),_.emissiveMap&&(v.emissiveMap.value=_.emissiveMap),_.normalMap&&(v.normalMap.value=_.normalMap,v.normalScale.value.copy(_.normalScale),_.side===us&&v.normalScale.value.negate()),_.specularMap&&(v.specularMap.value=_.specularMap),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest);const x=e.get(_).envMap;if(x&&(v.envMap.value=x,v.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=_.reflectivity,v.ior.value=_.ior,v.refractionRatio.value=_.refractionRatio),_.lightMap){v.lightMap.value=_.lightMap;const E=n.useLegacyLights===!0?Math.PI:1;v.lightMapIntensity.value=_.lightMapIntensity*E}_.aoMap&&(v.aoMap.value=_.aoMap,v.aoMapIntensity.value=_.aoMapIntensity);let b;_.map?b=_.map:_.specularMap?b=_.specularMap:_.displacementMap?b=_.displacementMap:_.normalMap?b=_.normalMap:_.bumpMap?b=_.bumpMap:_.roughnessMap?b=_.roughnessMap:_.metalnessMap?b=_.metalnessMap:_.alphaMap?b=_.alphaMap:_.emissiveMap?b=_.emissiveMap:_.clearcoatMap?b=_.clearcoatMap:_.clearcoatNormalMap?b=_.clearcoatNormalMap:_.clearcoatRoughnessMap?b=_.clearcoatRoughnessMap:_.iridescenceMap?b=_.iridescenceMap:_.iridescenceThicknessMap?b=_.iridescenceThicknessMap:_.specularIntensityMap?b=_.specularIntensityMap:_.specularColorMap?b=_.specularColorMap:_.transmissionMap?b=_.transmissionMap:_.thicknessMap?b=_.thicknessMap:_.sheenColorMap?b=_.sheenColorMap:_.sheenRoughnessMap&&(b=_.sheenRoughnessMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),v.uvTransform.value.copy(b.matrix));let w;_.aoMap?w=_.aoMap:_.lightMap&&(w=_.lightMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uv2Transform.value.copy(w.matrix))}function s(v,_){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity}function o(v,_){v.dashSize.value=_.dashSize,v.totalSize.value=_.dashSize+_.gapSize,v.scale.value=_.scale}function a(v,_,x,b){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity,v.size.value=_.size*x,v.scale.value=b*.5,_.map&&(v.map.value=_.map),_.alphaMap&&(v.alphaMap.value=_.alphaMap),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest);let w;_.map?w=_.map:_.alphaMap&&(w=_.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uvTransform.value.copy(w.matrix))}function l(v,_){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity,v.rotation.value=_.rotation,_.map&&(v.map.value=_.map),_.alphaMap&&(v.alphaMap.value=_.alphaMap),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest);let x;_.map?x=_.map:_.alphaMap&&(x=_.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uvTransform.value.copy(x.matrix))}function c(v,_){v.specular.value.copy(_.specular),v.shininess.value=Math.max(_.shininess,1e-4)}function u(v,_){_.gradientMap&&(v.gradientMap.value=_.gradientMap)}function d(v,_){v.roughness.value=_.roughness,v.metalness.value=_.metalness,_.roughnessMap&&(v.roughnessMap.value=_.roughnessMap),_.metalnessMap&&(v.metalnessMap.value=_.metalnessMap),e.get(_).envMap&&(v.envMapIntensity.value=_.envMapIntensity)}function h(v,_,x){v.ior.value=_.ior,_.sheen>0&&(v.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),v.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(v.sheenColorMap.value=_.sheenColorMap),_.sheenRoughnessMap&&(v.sheenRoughnessMap.value=_.sheenRoughnessMap)),_.clearcoat>0&&(v.clearcoat.value=_.clearcoat,v.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(v.clearcoatMap.value=_.clearcoatMap),_.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap),_.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),v.clearcoatNormalMap.value=_.clearcoatNormalMap,_.side===us&&v.clearcoatNormalScale.value.negate())),_.iridescence>0&&(v.iridescence.value=_.iridescence,v.iridescenceIOR.value=_.iridescenceIOR,v.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(v.iridescenceMap.value=_.iridescenceMap),_.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=_.iridescenceThicknessMap)),_.transmission>0&&(v.transmission.value=_.transmission,v.transmissionSamplerMap.value=x.texture,v.transmissionSamplerSize.value.set(x.width,x.height),_.transmissionMap&&(v.transmissionMap.value=_.transmissionMap),v.thickness.value=_.thickness,_.thicknessMap&&(v.thicknessMap.value=_.thicknessMap),v.attenuationDistance.value=_.attenuationDistance,v.attenuationColor.value.copy(_.attenuationColor)),v.specularIntensity.value=_.specularIntensity,v.specularColor.value.copy(_.specularColor),_.specularIntensityMap&&(v.specularIntensityMap.value=_.specularIntensityMap),_.specularColorMap&&(v.specularColorMap.value=_.specularColorMap)}function m(v,_){_.matcap&&(v.matcap.value=_.matcap)}function g(v,_){v.referencePosition.value.copy(_.referencePosition),v.nearDistance.value=_.nearDistance,v.farDistance.value=_.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function HRe(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(b,w){const E=w.program;r.uniformBlockBinding(b,E)}function c(b,w){let E=i[b.id];E===void 0&&(g(b),E=u(b),i[b.id]=E,b.addEventListener("dispose",_));const A=w.program;r.updateUBOMapping(b,A);const T=e.render.frame;s[b.id]!==T&&(h(b),s[b.id]=T)}function u(b){const w=d();b.__bindingPointIndex=w;const E=n.createBuffer(),A=b.__size,T=b.usage;return n.bindBuffer(35345,E),n.bufferData(35345,A,T),n.bindBuffer(35345,null),n.bindBufferBase(35345,w,E),E}function d(){for(let b=0;b<a;b++)if(o.indexOf(b)===-1)return o.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(b){const w=i[b.id],E=b.uniforms,A=b.__cache;n.bindBuffer(35345,w);for(let T=0,I=E.length;T<I;T++){const M=E[T];if(m(M,T,A)===!0){const R=M.__offset,O=Array.isArray(M.value)?M.value:[M.value];let L=0;for(let X=0;X<O.length;X++){const W=O[X],K=v(W);typeof W=="number"?(M.__data[0]=W,n.bufferSubData(35345,R+L,M.__data)):W.isMatrix3?(M.__data[0]=W.elements[0],M.__data[1]=W.elements[1],M.__data[2]=W.elements[2],M.__data[3]=W.elements[0],M.__data[4]=W.elements[3],M.__data[5]=W.elements[4],M.__data[6]=W.elements[5],M.__data[7]=W.elements[0],M.__data[8]=W.elements[6],M.__data[9]=W.elements[7],M.__data[10]=W.elements[8],M.__data[11]=W.elements[0]):(W.toArray(M.__data,L),L+=K.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,R,M.__data)}}n.bindBuffer(35345,null)}function m(b,w,E){const A=b.value;if(E[w]===void 0){if(typeof A=="number")E[w]=A;else{const T=Array.isArray(A)?A:[A],I=[];for(let M=0;M<T.length;M++)I.push(T[M].clone());E[w]=I}return!0}else if(typeof A=="number"){if(E[w]!==A)return E[w]=A,!0}else{const T=Array.isArray(E[w])?E[w]:[E[w]],I=Array.isArray(A)?A:[A];for(let M=0;M<T.length;M++){const R=T[M];if(R.equals(I[M])===!1)return R.copy(I[M]),!0}}return!1}function g(b){const w=b.uniforms;let E=0;const A=16;let T=0;for(let I=0,M=w.length;I<M;I++){const R=w[I],O={boundary:0,storage:0},L=Array.isArray(R.value)?R.value:[R.value];for(let X=0,W=L.length;X<W;X++){const K=L[X],U=v(K);O.boundary+=U.boundary,O.storage+=U.storage}if(R.__data=new Float32Array(O.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=E,I>0){T=E%A;const X=A-T;T!==0&&X-O.boundary<0&&(E+=A-T,R.__offset=E)}E+=O.storage}return T=E%A,T>0&&(E+=A-T),b.__size=E,b.__cache={},this}function v(b){const w={boundary:0,storage:0};return typeof b=="number"?(w.boundary=4,w.storage=4):b.isVector2?(w.boundary=8,w.storage=8):b.isVector3||b.isColor?(w.boundary=16,w.storage=12):b.isVector4?(w.boundary=16,w.storage=16):b.isMatrix3?(w.boundary=48,w.storage=48):b.isMatrix4?(w.boundary=64,w.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),w}function _(b){const w=b.target;w.removeEventListener("dispose",_);const E=o.indexOf(w.__bindingPointIndex);o.splice(E,1),n.deleteBuffer(i[w.id]),delete i[w.id],delete s[w.id]}function x(){for(const b in i)n.deleteBuffer(i[b]);o=[],i={},s={}}return{bind:l,update:c,dispose:x}}function GRe(){const n=ty("canvas");return n.style.display="block",n}function HS(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:GRe(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let d=null,h=null;const m=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Uo,this.useLegacyLights=!0,this.toneMapping=Bo,this.toneMappingExposure=1;const v=this;let _=!1,x=0,b=0,w=null,E=-1,A=null;const T=new gn,I=new gn;let M=null,R=e.width,O=e.height,L=1,X=null,W=null;const K=new gn(0,0,R,O),U=new gn(0,0,R,O);let ee=!1;const Q=new zS;let D=!1,z=!1,Z=null;const he=new vt,G=new V,te={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function re(){return w===null?L:1}let q=t;function $(H,pe){for(let Ee=0;Ee<H.length;Ee++){const de=H[Ee],Te=e.getContext(de,pe);if(Te!==null)return Te}return null}try{const H={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${kS}`),e.addEventListener("webglcontextlost",ye,!1),e.addEventListener("webglcontextrestored",ke,!1),e.addEventListener("webglcontextcreationerror",Ue,!1),q===null){const pe=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&pe.shift(),q=$(pe,H),q===null)throw $(pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}q.getShaderPrecisionFormat===void 0&&(q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(H){throw console.error("THREE.WebGLRenderer: "+H.message),H}let me,ae,xe,Ae,Me,ce,ve,Ie,Le,De,ze,We,et,qe,it,j,B,ne,Se,Be,He,we,ue,fe;function Fe(){me=new iPe(q),ae=new QTe(q,me,n),me.init(ae),we=new S7(q,me,ae),xe=new DRe(q,me,ae),Ae=new aPe,Me=new ERe,ce=new BRe(q,me,xe,Me,ae,we,Ae),ve=new ePe(v),Ie=new rPe(v),Le=new gAe(q,ae),ue=new YTe(q,me,Le,ae),De=new sPe(q,Le,Ae,ue),ze=new dPe(q,De,Le,Ae),Se=new uPe(q,ae,ce),j=new ZTe(Me),We=new SRe(v,ve,Ie,me,ae,ue,j),et=new URe(v,Me),qe=new ARe,it=new NRe(me,ae),ne=new JTe(v,ve,Ie,xe,ze,u,o),B=new LRe(v,ze,ae),fe=new HRe(q,Ae,ae,xe),Be=new qTe(q,me,Ae,ae),He=new oPe(q,me,Ae,ae),Ae.programs=We.programs,v.capabilities=ae,v.extensions=me,v.properties=Me,v.renderLists=qe,v.shadowMap=B,v.state=xe,v.info=Ae}Fe();const Y=new zRe(v,q);this.xr=Y,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const H=me.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=me.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(H){H!==void 0&&(L=H,this.setSize(R,O,!1))},this.getSize=function(H){return H.set(R,O)},this.setSize=function(H,pe,Ee=!0){if(Y.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=H,O=pe,e.width=Math.floor(H*L),e.height=Math.floor(pe*L),Ee===!0&&(e.style.width=H+"px",e.style.height=pe+"px"),this.setViewport(0,0,H,pe)},this.getDrawingBufferSize=function(H){return H.set(R*L,O*L).floor()},this.setDrawingBufferSize=function(H,pe,Ee){R=H,O=pe,L=Ee,e.width=Math.floor(H*Ee),e.height=Math.floor(pe*Ee),this.setViewport(0,0,H,pe)},this.getCurrentViewport=function(H){return H.copy(T)},this.getViewport=function(H){return H.copy(K)},this.setViewport=function(H,pe,Ee,de){H.isVector4?K.set(H.x,H.y,H.z,H.w):K.set(H,pe,Ee,de),xe.viewport(T.copy(K).multiplyScalar(L).floor())},this.getScissor=function(H){return H.copy(U)},this.setScissor=function(H,pe,Ee,de){H.isVector4?U.set(H.x,H.y,H.z,H.w):U.set(H,pe,Ee,de),xe.scissor(I.copy(U).multiplyScalar(L).floor())},this.getScissorTest=function(){return ee},this.setScissorTest=function(H){xe.setScissorTest(ee=H)},this.setOpaqueSort=function(H){X=H},this.setTransparentSort=function(H){W=H},this.getClearColor=function(H){return H.copy(ne.getClearColor())},this.setClearColor=function(){ne.setClearColor.apply(ne,arguments)},this.getClearAlpha=function(){return ne.getClearAlpha()},this.setClearAlpha=function(){ne.setClearAlpha.apply(ne,arguments)},this.clear=function(H=!0,pe=!0,Ee=!0){let de=0;H&&(de|=16384),pe&&(de|=256),Ee&&(de|=1024),q.clear(de)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ye,!1),e.removeEventListener("webglcontextrestored",ke,!1),e.removeEventListener("webglcontextcreationerror",Ue,!1),qe.dispose(),it.dispose(),Me.dispose(),ve.dispose(),Ie.dispose(),ze.dispose(),ue.dispose(),fe.dispose(),We.dispose(),Y.dispose(),Y.removeEventListener("sessionstart",Oe),Y.removeEventListener("sessionend",Ze),Z&&(Z.dispose(),Z=null),nt.stop()};function ye(H){H.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function ke(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1;const H=Ae.autoReset,pe=B.enabled,Ee=B.autoUpdate,de=B.needsUpdate,Te=B.type;Fe(),Ae.autoReset=H,B.enabled=pe,B.autoUpdate=Ee,B.needsUpdate=de,B.type=Te}function Ue(H){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function ot(H){const pe=H.target;pe.removeEventListener("dispose",ot),wt(pe)}function wt(H){dn(H),Me.remove(H)}function dn(H){const pe=Me.get(H).programs;pe!==void 0&&(pe.forEach(function(Ee){We.releaseProgram(Ee)}),H.isShaderMaterial&&We.releaseShaderCache(H))}this.renderBufferDirect=function(H,pe,Ee,de,Te,ct){pe===null&&(pe=te);const mt=Te.isMesh&&Te.matrixWorld.determinant()<0,yt=Jp(H,pe,Ee,de,Te);xe.setMaterial(de,mt);let St=Ee.index,zt=1;de.wireframe===!0&&(St=De.getWireframeAttribute(Ee),zt=2);const Pt=Ee.drawRange,Ot=Ee.attributes.position;let Un=Pt.start*zt,ut=(Pt.start+Pt.count)*zt;ct!==null&&(Un=Math.max(Un,ct.start*zt),ut=Math.min(ut,(ct.start+ct.count)*zt)),St!==null?(Un=Math.max(Un,0),ut=Math.min(ut,St.count)):Ot!=null&&(Un=Math.max(Un,0),ut=Math.min(ut,Ot.count));const kn=ut-Un;if(kn<0||kn===1/0)return;ue.setup(Te,de,yt,Ee,St);let La,nr=Be;if(St!==null&&(La=Le.get(St),nr=He,nr.setIndex(La)),Te.isMesh)de.wireframe===!0?(xe.setLineWidth(de.wireframeLinewidth*re()),nr.setMode(1)):nr.setMode(4);else if(Te.isLine){let Lt=de.linewidth;Lt===void 0&&(Lt=1),xe.setLineWidth(Lt*re()),Te.isLineSegments?nr.setMode(1):Te.isLineLoop?nr.setMode(2):nr.setMode(3)}else Te.isPoints?nr.setMode(0):Te.isSprite&&nr.setMode(4);if(Te.isInstancedMesh)nr.renderInstances(Un,kn,Te.count);else if(Ee.isInstancedBufferGeometry){const Lt=Ee._maxInstanceCount!==void 0?Ee._maxInstanceCount:1/0,Da=Math.min(Ee.instanceCount,Lt);nr.renderInstances(Un,kn,Da)}else nr.render(Un,kn)},this.compile=function(H,pe){function Ee(de,Te,ct){de.transparent===!0&&de.side===No&&de.forceSinglePass===!1?(de.side=us,de.needsUpdate=!0,ei(de,Te,ct),de.side=Ra,de.needsUpdate=!0,ei(de,Te,ct),de.side=No):ei(de,Te,ct)}h=it.get(H),h.init(),g.push(h),H.traverseVisible(function(de){de.isLight&&de.layers.test(pe.layers)&&(h.pushLight(de),de.castShadow&&h.pushShadow(de))}),h.setupLights(v.useLegacyLights),H.traverse(function(de){const Te=de.material;if(Te)if(Array.isArray(Te))for(let ct=0;ct<Te.length;ct++){const mt=Te[ct];Ee(mt,H,de)}else Ee(Te,H,de)}),g.pop(),h=null};let ie=null;function oe(H){ie&&ie(H)}function Oe(){nt.stop()}function Ze(){nt.start()}const nt=new y7;nt.setAnimationLoop(oe),typeof self<"u"&&nt.setContext(self),this.setAnimationLoop=function(H){ie=H,Y.setAnimationLoop(H),H===null?nt.stop():nt.start()},Y.addEventListener("sessionstart",Oe),Y.addEventListener("sessionend",Ze),this.render=function(H,pe){if(pe!==void 0&&pe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_===!0)return;H.matrixWorldAutoUpdate===!0&&H.updateMatrixWorld(),pe.parent===null&&pe.matrixWorldAutoUpdate===!0&&pe.updateMatrixWorld(),Y.enabled===!0&&Y.isPresenting===!0&&(Y.cameraAutoUpdate===!0&&Y.updateCamera(pe),pe=Y.getCamera()),H.isScene===!0&&H.onBeforeRender(v,H,pe,w),h=it.get(H,g.length),h.init(),g.push(h),he.multiplyMatrices(pe.projectionMatrix,pe.matrixWorldInverse),Q.setFromProjectionMatrix(he),z=this.localClippingEnabled,D=j.init(this.clippingPlanes,z),d=qe.get(H,m.length),d.init(),m.push(d),an(H,pe,0,v.sortObjects),d.finish(),v.sortObjects===!0&&d.sort(X,W),D===!0&&j.beginShadows();const Ee=h.state.shadowsArray;if(B.render(Ee,H,pe),D===!0&&j.endShadows(),this.info.autoReset===!0&&this.info.reset(),ne.render(d,H),h.setupLights(v.useLegacyLights),pe.isArrayCamera){const de=pe.cameras;for(let Te=0,ct=de.length;Te<ct;Te++){const mt=de[Te];zn(d,H,mt,mt.viewport)}}else zn(d,H,pe);w!==null&&(ce.updateMultisampleRenderTarget(w),ce.updateRenderTargetMipmap(w)),H.isScene===!0&&H.onAfterRender(v,H,pe),ue.resetDefaultState(),E=-1,A=null,g.pop(),g.length>0?h=g[g.length-1]:h=null,m.pop(),m.length>0?d=m[m.length-1]:d=null};function an(H,pe,Ee,de){if(H.visible===!1)return;if(H.layers.test(pe.layers)){if(H.isGroup)Ee=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(pe);else if(H.isLight)h.pushLight(H),H.castShadow&&h.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||Q.intersectsSprite(H)){de&&G.setFromMatrixPosition(H.matrixWorld).applyMatrix4(he);const mt=ze.update(H),yt=H.material;yt.visible&&d.push(H,mt,yt,Ee,G.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(H.isSkinnedMesh&&H.skeleton.frame!==Ae.render.frame&&(H.skeleton.update(),H.skeleton.frame=Ae.render.frame),!H.frustumCulled||Q.intersectsObject(H))){de&&G.setFromMatrixPosition(H.matrixWorld).applyMatrix4(he);const mt=ze.update(H),yt=H.material;if(Array.isArray(yt)){const St=mt.groups;for(let zt=0,Pt=St.length;zt<Pt;zt++){const Ot=St[zt],Un=yt[Ot.materialIndex];Un&&Un.visible&&d.push(H,mt,Un,Ee,G.z,Ot)}}else yt.visible&&d.push(H,mt,yt,Ee,G.z,null)}}const ct=H.children;for(let mt=0,yt=ct.length;mt<yt;mt++)an(ct[mt],pe,Ee,de)}function zn(H,pe,Ee,de){const Te=H.opaque,ct=H.transmissive,mt=H.transparent;h.setupLightsView(Ee),D===!0&&j.setGlobalState(v.clippingPlanes,Ee),ct.length>0&&_r(Te,pe,Ee),de&&xe.viewport(T.copy(de)),Te.length>0&&Oi(Te,pe,Ee),ct.length>0&&Oi(ct,pe,Ee),mt.length>0&&Oi(mt,pe,Ee),xe.buffers.depth.setTest(!0),xe.buffers.depth.setMask(!0),xe.buffers.color.setMask(!0),xe.setPolygonOffset(!1)}function _r(H,pe,Ee){const de=ae.isWebGL2;Z===null&&(Z=new Ho(1024,1024,{generateMipmaps:!0,type:me.has("EXT_color_buffer_half_float")?ko:El,minFilter:Ia,samples:de&&s===!0?4:0}));const Te=v.getRenderTarget();v.setRenderTarget(Z),v.clear();const ct=v.toneMapping;v.toneMapping=Bo,Oi(H,pe,Ee),v.toneMapping=ct,ce.updateMultisampleRenderTarget(Z),ce.updateRenderTargetMipmap(Z),v.setRenderTarget(Te)}function Oi(H,pe,Ee){const de=pe.isScene===!0?pe.overrideMaterial:null;for(let Te=0,ct=H.length;Te<ct;Te++){const mt=H[Te],yt=mt.object,St=mt.geometry,zt=de===null?mt.material:de,Pt=mt.group;yt.layers.test(Ee.layers)&&An(yt,pe,Ee,St,zt,Pt)}}function An(H,pe,Ee,de,Te,ct){H.onBeforeRender(v,pe,Ee,de,Te,ct),H.modelViewMatrix.multiplyMatrices(Ee.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),Te.onBeforeRender(v,pe,Ee,de,H,ct),Te.transparent===!0&&Te.side===No&&Te.forceSinglePass===!1?(Te.side=us,Te.needsUpdate=!0,v.renderBufferDirect(Ee,pe,de,Te,H,ct),Te.side=Ra,Te.needsUpdate=!0,v.renderBufferDirect(Ee,pe,de,Te,H,ct),Te.side=No):v.renderBufferDirect(Ee,pe,de,Te,H,ct),H.onAfterRender(v,pe,Ee,de,Te,ct)}function ei(H,pe,Ee){pe.isScene!==!0&&(pe=te);const de=Me.get(H),Te=h.state.lights,ct=h.state.shadowsArray,mt=Te.state.version,yt=We.getParameters(H,Te.state,ct,pe,Ee),St=We.getProgramCacheKey(yt);let zt=de.programs;de.environment=H.isMeshStandardMaterial?pe.environment:null,de.fog=pe.fog,de.envMap=(H.isMeshStandardMaterial?Ie:ve).get(H.envMap||de.environment),zt===void 0&&(H.addEventListener("dispose",ot),zt=new Map,de.programs=zt);let Pt=zt.get(St);if(Pt!==void 0){if(de.currentProgram===Pt&&de.lightsStateVersion===mt)return di(H,yt),Pt}else yt.uniforms=We.getUniforms(H),H.onBuild(Ee,yt,v),H.onBeforeCompile(yt,v),Pt=We.acquireProgram(yt,St),zt.set(St,Pt),de.uniforms=yt.uniforms;const Ot=de.uniforms;(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(Ot.clippingPlanes=j.uniform),di(H,yt),de.needsLights=Ol(H),de.lightsStateVersion=mt,de.needsLights&&(Ot.ambientLightColor.value=Te.state.ambient,Ot.lightProbe.value=Te.state.probe,Ot.directionalLights.value=Te.state.directional,Ot.directionalLightShadows.value=Te.state.directionalShadow,Ot.spotLights.value=Te.state.spot,Ot.spotLightShadows.value=Te.state.spotShadow,Ot.rectAreaLights.value=Te.state.rectArea,Ot.ltc_1.value=Te.state.rectAreaLTC1,Ot.ltc_2.value=Te.state.rectAreaLTC2,Ot.pointLights.value=Te.state.point,Ot.pointLightShadows.value=Te.state.pointShadow,Ot.hemisphereLights.value=Te.state.hemi,Ot.directionalShadowMap.value=Te.state.directionalShadowMap,Ot.directionalShadowMatrix.value=Te.state.directionalShadowMatrix,Ot.spotShadowMap.value=Te.state.spotShadowMap,Ot.spotLightMatrix.value=Te.state.spotLightMatrix,Ot.spotLightMap.value=Te.state.spotLightMap,Ot.pointShadowMap.value=Te.state.pointShadowMap,Ot.pointShadowMatrix.value=Te.state.pointShadowMatrix);const Un=Pt.getUniforms(),ut=db.seqWithValue(Un.seq,Ot);return de.currentProgram=Pt,de.uniformsList=ut,Pt}function di(H,pe){const Ee=Me.get(H);Ee.outputEncoding=pe.outputEncoding,Ee.instancing=pe.instancing,Ee.skinning=pe.skinning,Ee.morphTargets=pe.morphTargets,Ee.morphNormals=pe.morphNormals,Ee.morphColors=pe.morphColors,Ee.morphTargetsCount=pe.morphTargetsCount,Ee.numClippingPlanes=pe.numClippingPlanes,Ee.numIntersection=pe.numClipIntersection,Ee.vertexAlphas=pe.vertexAlphas,Ee.vertexTangents=pe.vertexTangents,Ee.toneMapping=pe.toneMapping}function Jp(H,pe,Ee,de,Te){pe.isScene!==!0&&(pe=te),ce.resetTextureUnits();const ct=pe.fog,mt=de.isMeshStandardMaterial?pe.environment:null,yt=w===null?v.outputEncoding:w.isXRRenderTarget===!0?w.texture.encoding:Uo,St=(de.isMeshStandardMaterial?Ie:ve).get(de.envMap||mt),zt=de.vertexColors===!0&&!!Ee.attributes.color&&Ee.attributes.color.itemSize===4,Pt=!!de.normalMap&&!!Ee.attributes.tangent,Ot=!!Ee.morphAttributes.position,Un=!!Ee.morphAttributes.normal,ut=!!Ee.morphAttributes.color,kn=de.toneMapped?v.toneMapping:Bo,La=Ee.morphAttributes.position||Ee.morphAttributes.normal||Ee.morphAttributes.color,nr=La!==void 0?La.length:0,Lt=Me.get(de),Da=h.state.lights;if(D===!0&&(z===!0||H!==A)){const ir=H===A&&de.id===E;j.setState(de,H,ir)}let rr=!1;de.version===Lt.__version?(Lt.needsLights&&Lt.lightsStateVersion!==Da.state.version||Lt.outputEncoding!==yt||Te.isInstancedMesh&&Lt.instancing===!1||!Te.isInstancedMesh&&Lt.instancing===!0||Te.isSkinnedMesh&&Lt.skinning===!1||!Te.isSkinnedMesh&&Lt.skinning===!0||Lt.envMap!==St||de.fog===!0&&Lt.fog!==ct||Lt.numClippingPlanes!==void 0&&(Lt.numClippingPlanes!==j.numPlanes||Lt.numIntersection!==j.numIntersection)||Lt.vertexAlphas!==zt||Lt.vertexTangents!==Pt||Lt.morphTargets!==Ot||Lt.morphNormals!==Un||Lt.morphColors!==ut||Lt.toneMapping!==kn||ae.isWebGL2===!0&&Lt.morphTargetsCount!==nr)&&(rr=!0):(rr=!0,Lt.__version=de.version);let mo=Lt.currentProgram;rr===!0&&(mo=ei(de,pe,Te));let f0=!1,Ba=!1,Xo=!1;const Hn=mo.getUniforms(),Zt=Lt.uniforms;if(xe.useProgram(mo.program)&&(f0=!0,Ba=!0,Xo=!0),de.id!==E&&(E=de.id,Ba=!0),f0||A!==H){if(Hn.setValue(q,"projectionMatrix",H.projectionMatrix),ae.logarithmicDepthBuffer&&Hn.setValue(q,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),A!==H&&(A=H,Ba=!0,Xo=!0),de.isShaderMaterial||de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshStandardMaterial||de.envMap){const ir=Hn.map.cameraPosition;ir!==void 0&&ir.setValue(q,G.setFromMatrixPosition(H.matrixWorld))}(de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshLambertMaterial||de.isMeshBasicMaterial||de.isMeshStandardMaterial||de.isShaderMaterial)&&Hn.setValue(q,"isOrthographic",H.isOrthographicCamera===!0),(de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshLambertMaterial||de.isMeshBasicMaterial||de.isMeshStandardMaterial||de.isShaderMaterial||de.isShadowMaterial||Te.isSkinnedMesh)&&Hn.setValue(q,"viewMatrix",H.matrixWorldInverse)}if(Te.isSkinnedMesh){Hn.setOptional(q,Te,"bindMatrix"),Hn.setOptional(q,Te,"bindMatrixInverse");const ir=Te.skeleton;ir&&(ae.floatVertexTextures?(ir.boneTexture===null&&ir.computeBoneTexture(),Hn.setValue(q,"boneTexture",ir.boneTexture,ce),Hn.setValue(q,"boneTextureSize",ir.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const hn=Ee.morphAttributes;if((hn.position!==void 0||hn.normal!==void 0||hn.color!==void 0&&ae.isWebGL2===!0)&&Se.update(Te,Ee,mo),(Ba||Lt.receiveShadow!==Te.receiveShadow)&&(Lt.receiveShadow=Te.receiveShadow,Hn.setValue(q,"receiveShadow",Te.receiveShadow)),de.isMeshGouraudMaterial&&de.envMap!==null&&(Zt.envMap.value=St,Zt.flipEnvMap.value=St.isCubeTexture&&St.isRenderTargetTexture===!1?-1:1),Ba&&(Hn.setValue(q,"toneMappingExposure",v.toneMappingExposure),Lt.needsLights&&Oa(Zt,Xo),ct&&de.fog===!0&&et.refreshFogUniforms(Zt,ct),et.refreshMaterialUniforms(Zt,de,L,O,Z),db.upload(q,Lt.uniformsList,Zt,ce)),de.isShaderMaterial&&de.uniformsNeedUpdate===!0&&(db.upload(q,Lt.uniformsList,Zt,ce),de.uniformsNeedUpdate=!1),de.isSpriteMaterial&&Hn.setValue(q,"center",Te.center),Hn.setValue(q,"modelViewMatrix",Te.modelViewMatrix),Hn.setValue(q,"normalMatrix",Te.normalMatrix),Hn.setValue(q,"modelMatrix",Te.matrixWorld),de.isShaderMaterial||de.isRawShaderMaterial){const ir=de.uniformsGroups;for(let xr=0,hi=ir.length;xr<hi;xr++)if(ae.isWebGL2){const Jo=ir[xr];fe.update(Jo,mo),fe.bind(Jo,mo)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return mo}function Oa(H,pe){H.ambientLightColor.needsUpdate=pe,H.lightProbe.needsUpdate=pe,H.directionalLights.needsUpdate=pe,H.directionalLightShadows.needsUpdate=pe,H.pointLights.needsUpdate=pe,H.pointLightShadows.needsUpdate=pe,H.spotLights.needsUpdate=pe,H.spotLightShadows.needsUpdate=pe,H.rectAreaLights.needsUpdate=pe,H.hemisphereLights.needsUpdate=pe}function Ol(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(H,pe,Ee){Me.get(H.texture).__webglTexture=pe,Me.get(H.depthTexture).__webglTexture=Ee;const de=Me.get(H);de.__hasExternalTextures=!0,de.__hasExternalTextures&&(de.__autoAllocateDepthBuffer=Ee===void 0,de.__autoAllocateDepthBuffer||me.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),de.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(H,pe){const Ee=Me.get(H);Ee.__webglFramebuffer=pe,Ee.__useDefaultFramebuffer=pe===void 0},this.setRenderTarget=function(H,pe=0,Ee=0){w=H,x=pe,b=Ee;let de=!0,Te=null,ct=!1,mt=!1;if(H){const St=Me.get(H);St.__useDefaultFramebuffer!==void 0?(xe.bindFramebuffer(36160,null),de=!1):St.__webglFramebuffer===void 0?ce.setupRenderTarget(H):St.__hasExternalTextures&&ce.rebindTextures(H,Me.get(H.texture).__webglTexture,Me.get(H.depthTexture).__webglTexture);const zt=H.texture;(zt.isData3DTexture||zt.isDataArrayTexture||zt.isCompressedArrayTexture)&&(mt=!0);const Pt=Me.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(Te=Pt[pe],ct=!0):ae.isWebGL2&&H.samples>0&&ce.useMultisampledRTT(H)===!1?Te=Me.get(H).__webglMultisampledFramebuffer:Te=Pt,T.copy(H.viewport),I.copy(H.scissor),M=H.scissorTest}else T.copy(K).multiplyScalar(L).floor(),I.copy(U).multiplyScalar(L).floor(),M=ee;if(xe.bindFramebuffer(36160,Te)&&ae.drawBuffers&&de&&xe.drawBuffers(H,Te),xe.viewport(T),xe.scissor(I),xe.setScissorTest(M),ct){const St=Me.get(H.texture);q.framebufferTexture2D(36160,36064,34069+pe,St.__webglTexture,Ee)}else if(mt){const St=Me.get(H.texture),zt=pe||0;q.framebufferTextureLayer(36160,36064,St.__webglTexture,Ee||0,zt)}E=-1},this.readRenderTargetPixels=function(H,pe,Ee,de,Te,ct,mt){if(!(H&&H.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let yt=Me.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&mt!==void 0&&(yt=yt[mt]),yt){xe.bindFramebuffer(36160,yt);try{const St=H.texture,zt=St.format,Pt=St.type;if(zt!==ts&&we.convert(zt)!==q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ot=Pt===ko&&(me.has("EXT_color_buffer_half_float")||ae.isWebGL2&&me.has("EXT_color_buffer_float"));if(Pt!==El&&we.convert(Pt)!==q.getParameter(35738)&&!(Pt===io&&(ae.isWebGL2||me.has("OES_texture_float")||me.has("WEBGL_color_buffer_float")))&&!Ot){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}pe>=0&&pe<=H.width-de&&Ee>=0&&Ee<=H.height-Te&&q.readPixels(pe,Ee,de,Te,we.convert(zt),we.convert(Pt),ct)}finally{const St=w!==null?Me.get(w).__webglFramebuffer:null;xe.bindFramebuffer(36160,St)}}},this.copyFramebufferToTexture=function(H,pe,Ee=0){const de=Math.pow(2,-Ee),Te=Math.floor(pe.image.width*de),ct=Math.floor(pe.image.height*de);ce.setTexture2D(pe,0),q.copyTexSubImage2D(3553,Ee,0,0,H.x,H.y,Te,ct),xe.unbindTexture()},this.copyTextureToTexture=function(H,pe,Ee,de=0){const Te=pe.image.width,ct=pe.image.height,mt=we.convert(Ee.format),yt=we.convert(Ee.type);ce.setTexture2D(Ee,0),q.pixelStorei(37440,Ee.flipY),q.pixelStorei(37441,Ee.premultiplyAlpha),q.pixelStorei(3317,Ee.unpackAlignment),pe.isDataTexture?q.texSubImage2D(3553,de,H.x,H.y,Te,ct,mt,yt,pe.image.data):pe.isCompressedTexture?q.compressedTexSubImage2D(3553,de,H.x,H.y,pe.mipmaps[0].width,pe.mipmaps[0].height,mt,pe.mipmaps[0].data):q.texSubImage2D(3553,de,H.x,H.y,mt,yt,pe.image),de===0&&Ee.generateMipmaps&&q.generateMipmap(3553),xe.unbindTexture()},this.copyTextureToTexture3D=function(H,pe,Ee,de,Te=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ct=H.max.x-H.min.x+1,mt=H.max.y-H.min.y+1,yt=H.max.z-H.min.z+1,St=we.convert(de.format),zt=we.convert(de.type);let Pt;if(de.isData3DTexture)ce.setTexture3D(de,0),Pt=32879;else if(de.isDataArrayTexture)ce.setTexture2DArray(de,0),Pt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}q.pixelStorei(37440,de.flipY),q.pixelStorei(37441,de.premultiplyAlpha),q.pixelStorei(3317,de.unpackAlignment);const Ot=q.getParameter(3314),Un=q.getParameter(32878),ut=q.getParameter(3316),kn=q.getParameter(3315),La=q.getParameter(32877),nr=Ee.isCompressedTexture?Ee.mipmaps[0]:Ee.image;q.pixelStorei(3314,nr.width),q.pixelStorei(32878,nr.height),q.pixelStorei(3316,H.min.x),q.pixelStorei(3315,H.min.y),q.pixelStorei(32877,H.min.z),Ee.isDataTexture||Ee.isData3DTexture?q.texSubImage3D(Pt,Te,pe.x,pe.y,pe.z,ct,mt,yt,St,zt,nr.data):Ee.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),q.compressedTexSubImage3D(Pt,Te,pe.x,pe.y,pe.z,ct,mt,yt,St,nr.data)):q.texSubImage3D(Pt,Te,pe.x,pe.y,pe.z,ct,mt,yt,St,zt,nr),q.pixelStorei(3314,Ot),q.pixelStorei(32878,Un),q.pixelStorei(3316,ut),q.pixelStorei(3315,kn),q.pixelStorei(32877,La),Te===0&&de.generateMipmaps&&q.generateMipmap(Pt),xe.unbindTexture()},this.initTexture=function(H){H.isCubeTexture?ce.setTextureCube(H,0):H.isData3DTexture?ce.setTexture3D(H,0):H.isDataArrayTexture||H.isCompressedArrayTexture?ce.setTexture2DArray(H,0):ce.setTexture2D(H,0),xe.unbindTexture()},this.resetState=function(){x=0,b=0,w=null,xe.reset(),ue.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object.defineProperties(HS.prototype,{physicallyCorrectLights:{get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(n){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!n}}});class A7 extends HS{}A7.prototype.isWebGL1Renderer=!0;class GS{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ke(e),this.density=t}clone(){return new GS(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class VS{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ke(e),this.near=t,this.far=r}clone(){return new VS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class WS extends Qt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Zy{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Zv,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ts()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ts()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ts()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Bi=new V;class Qc{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Bi.fromBufferAttribute(this,t),Bi.applyMatrix4(e),this.setXYZ(t,Bi.x,Bi.y,Bi.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Bi.fromBufferAttribute(this,t),Bi.applyNormalMatrix(e),this.setXYZ(t,Bi.x,Bi.y,Bi.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Bi.fromBufferAttribute(this,t),Bi.transformDirection(e),this.setXYZ(t,Bi.x,Bi.y,Bi.z);return this}setX(e,t){return this.normalized&&(t=wn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=wn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=wn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=wn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ol(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ol(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ol(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ol(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=wn(t,this.array),r=wn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=wn(t,this.array),r=wn(r,this.array),i=wn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=wn(t,this.array),r=wn(r,this.array),i=wn(i,this.array),s=wn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new un(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Qc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class xO extends Mr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ke(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Nh;const Jm=new V,kh=new V,Oh=new V,Lh=new Re,Ym=new Re,M7=new vt,sx=new V,qm=new V,ox=new V,X5=new Re,pM=new Re,J5=new Re;class T7 extends Qt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Nh===void 0){Nh=new At;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Zy(t,5);Nh.setIndex([0,1,2,0,2,3]),Nh.setAttribute("position",new Qc(r,3,0,!1)),Nh.setAttribute("uv",new Qc(r,2,3,!1))}this.geometry=Nh,this.material=e!==void 0?e:new xO,this.center=new Re(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),kh.setFromMatrixScale(this.matrixWorld),M7.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Oh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&kh.multiplyScalar(-Oh.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;ax(sx.set(-.5,-.5,0),Oh,o,kh,i,s),ax(qm.set(.5,-.5,0),Oh,o,kh,i,s),ax(ox.set(.5,.5,0),Oh,o,kh,i,s),X5.set(0,0),pM.set(1,0),J5.set(1,1);let a=e.ray.intersectTriangle(sx,qm,ox,!1,Jm);if(a===null&&(ax(qm.set(-.5,.5,0),Oh,o,kh,i,s),pM.set(0,1),a=e.ray.intersectTriangle(sx,ox,qm,!1,Jm),a===null))return;const l=e.ray.origin.distanceTo(Jm);l<e.near||l>e.far||t.push({distance:l,point:Jm.clone(),uv:eo.getUV(Jm,sx,qm,ox,X5,pM,J5,new Re),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function ax(n,e,t,r,i,s){Lh.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Ym.x=s*Lh.x-i*Lh.y,Ym.y=i*Lh.x+s*Lh.y):Ym.copy(Lh),n.copy(e),n.x+=Ym.x,n.y+=Ym.y,n.applyMatrix4(M7)}const lx=new V,Y5=new V;class P7 extends Qt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){lx.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(lx);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){lx.setFromMatrixPosition(e.matrixWorld),Y5.setFromMatrixPosition(this.matrixWorld);const r=lx.distanceTo(Y5)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const q5=new V,Q5=new gn,Z5=new gn,VRe=new V,eU=new vt;class bO extends Or{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new vt,this.bindMatrixInverse=new vt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new gn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;Q5.fromBufferAttribute(i.attributes.skinIndex,e),Z5.fromBufferAttribute(i.attributes.skinWeight,e),q5.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=Z5.getComponent(s);if(o!==0){const a=Q5.getComponent(s);eU.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(VRe.copy(q5).applyMatrix4(eU),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class jS extends Qt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class If extends Kn{constructor(e=null,t=1,r=1,i,s,o,a,l,c=dr,u=dr,d,h){super(null,o,a,l,c,u,i,s,d,h),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const tU=new vt,WRe=new vt;class e0{constructor(e=[],t=[]){this.uuid=Ts(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new vt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new vt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:WRe;tU.multiplyMatrices(a,t[s]),tU.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new e0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=u7(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new If(t,e,e,ts,io);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new jS),this.bones.push(o),this.boneInverses.push(new vt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class mp extends un{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const nU=new vt,rU=new vt,cx=[],jRe=new vt,Qm=new Or;class R7 extends Or{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new mp(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,jRe)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Qm.geometry=this.geometry,Qm.material=this.material,Qm.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,nU),rU.multiplyMatrices(r,nU),Qm.matrixWorld=rU,Qm.raycast(e,cx);for(let o=0,a=cx.length;o<a;o++){const l=cx[o];l.instanceId=s,l.object=this,t.push(l)}cx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new mp(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ki extends Mr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ke(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const iU=new V,sU=new V,oU=new vt,mM=new Jy,ux=new ou;class Cl extends Qt{constructor(e=new At,t=new ki){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)iU.fromBufferAttribute(t,i-1),sU.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=iU.distanceTo(sU);e.setAttribute("lineDistance",new st(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ux.copy(r.boundingSphere),ux.applyMatrix4(i),ux.radius+=s,e.ray.intersectsSphere(ux)===!1)return;oU.copy(i).invert(),mM.copy(e.ray).applyMatrix4(oU);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new V,u=new V,d=new V,h=new V,m=this.isLineSegments?2:1,g=r.index,_=r.attributes.position;if(g!==null){const x=Math.max(0,o.start),b=Math.min(g.count,o.start+o.count);for(let w=x,E=b-1;w<E;w+=m){const A=g.getX(w),T=g.getX(w+1);if(c.fromBufferAttribute(_,A),u.fromBufferAttribute(_,T),mM.distanceSqToSegment(c,u,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(h);M<e.near||M>e.far||t.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),b=Math.min(_.count,o.start+o.count);for(let w=x,E=b-1;w<E;w+=m){if(c.fromBufferAttribute(_,w),u.fromBufferAttribute(_,w+1),mM.distanceSqToSegment(c,u,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(h);T<e.near||T>e.far||t.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const aU=new V,lU=new V;class jo extends Cl{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)aU.fromBufferAttribute(t,i),lU.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+aU.distanceTo(lU);e.setAttribute("lineDistance",new st(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class wO extends Cl{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class $S extends Mr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ke(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const cU=new vt,pI=new Jy,dx=new ou,hx=new V;class SO extends Qt{constructor(e=new At,t=new $S){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),dx.copy(r.boundingSphere),dx.applyMatrix4(i),dx.radius+=s,e.ray.intersectsSphere(dx)===!1)return;cU.copy(i).invert(),pI.copy(e.ray).applyMatrix4(cU);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,d=r.attributes.position;if(c!==null){const h=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let g=h,v=m;g<v;g++){const _=c.getX(g);hx.fromBufferAttribute(d,_),uU(hx,_,l,i,e,t,this)}}else{const h=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let g=h,v=m;g<v;g++)hx.fromBufferAttribute(d,g),uU(hx,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function uU(n,e,t,r,i,s,o){const a=pI.distanceSqToPoint(n);if(a<t){const l=new V;pI.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class $Re extends Kn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Dn,this.magFilter=s!==void 0?s:Dn,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class KRe extends Kn{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=dr,this.minFilter=dr,this.generateMipmaps=!1,this.needsUpdate=!0}}class EO extends Kn{constructor(e,t,r,i,s,o,a,l,c,u,d,h){super(null,o,a,l,c,u,i,s,d,h),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class XRe extends EO{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=si}}class JRe extends Kn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class $o{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],h=r[i+1]-u,m=(o-u)/h;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new Re:new V);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new V,i=[],s=[],o=[],a=new V,l=new vt;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new V)}s[0]=new V,o[0]=new V;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),h=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),h<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(yr(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(yr(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class KS extends $o{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Re,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),h=l-this.aX,m=c-this.aY;l=h*u-m*d+this.aX,c=h*d+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class I7 extends KS{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function CO(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let h=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+d)+(l-a)/d;h*=u,m*=u,i(o,a,h,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const fx=new V,gM=new CO,vM=new CO,yM=new CO;class N7 extends $o{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new V){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(fx.subVectors(i[0],i[1]).add(i[0]),c=fx);const d=i[a%s],h=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(fx.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=fx),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(d),m),v=Math.pow(d.distanceToSquared(h),m),_=Math.pow(h.distanceToSquared(u),m);v<1e-4&&(v=1),g<1e-4&&(g=v),_<1e-4&&(_=v),gM.initNonuniformCatmullRom(c.x,d.x,h.x,u.x,g,v,_),vM.initNonuniformCatmullRom(c.y,d.y,h.y,u.y,g,v,_),yM.initNonuniformCatmullRom(c.z,d.z,h.z,u.z,g,v,_)}else this.curveType==="catmullrom"&&(gM.initCatmullRom(c.x,d.x,h.x,u.x,this.tension),vM.initCatmullRom(c.y,d.y,h.y,u.y,this.tension),yM.initCatmullRom(c.z,d.z,h.z,u.z,this.tension));return r.set(gM.calc(l),vM.calc(l),yM.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new V().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function dU(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function YRe(n,e){const t=1-n;return t*t*e}function qRe(n,e){return 2*(1-n)*n*e}function QRe(n,e){return n*n*e}function qg(n,e,t,r){return YRe(n,e)+qRe(n,t)+QRe(n,r)}function ZRe(n,e){const t=1-n;return t*t*t*e}function eIe(n,e){const t=1-n;return 3*t*t*n*e}function tIe(n,e){return 3*(1-n)*n*n*e}function nIe(n,e){return n*n*n*e}function Qg(n,e,t,r,i){return ZRe(n,e)+eIe(n,t)+tIe(n,r)+nIe(n,i)}class AO extends $o{constructor(e=new Re,t=new Re,r=new Re,i=new Re){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Re){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Qg(e,i.x,s.x,o.x,a.x),Qg(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class k7 extends $o{constructor(e=new V,t=new V,r=new V,i=new V){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new V){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Qg(e,i.x,s.x,o.x,a.x),Qg(e,i.y,s.y,o.y,a.y),Qg(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class XS extends $o{constructor(e=new Re,t=new Re){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Re){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Re){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class O7 extends $o{constructor(e=new V,t=new V){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new V){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new V){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MO extends $o{constructor(e=new Re,t=new Re,r=new Re){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Re){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(qg(e,i.x,s.x,o.x),qg(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TO extends $o{constructor(e=new V,t=new V,r=new V){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new V){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(qg(e,i.x,s.x,o.x),qg(e,i.y,s.y,o.y),qg(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class PO extends $o{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Re){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(dU(a,l.x,c.x,u.x,d.x),dU(a,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Re().fromArray(i))}return this}}var RO=Object.freeze({__proto__:null,ArcCurve:I7,CatmullRomCurve3:N7,CubicBezierCurve:AO,CubicBezierCurve3:k7,EllipseCurve:KS,LineCurve:XS,LineCurve3:O7,QuadraticBezierCurve:MO,QuadraticBezierCurve3:TO,SplineCurve:PO});class L7 extends $o{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new XS(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new RO[i.type]().fromJSON(i))}return this}}class ny extends L7{constructor(e){super(),this.type="Path",this.currentPoint=new Re,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new XS(this.currentPoint.clone(),new Re(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new MO(this.currentPoint.clone(),new Re(e,t),new Re(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new AO(this.currentPoint.clone(),new Re(e,t),new Re(r,i),new Re(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new PO(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new KS(e,t,r,i,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Gp extends At{constructor(e=[new Re(0,-.5),new Re(.5,0),new Re(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=yr(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,d=new V,h=new Re,m=new V,g=new V,v=new V;let _=0,x=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:_=e[b+1].x-e[b].x,x=e[b+1].y-e[b].y,m.x=x*1,m.y=-_,m.z=x*0,v.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:_=e[b+1].x-e[b].x,x=e[b+1].y-e[b].y,m.x=x*1,m.y=-_,m.z=x*0,g.copy(m),m.x+=v.x,m.y+=v.y,m.z+=v.z,m.normalize(),l.push(m.x,m.y,m.z),v.copy(g)}for(let b=0;b<=t;b++){const w=r+b*u*i,E=Math.sin(w),A=Math.cos(w);for(let T=0;T<=e.length-1;T++){d.x=e[T].x*E,d.y=e[T].y,d.z=e[T].x*A,o.push(d.x,d.y,d.z),h.x=b/t,h.y=T/(e.length-1),a.push(h.x,h.y);const I=l[3*T+0]*E,M=l[3*T+1],R=l[3*T+0]*A;c.push(I,M,R)}}for(let b=0;b<t;b++)for(let w=0;w<e.length-1;w++){const E=w+b*e.length,A=E,T=E+e.length,I=E+e.length+1,M=E+1;s.push(A,T,M),s.push(I,M,T)}this.setIndex(s),this.setAttribute("position",new st(o,3)),this.setAttribute("uv",new st(a,2)),this.setAttribute("normal",new st(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gp(e.points,e.segments,e.phiStart,e.phiLength)}}class t0 extends Gp{constructor(e=1,t=1,r=4,i=8){const s=new ny;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new t0(e.radius,e.length,e.capSegments,e.radialSegments)}}class n0 extends At{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new V,u=new Re;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,h=3;d<=t;d++,h+=3){const m=r+d/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[h]/e+1)/2,u.y=(o[h+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new st(o,3)),this.setAttribute("normal",new st(a,3)),this.setAttribute("uv",new st(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new n0(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Gd extends At{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],d=[],h=[],m=[];let g=0;const v=[],_=r/2;let x=0;b(),o===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(u),this.setAttribute("position",new st(d,3)),this.setAttribute("normal",new st(h,3)),this.setAttribute("uv",new st(m,2));function b(){const E=new V,A=new V;let T=0;const I=(t-e)/r;for(let M=0;M<=s;M++){const R=[],O=M/s,L=O*(t-e)+e;for(let X=0;X<=i;X++){const W=X/i,K=W*l+a,U=Math.sin(K),ee=Math.cos(K);A.x=L*U,A.y=-O*r+_,A.z=L*ee,d.push(A.x,A.y,A.z),E.set(U,I,ee).normalize(),h.push(E.x,E.y,E.z),m.push(W,1-O),R.push(g++)}v.push(R)}for(let M=0;M<i;M++)for(let R=0;R<s;R++){const O=v[R][M],L=v[R+1][M],X=v[R+1][M+1],W=v[R][M+1];u.push(O,L,W),u.push(L,X,W),T+=6}c.addGroup(x,T,0),x+=T}function w(E){const A=g,T=new Re,I=new V;let M=0;const R=E===!0?e:t,O=E===!0?1:-1;for(let X=1;X<=i;X++)d.push(0,_*O,0),h.push(0,O,0),m.push(.5,.5),g++;const L=g;for(let X=0;X<=i;X++){const K=X/i*l+a,U=Math.cos(K),ee=Math.sin(K);I.x=R*ee,I.y=_*O,I.z=R*U,d.push(I.x,I.y,I.z),h.push(0,O,0),T.x=U*.5+.5,T.y=ee*.5*O+.5,m.push(T.x,T.y),g++}for(let X=0;X<i;X++){const W=A+X,K=L+X;E===!0?u.push(K,K+1,W):u.push(K+1,K,W),M+=3}c.addGroup(x,M,E===!0?1:2),x+=M}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gd(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class r0 extends Gd{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new r0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Nl extends At{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new st(s,3)),this.setAttribute("normal",new st(s.slice(),3)),this.setAttribute("uv",new st(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(b){const w=new V,E=new V,A=new V;for(let T=0;T<t.length;T+=3)m(t[T+0],w),m(t[T+1],E),m(t[T+2],A),l(w,E,A,b)}function l(b,w,E,A){const T=A+1,I=[];for(let M=0;M<=T;M++){I[M]=[];const R=b.clone().lerp(E,M/T),O=w.clone().lerp(E,M/T),L=T-M;for(let X=0;X<=L;X++)X===0&&M===T?I[M][X]=R:I[M][X]=R.clone().lerp(O,X/L)}for(let M=0;M<T;M++)for(let R=0;R<2*(T-M)-1;R++){const O=Math.floor(R/2);R%2===0?(h(I[M][O+1]),h(I[M+1][O]),h(I[M][O])):(h(I[M][O+1]),h(I[M+1][O+1]),h(I[M+1][O]))}}function c(b){const w=new V;for(let E=0;E<s.length;E+=3)w.x=s[E+0],w.y=s[E+1],w.z=s[E+2],w.normalize().multiplyScalar(b),s[E+0]=w.x,s[E+1]=w.y,s[E+2]=w.z}function u(){const b=new V;for(let w=0;w<s.length;w+=3){b.x=s[w+0],b.y=s[w+1],b.z=s[w+2];const E=_(b)/2/Math.PI+.5,A=x(b)/Math.PI+.5;o.push(E,1-A)}g(),d()}function d(){for(let b=0;b<o.length;b+=6){const w=o[b+0],E=o[b+2],A=o[b+4],T=Math.max(w,E,A),I=Math.min(w,E,A);T>.9&&I<.1&&(w<.2&&(o[b+0]+=1),E<.2&&(o[b+2]+=1),A<.2&&(o[b+4]+=1))}}function h(b){s.push(b.x,b.y,b.z)}function m(b,w){const E=b*3;w.x=e[E+0],w.y=e[E+1],w.z=e[E+2]}function g(){const b=new V,w=new V,E=new V,A=new V,T=new Re,I=new Re,M=new Re;for(let R=0,O=0;R<s.length;R+=9,O+=6){b.set(s[R+0],s[R+1],s[R+2]),w.set(s[R+3],s[R+4],s[R+5]),E.set(s[R+6],s[R+7],s[R+8]),T.set(o[O+0],o[O+1]),I.set(o[O+2],o[O+3]),M.set(o[O+4],o[O+5]),A.copy(b).add(w).add(E).divideScalar(3);const L=_(A);v(T,O+0,b,L),v(I,O+2,w,L),v(M,O+4,E,L)}}function v(b,w,E,A){A<0&&b.x===1&&(o[w]=b.x-1),E.x===0&&E.z===0&&(o[w]=A/2/Math.PI+.5)}function _(b){return Math.atan2(b.z,-b.x)}function x(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nl(e.vertices,e.indices,e.radius,e.details)}}class i0 extends Nl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new i0(e.radius,e.detail)}}const px=new V,mx=new V,_M=new V,gx=new eo;class D7 extends At{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(dd*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),h={},m=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:v,b:_,c:x}=gx;if(v.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),x.fromBufferAttribute(a,c[2]),gx.getNormal(_M),d[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,d[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let b=0;b<3;b++){const w=(b+1)%3,E=d[b],A=d[w],T=gx[u[b]],I=gx[u[w]],M=`${E}_${A}`,R=`${A}_${E}`;R in h&&h[R]?(_M.dot(h[R].normal)<=s&&(m.push(T.x,T.y,T.z),m.push(I.x,I.y,I.z)),h[R]=null):M in h||(h[M]={index0:c[b],index1:c[w],normal:_M.clone()})}}for(const g in h)if(h[g]){const{index0:v,index1:_}=h[g];px.fromBufferAttribute(a,v),mx.fromBufferAttribute(a,_),m.push(px.x,px.y,px.z),m.push(mx.x,mx.y,mx.z)}this.setAttribute("position",new st(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class fd extends ny{constructor(e){super(e),this.uuid=Ts(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new ny().fromJSON(i))}return this}}const rIe={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=B7(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,h,m;if(r&&(s=lIe(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let g=t;g<i;g+=t)d=n[g],h=n[g+1],d<a&&(a=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return ry(s,o,t,a,l,m,0),o}};function B7(n,e,t,r,i){let s,o;if(i===_Ie(n,e,t,r)>0)for(s=e;s<t;s+=r)o=hU(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=hU(s,n[s],n[s+1],o);return o&&JS(o,o.next)&&(sy(o),o=o.next),o}function Nd(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(JS(t,t.next)||Zn(t.prev,t,t.next)===0)){if(sy(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function ry(n,e,t,r,i,s,o){if(!n)return;!o&&s&&fIe(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?sIe(n,r,i,s):iIe(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),sy(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=oIe(Nd(n),e,t),ry(n,e,t,r,i,s,2)):o===2&&aIe(n,e,t,r,i,s):ry(Nd(n),e,t,r,i,s,1);break}}}function iIe(n){const e=n.prev,t=n,r=n.next;if(Zn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,h=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let g=r.next;for(;g!==e;){if(g.x>=u&&g.x<=h&&g.y>=d&&g.y<=m&&uf(i,a,s,l,o,c,g.x,g.y)&&Zn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function sIe(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Zn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,d=s.y,h=o.y,m=a<l?a<c?a:c:l<c?l:c,g=u<d?u<h?u:h:d<h?d:h,v=a>l?a>c?a:c:l>c?l:c,_=u>d?u>h?u:h:d>h?d:h,x=mI(m,g,e,t,r),b=mI(v,_,e,t,r);let w=n.prevZ,E=n.nextZ;for(;w&&w.z>=x&&E&&E.z<=b;){if(w.x>=m&&w.x<=v&&w.y>=g&&w.y<=_&&w!==i&&w!==o&&uf(a,u,l,d,c,h,w.x,w.y)&&Zn(w.prev,w,w.next)>=0||(w=w.prevZ,E.x>=m&&E.x<=v&&E.y>=g&&E.y<=_&&E!==i&&E!==o&&uf(a,u,l,d,c,h,E.x,E.y)&&Zn(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;w&&w.z>=x;){if(w.x>=m&&w.x<=v&&w.y>=g&&w.y<=_&&w!==i&&w!==o&&uf(a,u,l,d,c,h,w.x,w.y)&&Zn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;E&&E.z<=b;){if(E.x>=m&&E.x<=v&&E.y>=g&&E.y<=_&&E!==i&&E!==o&&uf(a,u,l,d,c,h,E.x,E.y)&&Zn(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function oIe(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!JS(i,s)&&F7(i,r,r.next,s)&&iy(i,s)&&iy(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),sy(r),sy(r.next),r=n=s),r=r.next}while(r!==n);return Nd(r)}function aIe(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&gIe(o,a)){let l=z7(o,a);o=Nd(o,o.next),l=Nd(l,l.next),ry(o,e,t,r,i,s,0),ry(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function lIe(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=B7(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(mIe(c));for(i.sort(cIe),s=0;s<i.length;s++)t=uIe(i[s],t);return t}function cIe(n,e){return n.x-e.x}function uIe(n,e){const t=dIe(n,e);if(!t)return e;const r=z7(t,n);return Nd(r,r.next),Nd(t,t.next)}function dIe(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const h=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=s&&h>r&&(r=h,i=t.x<t.next.x?t:t.next,h===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,d;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&uf(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),iy(t,n)&&(d<u||d===u&&(t.x>i.x||t.x===i.x&&hIe(i,t)))&&(i=t,u=d)),t=t.next;while(t!==a);return i}function hIe(n,e){return Zn(n.prev,n,e.prev)<0&&Zn(e.next,n,n.next)<0}function fIe(n,e,t,r){let i=n;do i.z===0&&(i.z=mI(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,pIe(i)}function pIe(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function mI(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function mIe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function uf(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function gIe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!vIe(n,e)&&(iy(n,e)&&iy(e,n)&&yIe(n,e)&&(Zn(n.prev,n,e.prev)||Zn(n,e.prev,e))||JS(n,e)&&Zn(n.prev,n,n.next)>0&&Zn(e.prev,e,e.next)>0)}function Zn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function JS(n,e){return n.x===e.x&&n.y===e.y}function F7(n,e,t,r){const i=yx(Zn(n,e,t)),s=yx(Zn(n,e,r)),o=yx(Zn(t,r,n)),a=yx(Zn(t,r,e));return!!(i!==s&&o!==a||i===0&&vx(n,t,e)||s===0&&vx(n,r,e)||o===0&&vx(t,n,r)||a===0&&vx(t,e,r))}function vx(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function yx(n){return n>0?1:n<0?-1:0}function vIe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&F7(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function iy(n,e){return Zn(n.prev,n,n.next)<0?Zn(n,e,n.next)>=0&&Zn(n,n.prev,e)>=0:Zn(n,e,n.prev)<0||Zn(n,n.next,e)<0}function yIe(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function z7(n,e){const t=new gI(n.i,n.x,n.y),r=new gI(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function hU(n,e,t,r){const i=new gI(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function sy(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function gI(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _Ie(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Ea{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ea.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];fU(e),pU(r,e);let o=e.length;t.forEach(fU);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,pU(r,t[l]);const a=rIe.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function fU(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function pU(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class s0 extends At{constructor(e=new fd([new Re(.5,.5),new Re(-.5,.5),new Re(-.5,-.5),new Re(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new st(i,3)),this.setAttribute("uv",new st(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let h=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,b=t.UVGenerator!==void 0?t.UVGenerator:xIe;let w,E=!1,A,T,I,M;x&&(w=x.getSpacedPoints(u),E=!0,h=!1,A=x.computeFrenetFrames(u,!1),T=new V,I=new V,M=new V),h||(_=0,m=0,g=0,v=0);const R=a.extractPoints(c);let O=R.shape;const L=R.holes;if(!Ea.isClockWise(O)){O=O.reverse();for(let ce=0,ve=L.length;ce<ve;ce++){const Ie=L[ce];Ea.isClockWise(Ie)&&(L[ce]=Ie.reverse())}}const W=Ea.triangulateShape(O,L),K=O;for(let ce=0,ve=L.length;ce<ve;ce++){const Ie=L[ce];O=O.concat(Ie)}function U(ce,ve,Ie){return ve||console.error("THREE.ExtrudeGeometry: vec does not exist"),ce.clone().addScaledVector(ve,Ie)}const ee=O.length,Q=W.length;function D(ce,ve,Ie){let Le,De,ze;const We=ce.x-ve.x,et=ce.y-ve.y,qe=Ie.x-ce.x,it=Ie.y-ce.y,j=We*We+et*et,B=We*it-et*qe;if(Math.abs(B)>Number.EPSILON){const ne=Math.sqrt(j),Se=Math.sqrt(qe*qe+it*it),Be=ve.x-et/ne,He=ve.y+We/ne,we=Ie.x-it/Se,ue=Ie.y+qe/Se,fe=((we-Be)*it-(ue-He)*qe)/(We*it-et*qe);Le=Be+We*fe-ce.x,De=He+et*fe-ce.y;const Fe=Le*Le+De*De;if(Fe<=2)return new Re(Le,De);ze=Math.sqrt(Fe/2)}else{let ne=!1;We>Number.EPSILON?qe>Number.EPSILON&&(ne=!0):We<-Number.EPSILON?qe<-Number.EPSILON&&(ne=!0):Math.sign(et)===Math.sign(it)&&(ne=!0),ne?(Le=-et,De=We,ze=Math.sqrt(j)):(Le=We,De=et,ze=Math.sqrt(j/2))}return new Re(Le/ze,De/ze)}const z=[];for(let ce=0,ve=K.length,Ie=ve-1,Le=ce+1;ce<ve;ce++,Ie++,Le++)Ie===ve&&(Ie=0),Le===ve&&(Le=0),z[ce]=D(K[ce],K[Ie],K[Le]);const Z=[];let he,G=z.concat();for(let ce=0,ve=L.length;ce<ve;ce++){const Ie=L[ce];he=[];for(let Le=0,De=Ie.length,ze=De-1,We=Le+1;Le<De;Le++,ze++,We++)ze===De&&(ze=0),We===De&&(We=0),he[Le]=D(Ie[Le],Ie[ze],Ie[We]);Z.push(he),G=G.concat(he)}for(let ce=0;ce<_;ce++){const ve=ce/_,Ie=m*Math.cos(ve*Math.PI/2),Le=g*Math.sin(ve*Math.PI/2)+v;for(let De=0,ze=K.length;De<ze;De++){const We=U(K[De],z[De],Le);me(We.x,We.y,-Ie)}for(let De=0,ze=L.length;De<ze;De++){const We=L[De];he=Z[De];for(let et=0,qe=We.length;et<qe;et++){const it=U(We[et],he[et],Le);me(it.x,it.y,-Ie)}}}const te=g+v;for(let ce=0;ce<ee;ce++){const ve=h?U(O[ce],G[ce],te):O[ce];E?(I.copy(A.normals[0]).multiplyScalar(ve.x),T.copy(A.binormals[0]).multiplyScalar(ve.y),M.copy(w[0]).add(I).add(T),me(M.x,M.y,M.z)):me(ve.x,ve.y,0)}for(let ce=1;ce<=u;ce++)for(let ve=0;ve<ee;ve++){const Ie=h?U(O[ve],G[ve],te):O[ve];E?(I.copy(A.normals[ce]).multiplyScalar(Ie.x),T.copy(A.binormals[ce]).multiplyScalar(Ie.y),M.copy(w[ce]).add(I).add(T),me(M.x,M.y,M.z)):me(Ie.x,Ie.y,d/u*ce)}for(let ce=_-1;ce>=0;ce--){const ve=ce/_,Ie=m*Math.cos(ve*Math.PI/2),Le=g*Math.sin(ve*Math.PI/2)+v;for(let De=0,ze=K.length;De<ze;De++){const We=U(K[De],z[De],Le);me(We.x,We.y,d+Ie)}for(let De=0,ze=L.length;De<ze;De++){const We=L[De];he=Z[De];for(let et=0,qe=We.length;et<qe;et++){const it=U(We[et],he[et],Le);E?me(it.x,it.y+w[u-1].y,w[u-1].x+Ie):me(it.x,it.y,d+Ie)}}}re(),q();function re(){const ce=i.length/3;if(h){let ve=0,Ie=ee*ve;for(let Le=0;Le<Q;Le++){const De=W[Le];ae(De[2]+Ie,De[1]+Ie,De[0]+Ie)}ve=u+_*2,Ie=ee*ve;for(let Le=0;Le<Q;Le++){const De=W[Le];ae(De[0]+Ie,De[1]+Ie,De[2]+Ie)}}else{for(let ve=0;ve<Q;ve++){const Ie=W[ve];ae(Ie[2],Ie[1],Ie[0])}for(let ve=0;ve<Q;ve++){const Ie=W[ve];ae(Ie[0]+ee*u,Ie[1]+ee*u,Ie[2]+ee*u)}}r.addGroup(ce,i.length/3-ce,0)}function q(){const ce=i.length/3;let ve=0;$(K,ve),ve+=K.length;for(let Ie=0,Le=L.length;Ie<Le;Ie++){const De=L[Ie];$(De,ve),ve+=De.length}r.addGroup(ce,i.length/3-ce,1)}function $(ce,ve){let Ie=ce.length;for(;--Ie>=0;){const Le=Ie;let De=Ie-1;De<0&&(De=ce.length-1);for(let ze=0,We=u+_*2;ze<We;ze++){const et=ee*ze,qe=ee*(ze+1),it=ve+Le+et,j=ve+De+et,B=ve+De+qe,ne=ve+Le+qe;xe(it,j,B,ne)}}}function me(ce,ve,Ie){l.push(ce),l.push(ve),l.push(Ie)}function ae(ce,ve,Ie){Ae(ce),Ae(ve),Ae(Ie);const Le=i.length/3,De=b.generateTopUV(r,i,Le-3,Le-2,Le-1);Me(De[0]),Me(De[1]),Me(De[2])}function xe(ce,ve,Ie,Le){Ae(ce),Ae(ve),Ae(Le),Ae(ve),Ae(Ie),Ae(Le);const De=i.length/3,ze=b.generateSideWallUV(r,i,De-6,De-3,De-2,De-1);Me(ze[0]),Me(ze[1]),Me(ze[3]),Me(ze[1]),Me(ze[2]),Me(ze[3])}function Ae(ce){i.push(l[ce*3+0]),i.push(l[ce*3+1]),i.push(l[ce*3+2])}function Me(ce){s.push(ce.x),s.push(ce.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return bIe(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new RO[i.type]().fromJSON(i)),new s0(r,e.options)}}const xIe={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Re(s,o),new Re(a,l),new Re(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],h=e[i*3],m=e[i*3+1],g=e[i*3+2],v=e[s*3],_=e[s*3+1],x=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Re(o,1-l),new Re(c,1-d),new Re(h,1-g),new Re(v,1-x)]:[new Re(a,1-l),new Re(u,1-d),new Re(m,1-g),new Re(_,1-x)]}};function bIe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Vp extends Nl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Vp(e.radius,e.detail)}}class Wp extends Nl{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Wp(e.radius,e.detail)}}class o0 extends At{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let d=e;const h=(t-e)/i,m=new V,g=new Re;for(let v=0;v<=i;v++){for(let _=0;_<=r;_++){const x=s+_/r*o;m.x=d*Math.cos(x),m.y=d*Math.sin(x),l.push(m.x,m.y,m.z),c.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,u.push(g.x,g.y)}d+=h}for(let v=0;v<i;v++){const _=v*(r+1);for(let x=0;x<r;x++){const b=x+_,w=b,E=b+r+1,A=b+r+2,T=b+1;a.push(w,E,T),a.push(E,A,T)}}this.setIndex(a),this.setAttribute("position",new st(l,3)),this.setAttribute("normal",new st(c,3)),this.setAttribute("uv",new st(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new o0(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class a0 extends At{constructor(e=new fd([new Re(0,.5),new Re(-.5,-.5),new Re(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new st(i,3)),this.setAttribute("normal",new st(s,3)),this.setAttribute("uv",new st(o,2));function c(u){const d=i.length/3,h=u.extractPoints(t);let m=h.shape;const g=h.holes;Ea.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,x=g.length;_<x;_++){const b=g[_];Ea.isClockWise(b)===!0&&(g[_]=b.reverse())}const v=Ea.triangulateShape(m,g);for(let _=0,x=g.length;_<x;_++){const b=g[_];m=m.concat(b)}for(let _=0,x=m.length;_<x;_++){const b=m[_];i.push(b.x,b.y,0),s.push(0,0,1),o.push(b.x,b.y)}for(let _=0,x=v.length;_<x;_++){const b=v[_],w=b[0]+d,E=b[1]+d,A=b[2]+d;r.push(w,E,A),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return wIe(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new a0(r,e.curveSegments)}}function wIe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class jp extends At{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new V,h=new V,m=[],g=[],v=[],_=[];for(let x=0;x<=r;x++){const b=[],w=x/r;let E=0;x==0&&o==0?E=.5/t:x==r&&l==Math.PI&&(E=-.5/t);for(let A=0;A<=t;A++){const T=A/t;d.x=-e*Math.cos(i+T*s)*Math.sin(o+w*a),d.y=e*Math.cos(o+w*a),d.z=e*Math.sin(i+T*s)*Math.sin(o+w*a),g.push(d.x,d.y,d.z),h.copy(d).normalize(),v.push(h.x,h.y,h.z),_.push(T+E,1-w),b.push(c++)}u.push(b)}for(let x=0;x<r;x++)for(let b=0;b<t;b++){const w=u[x][b+1],E=u[x][b],A=u[x+1][b],T=u[x+1][b+1];(x!==0||o>0)&&m.push(w,E,T),(x!==r-1||l<Math.PI)&&m.push(E,A,T)}this.setIndex(m),this.setAttribute("position",new st(g,3)),this.setAttribute("normal",new st(v,3)),this.setAttribute("uv",new st(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jp(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class l0 extends Nl{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new l0(e.radius,e.detail)}}class c0 extends At{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new V,d=new V,h=new V;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const v=g/i*s,_=m/r*Math.PI*2;d.x=(e+t*Math.cos(_))*Math.cos(v),d.y=(e+t*Math.cos(_))*Math.sin(v),d.z=t*Math.sin(_),a.push(d.x,d.y,d.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),h.subVectors(d,u).normalize(),l.push(h.x,h.y,h.z),c.push(g/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const v=(i+1)*m+g-1,_=(i+1)*(m-1)+g-1,x=(i+1)*(m-1)+g,b=(i+1)*m+g;o.push(v,_,b),o.push(_,x,b)}this.setIndex(o),this.setAttribute("position",new st(a,3)),this.setAttribute("normal",new st(l,3)),this.setAttribute("uv",new st(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new c0(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class u0 extends At{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],d=new V,h=new V,m=new V,g=new V,v=new V,_=new V,x=new V;for(let w=0;w<=r;++w){const E=w/r*s*Math.PI*2;b(E,s,o,e,m),b(E+.01,s,o,e,g),_.subVectors(g,m),x.addVectors(g,m),v.crossVectors(_,x),x.crossVectors(v,_),v.normalize(),x.normalize();for(let A=0;A<=i;++A){const T=A/i*Math.PI*2,I=-t*Math.cos(T),M=t*Math.sin(T);d.x=m.x+(I*x.x+M*v.x),d.y=m.y+(I*x.y+M*v.y),d.z=m.z+(I*x.z+M*v.z),l.push(d.x,d.y,d.z),h.subVectors(d,m).normalize(),c.push(h.x,h.y,h.z),u.push(w/r),u.push(A/i)}}for(let w=1;w<=r;w++)for(let E=1;E<=i;E++){const A=(i+1)*(w-1)+(E-1),T=(i+1)*w+(E-1),I=(i+1)*w+E,M=(i+1)*(w-1)+E;a.push(A,T,M),a.push(T,I,M)}this.setIndex(a),this.setAttribute("position",new st(l,3)),this.setAttribute("normal",new st(c,3)),this.setAttribute("uv",new st(u,2));function b(w,E,A,T,I){const M=Math.cos(w),R=Math.sin(w),O=A/E*w,L=Math.cos(O);I.x=T*(2+L)*.5*M,I.y=T*(2+L)*R*.5,I.z=T*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new u0(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class d0 extends At{constructor(e=new TO(new V(-1,-1,0),new V(-1,1,0),new V(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new V,l=new V,c=new Re;let u=new V;const d=[],h=[],m=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new st(d,3)),this.setAttribute("normal",new st(h,3)),this.setAttribute("uv",new st(m,2));function v(){for(let w=0;w<t;w++)_(w);_(s===!1?t:0),b(),x()}function _(w){u=e.getPointAt(w/t,u);const E=o.normals[w],A=o.binormals[w];for(let T=0;T<=i;T++){const I=T/i*Math.PI*2,M=Math.sin(I),R=-Math.cos(I);l.x=R*E.x+M*A.x,l.y=R*E.y+M*A.y,l.z=R*E.z+M*A.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,d.push(a.x,a.y,a.z)}}function x(){for(let w=1;w<=t;w++)for(let E=1;E<=i;E++){const A=(i+1)*(w-1)+(E-1),T=(i+1)*w+(E-1),I=(i+1)*w+E,M=(i+1)*(w-1)+E;g.push(A,T,M),g.push(T,I,M)}}function b(){for(let w=0;w<=t;w++)for(let E=0;E<=i;E++)c.x=w/t,c.y=E/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new d0(new RO[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class U7 extends At{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new V,s=new V;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],h=d.start,m=d.count;for(let g=h,v=h+m;g<v;g+=3)for(let _=0;_<3;_++){const x=a.getX(g+_),b=a.getX(g+(_+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,b),mU(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),mU(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new st(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function mU(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var gU=Object.freeze({__proto__:null,BoxGeometry:au,CapsuleGeometry:t0,CircleGeometry:n0,ConeGeometry:r0,CylinderGeometry:Gd,DodecahedronGeometry:i0,EdgesGeometry:D7,ExtrudeGeometry:s0,IcosahedronGeometry:Vp,LatheGeometry:Gp,OctahedronGeometry:Wp,PlaneGeometry:Up,PolyhedronGeometry:Nl,RingGeometry:o0,ShapeGeometry:a0,SphereGeometry:jp,TetrahedronGeometry:l0,TorusGeometry:c0,TorusKnotGeometry:u0,TubeGeometry:d0,WireframeGeometry:U7});class H7 extends Mr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ke(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class G7 extends Go{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class $p extends Mr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ke(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Il,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kl extends $p{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Re(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return yr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ke(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ke(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ke(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class V7 extends Mr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ke(16777215),this.specular=new Ke(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Il,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Xy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class W7 extends Mr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ke(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Il,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class j7 extends Mr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Il,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class $7 extends Mr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Il,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Xy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class K7 extends Mr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ke(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Il,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class X7 extends ki{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Xs(n,e,t){return IO(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function td(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function IO(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function J7(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function vI(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function NO(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function SIe(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],h=[];for(let m=0;m<c.times.length;++m){const g=c.times[m]*i;if(!(g<t||g>=r)){d.push(c.times[m]);for(let v=0;v<u;++v)h.push(c.values[m*u+v])}}d.length!==0&&(c.times=td(d,c.times.constructor),c.values=td(h,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function EIe(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let h=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=m/3);const g=a.times.length-1;let v;if(s<=a.times[0]){const x=u,b=d-u;v=Xs(a.values,x,b)}else if(s>=a.times[g]){const x=g*d+u,b=x+d-u;v=Xs(a.values,x,b)}else{const x=a.createInterpolant(),b=u,w=d-u;x.evaluate(s),v=Xs(x.resultBuffer,b,w)}l==="quaternion"&&new li().fromArray(v).normalize().conjugate().toArray(v);const _=c.times.length;for(let x=0;x<_;++x){const b=x*m+h;if(l==="quaternion")li.multiplyQuaternionsFlat(c.values,b,v,0,c.values,b);else{const w=m-h*2;for(let E=0;E<w;++E)c.values[b+E]-=v[E]}}}return n.blendMode=lO,n}const CIe={arraySlice:Xs,convertArray:td,isTypedArray:IO,getKeyframeOrder:J7,sortedArray:vI,flattenJSON:NO,subclip:SIe,makeClipAdditive:EIe};class Kp{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Y7 extends Kp{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Qu,endingEnd:Qu}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Zu:s=e,a=2*t-r;break;case Qv:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Zu:o=e,l=2*r-t;break;case Qv:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,m=this._weightNext,g=(r-t)/(i-t),v=g*g,_=v*g,x=-h*_+2*h*v-h*g,b=(1+h)*_+(-1.5-2*h)*v+(-.5+h)*g+1,w=(-1-m)*_+(1.5+m)*v+.5*g,E=m*_-m*v;for(let A=0;A!==a;++A)s[A]=x*o[u+A]+b*o[c+A]+w*o[l+A]+E*o[d+A];return s}}class kO extends Kp{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),d=1-u;for(let h=0;h!==a;++h)s[h]=o[c+h]*d+o[l+h]*u;return s}}class q7 extends Kp{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ko{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=td(t,this.TimeBufferType),this.values=td(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:td(e.times,Array),values:td(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new q7(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new kO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Y7(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case hp:t=this.InterpolantFactoryMethodDiscrete;break;case Id:t=this.InterpolantFactoryMethodLinear;break;case cb:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return hp;case this.InterpolantFactoryMethodLinear:return Id;case this.InterpolantFactoryMethodSmooth:return cb}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Xs(r,s,o),this.values=Xs(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&IO(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Xs(this.times),t=Xs(this.values),r=this.getValueSize(),i=this.getInterpolation()===cb,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*r,h=d-r,m=d+r;for(let g=0;g!==r;++g){const v=t[d+g];if(v!==t[h+g]||v!==t[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,h=o*r;for(let m=0;m!==r;++m)t[h+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Xs(e,0,o),this.values=Xs(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Xs(this.times,0),t=Xs(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Ko.prototype.TimeBufferType=Float32Array;Ko.prototype.ValueBufferType=Float32Array;Ko.prototype.DefaultInterpolation=Id;class Vd extends Ko{}Vd.prototype.ValueTypeName="bool";Vd.prototype.ValueBufferType=Array;Vd.prototype.DefaultInterpolation=hp;Vd.prototype.InterpolantFactoryMethodLinear=void 0;Vd.prototype.InterpolantFactoryMethodSmooth=void 0;class OO extends Ko{}OO.prototype.ValueTypeName="color";class gp extends Ko{}gp.prototype.ValueTypeName="number";class Q7 extends Kp{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)li.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Zc extends Ko{InterpolantFactoryMethodLinear(e){return new Q7(this.times,this.values,this.getValueSize(),e)}}Zc.prototype.ValueTypeName="quaternion";Zc.prototype.DefaultInterpolation=Id;Zc.prototype.InterpolantFactoryMethodSmooth=void 0;class Wd extends Ko{}Wd.prototype.ValueTypeName="string";Wd.prototype.ValueBufferType=Array;Wd.prototype.DefaultInterpolation=hp;Wd.prototype.InterpolantFactoryMethodLinear=void 0;Wd.prototype.InterpolantFactoryMethodSmooth=void 0;class vp extends Ko{}vp.prototype.ValueTypeName="vector";class yp{constructor(e,t=-1,r,i=BS){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Ts(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(MIe(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Ko.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=J7(l);l=vI(l,1,u),c=vI(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new gp(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let h=i[d];h||(i[d]=h=[]),h.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,h,m,g,v){if(m.length!==0){const _=[],x=[];NO(m,_,x,g),_.length!==0&&v.push(new d(h,_,x))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const h=c[d].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const m={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let v=0;v<h[g].morphTargets.length;v++)m[h[g].morphTargets[v]]=-1;for(const v in m){const _=[],x=[];for(let b=0;b!==h[g].morphTargets.length;++b){const w=h[g];_.push(w.time),x.push(w.morphTarget===v?1:0)}i.push(new gp(".morphTargetInfluence["+v+"]",_,x))}l=m.length*o}else{const m=".bones["+t[d].name+"]";r(vp,m+".position",h,"pos",i),r(Zc,m+".quaternion",h,"rot",i),r(vp,m+".scale",h,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function AIe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return gp;case"vector":case"vector2":case"vector3":case"vector4":return vp;case"color":return OO;case"quaternion":return Zc;case"bool":case"boolean":return Vd;case"string":return Wd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function MIe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=AIe(n.type);if(n.times===void 0){const t=[],r=[];NO(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const kd={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class LO{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,h=c.length;d<h;d+=2){const m=c[d],g=c[d+1];if(m.global&&(m.lastIndex=0),m.test(u))return g}return null}}}const Z7=new LO;class Xi{constructor(e){this.manager=e!==void 0?e:Z7,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Ya={};class TIe extends Error{constructor(e,t){super(e),this.response=t}}class ks extends Xi{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=kd.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ya[e]!==void 0){Ya[e].push({onLoad:t,onProgress:r,onError:i});return}Ya[e]=[],Ya[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Ya[e],d=c.body.getReader(),h=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=h?parseInt(h):0,g=m!==0;let v=0;const _=new ReadableStream({start(x){b();function b(){d.read().then(({done:w,value:E})=>{if(w)x.close();else{v+=E.byteLength;const A=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:m});for(let T=0,I=u.length;T<I;T++){const M=u[T];M.onProgress&&M.onProgress(A)}x.enqueue(E),b()}})}}});return new Response(_)}else throw new TIe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),h=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(h);return c.arrayBuffer().then(g=>m.decode(g))}}}).then(c=>{kd.add(e,c);const u=Ya[e];delete Ya[e];for(let d=0,h=u.length;d<h;d++){const m=u[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=Ya[e];if(u===void 0)throw this.manager.itemError(e),c;delete Ya[e];for(let d=0,h=u.length;d<h;d++){const m=u[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class PIe extends Xi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ks(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=yp.parse(e[r]);t.push(i)}return t}}class RIe extends Xi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new EO,l=new ks(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(h){const m=s.parse(h,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=Dn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let d=0,h=e.length;d<h;++d)u(d);else l.load(e,function(d){const h=s.parse(d,!0);if(h.isCubemap){const m=h.mipmaps.length/h.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let v=0;v<h.mipmapCount;v++)o[g].mipmaps.push(h.mipmaps[g*h.mipmapCount+v]),o[g].format=h.format,o[g].width=h.width,o[g].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=Dn),a.format=h.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class oy extends Xi{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=kd.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=ty("img");function l(){u(),kd.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){u(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class eK extends Xi{constructor(e){super(e)}load(e,t,r,i){const s=new Qy,o=new oy(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class tK extends Xi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new If,a=new ks(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:si,o.wrapT=c.wrapT!==void 0?c.wrapT:si,o.magFilter=c.magFilter!==void 0?c.magFilter:Dn,o.minFilter=c.minFilter!==void 0?c.minFilter:Dn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ia),c.mipmapCount===1&&(o.minFilter=Dn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class nK extends Xi{constructor(e){super(e)}load(e,t,r,i){const s=new Kn,o=new oy(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class lu extends Qt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ke(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class rK extends lu{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Qt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ke(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const xM=new vt,vU=new V,yU=new V;class DO{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Re(512,512),this.map=null,this.mapPass=null,this.matrix=new vt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new zS,this._frameExtents=new Re(1,1),this._viewportCount=1,this._viewports=[new gn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;vU.setFromMatrixPosition(e.matrixWorld),t.position.copy(vU),yU.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(yU),t.updateMatrixWorld(),xM.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(xM),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(xM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class IIe extends DO{constructor(){super(new Bn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=ey*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class BO extends lu{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Qt.DEFAULT_UP),this.updateMatrix(),this.target=new Qt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new IIe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const _U=new vt,Zm=new V,bM=new V;class NIe extends DO{constructor(){super(new Bn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Re(4,2),this._viewportCount=6,this._viewports=[new gn(2,1,1,1),new gn(0,1,1,1),new gn(3,1,1,1),new gn(1,1,1,1),new gn(3,0,1,1),new gn(1,0,1,1)],this._cubeDirections=[new V(1,0,0),new V(-1,0,0),new V(0,0,1),new V(0,0,-1),new V(0,1,0),new V(0,-1,0)],this._cubeUps=[new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,0,1),new V(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Zm.setFromMatrixPosition(e.matrixWorld),r.position.copy(Zm),bM.copy(r.position),bM.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(bM),r.updateMatrixWorld(),i.makeTranslation(-Zm.x,-Zm.y,-Zm.z),_U.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_U)}}class FO extends lu{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new NIe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class kIe extends DO{constructor(){super(new ml(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class zO extends lu{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Qt.DEFAULT_UP),this.updateMatrix(),this.target=new Qt,this.shadow=new kIe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class iK extends lu{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class sK extends lu{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class oK{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new V)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class YS extends lu{constructor(e=new oK,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class qS extends Xi{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new ks(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=qS.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ke().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Ke().setHex(o.value);break;case"v2":i.uniforms[s].value=new Re().fromArray(o.value);break;case"v3":i.uniforms[s].value=new V().fromArray(o.value);break;case"v4":i.uniforms[s].value=new gn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new oi().fromArray(o.value);break;case"m4":i.uniforms[s].value=new vt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Re().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Re().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:H7,SpriteMaterial:xO,RawShaderMaterial:G7,ShaderMaterial:Go,PointsMaterial:$S,MeshPhysicalMaterial:kl,MeshStandardMaterial:$p,MeshPhongMaterial:V7,MeshToonMaterial:W7,MeshNormalMaterial:j7,MeshLambertMaterial:$7,MeshDepthMaterial:yO,MeshDistanceMaterial:_O,MeshBasicMaterial:Cs,MeshMatcapMaterial:K7,LineDashedMaterial:X7,LineBasicMaterial:ki,Material:Mr};return new t[e]}}class Ca{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class aK extends At{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class lK extends Xi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ks(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,g){if(t[g]!==void 0)return t[g];const _=m.interleavedBuffers[g],x=s(m,_.buffer),b=lf(_.type,x),w=new Zy(b,_.stride);return w.uuid=_.uuid,t[g]=w,w}function s(m,g){if(r[g]!==void 0)return r[g];const _=m.arrayBuffers[g],x=new Uint32Array(_).buffer;return r[g]=x,x}const o=e.isInstancedBufferGeometry?new aK:new At,a=e.data.index;if(a!==void 0){const m=lf(a.type,a.array);o.setIndex(new un(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let v;if(g.isInterleavedBufferAttribute){const _=i(e.data,g.data);v=new Qc(_,g.itemSize,g.offset,g.normalized)}else{const _=lf(g.type,g.array),x=g.isInstancedBufferAttribute?mp:un;v=new x(_,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(m,v)}const c=e.data.morphAttributes;if(c)for(const m in c){const g=c[m],v=[];for(let _=0,x=g.length;_<x;_++){const b=g[_];let w;if(b.isInterleavedBufferAttribute){const E=i(e.data,b.data);w=new Qc(E,b.itemSize,b.offset,b.normalized)}else{const E=lf(b.type,b.array);w=new un(E,b.itemSize,b.normalized)}b.name!==void 0&&(w.name=b.name),v.push(w)}o.morphAttributes[m]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,g=d.length;m!==g;++m){const v=d[m];o.addGroup(v.start,v.count,v.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const m=new V;h.center!==void 0&&m.fromArray(h.center),o.boundingSphere=new ou(m,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class OIe extends Xi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Ca.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new ks(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Ca.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new ks(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let d=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new fd().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new e0().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new lK;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in gU?a=gU[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new qS;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=yp.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:lf(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new LO(t);s=new oy(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],h=d.url;if(Array.isArray(h)){const m=[];for(let g=0,v=h.length;g<v;g++){const _=h[g],x=a(_);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new If(x.data,x.width,x.height)))}i[d.uuid]=new ed(m)}else{const m=a(d.url);i[d.uuid]=new ed(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:lf(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new oy(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,h=c.length;d<h;d++){const m=c[d],g=await s(m);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new If(g.data,g.width,g.height)))}r[l.uuid]=new ed(u)}else{const u=await s(l.url);r[l.uuid]=new ed(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new Qy,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new If:u=new Kn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,LIe)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],xU),u.wrapT=r(a.wrap[1],xU)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,bU)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,bU)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(h){return t[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),t[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const m=[];for(let g=0,v=h.length;g<v;g++){const _=h[g];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(r[_])}return m}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function c(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let u,d;switch(e.type){case"Scene":o=new WS,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ke(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new VS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new GS(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Bn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ml(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new iK(e.color,e.intensity);break;case"DirectionalLight":o=new zO(e.color,e.intensity);break;case"PointLight":o=new FO(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new sK(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new BO(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new rK(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new YS().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new bO(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new Or(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const h=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new R7(u,d,h),o.instanceMatrix=new mp(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new mp(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new P7;break;case"Line":o=new Cl(a(e.geometry),l(e.material));break;case"LineLoop":o=new wO(a(e.geometry),l(e.material));break;case"LineSegments":o=new jo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new SO(a(e.geometry),l(e.material));break;case"Sprite":o=new T7(l(e.material));break;case"Group":o=new al;break;case"Bone":o=new jS;break;default:o=new Qt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let m=0;m<h.length;m++)o.add(this.parseObject(h[m],t,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let m=0;m<h.length;m++){const g=h[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let m=0;m<h.length;m++){const g=h[m],v=o.getObjectByProperty("uuid",g.object);v!==void 0&&o.addLevel(v,g.distance,g.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const LIe={UVMapping:LS,CubeReflectionMapping:Sl,CubeRefractionMapping:Yc,EquirectangularReflectionMapping:up,EquirectangularRefractionMapping:Yv,CubeUVReflectionMapping:zp},xU={RepeatWrapping:qc,ClampToEdgeWrapping:si,MirroredRepeatWrapping:dp},bU={NearestFilter:dr,NearestMipmapNearestFilter:qv,NearestMipmapLinearFilter:Pf,LinearFilter:Dn,LinearMipmapNearestFilter:DS,LinearMipmapLinearFilter:Ia};class cK extends Xi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=kd.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){kd.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let _x;class UO{static getContext(){return _x===void 0&&(_x=new(window.AudioContext||window.webkitAudioContext)),_x}static setContext(e){_x=e}}class DIe extends Xi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ks(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);UO.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class BIe extends YS{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Ke().set(e),s=new Ke().set(t),o=new V(i.r,i.g,i.b),a=new V(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class FIe extends YS{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new Ke().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const wU=new vt,SU=new vt,Eu=new vt;class zIe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Bn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Bn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Eu.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(dd*t.fov*.5)/t.zoom;let a,l;SU.elements[12]=-i,wU.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Eu.elements[0]=2*t.near/(l-a),Eu.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Eu),a=-o*t.aspect-s,l=o*t.aspect-s,Eu.elements[0]=2*t.near/(l-a),Eu.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Eu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(SU),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(wU)}}class HO{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=EU(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=EU();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function EU(){return(typeof performance>"u"?Date:performance).now()}const Cu=new V,CU=new li,UIe=new V,Au=new V;class HIe extends Qt{constructor(){super(),this.type="AudioListener",this.context=UO.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new HO}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Cu,CU,UIe),Au.set(0,0,-1).applyQuaternion(CU),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Cu.x,i),t.positionY.linearRampToValueAtTime(Cu.y,i),t.positionZ.linearRampToValueAtTime(Cu.z,i),t.forwardX.linearRampToValueAtTime(Au.x,i),t.forwardY.linearRampToValueAtTime(Au.y,i),t.forwardZ.linearRampToValueAtTime(Au.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Cu.x,Cu.y,Cu.z),t.setOrientation(Au.x,Au.y,Au.z,r.x,r.y,r.z)}}let uK=class extends Qt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const Mu=new V,AU=new li,GIe=new V,Tu=new V;class VIe extends uK{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Mu,AU,GIe),Tu.set(0,0,1).applyQuaternion(AU);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Mu.x,r),t.positionY.linearRampToValueAtTime(Mu.y,r),t.positionZ.linearRampToValueAtTime(Mu.z,r),t.orientationX.linearRampToValueAtTime(Tu.x,r),t.orientationY.linearRampToValueAtTime(Tu.y,r),t.orientationZ.linearRampToValueAtTime(Tu.z,r)}else t.setPosition(Mu.x,Mu.y,Mu.z),t.setOrientation(Tu.x,Tu.y,Tu.z)}}class WIe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class dK{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){li.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;li.multiplyQuaternionsFlat(e,o,e,t,e,r),li.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const GO="\\[\\]\\.:\\/",jIe=new RegExp("["+GO+"]","g"),VO="[^"+GO+"]",$Ie="[^"+GO.replace("\\.","")+"]",KIe=/((?:WC+[\/:])*)/.source.replace("WC",VO),XIe=/(WCOD+)?/.source.replace("WCOD",$Ie),JIe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",VO),YIe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",VO),qIe=new RegExp("^"+KIe+XIe+JIe+YIe+"$"),QIe=["material","materials","bones","map"];class ZIe{constructor(e,t,r){const i=r||qt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class qt{constructor(e,t,r){this.path=t,this.parsedPath=r||qt.parseTrackName(t),this.node=qt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new qt.Composite(e,t,r):new qt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(jIe,"")}static parseTrackName(e){const t=qIe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);QIe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=qt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}qt.Composite=ZIe;qt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};qt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};qt.prototype.GetterByBindingType=[qt.prototype._getValue_direct,qt.prototype._getValue_array,qt.prototype._getValue_arrayElement,qt.prototype._getValue_toArray];qt.prototype.SetterByBindingTypeAndVersioning=[[qt.prototype._setValue_direct,qt.prototype._setValue_direct_setNeedsUpdate,qt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[qt.prototype._setValue_array,qt.prototype._setValue_array_setNeedsUpdate,qt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[qt.prototype._setValue_arrayElement,qt.prototype._setValue_arrayElement_setNeedsUpdate,qt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[qt.prototype._setValue_fromArray,qt.prototype._setValue_fromArray_setNeedsUpdate,qt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class e2e{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ts(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const h=arguments[u],m=h.uuid;let g=t[m];if(g===void 0){g=l++,t[m]=g,e.push(h);for(let v=0,_=o;v!==_;++v)s[v].push(new qt(h,r[v],i[v]))}else if(g<c){a=e[g];const v=--c,_=e[v];t[_.uuid]=g,e[g]=_,t[m]=v,e[v]=h;for(let x=0,b=o;x!==b;++x){const w=s[x],E=w[v];let A=w[g];w[g]=E,A===void 0&&(A=new qt(h,r[x],i[x])),w[v]=A}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const d=s++,h=e[d];t[h.uuid]=u,e[u]=h,t[c]=d,e[d]=l;for(let m=0,g=i;m!==g;++m){const v=r[m],_=v[d],x=v[u];v[u]=_,v[d]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=t[u];if(d!==void 0)if(delete t[u],d<s){const h=--s,m=e[h],g=--o,v=e[g];t[m.uuid]=d,e[d]=m,t[v.uuid]=h,e[h]=v,e.pop();for(let _=0,x=i;_!==x;++_){const b=r[_],w=b[h],E=b[g];b[d]=w,b[h]=E,b.pop()}}else{const h=--o,m=e[h];h>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let g=0,v=i;g!==v;++g){const _=r[g];_[d]=_[h],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(d);for(let h=u,m=l.length;h!==m;++h){const g=l[h];d[h]=new qt(g,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class t2e{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Qu,endingEnd:Qu};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=r7,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case lO:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case BS:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===i7;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===n7){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Zu,i.endingEnd=Zu):(e?i.endingStart=this.zeroSlopeAtStart?Zu:Qu:i.endingStart=Qv,t?i.endingEnd=this.zeroSlopeAtEnd?Zu:Qu:i.endingEnd=Qv)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const n2e=new Float32Array(1);class hK extends ka{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const h=i[d],m=h.name;let g=u[m];if(g!==void 0)++g.referenceCount,o[d]=g;else{if(g=o[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const v=t&&t._propertyBindings[d].binding.parsedPath;g=new dK(qt.create(r,m,v),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete d[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new kO(new Float32Array(2),new Float32Array(2),1,n2e),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?yp.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=BS),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new t2e(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?yp.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class WO{constructor(e){this.value=e}clone(){return new WO(this.value.clone===void 0?this.value:this.value.clone())}}let r2e=0;class i2e extends ka{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:r2e++}),this.name="",this.usage=Zv,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class s2e extends Zy{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class o2e{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class jO{constructor(e,t,r=0,i=1/0){this.ray=new Jy(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new hd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return yI(e,this,r,t),r.sort(MU),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)yI(e[i],this,r,t);return r.sort(MU),r}}function MU(n,e){return n.distance-e.distance}function yI(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)yI(i[s],e,t,!0)}}class _I{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(yr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class a2e{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const TU=new Re;class l2e{constructor(e=new Re(1/0,1/0),t=new Re(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=TU.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,TU).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const PU=new V,xx=new V;class c2e{constructor(e=new V,t=new V){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){PU.subVectors(e,this.start),xx.subVectors(this.end,this.start);const r=xx.dot(xx);let s=xx.dot(PU)/r;return t&&(s=yr(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const RU=new V;class u2e extends Qt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new At,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new st(i,3));const s=new ki({fog:!1,toneMapped:!1});this.cone=new jo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),RU.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(RU),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Jl=new V,bx=new vt,wM=new vt;class d2e extends jo{constructor(e){const t=fK(e),r=new At,i=[],s=[],o=new Ke(0,0,1),a=new Ke(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new st(i,3)),r.setAttribute("color",new st(s,3));const l=new ki({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");wM.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(bx.multiplyMatrices(wM,a.matrixWorld),Jl.setFromMatrixPosition(bx),i.setXYZ(o,Jl.x,Jl.y,Jl.z),bx.multiplyMatrices(wM,a.parent.matrixWorld),Jl.setFromMatrixPosition(bx),i.setXYZ(o+1,Jl.x,Jl.y,Jl.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function fK(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,fK(n.children[t]));return e}class h2e extends Or{constructor(e,t,r){const i=new jp(t,4,2),s=new Cs({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const f2e=new V,IU=new Ke,NU=new Ke;class p2e extends Qt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Wp(t);i.rotateY(Math.PI*.5),this.material=new Cs({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new un(o,3)),this.add(new Or(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");IU.copy(this.light.color),NU.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?IU:NU;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(f2e.setFromMatrixPosition(this.light.matrixWorld).negate())}}class m2e extends jo{constructor(e=10,t=10,r=4473924,i=8947848){r=new Ke(r),i=new Ke(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let h=0,m=0,g=-a;h<=t;h++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=h===s?r:i;v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3}const u=new At;u.setAttribute("position",new st(l,3)),u.setAttribute("color",new st(c,3));const d=new ki({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class g2e extends jo{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Ke(s),o=new Ke(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const h=d/t*(Math.PI*2),m=Math.sin(h)*e,g=Math.cos(h)*e;a.push(0,0,0),a.push(m,0,g);const v=d&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let d=0;d<r;d++){const h=d&1?s:o,m=e-e/r*d;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),_=Math.sin(v)*m,x=Math.cos(v)*m;a.push(_,0,x),l.push(h.r,h.g,h.b),v=(g+1)/i*(Math.PI*2),_=Math.sin(v)*m,x=Math.cos(v)*m,a.push(_,0,x),l.push(h.r,h.g,h.b)}}const c=new At;c.setAttribute("position",new st(a,3)),c.setAttribute("color",new st(l,3));const u=new ki({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const kU=new V,wx=new V,OU=new V;class v2e extends Qt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new At;i.setAttribute("position",new st([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new ki({fog:!1,toneMapped:!1});this.lightPlane=new Cl(i,s),this.add(this.lightPlane),i=new At,i.setAttribute("position",new st([0,0,0,0,0,1],3)),this.targetLine=new Cl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),kU.setFromMatrixPosition(this.light.matrixWorld),wx.setFromMatrixPosition(this.light.target.matrixWorld),OU.subVectors(wx,kU),this.lightPlane.lookAt(wx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(wx),this.targetLine.scale.z=OU.length()}}const Sx=new V,or=new qy;class y2e extends jo{constructor(e){const t=new At,r=new ki({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,v){l(g),l(v)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}t.setAttribute("position",new st(i,3)),t.setAttribute("color",new st(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ke(16755200),u=new Ke(16711680),d=new Ke(43775),h=new Ke(16777215),m=new Ke(3355443);this.setColors(c,u,d,h,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;or.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),gr("c",t,e,or,0,0,-1),gr("t",t,e,or,0,0,1),gr("n1",t,e,or,-r,-i,-1),gr("n2",t,e,or,r,-i,-1),gr("n3",t,e,or,-r,i,-1),gr("n4",t,e,or,r,i,-1),gr("f1",t,e,or,-r,-i,1),gr("f2",t,e,or,r,-i,1),gr("f3",t,e,or,-r,i,1),gr("f4",t,e,or,r,i,1),gr("u1",t,e,or,r*.7,i*1.1,-1),gr("u2",t,e,or,-r*.7,i*1.1,-1),gr("u3",t,e,or,0,i*2,-1),gr("cf1",t,e,or,-r,0,1),gr("cf2",t,e,or,r,0,1),gr("cf3",t,e,or,0,-i,1),gr("cf4",t,e,or,0,i,1),gr("cn1",t,e,or,-r,0,-1),gr("cn2",t,e,or,r,0,-1),gr("cn3",t,e,or,0,-i,-1),gr("cn4",t,e,or,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function gr(n,e,t,r,i,s,o){Sx.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],Sx.x,Sx.y,Sx.z)}}const Ex=new su;class _2e extends jo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new At;s.setIndex(new un(r,1)),s.setAttribute("position",new un(i,3)),super(s,new ki({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Ex.setFromObject(this.object),Ex.isEmpty())return;const t=Ex.min,r=Ex.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class x2e extends jo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new At;s.setIndex(new un(r,1)),s.setAttribute("position",new st(i,3)),super(s,new ki({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class b2e extends Cl{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new At;o.setAttribute("position",new st(s,3)),o.computeBoundingSphere(),super(o,new ki({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new At;l.setAttribute("position",new st(a,3)),l.computeBoundingSphere(),this.add(new Or(l,new Cs({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const LU=new V;let Cx,SM;class w2e extends Qt{constructor(e=new V(0,0,1),t=new V(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Cx===void 0&&(Cx=new At,Cx.setAttribute("position",new st([0,0,0,0,1,0],3)),SM=new Gd(0,.5,1,5,1),SM.translate(0,-.5,0)),this.position.copy(t),this.line=new Cl(Cx,new ki({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Or(SM,new Cs({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{LU.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(LU,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class S2e extends jo{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new At;i.setAttribute("position",new st(t,3)),i.setAttribute("color",new st(r,3));const s=new ki({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new Ke,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class E2e{constructor(){this.type="ShapePath",this.color=new Ke,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new ny,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const b=[];for(let w=0,E=x.length;w<E;w++){const A=x[w],T=new fd;T.curves=A.curves,b.push(T)}return b}function r(x,b){const w=b.length;let E=!1;for(let A=w-1,T=0;T<w;A=T++){let I=b[A],M=b[T],R=M.x-I.x,O=M.y-I.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(I=b[T],R=-R,M=b[A],O=-O),x.y<I.y||x.y>M.y)continue;if(x.y===I.y){if(x.x===I.x)return!0}else{const L=O*(x.x-I.x)-R*(x.y-I.y);if(L===0)return!0;if(L<0)continue;E=!E}}else{if(x.y!==I.y)continue;if(M.x<=x.x&&x.x<=I.x||I.x<=x.x&&x.x<=M.x)return!0}}return E}const i=Ea.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new fd,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const d=[],h=[];let m=[],g=0,v;h[g]=void 0,m[g]=[];for(let x=0,b=s.length;x<b;x++)a=s[x],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!u&&h[g]&&g++,h[g]={s:new fd,p:v},h[g].s.curves=a.curves,u&&g++,m[g]=[]):m[g].push({h:a,p:v[0]});if(!h[0])return t(s);if(h.length>1){let x=!1,b=0;for(let w=0,E=h.length;w<E;w++)d[w]=[];for(let w=0,E=h.length;w<E;w++){const A=m[w];for(let T=0;T<A.length;T++){const I=A[T];let M=!0;for(let R=0;R<h.length;R++)r(I.p,h[R].p)&&(w!==R&&b++,M?(M=!1,d[R].push(I)):x=!0);M&&d[w].push(I)}}b>0&&x===!1&&(m=d)}let _;for(let x=0,b=h.length;x<b;x++){l=h[x].s,c.push(l),_=m[x];for(let w=0,E=_.length;w<E;w++)l.holes.push(_[w].h)}return c}}const el=C2e();function C2e(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function A2e(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=yr(n,-65504,65504),el.floatView[0]=n;const e=el.uint32View[0],t=e>>23&511;return el.baseTable[t]+((e&8388607)>>el.shiftTable[t])}function M2e(n){const e=n>>10;return el.uint32View[0]=el.mantissaTable[el.offsetTable[e]+(n&1023)]+el.exponentTable[e],el.floatView[0]}const xg={toHalfFloat:A2e,fromHalfFloat:M2e};class T2e extends au{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class P2e extends t0{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class R2e extends n0{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class I2e extends r0{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class N2e extends Gd{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class k2e extends i0{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class O2e extends s0{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class L2e extends Vp{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class D2e extends Gp{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class B2e extends Wp{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class F2e extends Up{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class z2e extends Nl{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class U2e extends o0{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class H2e extends a0{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class G2e extends jp{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class V2e extends l0{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class W2e extends c0{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class j2e extends u0{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class $2e extends d0{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:kS}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=kS);const Vw=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:oO,AddEquation:Vu,AddOperation:D$,AdditiveAnimationBlendMode:lO,AdditiveBlending:DR,AlphaFormat:$$,AlwaysDepth:P$,AlwaysStencilFunc:c7,AmbientLight:iK,AmbientLightProbe:FIe,AnimationClip:yp,AnimationLoader:PIe,AnimationMixer:hK,AnimationObjectGroup:e2e,AnimationUtils:CIe,ArcCurve:I7,ArrayCamera:E7,ArrowHelper:w2e,Audio:uK,AudioAnalyser:WIe,AudioContext:UO,AudioListener:HIe,AudioLoader:DIe,AxesHelper:S2e,BackSide:us,BasicDepthPacking:o7,BasicShadowMap:m$,Bone:jS,BooleanKeyframeTrack:Vd,Box2:l2e,Box3:su,Box3Helper:x2e,BoxBufferGeometry:T2e,BoxGeometry:au,BoxHelper:_2e,BufferAttribute:un,BufferGeometry:At,BufferGeometryLoader:lK,ByteType:H$,Cache:kd,Camera:qy,CameraHelper:y2e,CanvasTexture:JRe,CapsuleBufferGeometry:P2e,CapsuleGeometry:t0,CatmullRomCurve3:N7,CineonToneMapping:z$,CircleBufferGeometry:R2e,CircleGeometry:n0,ClampToEdgeWrapping:si,Clock:HO,Color:Ke,ColorKeyframeTrack:OO,ColorManagement:wi,CompressedArrayTexture:XRe,CompressedTexture:EO,CompressedTextureLoader:RIe,ConeBufferGeometry:I2e,ConeGeometry:r0,CubeCamera:v7,CubeReflectionMapping:Sl,CubeRefractionMapping:Yc,CubeTexture:Qy,CubeTextureLoader:eK,CubeUVReflectionMapping:zp,CubicBezierCurve:AO,CubicBezierCurve3:k7,CubicInterpolant:Y7,CullFaceBack:LR,CullFaceFront:p$,CullFaceFrontBack:KEe,CullFaceNone:f$,Curve:$o,CurvePath:L7,CustomBlending:g$,CustomToneMapping:U$,CylinderBufferGeometry:N2e,CylinderGeometry:Gd,Cylindrical:a2e,Data3DTexture:fO,DataArrayTexture:FS,DataTexture:If,DataTextureLoader:tK,DataUtils:xg,DecrementStencilOp:iCe,DecrementWrapStencilOp:oCe,DefaultLoadingManager:Z7,DepthFormat:Lc,DepthStencilFormat:Rd,DepthTexture:C7,DirectionalLight:zO,DirectionalLightHelper:v2e,DiscreteInterpolant:q7,DisplayP3ColorSpace:uO,DodecahedronBufferGeometry:k2e,DodecahedronGeometry:i0,DoubleSide:No,DstAlphaFactor:S$,DstColorFactor:C$,DynamicCopyUsage:bCe,DynamicDrawUsage:mCe,DynamicReadUsage:yCe,EdgesGeometry:D7,EllipseCurve:KS,EqualDepth:I$,EqualStencilFunc:uCe,EquirectangularReflectionMapping:up,EquirectangularRefractionMapping:Yv,Euler:Yy,EventDispatcher:ka,ExtrudeBufferGeometry:O2e,ExtrudeGeometry:s0,FileLoader:ks,Float16BufferAttribute:aAe,Float32BufferAttribute:st,Float64BufferAttribute:lAe,FloatType:io,Fog:VS,FogExp2:GS,FramebufferTexture:KRe,FrontSide:Ra,Frustum:zS,GLBufferAttribute:o2e,GLSL1:SCe,GLSL3:uI,GreaterDepth:k$,GreaterEqualDepth:N$,GreaterEqualStencilFunc:pCe,GreaterStencilFunc:hCe,GridHelper:m2e,Group:al,HalfFloatType:ko,HemisphereLight:rK,HemisphereLightHelper:p2e,HemisphereLightProbe:BIe,IcosahedronBufferGeometry:L2e,IcosahedronGeometry:Vp,ImageBitmapLoader:cK,ImageLoader:oy,ImageUtils:hO,IncrementStencilOp:rCe,IncrementWrapStencilOp:sCe,InstancedBufferAttribute:mp,InstancedBufferGeometry:aK,InstancedInterleavedBuffer:s2e,InstancedMesh:R7,Int16BufferAttribute:sAe,Int32BufferAttribute:oAe,Int8BufferAttribute:nAe,IntType:V$,InterleavedBuffer:Zy,InterleavedBufferAttribute:Qc,Interpolant:Kp,InterpolateDiscrete:hp,InterpolateLinear:Id,InterpolateSmooth:cb,InvertStencilOp:aCe,KeepStencilOp:ub,KeyframeTrack:Ko,LOD:P7,LatheBufferGeometry:D2e,LatheGeometry:Gp,Layers:hd,LessDepth:R$,LessEqualDepth:Hw,LessEqualStencilFunc:dCe,LessStencilFunc:cCe,Light:lu,LightProbe:YS,Line:Cl,Line3:c2e,LineBasicMaterial:ki,LineCurve:XS,LineCurve3:O7,LineDashedMaterial:X7,LineLoop:wO,LineSegments:jo,LinearEncoding:Uo,LinearFilter:Dn,LinearInterpolant:kO,LinearMipMapLinearFilter:QEe,LinearMipMapNearestFilter:qEe,LinearMipmapLinearFilter:Ia,LinearMipmapNearestFilter:DS,LinearSRGBColorSpace:fp,LinearToneMapping:B$,Loader:Xi,LoaderUtils:Ca,LoadingManager:LO,LoopOnce:n7,LoopPingPong:i7,LoopRepeat:r7,LuminanceAlphaFormat:X$,LuminanceFormat:K$,MOUSE:Bu,Material:Mr,MaterialLoader:qS,MathUtils:h7,Matrix3:oi,Matrix4:vt,MaxEquation:UR,Mesh:Or,MeshBasicMaterial:Cs,MeshDepthMaterial:yO,MeshDistanceMaterial:_O,MeshLambertMaterial:$7,MeshMatcapMaterial:K7,MeshNormalMaterial:j7,MeshPhongMaterial:V7,MeshPhysicalMaterial:kl,MeshStandardMaterial:$p,MeshToonMaterial:W7,MinEquation:zR,MirroredRepeatWrapping:dp,MixOperation:L$,MultiplyBlending:FR,MultiplyOperation:Xy,NearestFilter:dr,NearestMipMapLinearFilter:YEe,NearestMipMapNearestFilter:JEe,NearestMipmapLinearFilter:Pf,NearestMipmapNearestFilter:qv,NeverDepth:T$,NeverStencilFunc:lCe,NoBlending:pl,NoColorSpace:eCe,NoToneMapping:Bo,NormalAnimationBlendMode:BS,NormalBlending:cd,NotEqualDepth:O$,NotEqualStencilFunc:fCe,NumberKeyframeTrack:gp,Object3D:Qt,ObjectLoader:OIe,ObjectSpaceNormalMap:l7,OctahedronBufferGeometry:B2e,OctahedronGeometry:Wp,OneFactor:x$,OneMinusDstAlphaFactor:E$,OneMinusDstColorFactor:A$,OneMinusSrcAlphaFactor:sO,OneMinusSrcColorFactor:w$,OrthographicCamera:ml,PCFShadowMap:OS,PCFSoftShadowMap:Jg,PMREMGenerator:hI,Path:ny,PerspectiveCamera:Bn,Plane:oc,PlaneBufferGeometry:F2e,PlaneGeometry:Up,PlaneHelper:b2e,PointLight:FO,PointLightHelper:h2e,Points:SO,PointsMaterial:$S,PolarGridHelper:g2e,PolyhedronBufferGeometry:z2e,PolyhedronGeometry:Nl,PositionalAudio:VIe,PropertyBinding:qt,PropertyMixer:dK,QuadraticBezierCurve:MO,QuadraticBezierCurve3:TO,Quaternion:li,QuaternionKeyframeTrack:Zc,QuaternionLinearInterpolant:Q7,RED_GREEN_RGTC2_Format:lI,RED_RGTC1_Format:t7,REVISION:kS,RGBADepthPacking:a7,RGBAFormat:ts,RGBAIntegerFormat:Z$,RGBA_ASTC_10x10_Format:iI,RGBA_ASTC_10x5_Format:tI,RGBA_ASTC_10x6_Format:nI,RGBA_ASTC_10x8_Format:rI,RGBA_ASTC_12x10_Format:sI,RGBA_ASTC_12x12_Format:oI,RGBA_ASTC_4x4_Format:KR,RGBA_ASTC_5x4_Format:XR,RGBA_ASTC_5x5_Format:JR,RGBA_ASTC_6x5_Format:YR,RGBA_ASTC_6x6_Format:qR,RGBA_ASTC_8x5_Format:QR,RGBA_ASTC_8x6_Format:ZR,RGBA_ASTC_8x8_Format:eI,RGBA_BPTC_Format:lb,RGBA_ETC2_EAC_Format:$R,RGBA_PVRTC_2BPPV1_Format:WR,RGBA_PVRTC_4BPPV1_Format:VR,RGBA_S3TC_DXT1_Format:sb,RGBA_S3TC_DXT3_Format:ob,RGBA_S3TC_DXT5_Format:ab,RGB_ETC1_Format:e7,RGB_ETC2_Format:jR,RGB_PVRTC_2BPPV1_Format:GR,RGB_PVRTC_4BPPV1_Format:HR,RGB_S3TC_DXT1_Format:ib,RGFormat:q$,RGIntegerFormat:Q$,RawShaderMaterial:G7,Ray:Jy,Raycaster:jO,RectAreaLight:sK,RedFormat:J$,RedIntegerFormat:Y$,ReinhardToneMapping:F$,RepeatWrapping:qc,ReplaceStencilOp:nCe,ReverseSubtractEquation:y$,RingBufferGeometry:U2e,RingGeometry:o0,SIGNED_RED_GREEN_RGTC2_Format:cI,SIGNED_RED_RGTC1_Format:aI,SRGBColorSpace:To,Scene:WS,ShaderChunk:Tt,ShaderLib:Ro,ShaderMaterial:Go,ShadowMaterial:H7,Shape:fd,ShapeBufferGeometry:H2e,ShapeGeometry:a0,ShapePath:E2e,ShapeUtils:Ea,ShortType:G$,Skeleton:e0,SkeletonHelper:d2e,SkinnedMesh:bO,Source:ed,Sphere:ou,SphereBufferGeometry:G2e,SphereGeometry:jp,Spherical:_I,SphericalHarmonics3:oK,SplineCurve:PO,SpotLight:BO,SpotLightHelper:u2e,Sprite:T7,SpriteMaterial:xO,SrcAlphaFactor:iO,SrcAlphaSaturateFactor:M$,SrcColorFactor:b$,StaticCopyUsage:xCe,StaticDrawUsage:Zv,StaticReadUsage:vCe,StereoCamera:zIe,StreamCopyUsage:wCe,StreamDrawUsage:gCe,StreamReadUsage:_Ce,StringKeyframeTrack:Wd,SubtractEquation:v$,SubtractiveBlending:BR,TOUCH:Fu,TangentSpaceNormalMap:Il,TetrahedronBufferGeometry:V2e,TetrahedronGeometry:l0,Texture:Kn,TextureLoader:nK,TorusBufferGeometry:W2e,TorusGeometry:c0,TorusKnotBufferGeometry:j2e,TorusKnotGeometry:u0,Triangle:eo,TriangleFanDrawMode:cO,TriangleStripDrawMode:s7,TrianglesDrawMode:ZEe,TubeBufferGeometry:$2e,TubeGeometry:d0,TwoPassDoubleSide:XEe,UVMapping:LS,Uint16BufferAttribute:pO,Uint32BufferAttribute:mO,Uint8BufferAttribute:rAe,Uint8ClampedBufferAttribute:iAe,Uniform:WO,UniformsGroup:i2e,UniformsLib:Xe,UniformsUtils:g7,UnsignedByteType:El,UnsignedInt248Type:ud,UnsignedIntType:mc,UnsignedShort4444Type:W$,UnsignedShort5551Type:j$,UnsignedShortType:aO,VSMShadowMap:qu,Vector2:Re,Vector3:V,Vector4:gn,VectorKeyframeTrack:vp,VideoTexture:$Re,WebGL1Renderer:A7,WebGL3DRenderTarget:$Ce,WebGLArrayRenderTarget:jCe,WebGLCubeRenderTarget:gO,WebGLMultipleRenderTargets:KCe,WebGLRenderTarget:Ho,WebGLRenderer:HS,WebGLUtils:S7,WireframeGeometry:U7,WrapAroundEnding:Qv,ZeroCurvatureEnding:Qu,ZeroFactor:_$,ZeroSlopeEnding:Zu,ZeroStencilOp:tCe,_SRGBAFormat:Gw,sRGBEncoding:Ut},Symbol.toStringTag,{value:"Module"}));var vc={},K2e={get exports(){return vc},set exports(n){vc=n}},jd={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */jd.ConcurrentRoot=1;jd.ContinuousEventPriority=4;jd.DefaultEventPriority=16;jd.DiscreteEventPriority=1;jd.IdleEventPriority=536870912;jd.LegacyRoot=0;(function(n){n.exports=jd})(K2e);function X2e(n){let e;const t=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const h=e;e=u?d:Object.assign({},e,d),t.forEach(m=>m(e,h))}},i=()=>e,s=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=u(e);function m(){const g=u(e);if(!d(h,g)){const v=h;c(h=g,v)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,d)=>u||d?s(c,u,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const J2e=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),DU=J2e?N.useEffect:N.useLayoutEffect;function pK(n){const e=typeof n=="function"?X2e(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=N.useReducer(_=>_+1,0),o=e.getState(),a=N.useRef(o),l=N.useRef(r),c=N.useRef(i),u=N.useRef(!1),d=N.useRef();d.current===void 0&&(d.current=r(o));let h,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(h=r(o),m=!i(d.current,h)),DU(()=>{m&&(d.current=h),a.current=o,l.current=r,c.current=i,u.current=!1});const g=N.useRef(o);DU(()=>{const _=()=>{try{const b=e.getState(),w=l.current(b);c.current(d.current,w)||(a.current=b,d.current=w,s())}catch{u.current=!0,s()}},x=e.subscribe(_);return e.getState()!==g.current&&_(),x},[]);const v=m?h:d.current;return N.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var xI={},Y2e={get exports(){return xI},set exports(n){xI=n}},ay={},q2e={get exports(){return ay},set exports(n){ay=n}},mK={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,z){var Z=D.length;D.push(z);e:for(;0<Z;){var he=Z-1>>>1,G=D[he];if(0<i(G,z))D[he]=z,D[Z]=G,Z=he;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var z=D[0],Z=D.pop();if(Z!==z){D[0]=Z;e:for(var he=0,G=D.length,te=G>>>1;he<te;){var re=2*(he+1)-1,q=D[re],$=re+1,me=D[$];if(0>i(q,Z))$<G&&0>i(me,q)?(D[he]=me,D[$]=Z,he=$):(D[he]=q,D[re]=Z,he=re);else if($<G&&0>i(me,Z))D[he]=me,D[$]=Z,he=$;else break e}}return z}function i(D,z){var Z=D.sortIndex-z.sortIndex;return Z!==0?Z:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,m=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var z=t(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=D)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(c)}}function E(D){if(v=!1,w(D),!g)if(t(l)!==null)g=!0,ee(A);else{var z=t(c);z!==null&&Q(E,z.startTime-D)}}function A(D,z){g=!1,v&&(v=!1,x(M),M=-1),m=!0;var Z=h;try{for(w(z),d=t(l);d!==null&&(!(d.expirationTime>z)||D&&!L());){var he=d.callback;if(typeof he=="function"){d.callback=null,h=d.priorityLevel;var G=he(d.expirationTime<=z);z=n.unstable_now(),typeof G=="function"?d.callback=G:d===t(l)&&r(l),w(z)}else r(l);d=t(l)}if(d!==null)var te=!0;else{var re=t(c);re!==null&&Q(E,re.startTime-z),te=!1}return te}finally{d=null,h=Z,m=!1}}var T=!1,I=null,M=-1,R=5,O=-1;function L(){return!(n.unstable_now()-O<R)}function X(){if(I!==null){var D=n.unstable_now();O=D;var z=!0;try{z=I(!0,D)}finally{z?W():(T=!1,I=null)}}else T=!1}var W;if(typeof b=="function")W=function(){b(X)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,U=K.port2;K.port1.onmessage=X,W=function(){U.postMessage(null)}}else W=function(){_(X,0)};function ee(D){I=D,T||(T=!0,W())}function Q(D,z){M=_(function(){D(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,ee(A))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Z=h;h=z;try{return D()}finally{h=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Z=h;h=D;try{return z()}finally{h=Z}},n.unstable_scheduleCallback=function(D,z,Z){var he=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?he+Z:he):Z=he,D){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Z+G,D={id:u++,callback:z,priorityLevel:D,startTime:Z,expirationTime:G,sortIndex:-1},Z>he?(D.sortIndex=Z,e(c,D),t(l)===null&&D===t(c)&&(v?(x(M),M=-1):v=!0,Q(E,Z-he))):(D.sortIndex=G,e(l,D),g||m||(g=!0,ee(A))),D},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(D){var z=h;return function(){var Z=h;h=z;try{return D.apply(this,arguments)}finally{h=Z}}}})(mK);(function(n){n.exports=mK})(q2e);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2e=function(e){var t={},r=N,i=ay,s=Object.assign;function o(f){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+f,S=1;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),A=Symbol.iterator;function T(f){return f===null||typeof f!="object"?null:(f=A&&f[A]||f["@@iterator"],typeof f=="function"?f:null)}function I(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case u:return"Fragment";case c:return"Portal";case h:return"Profiler";case d:return"StrictMode";case _:return"Suspense";case x:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case g:return(f.displayName||"Context")+".Consumer";case m:return(f._context.displayName||"Context")+".Provider";case v:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case b:return p=f.displayName||null,p!==null?p:I(f.type)||"Memo";case w:p=f._payload,f=f._init;try{return I(f(p))}catch{}}return null}function M(f){var p=f.type;switch(f.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=p.render,f=f.displayName||f.name||"",p.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(p);case 8:return p===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function R(f){var p=f,S=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,p.flags&4098&&(S=p.return),f=p.return;while(f)}return p.tag===3?S:null}function O(f){if(R(f)!==f)throw Error(o(188))}function L(f){var p=f.alternate;if(!p){if(p=R(f),p===null)throw Error(o(188));return p!==f?null:f}for(var S=f,C=p;;){var P=S.return;if(P===null)break;var k=P.alternate;if(k===null){if(C=P.return,C!==null){S=C;continue}break}if(P.child===k.child){for(k=P.child;k;){if(k===S)return O(P),f;if(k===C)return O(P),p;k=k.sibling}throw Error(o(188))}if(S.return!==C.return)S=P,C=k;else{for(var J=!1,se=P.child;se;){if(se===S){J=!0,S=P,C=k;break}if(se===C){J=!0,C=P,S=k;break}se=se.sibling}if(!J){for(se=k.child;se;){if(se===S){J=!0,S=k,C=P;break}if(se===C){J=!0,C=k,S=P;break}se=se.sibling}if(!J)throw Error(o(189))}}if(S.alternate!==C)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?f:p}function X(f){return f=L(f),f!==null?W(f):null}function W(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var p=W(f);if(p!==null)return p;f=f.sibling}return null}function K(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var p=K(f);if(p!==null)return p}f=f.sibling}return null}var U=Array.isArray,ee=e.getPublicInstance,Q=e.getRootHostContext,D=e.getChildHostContext,z=e.prepareForCommit,Z=e.resetAfterCommit,he=e.createInstance,G=e.appendInitialChild,te=e.finalizeInitialChildren,re=e.prepareUpdate,q=e.shouldSetTextContent,$=e.createTextInstance,me=e.scheduleTimeout,ae=e.cancelTimeout,xe=e.noTimeout,Ae=e.isPrimaryRenderer,Me=e.supportsMutation,ce=e.supportsPersistence,ve=e.supportsHydration,Ie=e.getInstanceFromNode,Le=e.preparePortalMount,De=e.getCurrentEventPriority,ze=e.detachDeletedInstance,We=e.supportsMicrotasks,et=e.scheduleMicrotask,qe=e.supportsTestSelectors,it=e.findFiberRoot,j=e.getBoundingRect,B=e.getTextContent,ne=e.isHiddenSubtree,Se=e.matchAccessibilityRole,Be=e.setFocusIfFocusable,He=e.setupIntersectionObserver,we=e.appendChild,ue=e.appendChildToContainer,fe=e.commitTextUpdate,Fe=e.commitMount,Y=e.commitUpdate,ye=e.insertBefore,ke=e.insertInContainerBefore,Ue=e.removeChild,ot=e.removeChildFromContainer,wt=e.resetTextContent,dn=e.hideInstance,ie=e.hideTextInstance,oe=e.unhideInstance,Oe=e.unhideTextInstance,Ze=e.clearContainer,nt=e.cloneInstance,an=e.createContainerChildSet,zn=e.appendChildToContainerChildSet,_r=e.finalizeContainerChildren,Oi=e.replaceContainerChildren,An=e.cloneHiddenInstance,ei=e.cloneHiddenTextInstance,di=e.canHydrateInstance,Jp=e.canHydrateTextInstance,Oa=e.canHydrateSuspenseInstance,Ol=e.isSuspenseInstancePending,H=e.isSuspenseInstanceFallback,pe=e.registerSuspenseInstanceRetry,Ee=e.getNextHydratableSibling,de=e.getFirstHydratableChild,Te=e.getFirstHydratableChildWithinContainer,ct=e.getFirstHydratableChildWithinSuspenseInstance,mt=e.hydrateInstance,yt=e.hydrateTextInstance,St=e.hydrateSuspenseInstance,zt=e.getNextHydratableInstanceAfterSuspenseInstance,Pt=e.commitHydratedContainer,Ot=e.commitHydratedSuspenseInstance,Un=e.clearSuspenseBoundary,ut=e.clearSuspenseBoundaryFromContainer,kn=e.shouldDeleteUnhydratedTailInstances,La=e.didNotMatchHydratedContainerTextInstance,nr=e.didNotMatchHydratedTextInstance,Lt;function Da(f){if(Lt===void 0)try{throw Error()}catch(S){var p=S.stack.trim().match(/\n( *(at )?)/);Lt=p&&p[1]||""}return`
`+Lt+f}var rr=!1;function mo(f,p){if(!f||rr)return"";rr=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(je){var C=je}Reflect.construct(f,[],p)}else{try{p.call()}catch(je){C=je}f.call(p.prototype)}else{try{throw Error()}catch(je){C=je}f()}}catch(je){if(je&&C&&typeof je.stack=="string"){for(var P=je.stack.split(`
`),k=C.stack.split(`
`),J=P.length-1,se=k.length-1;1<=J&&0<=se&&P[J]!==k[se];)se--;for(;1<=J&&0<=se;J--,se--)if(P[J]!==k[se]){if(J!==1||se!==1)do if(J--,se--,0>se||P[J]!==k[se]){var Ce=`
`+P[J].replace(" at new "," at ");return f.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",f.displayName)),Ce}while(1<=J&&0<=se);break}}}finally{rr=!1,Error.prepareStackTrace=S}return(f=f?f.displayName||f.name:"")?Da(f):""}var f0=Object.prototype.hasOwnProperty,Ba=[],Xo=-1;function Hn(f){return{current:f}}function Zt(f){0>Xo||(f.current=Ba[Xo],Ba[Xo]=null,Xo--)}function hn(f,p){Xo++,Ba[Xo]=f.current,f.current=p}var ir={},xr=Hn(ir),hi=Hn(!1),Jo=ir;function $d(f,p){var S=f.type.contextTypes;if(!S)return ir;var C=f.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===p)return C.__reactInternalMemoizedMaskedChildContext;var P={},k;for(k in S)P[k]=p[k];return C&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=p,f.__reactInternalMemoizedMaskedChildContext=P),P}function Ji(f){return f=f.childContextTypes,f!=null}function p0(){Zt(hi),Zt(xr)}function ZO(f,p,S){if(xr.current!==ir)throw Error(o(168));hn(xr,p),hn(hi,S)}function eL(f,p,S){var C=f.stateNode;if(p=p.childContextTypes,typeof C.getChildContext!="function")return S;C=C.getChildContext();for(var P in C)if(!(P in p))throw Error(o(108,M(f)||"Unknown",P));return s({},S,C)}function m0(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||ir,Jo=xr.current,hn(xr,f),hn(hi,hi.current),!0}function tL(f,p,S){var C=f.stateNode;if(!C)throw Error(o(169));S?(f=eL(f,p,Jo),C.__reactInternalMemoizedMergedChildContext=f,Zt(hi),Zt(xr),hn(xr,f)):Zt(hi),hn(hi,S)}var go=Math.clz32?Math.clz32:XK,$K=Math.log,KK=Math.LN2;function XK(f){return f>>>=0,f===0?32:31-($K(f)/KK|0)|0}var g0=64,v0=4194304;function Yp(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function y0(f,p){var S=f.pendingLanes;if(S===0)return 0;var C=0,P=f.suspendedLanes,k=f.pingedLanes,J=S&268435455;if(J!==0){var se=J&~P;se!==0?C=Yp(se):(k&=J,k!==0&&(C=Yp(k)))}else J=S&~P,J!==0?C=Yp(J):k!==0&&(C=Yp(k));if(C===0)return 0;if(p!==0&&p!==C&&!(p&P)&&(P=C&-C,k=p&-p,P>=k||P===16&&(k&4194240)!==0))return p;if(C&4&&(C|=S&16),p=f.entangledLanes,p!==0)for(f=f.entanglements,p&=C;0<p;)S=31-go(p),P=1<<S,C|=f[S],p&=~P;return C}function JK(f,p){switch(f){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YK(f,p){for(var S=f.suspendedLanes,C=f.pingedLanes,P=f.expirationTimes,k=f.pendingLanes;0<k;){var J=31-go(k),se=1<<J,Ce=P[J];Ce===-1?(!(se&S)||se&C)&&(P[J]=JK(se,p)):Ce<=p&&(f.expiredLanes|=se),k&=~se}}function QS(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function ZS(f){for(var p=[],S=0;31>S;S++)p.push(f);return p}function qp(f,p,S){f.pendingLanes|=p,p!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,p=31-go(p),f[p]=S}function qK(f,p){var S=f.pendingLanes&~p;f.pendingLanes=p,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=p,f.mutableReadLanes&=p,f.entangledLanes&=p,p=f.entanglements;var C=f.eventTimes;for(f=f.expirationTimes;0<S;){var P=31-go(S),k=1<<P;p[P]=0,C[P]=-1,f[P]=-1,S&=~k}}function eE(f,p){var S=f.entangledLanes|=p;for(f=f.entanglements;S;){var C=31-go(S),P=1<<C;P&p|f[C]&p&&(f[C]|=p),S&=~P}}var tn=0;function nL(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var tE=i.unstable_scheduleCallback,rL=i.unstable_cancelCallback,QK=i.unstable_shouldYield,ZK=i.unstable_requestPaint,Fr=i.unstable_now,nE=i.unstable_ImmediatePriority,eX=i.unstable_UserBlockingPriority,rE=i.unstable_NormalPriority,tX=i.unstable_IdlePriority,_0=null,Yo=null;function nX(f){if(Yo&&typeof Yo.onCommitFiberRoot=="function")try{Yo.onCommitFiberRoot(_0,f,void 0,(f.current.flags&128)===128)}catch{}}function rX(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var qo=typeof Object.is=="function"?Object.is:rX,Fa=null,x0=!1,iE=!1;function iL(f){Fa===null?Fa=[f]:Fa.push(f)}function iX(f){x0=!0,iL(f)}function Qo(){if(!iE&&Fa!==null){iE=!0;var f=0,p=tn;try{var S=Fa;for(tn=1;f<S.length;f++){var C=S[f];do C=C(!0);while(C!==null)}Fa=null,x0=!1}catch(P){throw Fa!==null&&(Fa=Fa.slice(f+1)),tE(nE,Qo),P}finally{tn=p,iE=!1}}return null}var sX=a.ReactCurrentBatchConfig;function b0(f,p){if(qo(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var S=Object.keys(f),C=Object.keys(p);if(S.length!==C.length)return!1;for(C=0;C<S.length;C++){var P=S[C];if(!f0.call(p,P)||!qo(f[P],p[P]))return!1}return!0}function oX(f){switch(f.tag){case 5:return Da(f.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 2:case 15:return f=mo(f.type,!1),f;case 11:return f=mo(f.type.render,!1),f;case 1:return f=mo(f.type,!0),f;default:return""}}function vo(f,p){if(f&&f.defaultProps){p=s({},p),f=f.defaultProps;for(var S in f)p[S]===void 0&&(p[S]=f[S]);return p}return p}var w0=Hn(null),S0=null,Kd=null,sE=null;function oE(){sE=Kd=S0=null}function sL(f,p,S){Ae?(hn(w0,p._currentValue),p._currentValue=S):(hn(w0,p._currentValue2),p._currentValue2=S)}function aE(f){var p=w0.current;Zt(w0),Ae?f._currentValue=p:f._currentValue2=p}function lE(f,p,S){for(;f!==null;){var C=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,C!==null&&(C.childLanes|=p)):C!==null&&(C.childLanes&p)!==p&&(C.childLanes|=p),f===S)break;f=f.return}}function Xd(f,p){S0=f,sE=Kd=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&p&&(vs=!0),f.firstContext=null)}function Fs(f){var p=Ae?f._currentValue:f._currentValue2;if(sE!==f)if(f={context:f,memoizedValue:p,next:null},Kd===null){if(S0===null)throw Error(o(308));Kd=f,S0.dependencies={lanes:0,firstContext:f}}else Kd=Kd.next=f;return p}var Zo=null,Ll=!1;function cE(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oL(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function za(f,p){return{eventTime:f,lane:p,tag:0,payload:null,callback:null,next:null}}function Dl(f,p){var S=f.updateQueue;S!==null&&(S=S.shared,br!==null&&f.mode&1&&!(Rt&2)?(f=S.interleaved,f===null?(p.next=p,Zo===null?Zo=[S]:Zo.push(S)):(p.next=f.next,f.next=p),S.interleaved=p):(f=S.pending,f===null?p.next=p:(p.next=f.next,f.next=p),S.pending=p))}function E0(f,p,S){if(p=p.updateQueue,p!==null&&(p=p.shared,(S&4194240)!==0)){var C=p.lanes;C&=f.pendingLanes,S|=C,p.lanes=S,eE(f,S)}}function aL(f,p){var S=f.updateQueue,C=f.alternate;if(C!==null&&(C=C.updateQueue,S===C)){var P=null,k=null;if(S=S.firstBaseUpdate,S!==null){do{var J={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};k===null?P=k=J:k=k.next=J,S=S.next}while(S!==null);k===null?P=k=p:k=k.next=p}else P=k=p;S={baseState:C.baseState,firstBaseUpdate:P,lastBaseUpdate:k,shared:C.shared,effects:C.effects},f.updateQueue=S;return}f=S.lastBaseUpdate,f===null?S.firstBaseUpdate=p:f.next=p,S.lastBaseUpdate=p}function C0(f,p,S,C){var P=f.updateQueue;Ll=!1;var k=P.firstBaseUpdate,J=P.lastBaseUpdate,se=P.shared.pending;if(se!==null){P.shared.pending=null;var Ce=se,je=Ce.next;Ce.next=null,J===null?k=je:J.next=je,J=Ce;var rt=f.alternate;rt!==null&&(rt=rt.updateQueue,se=rt.lastBaseUpdate,se!==J&&(se===null?rt.firstBaseUpdate=je:se.next=je,rt.lastBaseUpdate=Ce))}if(k!==null){var _t=P.baseState;J=0,rt=je=Ce=null,se=k;do{var dt=se.lane,bn=se.eventTime;if((C&dt)===dt){rt!==null&&(rt=rt.next={eventTime:bn,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var lt=f,gi=se;switch(dt=p,bn=S,gi.tag){case 1:if(lt=gi.payload,typeof lt=="function"){_t=lt.call(bn,_t,dt);break e}_t=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=gi.payload,dt=typeof lt=="function"?lt.call(bn,_t,dt):lt,dt==null)break e;_t=s({},_t,dt);break e;case 2:Ll=!0}}se.callback!==null&&se.lane!==0&&(f.flags|=64,dt=P.effects,dt===null?P.effects=[se]:dt.push(se))}else bn={eventTime:bn,lane:dt,tag:se.tag,payload:se.payload,callback:se.callback,next:null},rt===null?(je=rt=bn,Ce=_t):rt=rt.next=bn,J|=dt;if(se=se.next,se===null){if(se=P.shared.pending,se===null)break;dt=se,se=dt.next,dt.next=null,P.lastBaseUpdate=dt,P.shared.pending=null}}while(1);if(rt===null&&(Ce=_t),P.baseState=Ce,P.firstBaseUpdate=je,P.lastBaseUpdate=rt,p=P.shared.interleaved,p!==null){P=p;do J|=P.lane,P=P.next;while(P!==p)}else k===null&&(P.shared.lanes=0);rh|=J,f.lanes=J,f.memoizedState=_t}}function lL(f,p,S){if(f=p.effects,p.effects=null,f!==null)for(p=0;p<f.length;p++){var C=f[p],P=C.callback;if(P!==null){if(C.callback=null,C=S,typeof P!="function")throw Error(o(191,P));P.call(C)}}}var cL=new r.Component().refs;function uE(f,p,S,C){p=f.memoizedState,S=S(C,p),S=S==null?p:s({},p,S),f.memoizedState=S,f.lanes===0&&(f.updateQueue.baseState=S)}var A0={isMounted:function(f){return(f=f._reactInternals)?R(f)===f:!1},enqueueSetState:function(f,p,S){f=f._reactInternals;var C=Di(),P=zl(f),k=za(C,P);k.payload=p,S!=null&&(k.callback=S),Dl(f,k),p=Vs(f,P,C),p!==null&&E0(p,f,P)},enqueueReplaceState:function(f,p,S){f=f._reactInternals;var C=Di(),P=zl(f),k=za(C,P);k.tag=1,k.payload=p,S!=null&&(k.callback=S),Dl(f,k),p=Vs(f,P,C),p!==null&&E0(p,f,P)},enqueueForceUpdate:function(f,p){f=f._reactInternals;var S=Di(),C=zl(f),P=za(S,C);P.tag=2,p!=null&&(P.callback=p),Dl(f,P),p=Vs(f,C,S),p!==null&&E0(p,f,C)}};function uL(f,p,S,C,P,k,J){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(C,k,J):p.prototype&&p.prototype.isPureReactComponent?!b0(S,C)||!b0(P,k):!0}function dL(f,p,S){var C=!1,P=ir,k=p.contextType;return typeof k=="object"&&k!==null?k=Fs(k):(P=Ji(p)?Jo:xr.current,C=p.contextTypes,k=(C=C!=null)?$d(f,P):ir),p=new p(S,k),f.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=A0,f.stateNode=p,p._reactInternals=f,C&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=P,f.__reactInternalMemoizedMaskedChildContext=k),p}function hL(f,p,S,C){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(S,C),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(S,C),p.state!==f&&A0.enqueueReplaceState(p,p.state,null)}function dE(f,p,S,C){var P=f.stateNode;P.props=S,P.state=f.memoizedState,P.refs=cL,cE(f);var k=p.contextType;typeof k=="object"&&k!==null?P.context=Fs(k):(k=Ji(p)?Jo:xr.current,P.context=$d(f,k)),P.state=f.memoizedState,k=p.getDerivedStateFromProps,typeof k=="function"&&(uE(f,p,k,S),P.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(p=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),p!==P.state&&A0.enqueueReplaceState(P,P.state,null),C0(f,S,P,C),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308)}var Jd=[],Yd=0,M0=null,T0=0,zs=[],Us=0,cu=null,Ua=1,Ha="";function uu(f,p){Jd[Yd++]=T0,Jd[Yd++]=M0,M0=f,T0=p}function fL(f,p,S){zs[Us++]=Ua,zs[Us++]=Ha,zs[Us++]=cu,cu=f;var C=Ua;f=Ha;var P=32-go(C)-1;C&=~(1<<P),S+=1;var k=32-go(p)+P;if(30<k){var J=P-P%5;k=(C&(1<<J)-1).toString(32),C>>=J,P-=J,Ua=1<<32-go(p)+P|S<<P|C,Ha=k+f}else Ua=1<<k|S<<P|C,Ha=f}function hE(f){f.return!==null&&(uu(f,1),fL(f,1,0))}function fE(f){for(;f===M0;)M0=Jd[--Yd],Jd[Yd]=null,T0=Jd[--Yd],Jd[Yd]=null;for(;f===cu;)cu=zs[--Us],zs[Us]=null,Ha=zs[--Us],zs[Us]=null,Ua=zs[--Us],zs[Us]=null}var ms=null,gs=null,Gn=!1,Qp=!1,yo=null;function pL(f,p){var S=Ws(5,null,null,0);S.elementType="DELETED",S.stateNode=p,S.return=f,p=f.deletions,p===null?(f.deletions=[S],f.flags|=16):p.push(S)}function mL(f,p){switch(f.tag){case 5:return p=di(p,f.type,f.pendingProps),p!==null?(f.stateNode=p,ms=f,gs=de(p),!0):!1;case 6:return p=Jp(p,f.pendingProps),p!==null?(f.stateNode=p,ms=f,gs=null,!0):!1;case 13:if(p=Oa(p),p!==null){var S=cu!==null?{id:Ua,overflow:Ha}:null;return f.memoizedState={dehydrated:p,treeContext:S,retryLane:1073741824},S=Ws(18,null,null,0),S.stateNode=p,S.return=f,f.child=S,ms=f,gs=null,!0}return!1;default:return!1}}function pE(f){return(f.mode&1)!==0&&(f.flags&128)===0}function mE(f){if(Gn){var p=gs;if(p){var S=p;if(!mL(f,p)){if(pE(f))throw Error(o(418));p=Ee(S);var C=ms;p&&mL(f,p)?pL(C,S):(f.flags=f.flags&-4097|2,Gn=!1,ms=f)}}else{if(pE(f))throw Error(o(418));f.flags=f.flags&-4097|2,Gn=!1,ms=f}}}function gL(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;ms=f}function Zp(f){if(!ve||f!==ms)return!1;if(!Gn)return gL(f),Gn=!0,!1;if(f.tag!==3&&(f.tag!==5||kn(f.type)&&!q(f.type,f.memoizedProps))){var p=gs;if(p){if(pE(f)){for(f=gs;f;)f=Ee(f);throw Error(o(418))}for(;p;)pL(f,p),p=Ee(p)}}if(gL(f),f.tag===13){if(!ve)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));gs=zt(f)}else gs=ms?Ee(f.stateNode):null;return!0}function qd(){ve&&(gs=ms=null,Qp=Gn=!1)}function gE(f){yo===null?yo=[f]:yo.push(f)}function em(f,p,S){if(f=S.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var C=S.stateNode}if(!C)throw Error(o(147,f));var P=C,k=""+f;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===k?p.ref:(p=function(J){var se=P.refs;se===cL&&(se=P.refs={}),J===null?delete se[k]:se[k]=J},p._stringRef=k,p)}if(typeof f!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,f))}return f}function P0(f,p){throw f=Object.prototype.toString.call(p),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f))}function vL(f){var p=f._init;return p(f._payload)}function yL(f){function p(ge,le){if(f){var be=ge.deletions;be===null?(ge.deletions=[le],ge.flags|=16):be.push(le)}}function S(ge,le){if(!f)return null;for(;le!==null;)p(ge,le),le=le.sibling;return null}function C(ge,le){for(ge=new Map;le!==null;)le.key!==null?ge.set(le.key,le):ge.set(le.index,le),le=le.sibling;return ge}function P(ge,le){return ge=Hl(ge,le),ge.index=0,ge.sibling=null,ge}function k(ge,le,be){return ge.index=be,f?(be=ge.alternate,be!==null?(be=be.index,be<le?(ge.flags|=2,le):be):(ge.flags|=2,le)):(ge.flags|=1048576,le)}function J(ge){return f&&ge.alternate===null&&(ge.flags|=2),ge}function se(ge,le,be,Qe){return le===null||le.tag!==6?(le=ZE(be,ge.mode,Qe),le.return=ge,le):(le=P(le,be),le.return=ge,le)}function Ce(ge,le,be,Qe){var at=be.type;return at===u?rt(ge,le,be.props.children,Qe,be.key):le!==null&&(le.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===w&&vL(at)===le.type)?(Qe=P(le,be.props),Qe.ref=em(ge,le,be),Qe.return=ge,Qe):(Qe=o_(be.type,be.key,be.props,null,ge.mode,Qe),Qe.ref=em(ge,le,be),Qe.return=ge,Qe)}function je(ge,le,be,Qe){return le===null||le.tag!==4||le.stateNode.containerInfo!==be.containerInfo||le.stateNode.implementation!==be.implementation?(le=eC(be,ge.mode,Qe),le.return=ge,le):(le=P(le,be.children||[]),le.return=ge,le)}function rt(ge,le,be,Qe,at){return le===null||le.tag!==7?(le=vu(be,ge.mode,Qe,at),le.return=ge,le):(le=P(le,be),le.return=ge,le)}function _t(ge,le,be){if(typeof le=="string"&&le!==""||typeof le=="number")return le=ZE(""+le,ge.mode,be),le.return=ge,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case l:return be=o_(le.type,le.key,le.props,null,ge.mode,be),be.ref=em(ge,null,le),be.return=ge,be;case c:return le=eC(le,ge.mode,be),le.return=ge,le;case w:var Qe=le._init;return _t(ge,Qe(le._payload),be)}if(U(le)||T(le))return le=vu(le,ge.mode,be,null),le.return=ge,le;P0(ge,le)}return null}function dt(ge,le,be,Qe){var at=le!==null?le.key:null;if(typeof be=="string"&&be!==""||typeof be=="number")return at!==null?null:se(ge,le,""+be,Qe);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case l:return be.key===at?Ce(ge,le,be,Qe):null;case c:return be.key===at?je(ge,le,be,Qe):null;case w:return at=be._init,dt(ge,le,at(be._payload),Qe)}if(U(be)||T(be))return at!==null?null:rt(ge,le,be,Qe,null);P0(ge,be)}return null}function bn(ge,le,be,Qe,at){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return ge=ge.get(be)||null,se(le,ge,""+Qe,at);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case l:return ge=ge.get(Qe.key===null?be:Qe.key)||null,Ce(le,ge,Qe,at);case c:return ge=ge.get(Qe.key===null?be:Qe.key)||null,je(le,ge,Qe,at);case w:var Mt=Qe._init;return bn(ge,le,be,Mt(Qe._payload),at)}if(U(Qe)||T(Qe))return ge=ge.get(be)||null,rt(le,ge,Qe,at,null);P0(le,Qe)}return null}function lt(ge,le,be,Qe){for(var at=null,Mt=null,xt=le,nn=le=0,Ur=null;xt!==null&&nn<be.length;nn++){xt.index>nn?(Ur=xt,xt=null):Ur=xt.sibling;var rn=dt(ge,xt,be[nn],Qe);if(rn===null){xt===null&&(xt=Ur);break}f&&xt&&rn.alternate===null&&p(ge,xt),le=k(rn,le,nn),Mt===null?at=rn:Mt.sibling=rn,Mt=rn,xt=Ur}if(nn===be.length)return S(ge,xt),Gn&&uu(ge,nn),at;if(xt===null){for(;nn<be.length;nn++)xt=_t(ge,be[nn],Qe),xt!==null&&(le=k(xt,le,nn),Mt===null?at=xt:Mt.sibling=xt,Mt=xt);return Gn&&uu(ge,nn),at}for(xt=C(ge,xt);nn<be.length;nn++)Ur=bn(xt,ge,nn,be[nn],Qe),Ur!==null&&(f&&Ur.alternate!==null&&xt.delete(Ur.key===null?nn:Ur.key),le=k(Ur,le,nn),Mt===null?at=Ur:Mt.sibling=Ur,Mt=Ur);return f&&xt.forEach(function(Gl){return p(ge,Gl)}),Gn&&uu(ge,nn),at}function gi(ge,le,be,Qe){var at=T(be);if(typeof at!="function")throw Error(o(150));if(be=at.call(be),be==null)throw Error(o(151));for(var Mt=at=null,xt=le,nn=le=0,Ur=null,rn=be.next();xt!==null&&!rn.done;nn++,rn=be.next()){xt.index>nn?(Ur=xt,xt=null):Ur=xt.sibling;var Gl=dt(ge,xt,rn.value,Qe);if(Gl===null){xt===null&&(xt=Ur);break}f&&xt&&Gl.alternate===null&&p(ge,xt),le=k(Gl,le,nn),Mt===null?at=Gl:Mt.sibling=Gl,Mt=Gl,xt=Ur}if(rn.done)return S(ge,xt),Gn&&uu(ge,nn),at;if(xt===null){for(;!rn.done;nn++,rn=be.next())rn=_t(ge,rn.value,Qe),rn!==null&&(le=k(rn,le,nn),Mt===null?at=rn:Mt.sibling=rn,Mt=rn);return Gn&&uu(ge,nn),at}for(xt=C(ge,xt);!rn.done;nn++,rn=be.next())rn=bn(xt,ge,nn,rn.value,Qe),rn!==null&&(f&&rn.alternate!==null&&xt.delete(rn.key===null?nn:rn.key),le=k(rn,le,nn),Mt===null?at=rn:Mt.sibling=rn,Mt=rn);return f&&xt.forEach(function(DX){return p(ge,DX)}),Gn&&uu(ge,nn),at}function js(ge,le,be,Qe){if(typeof be=="object"&&be!==null&&be.type===u&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case l:e:{for(var at=be.key,Mt=le;Mt!==null;){if(Mt.key===at){if(at=be.type,at===u){if(Mt.tag===7){S(ge,Mt.sibling),le=P(Mt,be.props.children),le.return=ge,ge=le;break e}}else if(Mt.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===w&&vL(at)===Mt.type){S(ge,Mt.sibling),le=P(Mt,be.props),le.ref=em(ge,Mt,be),le.return=ge,ge=le;break e}S(ge,Mt);break}else p(ge,Mt);Mt=Mt.sibling}be.type===u?(le=vu(be.props.children,ge.mode,Qe,be.key),le.return=ge,ge=le):(Qe=o_(be.type,be.key,be.props,null,ge.mode,Qe),Qe.ref=em(ge,le,be),Qe.return=ge,ge=Qe)}return J(ge);case c:e:{for(Mt=be.key;le!==null;){if(le.key===Mt)if(le.tag===4&&le.stateNode.containerInfo===be.containerInfo&&le.stateNode.implementation===be.implementation){S(ge,le.sibling),le=P(le,be.children||[]),le.return=ge,ge=le;break e}else{S(ge,le);break}else p(ge,le);le=le.sibling}le=eC(be,ge.mode,Qe),le.return=ge,ge=le}return J(ge);case w:return Mt=be._init,js(ge,le,Mt(be._payload),Qe)}if(U(be))return lt(ge,le,be,Qe);if(T(be))return gi(ge,le,be,Qe);P0(ge,be)}return typeof be=="string"&&be!==""||typeof be=="number"?(be=""+be,le!==null&&le.tag===6?(S(ge,le.sibling),le=P(le,be),le.return=ge,ge=le):(S(ge,le),le=ZE(be,ge.mode,Qe),le.return=ge,ge=le),J(ge)):S(ge,le)}return js}var Qd=yL(!0),_L=yL(!1),tm={},Hs=Hn(tm),nm=Hn(tm),Zd=Hn(tm);function ea(f){if(f===tm)throw Error(o(174));return f}function vE(f,p){hn(Zd,p),hn(nm,f),hn(Hs,tm),f=Q(p),Zt(Hs),hn(Hs,f)}function eh(){Zt(Hs),Zt(nm),Zt(Zd)}function xL(f){var p=ea(Zd.current),S=ea(Hs.current);p=D(S,f.type,p),S!==p&&(hn(nm,f),hn(Hs,p))}function yE(f){nm.current===f&&(Zt(Hs),Zt(nm))}var Jn=Hn(0);function R0(f){for(var p=f;p!==null;){if(p.tag===13){var S=p.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Ol(S)||H(S)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var _E=[];function xE(){for(var f=0;f<_E.length;f++){var p=_E[f];Ae?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}_E.length=0}var I0=a.ReactCurrentDispatcher,Gs=a.ReactCurrentBatchConfig,th=0,sr=null,fi=null,zr=null,N0=!1,rm=!1,im=0,aX=0;function pi(){throw Error(o(321))}function bE(f,p){if(p===null)return!1;for(var S=0;S<p.length&&S<f.length;S++)if(!qo(f[S],p[S]))return!1;return!0}function wE(f,p,S,C,P,k){if(th=k,sr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,I0.current=f===null||f.memoizedState===null?dX:hX,f=S(C,P),rm){k=0;do{if(rm=!1,im=0,25<=k)throw Error(o(301));k+=1,zr=fi=null,p.updateQueue=null,I0.current=fX,f=S(C,P)}while(rm)}if(I0.current=B0,p=fi!==null&&fi.next!==null,th=0,zr=fi=sr=null,N0=!1,p)throw Error(o(300));return f}function SE(){var f=im!==0;return im=0,f}function Ga(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?sr.memoizedState=zr=f:zr=zr.next=f,zr}function ta(){if(fi===null){var f=sr.alternate;f=f!==null?f.memoizedState:null}else f=fi.next;var p=zr===null?sr.memoizedState:zr.next;if(p!==null)zr=p,fi=f;else{if(f===null)throw Error(o(310));fi=f,f={memoizedState:fi.memoizedState,baseState:fi.baseState,baseQueue:fi.baseQueue,queue:fi.queue,next:null},zr===null?sr.memoizedState=zr=f:zr=zr.next=f}return zr}function du(f,p){return typeof p=="function"?p(f):p}function k0(f){var p=ta(),S=p.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=f;var C=fi,P=C.baseQueue,k=S.pending;if(k!==null){if(P!==null){var J=P.next;P.next=k.next,k.next=J}C.baseQueue=P=k,S.pending=null}if(P!==null){k=P.next,C=C.baseState;var se=J=null,Ce=null,je=k;do{var rt=je.lane;if((th&rt)===rt)Ce!==null&&(Ce=Ce.next={lane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),C=je.hasEagerState?je.eagerState:f(C,je.action);else{var _t={lane:rt,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null};Ce===null?(se=Ce=_t,J=C):Ce=Ce.next=_t,sr.lanes|=rt,rh|=rt}je=je.next}while(je!==null&&je!==k);Ce===null?J=C:Ce.next=se,qo(C,p.memoizedState)||(vs=!0),p.memoizedState=C,p.baseState=J,p.baseQueue=Ce,S.lastRenderedState=C}if(f=S.interleaved,f!==null){P=f;do k=P.lane,sr.lanes|=k,rh|=k,P=P.next;while(P!==f)}else P===null&&(S.lanes=0);return[p.memoizedState,S.dispatch]}function O0(f){var p=ta(),S=p.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=f;var C=S.dispatch,P=S.pending,k=p.memoizedState;if(P!==null){S.pending=null;var J=P=P.next;do k=f(k,J.action),J=J.next;while(J!==P);qo(k,p.memoizedState)||(vs=!0),p.memoizedState=k,p.baseQueue===null&&(p.baseState=k),S.lastRenderedState=k}return[k,C]}function bL(){}function wL(f,p){var S=sr,C=ta(),P=p(),k=!qo(C.memoizedState,P);if(k&&(C.memoizedState=P,vs=!0),C=C.queue,om(CL.bind(null,S,C,f),[f]),C.getSnapshot!==p||k||zr!==null&&zr.memoizedState.tag&1){if(S.flags|=2048,sm(9,EL.bind(null,S,C,P,p),void 0,null),br===null)throw Error(o(349));th&30||SL(S,p,P)}return P}function SL(f,p,S){f.flags|=16384,f={getSnapshot:p,value:S},p=sr.updateQueue,p===null?(p={lastEffect:null,stores:null},sr.updateQueue=p,p.stores=[f]):(S=p.stores,S===null?p.stores=[f]:S.push(f))}function EL(f,p,S,C){p.value=S,p.getSnapshot=C,AL(p)&&Vs(f,1,-1)}function CL(f,p,S){return S(function(){AL(p)&&Vs(f,1,-1)})}function AL(f){var p=f.getSnapshot;f=f.value;try{var S=p();return!qo(f,S)}catch{return!0}}function EE(f){var p=Ga();return typeof f=="function"&&(f=f()),p.memoizedState=p.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:du,lastRenderedState:f},p.queue=f,f=f.dispatch=uX.bind(null,sr,f),[p.memoizedState,f]}function sm(f,p,S,C){return f={tag:f,create:p,destroy:S,deps:C,next:null},p=sr.updateQueue,p===null?(p={lastEffect:null,stores:null},sr.updateQueue=p,p.lastEffect=f.next=f):(S=p.lastEffect,S===null?p.lastEffect=f.next=f:(C=S.next,S.next=f,f.next=C,p.lastEffect=f)),f}function ML(){return ta().memoizedState}function L0(f,p,S,C){var P=Ga();sr.flags|=f,P.memoizedState=sm(1|p,S,void 0,C===void 0?null:C)}function D0(f,p,S,C){var P=ta();C=C===void 0?null:C;var k=void 0;if(fi!==null){var J=fi.memoizedState;if(k=J.destroy,C!==null&&bE(C,J.deps)){P.memoizedState=sm(p,S,k,C);return}}sr.flags|=f,P.memoizedState=sm(1|p,S,k,C)}function CE(f,p){return L0(8390656,8,f,p)}function om(f,p){return D0(2048,8,f,p)}function TL(f,p){return D0(4,2,f,p)}function PL(f,p){return D0(4,4,f,p)}function RL(f,p){if(typeof p=="function")return f=f(),p(f),function(){p(null)};if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function IL(f,p,S){return S=S!=null?S.concat([f]):null,D0(4,4,RL.bind(null,p,f),S)}function AE(){}function NL(f,p){var S=ta();p=p===void 0?null:p;var C=S.memoizedState;return C!==null&&p!==null&&bE(p,C[1])?C[0]:(S.memoizedState=[f,p],f)}function kL(f,p){var S=ta();p=p===void 0?null:p;var C=S.memoizedState;return C!==null&&p!==null&&bE(p,C[1])?C[0]:(f=f(),S.memoizedState=[f,p],f)}function lX(f,p){var S=tn;tn=S!==0&&4>S?S:4,f(!0);var C=Gs.transition;Gs.transition={};try{f(!1),p()}finally{tn=S,Gs.transition=C}}function OL(){return ta().memoizedState}function cX(f,p,S){var C=zl(f);S={lane:C,action:S,hasEagerState:!1,eagerState:null,next:null},LL(f)?DL(p,S):(BL(f,p,S),S=Di(),f=Vs(f,C,S),f!==null&&FL(f,p,C))}function uX(f,p,S){var C=zl(f),P={lane:C,action:S,hasEagerState:!1,eagerState:null,next:null};if(LL(f))DL(p,P);else{BL(f,p,P);var k=f.alternate;if(f.lanes===0&&(k===null||k.lanes===0)&&(k=p.lastRenderedReducer,k!==null))try{var J=p.lastRenderedState,se=k(J,S);if(P.hasEagerState=!0,P.eagerState=se,qo(se,J))return}catch{}finally{}S=Di(),f=Vs(f,C,S),f!==null&&FL(f,p,C)}}function LL(f){var p=f.alternate;return f===sr||p!==null&&p===sr}function DL(f,p){rm=N0=!0;var S=f.pending;S===null?p.next=p:(p.next=S.next,S.next=p),f.pending=p}function BL(f,p,S){br!==null&&f.mode&1&&!(Rt&2)?(f=p.interleaved,f===null?(S.next=S,Zo===null?Zo=[p]:Zo.push(p)):(S.next=f.next,f.next=S),p.interleaved=S):(f=p.pending,f===null?S.next=S:(S.next=f.next,f.next=S),p.pending=S)}function FL(f,p,S){if(S&4194240){var C=p.lanes;C&=f.pendingLanes,S|=C,p.lanes=S,eE(f,S)}}var B0={readContext:Fs,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},dX={readContext:Fs,useCallback:function(f,p){return Ga().memoizedState=[f,p===void 0?null:p],f},useContext:Fs,useEffect:CE,useImperativeHandle:function(f,p,S){return S=S!=null?S.concat([f]):null,L0(4194308,4,RL.bind(null,p,f),S)},useLayoutEffect:function(f,p){return L0(4194308,4,f,p)},useInsertionEffect:function(f,p){return L0(4,2,f,p)},useMemo:function(f,p){var S=Ga();return p=p===void 0?null:p,f=f(),S.memoizedState=[f,p],f},useReducer:function(f,p,S){var C=Ga();return p=S!==void 0?S(p):p,C.memoizedState=C.baseState=p,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:p},C.queue=f,f=f.dispatch=cX.bind(null,sr,f),[C.memoizedState,f]},useRef:function(f){var p=Ga();return f={current:f},p.memoizedState=f},useState:EE,useDebugValue:AE,useDeferredValue:function(f){var p=EE(f),S=p[0],C=p[1];return CE(function(){var P=Gs.transition;Gs.transition={};try{C(f)}finally{Gs.transition=P}},[f]),S},useTransition:function(){var f=EE(!1),p=f[0];return f=lX.bind(null,f[1]),Ga().memoizedState=f,[p,f]},useMutableSource:function(){},useSyncExternalStore:function(f,p,S){var C=sr,P=Ga();if(Gn){if(S===void 0)throw Error(o(407));S=S()}else{if(S=p(),br===null)throw Error(o(349));th&30||SL(C,p,S)}P.memoizedState=S;var k={value:S,getSnapshot:p};return P.queue=k,CE(CL.bind(null,C,k,f),[f]),C.flags|=2048,sm(9,EL.bind(null,C,k,S,p),void 0,null),S},useId:function(){var f=Ga(),p=br.identifierPrefix;if(Gn){var S=Ha,C=Ua;S=(C&~(1<<32-go(C)-1)).toString(32)+S,p=":"+p+"R"+S,S=im++,0<S&&(p+="H"+S.toString(32)),p+=":"}else S=aX++,p=":"+p+"r"+S.toString(32)+":";return f.memoizedState=p},unstable_isNewReconciler:!1},hX={readContext:Fs,useCallback:NL,useContext:Fs,useEffect:om,useImperativeHandle:IL,useInsertionEffect:TL,useLayoutEffect:PL,useMemo:kL,useReducer:k0,useRef:ML,useState:function(){return k0(du)},useDebugValue:AE,useDeferredValue:function(f){var p=k0(du),S=p[0],C=p[1];return om(function(){var P=Gs.transition;Gs.transition={};try{C(f)}finally{Gs.transition=P}},[f]),S},useTransition:function(){var f=k0(du)[0],p=ta().memoizedState;return[f,p]},useMutableSource:bL,useSyncExternalStore:wL,useId:OL,unstable_isNewReconciler:!1},fX={readContext:Fs,useCallback:NL,useContext:Fs,useEffect:om,useImperativeHandle:IL,useInsertionEffect:TL,useLayoutEffect:PL,useMemo:kL,useReducer:O0,useRef:ML,useState:function(){return O0(du)},useDebugValue:AE,useDeferredValue:function(f){var p=O0(du),S=p[0],C=p[1];return om(function(){var P=Gs.transition;Gs.transition={};try{C(f)}finally{Gs.transition=P}},[f]),S},useTransition:function(){var f=O0(du)[0],p=ta().memoizedState;return[f,p]},useMutableSource:bL,useSyncExternalStore:wL,useId:OL,unstable_isNewReconciler:!1};function ME(f,p){try{var S="",C=p;do S+=oX(C),C=C.return;while(C);var P=S}catch(k){P=`
Error generating stack: `+k.message+`
`+k.stack}return{value:f,source:p,stack:P}}function TE(f,p){try{console.error(p.value)}catch(S){setTimeout(function(){throw S})}}var pX=typeof WeakMap=="function"?WeakMap:Map;function zL(f,p,S){S=za(-1,S),S.tag=3,S.payload={element:null};var C=p.value;return S.callback=function(){Z0||(Z0=!0,$E=C),TE(f,p)},S}function UL(f,p,S){S=za(-1,S),S.tag=3;var C=f.type.getDerivedStateFromError;if(typeof C=="function"){var P=p.value;S.payload=function(){return C(P)},S.callback=function(){TE(f,p)}}var k=f.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(S.callback=function(){TE(f,p),typeof C!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var J=p.stack;this.componentDidCatch(p.value,{componentStack:J!==null?J:""})}),S}function HL(f,p,S){var C=f.pingCache;if(C===null){C=f.pingCache=new pX;var P=new Set;C.set(p,P)}else P=C.get(p),P===void 0&&(P=new Set,C.set(p,P));P.has(S)||(P.add(S),f=TX.bind(null,f,p,S),p.then(f,f))}function GL(f){do{var p;if((p=f.tag===13)&&(p=f.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return f;f=f.return}while(f!==null);return null}function VL(f,p,S,C,P){return f.mode&1?(f.flags|=65536,f.lanes=P,f):(f===p?f.flags|=65536:(f.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(p=za(-1,1),p.tag=2,Dl(S,p))),S.lanes|=1),f)}function na(f){f.flags|=4}function WL(f,p){if(f!==null&&f.child===p.child)return!0;if(p.flags&16)return!1;for(f=p.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var am,lm,F0,z0;if(Me)am=function(f,p){for(var S=p.child;S!==null;){if(S.tag===5||S.tag===6)G(f,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===p)break;for(;S.sibling===null;){if(S.return===null||S.return===p)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},lm=function(){},F0=function(f,p,S,C,P){if(f=f.memoizedProps,f!==C){var k=p.stateNode,J=ea(Hs.current);S=re(k,S,f,C,P,J),(p.updateQueue=S)&&na(p)}},z0=function(f,p,S,C){S!==C&&na(p)};else if(ce){am=function(f,p,S,C){for(var P=p.child;P!==null;){if(P.tag===5){var k=P.stateNode;S&&C&&(k=An(k,P.type,P.memoizedProps,P)),G(f,k)}else if(P.tag===6)k=P.stateNode,S&&C&&(k=ei(k,P.memoizedProps,P)),G(f,k);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)k=P.child,k!==null&&(k.return=P),am(f,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===p)break;for(;P.sibling===null;){if(P.return===null||P.return===p)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var jL=function(f,p,S,C){for(var P=p.child;P!==null;){if(P.tag===5){var k=P.stateNode;S&&C&&(k=An(k,P.type,P.memoizedProps,P)),zn(f,k)}else if(P.tag===6)k=P.stateNode,S&&C&&(k=ei(k,P.memoizedProps,P)),zn(f,k);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)k=P.child,k!==null&&(k.return=P),jL(f,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===p)break;for(;P.sibling===null;){if(P.return===null||P.return===p)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};lm=function(f,p){var S=p.stateNode;if(!WL(f,p)){f=S.containerInfo;var C=an(f);jL(C,p,!1,!1),S.pendingChildren=C,na(p),_r(f,C)}},F0=function(f,p,S,C,P){var k=f.stateNode,J=f.memoizedProps;if((f=WL(f,p))&&J===C)p.stateNode=k;else{var se=p.stateNode,Ce=ea(Hs.current),je=null;J!==C&&(je=re(se,S,J,C,P,Ce)),f&&je===null?p.stateNode=k:(k=nt(k,je,S,J,C,p,f,se),te(k,S,C,P,Ce)&&na(p),p.stateNode=k,f?na(p):am(k,p,!1,!1))}},z0=function(f,p,S,C){S!==C?(f=ea(Zd.current),S=ea(Hs.current),p.stateNode=$(C,f,S,p),na(p)):p.stateNode=f.stateNode}}else lm=function(){},F0=function(){},z0=function(){};function cm(f,p){if(!Gn)switch(f.tailMode){case"hidden":p=f.tail;for(var S=null;p!==null;)p.alternate!==null&&(S=p),p=p.sibling;S===null?f.tail=null:S.sibling=null;break;case"collapsed":S=f.tail;for(var C=null;S!==null;)S.alternate!==null&&(C=S),S=S.sibling;C===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:C.sibling=null}}function mi(f){var p=f.alternate!==null&&f.alternate.child===f.child,S=0,C=0;if(p)for(var P=f.child;P!==null;)S|=P.lanes|P.childLanes,C|=P.subtreeFlags&14680064,C|=P.flags&14680064,P.return=f,P=P.sibling;else for(P=f.child;P!==null;)S|=P.lanes|P.childLanes,C|=P.subtreeFlags,C|=P.flags,P.return=f,P=P.sibling;return f.subtreeFlags|=C,f.childLanes=S,p}function mX(f,p,S){var C=p.pendingProps;switch(fE(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(p),null;case 1:return Ji(p.type)&&p0(),mi(p),null;case 3:return C=p.stateNode,eh(),Zt(hi),Zt(xr),xE(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(f===null||f.child===null)&&(Zp(p)?na(p):f===null||f.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,yo!==null&&(JE(yo),yo=null))),lm(f,p),mi(p),null;case 5:yE(p),S=ea(Zd.current);var P=p.type;if(f!==null&&p.stateNode!=null)F0(f,p,P,C,S),f.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!C){if(p.stateNode===null)throw Error(o(166));return mi(p),null}if(f=ea(Hs.current),Zp(p)){if(!ve)throw Error(o(175));f=mt(p.stateNode,p.type,p.memoizedProps,S,f,p,!Qp),p.updateQueue=f,f!==null&&na(p)}else{var k=he(P,C,S,f,p);am(k,p,!1,!1),p.stateNode=k,te(k,P,C,S,f)&&na(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return mi(p),null;case 6:if(f&&p.stateNode!=null)z0(f,p,f.memoizedProps,C);else{if(typeof C!="string"&&p.stateNode===null)throw Error(o(166));if(f=ea(Zd.current),S=ea(Hs.current),Zp(p)){if(!ve)throw Error(o(176));if(f=p.stateNode,C=p.memoizedProps,(S=yt(f,C,p,!Qp))&&(P=ms,P!==null))switch(k=(P.mode&1)!==0,P.tag){case 3:La(P.stateNode.containerInfo,f,C,k);break;case 5:nr(P.type,P.memoizedProps,P.stateNode,f,C,k)}S&&na(p)}else p.stateNode=$(C,f,S,p)}return mi(p),null;case 13:if(Zt(Jn),C=p.memoizedState,Gn&&gs!==null&&p.mode&1&&!(p.flags&128)){for(f=gs;f;)f=Ee(f);return qd(),p.flags|=98560,p}if(C!==null&&C.dehydrated!==null){if(C=Zp(p),f===null){if(!C)throw Error(o(318));if(!ve)throw Error(o(344));if(f=p.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));St(f,p)}else qd(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return mi(p),null}return yo!==null&&(JE(yo),yo=null),p.flags&128?(p.lanes=S,p):(C=C!==null,S=!1,f===null?Zp(p):S=f.memoizedState!==null,C&&!S&&(p.child.flags|=8192,p.mode&1&&(f===null||Jn.current&1?Tr===0&&(Tr=3):qE())),p.updateQueue!==null&&(p.flags|=4),mi(p),null);case 4:return eh(),lm(f,p),f===null&&Le(p.stateNode.containerInfo),mi(p),null;case 10:return aE(p.type._context),mi(p),null;case 17:return Ji(p.type)&&p0(),mi(p),null;case 19:if(Zt(Jn),P=p.memoizedState,P===null)return mi(p),null;if(C=(p.flags&128)!==0,k=P.rendering,k===null)if(C)cm(P,!1);else{if(Tr!==0||f!==null&&f.flags&128)for(f=p.child;f!==null;){if(k=R0(f),k!==null){for(p.flags|=128,cm(P,!1),f=k.updateQueue,f!==null&&(p.updateQueue=f,p.flags|=4),p.subtreeFlags=0,f=S,C=p.child;C!==null;)S=C,P=f,S.flags&=14680066,k=S.alternate,k===null?(S.childLanes=0,S.lanes=P,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=k.childLanes,S.lanes=k.lanes,S.child=k.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=k.memoizedProps,S.memoizedState=k.memoizedState,S.updateQueue=k.updateQueue,S.type=k.type,P=k.dependencies,S.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),C=C.sibling;return hn(Jn,Jn.current&1|2),p.child}f=f.sibling}P.tail!==null&&Fr()>jE&&(p.flags|=128,C=!0,cm(P,!1),p.lanes=4194304)}else{if(!C)if(f=R0(k),f!==null){if(p.flags|=128,C=!0,f=f.updateQueue,f!==null&&(p.updateQueue=f,p.flags|=4),cm(P,!0),P.tail===null&&P.tailMode==="hidden"&&!k.alternate&&!Gn)return mi(p),null}else 2*Fr()-P.renderingStartTime>jE&&S!==1073741824&&(p.flags|=128,C=!0,cm(P,!1),p.lanes=4194304);P.isBackwards?(k.sibling=p.child,p.child=k):(f=P.last,f!==null?f.sibling=k:p.child=k,P.last=k)}return P.tail!==null?(p=P.tail,P.rendering=p,P.tail=p.sibling,P.renderingStartTime=Fr(),p.sibling=null,f=Jn.current,hn(Jn,C?f&1|2:f&1),p):(mi(p),null);case 22:case 23:return YE(),C=p.memoizedState!==null,f!==null&&f.memoizedState!==null!==C&&(p.flags|=8192),C&&p.mode&1?ys&1073741824&&(mi(p),Me&&p.subtreeFlags&6&&(p.flags|=8192)):mi(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var gX=a.ReactCurrentOwner,vs=!1;function Li(f,p,S,C){p.child=f===null?_L(p,null,S,C):Qd(p,f.child,S,C)}function $L(f,p,S,C,P){S=S.render;var k=p.ref;return Xd(p,P),C=wE(f,p,S,C,k,P),S=SE(),f!==null&&!vs?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~P,Va(f,p,P)):(Gn&&S&&hE(p),p.flags|=1,Li(f,p,C,P),p.child)}function KL(f,p,S,C,P){if(f===null){var k=S.type;return typeof k=="function"&&!QE(k)&&k.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(p.tag=15,p.type=k,XL(f,p,k,C,P)):(f=o_(S.type,null,C,p,p.mode,P),f.ref=p.ref,f.return=p,p.child=f)}if(k=f.child,!(f.lanes&P)){var J=k.memoizedProps;if(S=S.compare,S=S!==null?S:b0,S(J,C)&&f.ref===p.ref)return Va(f,p,P)}return p.flags|=1,f=Hl(k,C),f.ref=p.ref,f.return=p,p.child=f}function XL(f,p,S,C,P){if(f!==null&&b0(f.memoizedProps,C)&&f.ref===p.ref)if(vs=!1,(f.lanes&P)!==0)f.flags&131072&&(vs=!0);else return p.lanes=f.lanes,Va(f,p,P);return PE(f,p,S,C,P)}function JL(f,p,S){var C=p.pendingProps,P=C.children,k=f!==null?f.memoizedState:null;if(C.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},hn(nh,ys),ys|=S;else if(S&1073741824)p.memoizedState={baseLanes:0,cachePool:null},C=k!==null?k.baseLanes:S,hn(nh,ys),ys|=C;else return f=k!==null?k.baseLanes|S:S,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:f,cachePool:null},p.updateQueue=null,hn(nh,ys),ys|=f,null;else k!==null?(C=k.baseLanes|S,p.memoizedState=null):C=S,hn(nh,ys),ys|=C;return Li(f,p,P,S),p.child}function YL(f,p){var S=p.ref;(f===null&&S!==null||f!==null&&f.ref!==S)&&(p.flags|=512,p.flags|=2097152)}function PE(f,p,S,C,P){var k=Ji(S)?Jo:xr.current;return k=$d(p,k),Xd(p,P),S=wE(f,p,S,C,k,P),C=SE(),f!==null&&!vs?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~P,Va(f,p,P)):(Gn&&C&&hE(p),p.flags|=1,Li(f,p,S,P),p.child)}function qL(f,p,S,C,P){if(Ji(S)){var k=!0;m0(p)}else k=!1;if(Xd(p,P),p.stateNode===null)f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),dL(p,S,C),dE(p,S,C,P),C=!0;else if(f===null){var J=p.stateNode,se=p.memoizedProps;J.props=se;var Ce=J.context,je=S.contextType;typeof je=="object"&&je!==null?je=Fs(je):(je=Ji(S)?Jo:xr.current,je=$d(p,je));var rt=S.getDerivedStateFromProps,_t=typeof rt=="function"||typeof J.getSnapshotBeforeUpdate=="function";_t||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(se!==C||Ce!==je)&&hL(p,J,C,je),Ll=!1;var dt=p.memoizedState;J.state=dt,C0(p,C,J,P),Ce=p.memoizedState,se!==C||dt!==Ce||hi.current||Ll?(typeof rt=="function"&&(uE(p,S,rt,C),Ce=p.memoizedState),(se=Ll||uL(p,S,se,C,dt,Ce,je))?(_t||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(p.flags|=4194308)):(typeof J.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=C,p.memoizedState=Ce),J.props=C,J.state=Ce,J.context=je,C=se):(typeof J.componentDidMount=="function"&&(p.flags|=4194308),C=!1)}else{J=p.stateNode,oL(f,p),se=p.memoizedProps,je=p.type===p.elementType?se:vo(p.type,se),J.props=je,_t=p.pendingProps,dt=J.context,Ce=S.contextType,typeof Ce=="object"&&Ce!==null?Ce=Fs(Ce):(Ce=Ji(S)?Jo:xr.current,Ce=$d(p,Ce));var bn=S.getDerivedStateFromProps;(rt=typeof bn=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(se!==_t||dt!==Ce)&&hL(p,J,C,Ce),Ll=!1,dt=p.memoizedState,J.state=dt,C0(p,C,J,P);var lt=p.memoizedState;se!==_t||dt!==lt||hi.current||Ll?(typeof bn=="function"&&(uE(p,S,bn,C),lt=p.memoizedState),(je=Ll||uL(p,S,je,C,dt,lt,Ce)||!1)?(rt||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(C,lt,Ce),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(C,lt,Ce)),typeof J.componentDidUpdate=="function"&&(p.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof J.componentDidUpdate!="function"||se===f.memoizedProps&&dt===f.memoizedState||(p.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&dt===f.memoizedState||(p.flags|=1024),p.memoizedProps=C,p.memoizedState=lt),J.props=C,J.state=lt,J.context=Ce,C=je):(typeof J.componentDidUpdate!="function"||se===f.memoizedProps&&dt===f.memoizedState||(p.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&dt===f.memoizedState||(p.flags|=1024),C=!1)}return RE(f,p,S,C,k,P)}function RE(f,p,S,C,P,k){YL(f,p);var J=(p.flags&128)!==0;if(!C&&!J)return P&&tL(p,S,!1),Va(f,p,k);C=p.stateNode,gX.current=p;var se=J&&typeof S.getDerivedStateFromError!="function"?null:C.render();return p.flags|=1,f!==null&&J?(p.child=Qd(p,f.child,null,k),p.child=Qd(p,null,se,k)):Li(f,p,se,k),p.memoizedState=C.state,P&&tL(p,S,!0),p.child}function QL(f){var p=f.stateNode;p.pendingContext?ZO(f,p.pendingContext,p.pendingContext!==p.context):p.context&&ZO(f,p.context,!1),vE(f,p.containerInfo)}function ZL(f,p,S,C,P){return qd(),gE(P),p.flags|=256,Li(f,p,S,C),p.child}var U0={dehydrated:null,treeContext:null,retryLane:0};function H0(f){return{baseLanes:f,cachePool:null}}function eD(f,p,S){var C=p.pendingProps,P=Jn.current,k=!1,J=(p.flags&128)!==0,se;if((se=J)||(se=f!==null&&f.memoizedState===null?!1:(P&2)!==0),se?(k=!0,p.flags&=-129):(f===null||f.memoizedState!==null)&&(P|=1),hn(Jn,P&1),f===null)return mE(p),f=p.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(p.mode&1?H(f)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(P=C.children,f=C.fallback,k?(C=p.mode,k=p.child,P={mode:"hidden",children:P},!(C&1)&&k!==null?(k.childLanes=0,k.pendingProps=P):k=a_(P,C,0,null),f=vu(f,C,S,null),k.return=p,f.return=p,k.sibling=f,p.child=k,p.child.memoizedState=H0(S),p.memoizedState=U0,f):IE(p,P));if(P=f.memoizedState,P!==null){if(se=P.dehydrated,se!==null){if(J)return p.flags&256?(p.flags&=-257,G0(f,p,S,Error(o(422)))):p.memoizedState!==null?(p.child=f.child,p.flags|=128,null):(k=C.fallback,P=p.mode,C=a_({mode:"visible",children:C.children},P,0,null),k=vu(k,P,S,null),k.flags|=2,C.return=p,k.return=p,C.sibling=k,p.child=C,p.mode&1&&Qd(p,f.child,null,S),p.child.memoizedState=H0(S),p.memoizedState=U0,k);if(!(p.mode&1))p=G0(f,p,S,null);else if(H(se))p=G0(f,p,S,Error(o(419)));else if(C=(S&f.childLanes)!==0,vs||C){if(C=br,C!==null){switch(S&-S){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}C=k&(C.suspendedLanes|S)?0:k,C!==0&&C!==P.retryLane&&(P.retryLane=C,Vs(f,C,-1))}qE(),p=G0(f,p,S,Error(o(421)))}else Ol(se)?(p.flags|=128,p.child=f.child,p=PX.bind(null,f),pe(se,p),p=null):(S=P.treeContext,ve&&(gs=ct(se),ms=p,Gn=!0,yo=null,Qp=!1,S!==null&&(zs[Us++]=Ua,zs[Us++]=Ha,zs[Us++]=cu,Ua=S.id,Ha=S.overflow,cu=p)),p=IE(p,p.pendingProps.children),p.flags|=4096);return p}return k?(C=nD(f,p,C.children,C.fallback,S),k=p.child,P=f.child.memoizedState,k.memoizedState=P===null?H0(S):{baseLanes:P.baseLanes|S,cachePool:null},k.childLanes=f.childLanes&~S,p.memoizedState=U0,C):(S=tD(f,p,C.children,S),p.memoizedState=null,S)}return k?(C=nD(f,p,C.children,C.fallback,S),k=p.child,P=f.child.memoizedState,k.memoizedState=P===null?H0(S):{baseLanes:P.baseLanes|S,cachePool:null},k.childLanes=f.childLanes&~S,p.memoizedState=U0,C):(S=tD(f,p,C.children,S),p.memoizedState=null,S)}function IE(f,p){return p=a_({mode:"visible",children:p},f.mode,0,null),p.return=f,f.child=p}function tD(f,p,S,C){var P=f.child;return f=P.sibling,S=Hl(P,{mode:"visible",children:S}),!(p.mode&1)&&(S.lanes=C),S.return=p,S.sibling=null,f!==null&&(C=p.deletions,C===null?(p.deletions=[f],p.flags|=16):C.push(f)),p.child=S}function nD(f,p,S,C,P){var k=p.mode;f=f.child;var J=f.sibling,se={mode:"hidden",children:S};return!(k&1)&&p.child!==f?(S=p.child,S.childLanes=0,S.pendingProps=se,p.deletions=null):(S=Hl(f,se),S.subtreeFlags=f.subtreeFlags&14680064),J!==null?C=Hl(J,C):(C=vu(C,k,P,null),C.flags|=2),C.return=p,S.return=p,S.sibling=C,p.child=S,C}function G0(f,p,S,C){return C!==null&&gE(C),Qd(p,f.child,null,S),f=IE(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function rD(f,p,S){f.lanes|=p;var C=f.alternate;C!==null&&(C.lanes|=p),lE(f.return,p,S)}function NE(f,p,S,C,P){var k=f.memoizedState;k===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:C,tail:S,tailMode:P}:(k.isBackwards=p,k.rendering=null,k.renderingStartTime=0,k.last=C,k.tail=S,k.tailMode=P)}function iD(f,p,S){var C=p.pendingProps,P=C.revealOrder,k=C.tail;if(Li(f,p,C.children,S),C=Jn.current,C&2)C=C&1|2,p.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&rD(f,S,p);else if(f.tag===19)rD(f,S,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}C&=1}if(hn(Jn,C),!(p.mode&1))p.memoizedState=null;else switch(P){case"forwards":for(S=p.child,P=null;S!==null;)f=S.alternate,f!==null&&R0(f)===null&&(P=S),S=S.sibling;S=P,S===null?(P=p.child,p.child=null):(P=S.sibling,S.sibling=null),NE(p,!1,P,S,k);break;case"backwards":for(S=null,P=p.child,p.child=null;P!==null;){if(f=P.alternate,f!==null&&R0(f)===null){p.child=P;break}f=P.sibling,P.sibling=S,S=P,P=f}NE(p,!0,S,null,k);break;case"together":NE(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Va(f,p,S){if(f!==null&&(p.dependencies=f.dependencies),rh|=p.lanes,!(S&p.childLanes))return null;if(f!==null&&p.child!==f.child)throw Error(o(153));if(p.child!==null){for(f=p.child,S=Hl(f,f.pendingProps),p.child=S,S.return=p;f.sibling!==null;)f=f.sibling,S=S.sibling=Hl(f,f.pendingProps),S.return=p;S.sibling=null}return p.child}function vX(f,p,S){switch(p.tag){case 3:QL(p),qd();break;case 5:xL(p);break;case 1:Ji(p.type)&&m0(p);break;case 4:vE(p,p.stateNode.containerInfo);break;case 10:sL(p,p.type._context,p.memoizedProps.value);break;case 13:var C=p.memoizedState;if(C!==null)return C.dehydrated!==null?(hn(Jn,Jn.current&1),p.flags|=128,null):S&p.child.childLanes?eD(f,p,S):(hn(Jn,Jn.current&1),f=Va(f,p,S),f!==null?f.sibling:null);hn(Jn,Jn.current&1);break;case 19:if(C=(S&p.childLanes)!==0,f.flags&128){if(C)return iD(f,p,S);p.flags|=128}var P=p.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),hn(Jn,Jn.current),C)break;return null;case 22:case 23:return p.lanes=0,JL(f,p,S)}return Va(f,p,S)}function yX(f,p){switch(fE(p),p.tag){case 1:return Ji(p.type)&&p0(),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return eh(),Zt(hi),Zt(xr),xE(),f=p.flags,f&65536&&!(f&128)?(p.flags=f&-65537|128,p):null;case 5:return yE(p),null;case 13:if(Zt(Jn),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(o(340));qd()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return Zt(Jn),null;case 4:return eh(),null;case 10:return aE(p.type._context),null;case 22:case 23:return YE(),null;case 24:return null;default:return null}}var V0=!1,hu=!1,_X=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function W0(f,p){var S=f.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(C){Qi(f,p,C)}else S.current=null}function kE(f,p,S){try{S()}catch(C){Qi(f,p,C)}}var sD=!1;function xX(f,p){for(z(f.containerInfo),Ye=p;Ye!==null;)if(f=Ye,p=f.child,(f.subtreeFlags&1028)!==0&&p!==null)p.return=f,Ye=p;else for(;Ye!==null;){f=Ye;try{var S=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,P=S.memoizedState,k=f.stateNode,J=k.getSnapshotBeforeUpdate(f.elementType===f.type?C:vo(f.type,C),P);k.__reactInternalSnapshotBeforeUpdate=J}break;case 3:Me&&Ze(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(se){Qi(f,f.return,se)}if(p=f.sibling,p!==null){p.return=f.return,Ye=p;break}Ye=f.return}return S=sD,sD=!1,S}function fu(f,p,S){var C=p.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var P=C=C.next;do{if((P.tag&f)===f){var k=P.destroy;P.destroy=void 0,k!==void 0&&kE(p,S,k)}P=P.next}while(P!==C)}}function um(f,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var S=p=p.next;do{if((S.tag&f)===f){var C=S.create;S.destroy=C()}S=S.next}while(S!==p)}}function OE(f){var p=f.ref;if(p!==null){var S=f.stateNode;switch(f.tag){case 5:f=ee(S);break;default:f=S}typeof p=="function"?p(f):p.current=f}}function oD(f,p,S){if(Yo&&typeof Yo.onCommitFiberUnmount=="function")try{Yo.onCommitFiberUnmount(_0,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(f=p.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var C=f=f.next;do{var P=C,k=P.destroy;P=P.tag,k!==void 0&&(P&2||P&4)&&kE(p,S,k),C=C.next}while(C!==f)}break;case 1:if(W0(p,S),f=p.stateNode,typeof f.componentWillUnmount=="function")try{f.props=p.memoizedProps,f.state=p.memoizedState,f.componentWillUnmount()}catch(J){Qi(p,S,J)}break;case 5:W0(p,S);break;case 4:Me?hD(f,p,S):ce&&ce&&(p=p.stateNode.containerInfo,S=an(p),Oi(p,S))}}function aD(f,p,S){for(var C=p;;)if(oD(f,C,S),C.child===null||Me&&C.tag===4){if(C===p)break;for(;C.sibling===null;){if(C.return===null||C.return===p)return;C=C.return}C.sibling.return=C.return,C=C.sibling}else C.child.return=C,C=C.child}function lD(f){var p=f.alternate;p!==null&&(f.alternate=null,lD(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&ze(p)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function cD(f){return f.tag===5||f.tag===3||f.tag===4}function uD(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||cD(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function dD(f){if(Me){e:{for(var p=f.return;p!==null;){if(cD(p))break e;p=p.return}throw Error(o(160))}var S=p;switch(S.tag){case 5:p=S.stateNode,S.flags&32&&(wt(p),S.flags&=-33),S=uD(f),DE(f,S,p);break;case 3:case 4:p=S.stateNode.containerInfo,S=uD(f),LE(f,S,p);break;default:throw Error(o(161))}}}function LE(f,p,S){var C=f.tag;if(C===5||C===6)f=f.stateNode,p?ke(S,f,p):ue(S,f);else if(C!==4&&(f=f.child,f!==null))for(LE(f,p,S),f=f.sibling;f!==null;)LE(f,p,S),f=f.sibling}function DE(f,p,S){var C=f.tag;if(C===5||C===6)f=f.stateNode,p?ye(S,f,p):we(S,f);else if(C!==4&&(f=f.child,f!==null))for(DE(f,p,S),f=f.sibling;f!==null;)DE(f,p,S),f=f.sibling}function hD(f,p,S){for(var C=p,P=!1,k,J;;){if(!P){P=C.return;e:for(;;){if(P===null)throw Error(o(160));switch(k=P.stateNode,P.tag){case 5:J=!1;break e;case 3:k=k.containerInfo,J=!0;break e;case 4:k=k.containerInfo,J=!0;break e}P=P.return}P=!0}if(C.tag===5||C.tag===6)aD(f,C,S),J?ot(k,C.stateNode):Ue(k,C.stateNode);else if(C.tag===18)J?ut(k,C.stateNode):Un(k,C.stateNode);else if(C.tag===4){if(C.child!==null){k=C.stateNode.containerInfo,J=!0,C.child.return=C,C=C.child;continue}}else if(oD(f,C,S),C.child!==null){C.child.return=C,C=C.child;continue}if(C===p)break;for(;C.sibling===null;){if(C.return===null||C.return===p)return;C=C.return,C.tag===4&&(P=!1)}C.sibling.return=C.return,C=C.sibling}}function BE(f,p){if(Me){switch(p.tag){case 0:case 11:case 14:case 15:fu(3,p,p.return),um(3,p),fu(5,p,p.return);return;case 1:return;case 5:var S=p.stateNode;if(S!=null){var C=p.memoizedProps;f=f!==null?f.memoizedProps:C;var P=p.type,k=p.updateQueue;p.updateQueue=null,k!==null&&Y(S,k,P,f,C,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));S=p.memoizedProps,fe(p.stateNode,f!==null?f.memoizedProps:S,S);return;case 3:ve&&f!==null&&f.memoizedState.isDehydrated&&Pt(p.stateNode.containerInfo);return;case 12:return;case 13:j0(p);return;case 19:j0(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:fu(3,p,p.return),um(3,p),fu(5,p,p.return);return;case 12:return;case 13:j0(p);return;case 19:j0(p);return;case 3:ve&&f!==null&&f.memoizedState.isDehydrated&&Pt(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(ce){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,Oi(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function j0(f){var p=f.updateQueue;if(p!==null){f.updateQueue=null;var S=f.stateNode;S===null&&(S=f.stateNode=new _X),p.forEach(function(C){var P=RX.bind(null,f,C);S.has(C)||(S.add(C),C.then(P,P))})}}function bX(f,p){for(Ye=p;Ye!==null;){p=Ye;var S=p.deletions;if(S!==null)for(var C=0;C<S.length;C++){var P=S[C];try{var k=f;Me?hD(k,P,p):aD(k,P,p);var J=P.alternate;J!==null&&(J.return=null),P.return=null}catch(at){Qi(P,p,at)}}if(S=p.child,p.subtreeFlags&12854&&S!==null)S.return=p,Ye=S;else for(;Ye!==null;){p=Ye;try{var se=p.flags;if(se&32&&Me&&wt(p.stateNode),se&512){var Ce=p.alternate;if(Ce!==null){var je=Ce.ref;je!==null&&(typeof je=="function"?je(null):je.current=null)}}if(se&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var rt=p.alternate;(rt===null||rt.memoizedState===null)&&(WE=Fr())}break;case 22:var _t=p.memoizedState!==null,dt=p.alternate,bn=dt!==null&&dt.memoizedState!==null;if(S=p,Me){e:if(C=S,P=_t,k=null,Me)for(var lt=C;;){if(lt.tag===5){if(k===null){k=lt;var gi=lt.stateNode;P?dn(gi):oe(lt.stateNode,lt.memoizedProps)}}else if(lt.tag===6){if(k===null){var js=lt.stateNode;P?ie(js):Oe(js,lt.memoizedProps)}}else if((lt.tag!==22&&lt.tag!==23||lt.memoizedState===null||lt===C)&&lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===C)break;for(;lt.sibling===null;){if(lt.return===null||lt.return===C)break e;k===lt&&(k=null),lt=lt.return}k===lt&&(k=null),lt.sibling.return=lt.return,lt=lt.sibling}}if(_t&&!bn&&S.mode&1){Ye=S;for(var ge=S.child;ge!==null;){for(S=Ye=ge;Ye!==null;){C=Ye;var le=C.child;switch(C.tag){case 0:case 11:case 14:case 15:fu(4,C,C.return);break;case 1:W0(C,C.return);var be=C.stateNode;if(typeof be.componentWillUnmount=="function"){var Qe=C.return;try{be.props=C.memoizedProps,be.state=C.memoizedState,be.componentWillUnmount()}catch(at){Qi(C,Qe,at)}}break;case 5:W0(C,C.return);break;case 22:if(C.memoizedState!==null){mD(S);continue}}le!==null?(le.return=C,Ye=le):mD(S)}ge=ge.sibling}}}switch(se&4102){case 2:dD(p),p.flags&=-3;break;case 6:dD(p),p.flags&=-3,BE(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,BE(p.alternate,p);break;case 4:BE(p.alternate,p)}}catch(at){Qi(p,p.return,at)}if(S=p.sibling,S!==null){S.return=p.return,Ye=S;break}Ye=p.return}}}function wX(f,p,S){Ye=f,fD(f)}function fD(f,p,S){for(var C=(f.mode&1)!==0;Ye!==null;){var P=Ye,k=P.child;if(P.tag===22&&C){var J=P.memoizedState!==null||V0;if(!J){var se=P.alternate,Ce=se!==null&&se.memoizedState!==null||hu;se=V0;var je=hu;if(V0=J,(hu=Ce)&&!je)for(Ye=P;Ye!==null;)J=Ye,Ce=J.child,J.tag===22&&J.memoizedState!==null?gD(P):Ce!==null?(Ce.return=J,Ye=Ce):gD(P);for(;k!==null;)Ye=k,fD(k),k=k.sibling;Ye=P,V0=se,hu=je}pD(f)}else P.subtreeFlags&8772&&k!==null?(k.return=P,Ye=k):pD(f)}}function pD(f){for(;Ye!==null;){var p=Ye;if(p.flags&8772){var S=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:hu||um(5,p);break;case 1:var C=p.stateNode;if(p.flags&4&&!hu)if(S===null)C.componentDidMount();else{var P=p.elementType===p.type?S.memoizedProps:vo(p.type,S.memoizedProps);C.componentDidUpdate(P,S.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var k=p.updateQueue;k!==null&&lL(p,k,C);break;case 3:var J=p.updateQueue;if(J!==null){if(S=null,p.child!==null)switch(p.child.tag){case 5:S=ee(p.child.stateNode);break;case 1:S=p.child.stateNode}lL(p,J,S)}break;case 5:var se=p.stateNode;S===null&&p.flags&4&&Fe(se,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(ve&&p.memoizedState===null){var Ce=p.alternate;if(Ce!==null){var je=Ce.memoizedState;if(je!==null){var rt=je.dehydrated;rt!==null&&Ot(rt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}hu||p.flags&512&&OE(p)}catch(_t){Qi(p,p.return,_t)}}if(p===f){Ye=null;break}if(S=p.sibling,S!==null){S.return=p.return,Ye=S;break}Ye=p.return}}function mD(f){for(;Ye!==null;){var p=Ye;if(p===f){Ye=null;break}var S=p.sibling;if(S!==null){S.return=p.return,Ye=S;break}Ye=p.return}}function gD(f){for(;Ye!==null;){var p=Ye;try{switch(p.tag){case 0:case 11:case 15:var S=p.return;try{um(4,p)}catch(Ce){Qi(p,S,Ce)}break;case 1:var C=p.stateNode;if(typeof C.componentDidMount=="function"){var P=p.return;try{C.componentDidMount()}catch(Ce){Qi(p,P,Ce)}}var k=p.return;try{OE(p)}catch(Ce){Qi(p,k,Ce)}break;case 5:var J=p.return;try{OE(p)}catch(Ce){Qi(p,J,Ce)}}}catch(Ce){Qi(p,p.return,Ce)}if(p===f){Ye=null;break}var se=p.sibling;if(se!==null){se.return=p.return,Ye=se;break}Ye=p.return}}var $0=0,K0=1,X0=2,J0=3,Y0=4;if(typeof Symbol=="function"&&Symbol.for){var dm=Symbol.for;$0=dm("selector.component"),K0=dm("selector.has_pseudo_class"),X0=dm("selector.role"),J0=dm("selector.test_id"),Y0=dm("selector.text")}function FE(f){var p=Ie(f);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(f=it(f),f===null)throw Error(o(362));return f.stateNode.current}function zE(f,p){switch(p.$$typeof){case $0:if(f.type===p.value)return!0;break;case K0:e:{p=p.value,f=[f,0];for(var S=0;S<f.length;){var C=f[S++],P=f[S++],k=p[P];if(C.tag!==5||!ne(C)){for(;k!=null&&zE(C,k);)P++,k=p[P];if(P===p.length){p=!0;break e}else for(C=C.child;C!==null;)f.push(C,P),C=C.sibling}}p=!1}return p;case X0:if(f.tag===5&&Se(f.stateNode,p.value))return!0;break;case Y0:if((f.tag===5||f.tag===6)&&(f=B(f),f!==null&&0<=f.indexOf(p.value)))return!0;break;case J0:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function UE(f){switch(f.$$typeof){case $0:return"<"+(I(f.value)||"Unknown")+">";case K0:return":has("+(UE(f)||"")+")";case X0:return'[role="'+f.value+'"]';case Y0:return'"'+f.value+'"';case J0:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function vD(f,p){var S=[];f=[f,0];for(var C=0;C<f.length;){var P=f[C++],k=f[C++],J=p[k];if(P.tag!==5||!ne(P)){for(;J!=null&&zE(P,J);)k++,J=p[k];if(k===p.length)S.push(P);else for(P=P.child;P!==null;)f.push(P,k),P=P.sibling}}return S}function HE(f,p){if(!qe)throw Error(o(363));f=FE(f),f=vD(f,p),p=[],f=Array.from(f);for(var S=0;S<f.length;){var C=f[S++];if(C.tag===5)ne(C)||p.push(C.stateNode);else for(C=C.child;C!==null;)f.push(C),C=C.sibling}return p}var SX=Math.ceil,q0=a.ReactCurrentDispatcher,GE=a.ReactCurrentOwner,mr=a.ReactCurrentBatchConfig,Rt=0,br=null,wr=null,ti=0,ys=0,nh=Hn(0),Tr=0,hm=null,rh=0,Q0=0,VE=0,fm=null,Yi=null,WE=0,jE=1/0;function ih(){jE=Fr()+500}var Z0=!1,$E=null,Bl=null,e_=!1,Fl=null,t_=0,pm=0,KE=null,n_=-1,r_=0;function Di(){return Rt&6?Fr():n_!==-1?n_:n_=Fr()}function zl(f){return f.mode&1?Rt&2&&ti!==0?ti&-ti:sX.transition!==null?(r_===0&&(f=g0,g0<<=1,!(g0&4194240)&&(g0=64),r_=f),r_):(f=tn,f!==0?f:De()):1}function Vs(f,p,S){if(50<pm)throw pm=0,KE=null,Error(o(185));var C=i_(f,p);return C===null?null:(qp(C,p,S),(!(Rt&2)||C!==br)&&(C===br&&(!(Rt&2)&&(Q0|=p),Tr===4&&Ul(C,ti)),qi(C,S),p===1&&Rt===0&&!(f.mode&1)&&(ih(),x0&&Qo())),C)}function i_(f,p){f.lanes|=p;var S=f.alternate;for(S!==null&&(S.lanes|=p),S=f,f=f.return;f!==null;)f.childLanes|=p,S=f.alternate,S!==null&&(S.childLanes|=p),S=f,f=f.return;return S.tag===3?S.stateNode:null}function qi(f,p){var S=f.callbackNode;YK(f,p);var C=y0(f,f===br?ti:0);if(C===0)S!==null&&rL(S),f.callbackNode=null,f.callbackPriority=0;else if(p=C&-C,f.callbackPriority!==p){if(S!=null&&rL(S),p===1)f.tag===0?iX(_D.bind(null,f)):iL(_D.bind(null,f)),We?et(function(){Rt===0&&Qo()}):tE(nE,Qo),S=null;else{switch(nL(C)){case 1:S=nE;break;case 4:S=eX;break;case 16:S=rE;break;case 536870912:S=tX;break;default:S=rE}S=TD(S,yD.bind(null,f))}f.callbackPriority=p,f.callbackNode=S}}function yD(f,p){if(n_=-1,r_=0,Rt&6)throw Error(o(327));var S=f.callbackNode;if(gu()&&f.callbackNode!==S)return null;var C=y0(f,f===br?ti:0);if(C===0)return null;if(C&30||C&f.expiredLanes||p)p=s_(f,C);else{p=C;var P=Rt;Rt|=2;var k=wD();(br!==f||ti!==p)&&(ih(),pu(f,p));do try{AX();break}catch(se){bD(f,se)}while(1);oE(),q0.current=k,Rt=P,wr!==null?p=0:(br=null,ti=0,p=Tr)}if(p!==0){if(p===2&&(P=QS(f),P!==0&&(C=P,p=XE(f,P))),p===1)throw S=hm,pu(f,0),Ul(f,C),qi(f,Fr()),S;if(p===6)Ul(f,C);else{if(P=f.current.alternate,!(C&30)&&!EX(P)&&(p=s_(f,C),p===2&&(k=QS(f),k!==0&&(C=k,p=XE(f,k))),p===1))throw S=hm,pu(f,0),Ul(f,C),qi(f,Fr()),S;switch(f.finishedWork=P,f.finishedLanes=C,p){case 0:case 1:throw Error(o(345));case 2:mu(f,Yi);break;case 3:if(Ul(f,C),(C&130023424)===C&&(p=WE+500-Fr(),10<p)){if(y0(f,0)!==0)break;if(P=f.suspendedLanes,(P&C)!==C){Di(),f.pingedLanes|=f.suspendedLanes&P;break}f.timeoutHandle=me(mu.bind(null,f,Yi),p);break}mu(f,Yi);break;case 4:if(Ul(f,C),(C&4194240)===C)break;for(p=f.eventTimes,P=-1;0<C;){var J=31-go(C);k=1<<J,J=p[J],J>P&&(P=J),C&=~k}if(C=P,C=Fr()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*SX(C/1960))-C,10<C){f.timeoutHandle=me(mu.bind(null,f,Yi),C);break}mu(f,Yi);break;case 5:mu(f,Yi);break;default:throw Error(o(329))}}}return qi(f,Fr()),f.callbackNode===S?yD.bind(null,f):null}function XE(f,p){var S=fm;return f.current.memoizedState.isDehydrated&&(pu(f,p).flags|=256),f=s_(f,p),f!==2&&(p=Yi,Yi=S,p!==null&&JE(p)),f}function JE(f){Yi===null?Yi=f:Yi.push.apply(Yi,f)}function EX(f){for(var p=f;;){if(p.flags&16384){var S=p.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var C=0;C<S.length;C++){var P=S[C],k=P.getSnapshot;P=P.value;try{if(!qo(k(),P))return!1}catch{return!1}}}if(S=p.child,p.subtreeFlags&16384&&S!==null)S.return=p,p=S;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Ul(f,p){for(p&=~VE,p&=~Q0,f.suspendedLanes|=p,f.pingedLanes&=~p,f=f.expirationTimes;0<p;){var S=31-go(p),C=1<<S;f[S]=-1,p&=~C}}function _D(f){if(Rt&6)throw Error(o(327));gu();var p=y0(f,0);if(!(p&1))return qi(f,Fr()),null;var S=s_(f,p);if(f.tag!==0&&S===2){var C=QS(f);C!==0&&(p=C,S=XE(f,C))}if(S===1)throw S=hm,pu(f,0),Ul(f,p),qi(f,Fr()),S;if(S===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=p,mu(f,Yi),qi(f,Fr()),null}function xD(f){Fl!==null&&Fl.tag===0&&!(Rt&6)&&gu();var p=Rt;Rt|=1;var S=mr.transition,C=tn;try{if(mr.transition=null,tn=1,f)return f()}finally{tn=C,mr.transition=S,Rt=p,!(Rt&6)&&Qo()}}function YE(){ys=nh.current,Zt(nh)}function pu(f,p){f.finishedWork=null,f.finishedLanes=0;var S=f.timeoutHandle;if(S!==xe&&(f.timeoutHandle=xe,ae(S)),wr!==null)for(S=wr.return;S!==null;){var C=S;switch(fE(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&p0();break;case 3:eh(),Zt(hi),Zt(xr),xE();break;case 5:yE(C);break;case 4:eh();break;case 13:Zt(Jn);break;case 19:Zt(Jn);break;case 10:aE(C.type._context);break;case 22:case 23:YE()}S=S.return}if(br=f,wr=f=Hl(f.current,null),ti=ys=p,Tr=0,hm=null,VE=Q0=rh=0,Yi=fm=null,Zo!==null){for(p=0;p<Zo.length;p++)if(S=Zo[p],C=S.interleaved,C!==null){S.interleaved=null;var P=C.next,k=S.pending;if(k!==null){var J=k.next;k.next=P,C.next=J}S.pending=C}Zo=null}return f}function bD(f,p){do{var S=wr;try{if(oE(),I0.current=B0,N0){for(var C=sr.memoizedState;C!==null;){var P=C.queue;P!==null&&(P.pending=null),C=C.next}N0=!1}if(th=0,zr=fi=sr=null,rm=!1,im=0,GE.current=null,S===null||S.return===null){Tr=1,hm=p,wr=null;break}e:{var k=f,J=S.return,se=S,Ce=p;if(p=ti,se.flags|=32768,Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var je=Ce,rt=se,_t=rt.tag;if(!(rt.mode&1)&&(_t===0||_t===11||_t===15)){var dt=rt.alternate;dt?(rt.updateQueue=dt.updateQueue,rt.memoizedState=dt.memoizedState,rt.lanes=dt.lanes):(rt.updateQueue=null,rt.memoizedState=null)}var bn=GL(J);if(bn!==null){bn.flags&=-257,VL(bn,J,se,k,p),bn.mode&1&&HL(k,je,p),p=bn,Ce=je;var lt=p.updateQueue;if(lt===null){var gi=new Set;gi.add(Ce),p.updateQueue=gi}else lt.add(Ce);break e}else{if(!(p&1)){HL(k,je,p),qE();break e}Ce=Error(o(426))}}else if(Gn&&se.mode&1){var js=GL(J);if(js!==null){!(js.flags&65536)&&(js.flags|=256),VL(js,J,se,k,p),gE(Ce);break e}}k=Ce,Tr!==4&&(Tr=2),fm===null?fm=[k]:fm.push(k),Ce=ME(Ce,se),se=J;do{switch(se.tag){case 3:se.flags|=65536,p&=-p,se.lanes|=p;var ge=zL(se,Ce,p);aL(se,ge);break e;case 1:k=Ce;var le=se.type,be=se.stateNode;if(!(se.flags&128)&&(typeof le.getDerivedStateFromError=="function"||be!==null&&typeof be.componentDidCatch=="function"&&(Bl===null||!Bl.has(be)))){se.flags|=65536,p&=-p,se.lanes|=p;var Qe=UL(se,k,p);aL(se,Qe);break e}}se=se.return}while(se!==null)}ED(S)}catch(at){p=at,wr===S&&S!==null&&(wr=S=S.return);continue}break}while(1)}function wD(){var f=q0.current;return q0.current=B0,f===null?B0:f}function qE(){(Tr===0||Tr===3||Tr===2)&&(Tr=4),br===null||!(rh&268435455)&&!(Q0&268435455)||Ul(br,ti)}function s_(f,p){var S=Rt;Rt|=2;var C=wD();br===f&&ti===p||pu(f,p);do try{CX();break}catch(P){bD(f,P)}while(1);if(oE(),Rt=S,q0.current=C,wr!==null)throw Error(o(261));return br=null,ti=0,Tr}function CX(){for(;wr!==null;)SD(wr)}function AX(){for(;wr!==null&&!QK();)SD(wr)}function SD(f){var p=MD(f.alternate,f,ys);f.memoizedProps=f.pendingProps,p===null?ED(f):wr=p,GE.current=null}function ED(f){var p=f;do{var S=p.alternate;if(f=p.return,p.flags&32768){if(S=yX(S,p),S!==null){S.flags&=32767,wr=S;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{Tr=6,wr=null;return}}else if(S=mX(S,p,ys),S!==null){wr=S;return}if(p=p.sibling,p!==null){wr=p;return}wr=p=f}while(p!==null);Tr===0&&(Tr=5)}function mu(f,p){var S=tn,C=mr.transition;try{mr.transition=null,tn=1,MX(f,p,S)}finally{mr.transition=C,tn=S}return null}function MX(f,p,S){do gu();while(Fl!==null);if(Rt&6)throw Error(o(327));var C=f.finishedWork,P=f.finishedLanes;if(C===null)return null;if(f.finishedWork=null,f.finishedLanes=0,C===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var k=C.lanes|C.childLanes;if(qK(f,k),f===br&&(wr=br=null,ti=0),!(C.subtreeFlags&2064)&&!(C.flags&2064)||e_||(e_=!0,TD(rE,function(){return gu(),null})),k=(C.flags&15990)!==0,C.subtreeFlags&15990||k){k=mr.transition,mr.transition=null;var J=tn;tn=1;var se=Rt;Rt|=4,GE.current=null,xX(f,C),bX(f,C),Z(f.containerInfo),f.current=C,wX(C),ZK(),Rt=se,tn=J,mr.transition=k}else f.current=C;if(e_&&(e_=!1,Fl=f,t_=P),k=f.pendingLanes,k===0&&(Bl=null),nX(C.stateNode),qi(f,Fr()),p!==null)for(S=f.onRecoverableError,C=0;C<p.length;C++)S(p[C]);if(Z0)throw Z0=!1,f=$E,$E=null,f;return t_&1&&f.tag!==0&&gu(),k=f.pendingLanes,k&1?f===KE?pm++:(pm=0,KE=f):pm=0,Qo(),null}function gu(){if(Fl!==null){var f=nL(t_),p=mr.transition,S=tn;try{if(mr.transition=null,tn=16>f?16:f,Fl===null)var C=!1;else{if(f=Fl,Fl=null,t_=0,Rt&6)throw Error(o(331));var P=Rt;for(Rt|=4,Ye=f.current;Ye!==null;){var k=Ye,J=k.child;if(Ye.flags&16){var se=k.deletions;if(se!==null){for(var Ce=0;Ce<se.length;Ce++){var je=se[Ce];for(Ye=je;Ye!==null;){var rt=Ye;switch(rt.tag){case 0:case 11:case 15:fu(8,rt,k)}var _t=rt.child;if(_t!==null)_t.return=rt,Ye=_t;else for(;Ye!==null;){rt=Ye;var dt=rt.sibling,bn=rt.return;if(lD(rt),rt===je){Ye=null;break}if(dt!==null){dt.return=bn,Ye=dt;break}Ye=bn}}}var lt=k.alternate;if(lt!==null){var gi=lt.child;if(gi!==null){lt.child=null;do{var js=gi.sibling;gi.sibling=null,gi=js}while(gi!==null)}}Ye=k}}if(k.subtreeFlags&2064&&J!==null)J.return=k,Ye=J;else e:for(;Ye!==null;){if(k=Ye,k.flags&2048)switch(k.tag){case 0:case 11:case 15:fu(9,k,k.return)}var ge=k.sibling;if(ge!==null){ge.return=k.return,Ye=ge;break e}Ye=k.return}}var le=f.current;for(Ye=le;Ye!==null;){J=Ye;var be=J.child;if(J.subtreeFlags&2064&&be!==null)be.return=J,Ye=be;else e:for(J=le;Ye!==null;){if(se=Ye,se.flags&2048)try{switch(se.tag){case 0:case 11:case 15:um(9,se)}}catch(at){Qi(se,se.return,at)}if(se===J){Ye=null;break e}var Qe=se.sibling;if(Qe!==null){Qe.return=se.return,Ye=Qe;break e}Ye=se.return}}if(Rt=P,Qo(),Yo&&typeof Yo.onPostCommitFiberRoot=="function")try{Yo.onPostCommitFiberRoot(_0,f)}catch{}C=!0}return C}finally{tn=S,mr.transition=p}}return!1}function CD(f,p,S){p=ME(S,p),p=zL(f,p,1),Dl(f,p),p=Di(),f=i_(f,1),f!==null&&(qp(f,1,p),qi(f,p))}function Qi(f,p,S){if(f.tag===3)CD(f,f,S);else for(;p!==null;){if(p.tag===3){CD(p,f,S);break}else if(p.tag===1){var C=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Bl===null||!Bl.has(C))){f=ME(S,f),f=UL(p,f,1),Dl(p,f),f=Di(),p=i_(p,1),p!==null&&(qp(p,1,f),qi(p,f));break}}p=p.return}}function TX(f,p,S){var C=f.pingCache;C!==null&&C.delete(p),p=Di(),f.pingedLanes|=f.suspendedLanes&S,br===f&&(ti&S)===S&&(Tr===4||Tr===3&&(ti&130023424)===ti&&500>Fr()-WE?pu(f,0):VE|=S),qi(f,p)}function AD(f,p){p===0&&(f.mode&1?(p=v0,v0<<=1,!(v0&130023424)&&(v0=4194304)):p=1);var S=Di();f=i_(f,p),f!==null&&(qp(f,p,S),qi(f,S))}function PX(f){var p=f.memoizedState,S=0;p!==null&&(S=p.retryLane),AD(f,S)}function RX(f,p){var S=0;switch(f.tag){case 13:var C=f.stateNode,P=f.memoizedState;P!==null&&(S=P.retryLane);break;case 19:C=f.stateNode;break;default:throw Error(o(314))}C!==null&&C.delete(p),AD(f,S)}var MD;MD=function(f,p,S){if(f!==null)if(f.memoizedProps!==p.pendingProps||hi.current)vs=!0;else{if(!(f.lanes&S)&&!(p.flags&128))return vs=!1,vX(f,p,S);vs=!!(f.flags&131072)}else vs=!1,Gn&&p.flags&1048576&&fL(p,T0,p.index);switch(p.lanes=0,p.tag){case 2:var C=p.type;f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),f=p.pendingProps;var P=$d(p,xr.current);Xd(p,S),P=wE(null,p,C,f,P,S);var k=SE();return p.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Ji(C)?(k=!0,m0(p)):k=!1,p.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,cE(p),P.updater=A0,p.stateNode=P,P._reactInternals=p,dE(p,C,f,S),p=RE(null,p,C,!0,k,S)):(p.tag=0,Gn&&k&&hE(p),Li(null,p,P,S),p=p.child),p;case 16:C=p.elementType;e:{switch(f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),f=p.pendingProps,P=C._init,C=P(C._payload),p.type=C,P=p.tag=NX(C),f=vo(C,f),P){case 0:p=PE(null,p,C,f,S);break e;case 1:p=qL(null,p,C,f,S);break e;case 11:p=$L(null,p,C,f,S);break e;case 14:p=KL(null,p,C,vo(C.type,f),S);break e}throw Error(o(306,C,""))}return p;case 0:return C=p.type,P=p.pendingProps,P=p.elementType===C?P:vo(C,P),PE(f,p,C,P,S);case 1:return C=p.type,P=p.pendingProps,P=p.elementType===C?P:vo(C,P),qL(f,p,C,P,S);case 3:e:{if(QL(p),f===null)throw Error(o(387));C=p.pendingProps,k=p.memoizedState,P=k.element,oL(f,p),C0(p,C,null,S);var J=p.memoizedState;if(C=J.element,ve&&k.isDehydrated)if(k={element:C,isDehydrated:!1,cache:J.cache,transitions:J.transitions},p.updateQueue.baseState=k,p.memoizedState=k,p.flags&256){P=Error(o(423)),p=ZL(f,p,C,S,P);break e}else if(C!==P){P=Error(o(424)),p=ZL(f,p,C,S,P);break e}else for(ve&&(gs=Te(p.stateNode.containerInfo),ms=p,Gn=!0,yo=null,Qp=!1),S=_L(p,null,C,S),p.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(qd(),C===P){p=Va(f,p,S);break e}Li(f,p,C,S)}p=p.child}return p;case 5:return xL(p),f===null&&mE(p),C=p.type,P=p.pendingProps,k=f!==null?f.memoizedProps:null,J=P.children,q(C,P)?J=null:k!==null&&q(C,k)&&(p.flags|=32),YL(f,p),Li(f,p,J,S),p.child;case 6:return f===null&&mE(p),null;case 13:return eD(f,p,S);case 4:return vE(p,p.stateNode.containerInfo),C=p.pendingProps,f===null?p.child=Qd(p,null,C,S):Li(f,p,C,S),p.child;case 11:return C=p.type,P=p.pendingProps,P=p.elementType===C?P:vo(C,P),$L(f,p,C,P,S);case 7:return Li(f,p,p.pendingProps,S),p.child;case 8:return Li(f,p,p.pendingProps.children,S),p.child;case 12:return Li(f,p,p.pendingProps.children,S),p.child;case 10:e:{if(C=p.type._context,P=p.pendingProps,k=p.memoizedProps,J=P.value,sL(p,C,J),k!==null)if(qo(k.value,J)){if(k.children===P.children&&!hi.current){p=Va(f,p,S);break e}}else for(k=p.child,k!==null&&(k.return=p);k!==null;){var se=k.dependencies;if(se!==null){J=k.child;for(var Ce=se.firstContext;Ce!==null;){if(Ce.context===C){if(k.tag===1){Ce=za(-1,S&-S),Ce.tag=2;var je=k.updateQueue;if(je!==null){je=je.shared;var rt=je.pending;rt===null?Ce.next=Ce:(Ce.next=rt.next,rt.next=Ce),je.pending=Ce}}k.lanes|=S,Ce=k.alternate,Ce!==null&&(Ce.lanes|=S),lE(k.return,S,p),se.lanes|=S;break}Ce=Ce.next}}else if(k.tag===10)J=k.type===p.type?null:k.child;else if(k.tag===18){if(J=k.return,J===null)throw Error(o(341));J.lanes|=S,se=J.alternate,se!==null&&(se.lanes|=S),lE(J,S,p),J=k.sibling}else J=k.child;if(J!==null)J.return=k;else for(J=k;J!==null;){if(J===p){J=null;break}if(k=J.sibling,k!==null){k.return=J.return,J=k;break}J=J.return}k=J}Li(f,p,P.children,S),p=p.child}return p;case 9:return P=p.type,C=p.pendingProps.children,Xd(p,S),P=Fs(P),C=C(P),p.flags|=1,Li(f,p,C,S),p.child;case 14:return C=p.type,P=vo(C,p.pendingProps),P=vo(C.type,P),KL(f,p,C,P,S);case 15:return XL(f,p,p.type,p.pendingProps,S);case 17:return C=p.type,P=p.pendingProps,P=p.elementType===C?P:vo(C,P),f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Ji(C)?(f=!0,m0(p)):f=!1,Xd(p,S),dL(p,C,P),dE(p,C,P,S),RE(null,p,C,!0,f,S);case 19:return iD(f,p,S);case 22:return JL(f,p,S)}throw Error(o(156,p.tag))};function TD(f,p){return tE(f,p)}function IX(f,p,S,C){this.tag=f,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(f,p,S,C){return new IX(f,p,S,C)}function QE(f){return f=f.prototype,!(!f||!f.isReactComponent)}function NX(f){if(typeof f=="function")return QE(f)?1:0;if(f!=null){if(f=f.$$typeof,f===v)return 11;if(f===b)return 14}return 2}function Hl(f,p){var S=f.alternate;return S===null?(S=Ws(f.tag,p,f.key,f.mode),S.elementType=f.elementType,S.type=f.type,S.stateNode=f.stateNode,S.alternate=f,f.alternate=S):(S.pendingProps=p,S.type=f.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=f.flags&14680064,S.childLanes=f.childLanes,S.lanes=f.lanes,S.child=f.child,S.memoizedProps=f.memoizedProps,S.memoizedState=f.memoizedState,S.updateQueue=f.updateQueue,p=f.dependencies,S.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},S.sibling=f.sibling,S.index=f.index,S.ref=f.ref,S}function o_(f,p,S,C,P,k){var J=2;if(C=f,typeof f=="function")QE(f)&&(J=1);else if(typeof f=="string")J=5;else e:switch(f){case u:return vu(S.children,P,k,p);case d:J=8,P|=8;break;case h:return f=Ws(12,S,p,P|2),f.elementType=h,f.lanes=k,f;case _:return f=Ws(13,S,p,P),f.elementType=_,f.lanes=k,f;case x:return f=Ws(19,S,p,P),f.elementType=x,f.lanes=k,f;case E:return a_(S,P,k,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case m:J=10;break e;case g:J=9;break e;case v:J=11;break e;case b:J=14;break e;case w:J=16,C=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return p=Ws(J,S,p,P),p.elementType=f,p.type=C,p.lanes=k,p}function vu(f,p,S,C){return f=Ws(7,f,C,p),f.lanes=S,f}function a_(f,p,S,C){return f=Ws(22,f,C,p),f.elementType=E,f.lanes=S,f.stateNode={},f}function ZE(f,p,S){return f=Ws(6,f,null,p),f.lanes=S,f}function eC(f,p,S){return p=Ws(4,f.children!==null?f.children:[],f.key,p),p.lanes=S,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function kX(f,p,S,C,P){this.tag=p,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=xe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ZS(0),this.expirationTimes=ZS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ZS(0),this.identifierPrefix=C,this.onRecoverableError=P,ve&&(this.mutableSourceEagerHydrationData=null)}function PD(f,p,S,C,P,k,J,se,Ce){return f=new kX(f,p,S,se,Ce),p===1?(p=1,k===!0&&(p|=8)):p=0,k=Ws(3,null,null,p),f.current=k,k.stateNode=f,k.memoizedState={element:C,isDehydrated:S,cache:null,transitions:null},cE(k),f}function RD(f){if(!f)return ir;f=f._reactInternals;e:{if(R(f)!==f||f.tag!==1)throw Error(o(170));var p=f;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Ji(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(f.tag===1){var S=f.type;if(Ji(S))return eL(f,S,p)}return p}function ID(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=X(p),f===null?null:f.stateNode}function ND(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var S=f.retryLane;f.retryLane=S!==0&&S<p?S:p}}function tC(f,p){ND(f,p),(f=f.alternate)&&ND(f,p)}function OX(f){return f=X(f),f===null?null:f.stateNode}function LX(){return null}return t.attemptContinuousHydration=function(f){if(f.tag===13){var p=Di();Vs(f,134217728,p),tC(f,134217728)}},t.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var p=Di(),S=zl(f);Vs(f,S,p),tC(f,S)}},t.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var p=f.stateNode;if(p.current.memoizedState.isDehydrated){var S=Yp(p.pendingLanes);S!==0&&(eE(p,S|1),qi(p,Fr()),!(Rt&6)&&(ih(),Qo()))}break;case 13:var C=Di();xD(function(){return Vs(f,1,C)}),tC(f,1)}},t.batchedUpdates=function(f,p){var S=Rt;Rt|=1;try{return f(p)}finally{Rt=S,Rt===0&&(ih(),x0&&Qo())}},t.createComponentSelector=function(f){return{$$typeof:$0,value:f}},t.createContainer=function(f,p,S,C,P,k,J){return PD(f,p,!1,null,S,C,P,k,J)},t.createHasPseudoClassSelector=function(f){return{$$typeof:K0,value:f}},t.createHydrationContainer=function(f,p,S,C,P,k,J,se,Ce){return f=PD(S,C,!0,f,P,k,J,se,Ce),f.context=RD(null),S=f.current,C=Di(),P=zl(S),k=za(C,P),k.callback=p??null,Dl(S,k),f.current.lanes=P,qp(f,P,C),qi(f,C),f},t.createPortal=function(f,p,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:f,containerInfo:p,implementation:S}},t.createRoleSelector=function(f){return{$$typeof:X0,value:f}},t.createTestNameSelector=function(f){return{$$typeof:J0,value:f}},t.createTextSelector=function(f){return{$$typeof:Y0,value:f}},t.deferredUpdates=function(f){var p=tn,S=mr.transition;try{return mr.transition=null,tn=16,f()}finally{tn=p,mr.transition=S}},t.discreteUpdates=function(f,p,S,C,P){var k=tn,J=mr.transition;try{return mr.transition=null,tn=1,f(p,S,C,P)}finally{tn=k,mr.transition=J,Rt===0&&ih()}},t.findAllNodes=HE,t.findBoundingRects=function(f,p){if(!qe)throw Error(o(363));p=HE(f,p),f=[];for(var S=0;S<p.length;S++)f.push(j(p[S]));for(p=f.length-1;0<p;p--){S=f[p];for(var C=S.x,P=C+S.width,k=S.y,J=k+S.height,se=p-1;0<=se;se--)if(p!==se){var Ce=f[se],je=Ce.x,rt=je+Ce.width,_t=Ce.y,dt=_t+Ce.height;if(C>=je&&k>=_t&&P<=rt&&J<=dt){f.splice(p,1);break}else if(C!==je||S.width!==Ce.width||dt<k||_t>J){if(!(k!==_t||S.height!==Ce.height||rt<C||je>P)){je>C&&(Ce.width+=je-C,Ce.x=C),rt<P&&(Ce.width=P-je),f.splice(p,1);break}}else{_t>k&&(Ce.height+=_t-k,Ce.y=k),dt<J&&(Ce.height=J-_t),f.splice(p,1);break}}}return f},t.findHostInstance=ID,t.findHostInstanceWithNoPortals=function(f){return f=L(f),f=f!==null?K(f):null,f===null?null:f.stateNode},t.findHostInstanceWithWarning=function(f){return ID(f)},t.flushControlled=function(f){var p=Rt;Rt|=1;var S=mr.transition,C=tn;try{mr.transition=null,tn=1,f()}finally{tn=C,mr.transition=S,Rt=p,Rt===0&&(ih(),Qo())}},t.flushPassiveEffects=gu,t.flushSync=xD,t.focusWithin=function(f,p){if(!qe)throw Error(o(363));for(f=FE(f),p=vD(f,p),p=Array.from(p),f=0;f<p.length;){var S=p[f++];if(!ne(S)){if(S.tag===5&&Be(S.stateNode))return!0;for(S=S.child;S!==null;)p.push(S),S=S.sibling}}return!1},t.getCurrentUpdatePriority=function(){return tn},t.getFindAllNodesFailureDescription=function(f,p){if(!qe)throw Error(o(363));var S=0,C=[];f=[FE(f),0];for(var P=0;P<f.length;){var k=f[P++],J=f[P++],se=p[J];if((k.tag!==5||!ne(k))&&(zE(k,se)&&(C.push(UE(se)),J++,J>S&&(S=J)),J<p.length))for(k=k.child;k!==null;)f.push(k,J),k=k.sibling}if(S<p.length){for(f=[];S<p.length;S++)f.push(UE(p[S]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},t.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return ee(f.child.stateNode);default:return f.child.stateNode}},t.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:OX,findFiberByHostInstance:f.findFiberByHostInstance||LX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)f=!0;else{try{_0=p.inject(f),Yo=p}catch{}f=!!p.checkDCE}}return f},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(f,p,S,C){if(!qe)throw Error(o(363));f=HE(f,p);var P=He(f,S,C).disconnect;return{disconnect:function(){P()}}},t.registerMutableSourceForHydration=function(f,p){var S=p._getVersion;S=S(p._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[p,S]:f.mutableSourceEagerHydrationData.push(p,S)},t.runWithPriority=function(f,p){var S=tn;try{return tn=f,p()}finally{tn=S}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(f,p,S,C){var P=p.current,k=Di(),J=zl(P);return S=RD(S),p.context===null?p.context=S:p.pendingContext=S,p=za(k,J),p.payload={element:f},C=C===void 0?null:C,C!==null&&(p.callback=C),Dl(P,p),f=Vs(P,J,k),f!==null&&E0(f,P,J),J},t};(function(n){n.exports=Q2e})(Y2e);const Z2e=jw(xI);function gK(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}const tl=[];function vK(n,e,t=!1,r={}){for(const s of tl)if(gK(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,promise:n(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=tl.indexOf(i);s!==-1&&tl.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(tl.push(i),!t)throw i.promise}const eNe=(n,e,t)=>vK(n,e,!1,t),tNe=(n,e,t)=>void vK(n,e,!0,t),nNe=n=>{if(n===void 0||n.length===0)tl.splice(0,tl.length);else{const e=tl.find(t=>gK(n,t.keys,t.equal));if(e){const t=tl.indexOf(e);t!==-1&&tl.splice(t,1)}}};var BU,FU;const yK=n=>n&&n.isOrthographicCamera,rNe=n=>n&&n.hasOwnProperty("current"),h0=typeof window<"u"&&((BU=window.document)!=null&&BU.createElement||((FU=window.navigator)==null?void 0:FU.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function _K(n){const e=N.useRef(n);return h0(()=>void(e.current=n),[n]),e}function iNe({set:n}){return h0(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class xK extends N.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}xK.getDerivedStateFromError=()=>({error:!0});const bK="__default",zU=new Map,sNe=n=>n&&!!n.memoized&&!!n.changes;function wK(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const eg=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Yn={obj:n=>n===Object(n)&&!Yn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Yn.str(n)||Yn.num(n))return n===e;const s=Yn.obj(n);if(s&&r==="reference")return n===e;const o=Yn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;for(a in i?e:n)if(n[a]!==e[a])return!1;if(Yn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function oNe(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function aNe(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function zh(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function bI(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const UU=/-\d+$/;function EM(n,e,t){if(Yn.str(t)){if(UU.test(t)){const s=t.replace(UU,""),{target:o,key:a}=bI(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=bI(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function HU(n,e,t){var r,i;if(Yn.str(t)){const{target:s,key:o}=bI(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function SK(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const d=(u=n==null?void 0:n.__r3f)!=null?u:{},h=Object.entries(i),m=[];if(c){const v=Object.keys(l);for(let _=0;_<v.length;_++)i.hasOwnProperty(v[_])||h.unshift([v[_],bK+"remove"])}h.forEach(([v,_])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&v==="object"||Yn.equ(_,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return m.push([v,_,!0,[]]);let b=[];v.includes("-")&&(b=v.split("-")),m.push([v,_,!1,b]);for(const w in i){const E=i[w];w.startsWith(`${v}-`)&&m.push([w,E,!1,w.split("-")])}});const g={...i};return d.memoizedProps&&d.memoizedProps.args&&(g.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(g.attach=d.memoizedProps.attach),{memoized:g,changes:m}}function CM(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=sNe(e)?e:SK(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let h=0;h<c.length;h++){let[m,g,v,_]=c[h],x=n,b=x[m];if(_.length&&(b=_.reduce((w,E)=>w[E],n),!(b&&b.set))){const[w,...E]=_.reverse();x=E.reverse().reduce((A,T)=>A[T],n),m=w}if(g===bK+"remove")if(x.constructor){let w=zU.get(x.constructor);w||(w=new x.constructor,zU.set(x.constructor,w)),g=w[m]}else g=0;if(v)g?s.handlers[m]=g:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(b&&b.set&&(b.copy||b instanceof hd)){if(Array.isArray(g))b.fromArray?b.fromArray(g):b.set(...g);else if(b.copy&&g&&g.constructor&&b.constructor===g.constructor)b.copy(g);else if(g!==void 0){const w=b instanceof Ke;!w&&b.setScalar?b.setScalar(g):b instanceof hd&&g instanceof hd?b.mask=g.mask:b.set(g),!("ColorManagement"in Vw)&&!a.linear&&w&&b.convertSRGBToLinear()}}else x[m]=g,!a.linear&&x[m]instanceof Kn&&x[m].format===ts&&x[m].type===El&&(x[m].encoding=Ut);Uh(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const h=a.internal.interaction.indexOf(n);h>-1&&a.internal.interaction.splice(h,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&wI(n),n}function Uh(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function wI(n){n.onUpdate==null||n.onUpdate(n)}function EK(n,e){n.manual||(yK(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function lNe(n,e,t){const r=t.pop(),i=t.reduce((s,o)=>s[o],n);return i[r]=e}function Ax(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function cNe(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return vc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return vc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return vc.ContinuousEventPriority;default:return vc.DefaultEventPriority}}function CK(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function uNe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{CK(t.capturedMap,e,r,i)})}function dNe(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),d=new Set,h=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let x=0;x<m.length;x++){const b=eg(m[x]);b&&(b.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(x){const b=eg(x);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var w;b.events.compute==null||b.events.compute(l,b,(w=b.previousRoot)==null?void 0:w.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(x,!0):[]}let v=m.flatMap(g).sort((x,b)=>{const w=eg(x.object),E=eg(b.object);return!w||!E?x.distance-b.distance:E.events.priority-w.events.priority||x.distance-b.distance}).filter(x=>{const b=Ax(x);return d.has(b)?!1:(d.add(b),!0)});u.events.filter&&(v=u.events.filter(v,u));for(const x of v){let b=x.object;for(;b;){var _;(_=b.__r3f)!=null&&_.eventCount&&h.push({...x,eventObject:b}),b=b.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let x of u.internal.capturedMap.get(l.pointerId).values())d.has(Ax(x.intersection))||h.push(x.intersection);return h}function i(l,c,u,d){const h=n.getState();if(l.length){const m={stopped:!1};for(const g of l){const v=eg(g.object)||h,{raycaster:_,pointer:x,camera:b,internal:w}=v,E=new V(x.x,x.y,0).unproject(b),A=O=>{var L,X;return(L=(X=w.capturedMap.get(O))==null?void 0:X.has(g.eventObject))!=null?L:!1},T=O=>{const L={intersection:g,target:c.target};w.capturedMap.has(O)?w.capturedMap.get(O).set(g.eventObject,L):w.capturedMap.set(O,new Map([[g.eventObject,L]])),c.target.setPointerCapture(O)},I=O=>{const L=w.capturedMap.get(O);L&&CK(w.capturedMap,g.eventObject,L,O)};let M={};for(let O in c){let L=c[O];typeof L!="function"&&(M[O]=L)}let R={...g,...M,pointer:x,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:E,ray:_.ray,camera:b,stopPropagation(){const O="pointerId"in c&&w.capturedMap.get(c.pointerId);if((!O||O.has(g.eventObject))&&(R.stopped=m.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(L=>L.eventObject===g.eventObject))){const L=l.slice(0,l.indexOf(g));s([...L,g])}},target:{hasPointerCapture:A,setPointerCapture:T,releasePointerCapture:I},currentTarget:{hasPointerCapture:A,setPointerCapture:T,releasePointerCapture:I},nativeEvent:c};if(d(R),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const h=u.eventObject.__r3f,m=h==null?void 0:h.handlers;if(c.hovered.delete(Ax(u)),h!=null&&h.eventCount){const g={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))}}return function(u){const{onPointerMissed:d,internal:h}=n.getState();h.lastEvent.current=u;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=r(u,m?t:void 0),x=g?e(u):0;l==="onPointerDown"&&(h.initialClick=[u.offsetX,u.offsetY],h.initialHits=_.map(w=>w.eventObject)),g&&!_.length&&x<=2&&(o(u,h.interaction),d&&d(u)),m&&s(_);function b(w){const E=w.eventObject,A=E.__r3f,T=A==null?void 0:A.handlers;if(A!=null&&A.eventCount)if(m){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const I=Ax(w),M=h.hovered.get(I);M?M.stopped&&w.stopPropagation():(h.hovered.set(I,w),T.onPointerOver==null||T.onPointerOver(w),T.onPointerEnter==null||T.onPointerEnter(w))}T.onPointerMove==null||T.onPointerMove(w)}else{const I=T[l];I?(!g||h.initialHits.includes(E))&&(o(u,h.interaction.filter(M=>!h.initialHits.includes(M))),I(w)):g&&h.initialHits.includes(E)&&o(u,h.interaction.filter(M=>!h.initialHits.includes(M)))}}i(_,u,x,b)}}return{handlePointer:a}}let SI={},AK=n=>void(SI={...SI,...n});function hNe(n,e){function t(u,{args:d=[],attach:h,...m},g){let v=`${u[0].toUpperCase()}${u.slice(1)}`,_;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=m.object;_=zh(x,{type:u,root:g,attach:h,primitive:!0})}else{const x=SI[v];if(!x)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");_=zh(new x(...d),{type:u,root:g,attach:h,memoizedProps:{args:d}})}return _.__r3f.attach===void 0&&(_ instanceof At?_.__r3f.attach="geometry":_ instanceof Mr&&(_.__r3f.attach="material")),v!=="inject"&&CM(_,m),_}function r(u,d){let h=!1;if(d){var m,g;(m=d.__r3f)!=null&&m.attach?EM(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),h=!0),h||(g=u.__r3f)==null||g.objects.push(d),d.__r3f||zh(d,{}),d.__r3f.parent=u,wI(d),Uh(d)}}function i(u,d,h){let m=!1;if(d){var g,v;if((g=d.__r3f)!=null&&g.attach)EM(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"});const _=u.children.filter(b=>b!==d),x=_.indexOf(h);u.children=[..._.slice(0,x),d,..._.slice(x)],m=!0}m||(v=u.__r3f)==null||v.objects.push(d),d.__r3f||zh(d,{}),d.__r3f.parent=u,wI(d),Uh(d)}}function s(u,d,h=!1){u&&[...u].forEach(m=>o(d,m,h))}function o(u,d,h){if(d){var m,g,v;if(d.__r3f&&(d.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(E=>E!==d)),(g=d.__r3f)!=null&&g.attach)HU(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var _;u.remove(d),(_=d.__r3f)!=null&&_.root&&uNe(d.__r3f.root,d)}const b=(v=d.__r3f)==null?void 0:v.primitive,w=h===void 0?d.dispose!==null&&!b:h;if(!b){var x;s((x=d.__r3f)==null?void 0:x.objects,d,w),s(d.children,d,w)}d.__r3f&&(delete d.__r3f.root,delete d.__r3f.objects,delete d.__r3f.handlers,delete d.__r3f.memoizedProps,b||delete d.__r3f),w&&d.dispose&&d.type!=="Scene"&&ay.unstable_scheduleCallback(ay.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),Uh(u)}}function a(u,d,h,m){var g;const v=(g=u.__r3f)==null?void 0:g.parent;if(!v)return;const _=t(d,h,u.__r3f.root);if(u.children){for(const x of u.children)x.__r3f&&r(_,x);u.children=u.children.filter(x=>!x.__r3f)}u.__r3f.objects.forEach(x=>r(_,x)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(v,u),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),r(v,_),_.raycast&&_.__r3f.eventCount&&_.__r3f.root.getState().internal.interaction.push(_),[m,m.alternate].forEach(x=>{x!==null&&(x.stateNode=_,x.ref&&(typeof x.ref=="function"?x.ref(_):x.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Z2e({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const h=u.getState().scene;h.__r3f&&(h.__r3f.root=u,r(h,d))},removeChildFromContainer:(u,d)=>{d&&o(u.getState().scene,d)},insertInContainerBefore:(u,d,h)=>{if(!d||!h)return;const m=u.getState().scene;m.__r3f&&i(m,d,h)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;const h=(d=u==null?void 0:u.__r3f)!=null?d:{};return Boolean(h.handlers)},prepareUpdate(u,d,h,m){if(u.__r3f.primitive&&m.object&&m.object!==u)return[!0];{const{args:g=[],children:v,..._}=m,{args:x=[],children:b,...w}=h;if(!Array.isArray(g))throw new Error("R3F: the args prop must be an array!");if(g.some((A,T)=>A!==x[T]))return[!0];const E=SK(u,_,w,!0);return E.changes.length?[!1,E]:null}},commitUpdate(u,[d,h],m,g,v,_){d?a(u,m,v,_):CM(u,h)},commitMount(u,d,h,m){var g;const v=(g=u.__r3f)!=null?g:{};u.raycast&&v.handlers&&v.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>zh(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:h,parent:m}=(d=u.__r3f)!=null?d:{};h&&m&&HU(m,u,h),u.isObject3D&&(u.visible=!1),Uh(u)},unhideInstance(u,d){var h;const{attach:m,parent:g}=(h=u.__r3f)!=null?h:{};m&&g&&EM(g,u,m),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),Uh(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():vc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Yn.fun(performance.now)?performance.now:Yn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Yn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Yn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:CM}}const fNe=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],MK=n=>!!(n!=null&&n.render),$O=N.createContext(null),pNe=(n,e)=>{const t=pK((a,l)=>{const c=new V,u=new V,d=new V;function h(x=l().camera,b=u,w=l().size){const{width:E,height:A,top:T,left:I}=w,M=E/A;b instanceof V?d.copy(b):d.set(...b);const R=x.getWorldPosition(c).distanceTo(d);if(yK(x))return{width:E/x.zoom,height:A/x.zoom,top:T,left:I,factor:1,distance:R,aspect:M};{const O=x.fov*Math.PI/180,L=2*Math.tan(O/2)*R,X=L*(E/A);return{width:X,height:L,top:T,left:I,factor:E/X,distance:R,aspect:M}}}let m;const g=x=>a(b=>({performance:{...b.performance,current:x}})),v=new Re;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(x=1)=>n(l(),x),advance:(x,b)=>e(x,b,l()),legacy:!1,linear:!1,flat:!1,scene:zh(new WS),controls:null,clock:new HO,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();m&&clearTimeout(m),x.performance.current!==x.performance.min&&g(x.performance.min),m=setTimeout(()=>g(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:x=>a(b=>({...b,events:{...b.events,...x}})),setSize:(x,b,w,E,A)=>{const T=l().camera,I={width:x,height:b,top:E||0,left:A||0,updateStyle:w};a(M=>({size:I,viewport:{...M.viewport,...h(T,u,I)}}))},setDpr:x=>a(b=>{const w=wK(x);return{viewport:{...b.viewport,dpr:w,initialDpr:b.viewport.initialDpr||w}}}),setFrameloop:(x="always")=>{const b=l().clock;b.stop(),b.elapsedTime=0,x!=="never"&&(b.start(),b.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:N.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,b,w)=>{const E=l().internal;return E.priority=E.priority+(b>0?1:0),E.subscribers.push({ref:x,priority:b,store:w}),E.subscribers=E.subscribers.sort((A,T)=>A.priority-T.priority),()=>{const A=l().internal;A!=null&&A.subscribers&&(A.priority=A.priority-(b>0?1:0),A.subscribers=A.subscribers.filter(T=>T.ref!==x))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=t.getState();(l!==i||c.dpr!==s)&&(i=l,s=c.dpr,EK(a,l),u.setPixelRatio(c.dpr),u.setSize(l.width,l.height,l.updateStyle)),a!==o&&(o=a,d(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Mx,mNe=new Set,gNe=new Set,vNe=new Set;function AM(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function tg(n,e){switch(n){case"before":return AM(mNe,e);case"after":return AM(gNe,e);case"tail":return AM(vNe,e)}}let MM,TM;function PM(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),MM=e.internal.subscribers,Mx=0;Mx<MM.length;Mx++)TM=MM[Mx],TM.ref.current(TM.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function yNe(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,tg("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=PM(l,i))}if(tg("after",l),t===0)return tg("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(d=>o(d.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,d){if(c&&tg("before",l),u)PM(l,u,d);else for(const h of n.values())PM(l,h.store.getState());c&&tg("after",l)}return{loop:s,invalidate:o,advance:a}}function KO(){const n=N.useContext($O);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Js(n=t=>t,e){return KO()(n,e)}function XO(n,e=0){const t=KO(),r=t.getState().internal.subscribe,i=_K(n);return h0(()=>r(i,e,t),[e,r,t]),null}function TK(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,oNe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function Xp(n,e,t,r){const i=Array.isArray(e)?e:[e],s=eNe(TK(t,r),[n,...i],{equal:Yn.equ});return Array.isArray(e)?s:s[0]}Xp.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return tNe(TK(t),[n,...r])};Xp.clear=function(n,e){const t=Array.isArray(e)?e:[e];return nNe([n,...t])};const _p=new Map,{invalidate:GU,advance:VU}=yNe(_p),{reconciler:ly,applyProps:Tx}=hNe(_p,cNe),ng={objects:"shallow",strict:!1},_Ne=(n,e)=>{const t=typeof n=="function"?n(e):n;return MK(t)?t:new HS({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function xNe(n){return n instanceof HTMLCanvasElement}function bNe(n,e){if(e)return e;if(xNe(n)&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}return{width:0,height:0,top:0,left:0}}function wNe(n){const e=_p.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||pNe(GU,VU),o=t||ly.createContainer(s,vc.ConcurrentRoot,null,!1,null,"",i,null);e||_p.set(n,{fiber:o,store:s});let a,l=!1;return{configure(c={}){let{gl:u,size:d,events:h,onCreated:m,shadows:g=!1,linear:v=!1,flat:_=!1,legacy:x=!1,orthographic:b=!1,frameloop:w="always",dpr:E=[1,2],performance:A,raycaster:T,camera:I,onPointerMissed:M}=c,R=s.getState(),O=R.gl;R.gl||R.set({gl:O=_Ne(u,n)});let L=R.raycaster;L||R.set({raycaster:L=new jO});const{params:X,...W}=T||{};if(Yn.equ(W,L,ng)||Tx(L,{...W}),Yn.equ(X,L.params,ng)||Tx(L,{params:{...L.params,...X}}),!R.camera){const D=I instanceof qy,z=D?I:b?new ml(0,0,0,0,.1,1e3):new Bn(75,0,.1,1e3);D||(z.position.z=5,I&&Tx(z,I),I!=null&&I.rotation||z.lookAt(0,0,0)),R.set({camera:z})}if(!R.xr){const D=(he,G)=>{const te=s.getState();te.frameloop!=="never"&&VU(he,!0,te,G)},z=()=>{const he=s.getState();he.gl.xr.enabled=he.gl.xr.isPresenting,he.gl.xr.setAnimationLoop(he.gl.xr.isPresenting?D:null),he.gl.xr.isPresenting||GU(he)},Z={connect(){const he=s.getState().gl;he.xr.addEventListener("sessionstart",z),he.xr.addEventListener("sessionend",z)},disconnect(){const he=s.getState().gl;he.xr.removeEventListener("sessionstart",z),he.xr.removeEventListener("sessionend",z)}};O.xr&&Z.connect(),R.set({xr:Z})}if(O.shadowMap){const D=O.shadowMap.enabled,z=O.shadowMap.type;if(O.shadowMap.enabled=!!g,Yn.boo(g))O.shadowMap.type=Jg;else if(Yn.str(g)){var K;const Z={basic:m$,percentage:OS,soft:Jg,variance:qu};O.shadowMap.type=(K=Z[g])!=null?K:Jg}else Yn.obj(g)&&Object.assign(O.shadowMap,g);(D!==O.shadowMap.enabled||z!==O.shadowMap.type)&&(O.shadowMap.needsUpdate=!0)}"ColorManagement"in Vw&&lNe(Vw,x,["ColorManagement","legacyMode"]);const U=v?Uo:Ut,ee=_?Bo:oO;O.outputEncoding!==U&&(O.outputEncoding=U),O.toneMapping!==ee&&(O.toneMapping=ee),R.legacy!==x&&R.set(()=>({legacy:x})),R.linear!==v&&R.set(()=>({linear:v})),R.flat!==_&&R.set(()=>({flat:_})),u&&!Yn.fun(u)&&!MK(u)&&!Yn.equ(u,O,ng)&&Tx(O,u),h&&!R.events.handlers&&R.set({events:h(s)}),E&&R.viewport.dpr!==wK(E)&&R.setDpr(E);const Q=bNe(n,d);return Yn.equ(Q,R.size,ng)||R.setSize(Q.width,Q.height,Q.updateStyle,Q.top,Q.left),R.frameloop!==w&&R.setFrameloop(w),R.onPointerMissed||R.set({onPointerMissed:M}),A&&!Yn.equ(A,R.performance,ng)&&R.set(D=>({performance:{...D.performance,...A}})),a=m,l=!0,this},render(c){return l||this.configure(),ly.updateContainer(N.createElement(SNe,{store:s,children:c,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){PK(n)}}}function SNe({store:n,children:e,onCreated:t,rootElement:r}){return h0(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),N.createElement($O.Provider,{value:n},e)}function PK(n,e){const t=_p.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),ly.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),aNe(i),_p.delete(n),e&&e(n)}catch{}},500)})}}function ENe(n,e,t){return N.createElement(CNe,{key:e.uuid,children:n,container:e,state:t})}function CNe({state:n={},children:e,container:t}){const{events:r,size:i,...s}=n,o=KO(),[a]=N.useState(()=>new jO),[l]=N.useState(()=>new Re),c=N.useCallback((d,h)=>{const m={...d};Object.keys(d).forEach(v=>{(fNe.includes(v)||d[v]!==h[v]&&h[v])&&delete m[v]});let g;if(h&&i){const v=h.camera;g=d.viewport.getCurrentViewport(v,new V,i),v!==d.camera&&EK(v,i)}return{...m,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...h==null?void 0:h.events,...r},size:{...d.size,...i},viewport:{...d.viewport,...g},...s}},[n]),[u]=N.useState(()=>{const d=o.getState();return pK((m,g)=>({...d,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...r},size:{...d.size,...i},...s,set:m,get:g,setEvents:v=>m(_=>({..._,events:{..._.events,...v}}))}))});return N.useEffect(()=>{const d=o.subscribe(h=>u.setState(m=>c(h,m)));return()=>{d(),u.destroy()}},[]),N.useEffect(()=>{u.setState(d=>c(o.getState(),d))},[c]),N.createElement(N.Fragment,null,ly.createPortal(N.createElement($O.Provider,{value:u},e),u,null))}ly.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:N.version});function EI(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}EI.debounce=EI;var WU=EI;function ANe(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=N.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=N.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=N.useRef(!1);N.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,m,g]=N.useMemo(()=>{const b=()=>{if(!l.current.element)return;const{left:w,top:E,width:A,height:T,bottom:I,right:M,x:R,y:O}=l.current.element.getBoundingClientRect(),L={left:w,top:E,width:A,height:T,bottom:I,right:M,x:R,y:O};l.current.element instanceof HTMLElement&&i&&(L.height=l.current.element.offsetHeight,L.width=l.current.element.offsetWidth),Object.freeze(L),d.current&&!RNe(l.current.lastBounds,L)&&a(l.current.lastBounds=L)};return[b,u?WU(b,u):b,c?WU(b,c):b]},[a,i,c,u]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(b=>b.addEventListener("scroll",g,{capture:!0,passive:!0})))}const x=b=>{!b||b===l.current.element||(v(),l.current.element=b,l.current.scrollContainers=RK(b),_())};return TNe(g,Boolean(t)),MNe(m),N.useEffect(()=>{v(),_()},[t,g,m]),N.useEffect(()=>v,[]),[x,o,h]}function MNe(n){N.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function TNe(n,e){N.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function RK(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...RK(n.parentElement)]}const PNe=["x","y","top","bottom","left","right","width","height"],RNe=(n,e)=>PNe.every(t=>n[t]===e[t]);var INe=Object.defineProperty,NNe=Object.defineProperties,kNe=Object.getOwnPropertyDescriptors,jU=Object.getOwnPropertySymbols,ONe=Object.prototype.hasOwnProperty,LNe=Object.prototype.propertyIsEnumerable,$U=(n,e,t)=>e in n?INe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,KU=(n,e)=>{for(var t in e||(e={}))ONe.call(e,t)&&$U(n,t,e[t]);if(jU)for(var t of jU(e))LNe.call(e,t)&&$U(n,t,e[t]);return n},DNe=(n,e)=>NNe(n,kNe(e));function IK(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=IK(r,e,t);if(i)return i;r=e?null:r.sibling}}function NK(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const JO=NK(N.createContext(null));class kK extends N.Component{render(){return N.createElement(JO.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:BNe,ReactCurrentDispatcher:FNe}=N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function zNe(){const n=N.useContext(JO);if(!n)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{var r;return(r=BNe.current)!=null?r:IK(n,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}function UNe(){var n,e;const t=zNe(),[r]=N.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==JO&&!r.has(s)&&r.set(s,(e=FNe.current)==null?void 0:e.readContext(NK(s))),i=i.return}return N.useMemo(()=>Array.from(r.keys()).reduce((s,o)=>a=>N.createElement(s,null,N.createElement(o.Provider,DNe(KU({},a),{value:r.get(o)}))),s=>N.createElement(kK,KU({},s))),[r])}const RM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function HNe(n){const{handlePointer:e}=dNe(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(RM).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=RM[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=RM[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const GNe=N.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=HNe,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:h,orthographic:m,frameloop:g,dpr:v,performance:_,raycaster:x,camera:b,onPointerMissed:w,onCreated:E,...A},T){N.useMemo(()=>AK(Vw),[]);const I=UNe(),[M,R]=ANe({scroll:!0,debounce:{scroll:50,resize:0},...r}),O=N.useRef(null),L=N.useRef(null),[X,W]=N.useState(null);N.useImperativeHandle(T,()=>O.current);const K=_K(w),[U,ee]=N.useState(!1),[Q,D]=N.useState(!1);if(U)throw U;if(Q)throw Q;const z=N.useRef(null);R.width>0&&R.height>0&&X&&(z.current||(z.current=wNe(X)),z.current.configure({gl:s,events:o,shadows:c,linear:u,flat:d,legacy:h,orthographic:m,frameloop:g,dpr:v,performance:_,raycaster:x,camera:b,size:R,onPointerMissed:(...he)=>K.current==null?void 0:K.current(...he),onCreated:he=>{he.events.connect==null||he.events.connect(a?rNe(a)?a.current:a:L.current),l&&he.setEvents({compute:(G,te)=>{const re=G[l+"X"],q=G[l+"Y"];te.pointer.set(re/te.size.width*2-1,-(q/te.size.height)*2+1),te.raycaster.setFromCamera(te.pointer,te.camera)}}),E==null||E(he)}}),z.current.render(N.createElement(I,null,N.createElement(xK,{set:D},N.createElement(N.Suspense,{fallback:N.createElement(iNe,{set:ee})},e))))),h0(()=>{W(O.current)},[]),N.useEffect(()=>{if(X)return()=>PK(X)},[X]);const Z=a?"none":"auto";return N.createElement("div",kt({ref:L,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Z,...i}},A),N.createElement("div",{ref:M,style:{width:"100%",height:"100%"}},N.createElement("canvas",{ref:O,style:{display:"block"}},t)))}),ec=N.forwardRef(function(e,t){return N.createElement(kK,null,N.createElement(GNe,kt({},e,{ref:t})))});function Ww(){return Ww=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ww.apply(this,arguments)}function cy(n){return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(n)}function VNe(n,e){if(cy(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(cy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function WNe(n){var e=VNe(n,"string");return cy(e)==="symbol"?e:String(e)}function bt(n,e,t){return e=WNe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const jNe=n=>n&&n.isCubeTexture;class $Ne extends Or{constructor(e,t){var r,i;const s=jNe(e),a=((r=s?(i=e.image[0])===null||i===void 0?void 0:i.width:e.image.width)!=null?r:1024)/4,l=Math.floor(Math.log2(a)),c=Math.pow(2,l),u=3*Math.max(c,16*7),d=4*c,h=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/d}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,g=h.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,v={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},_=new Vp(1,16),x=new Go({uniforms:v,fragmentShader:g,vertexShader:m,side:No});super(_,x)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}const XU=(n,e)=>(n%e+e)%e;let KNe=class extends ka{constructor(e,t){super(),bt(this,"object",void 0),bt(this,"domElement",void 0),bt(this,"enabled",!0),bt(this,"target",new V),bt(this,"minDistance",0),bt(this,"maxDistance",1/0),bt(this,"minZoom",0),bt(this,"maxZoom",1/0),bt(this,"minPolarAngle",0),bt(this,"maxPolarAngle",Math.PI),bt(this,"minAzimuthAngle",-1/0),bt(this,"maxAzimuthAngle",1/0),bt(this,"enableDamping",!1),bt(this,"dampingFactor",.05),bt(this,"enableZoom",!0),bt(this,"zoomSpeed",1),bt(this,"enableRotate",!0),bt(this,"rotateSpeed",1),bt(this,"enablePan",!0),bt(this,"panSpeed",1),bt(this,"screenSpacePanning",!0),bt(this,"keyPanSpeed",7),bt(this,"autoRotate",!1),bt(this,"autoRotateSpeed",2),bt(this,"reverseOrbit",!1),bt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),bt(this,"mouseButtons",{LEFT:Bu.ROTATE,MIDDLE:Bu.DOLLY,RIGHT:Bu.PAN}),bt(this,"touches",{ONE:Fu.ROTATE,TWO:Fu.DOLLY_PAN}),bt(this,"target0",void 0),bt(this,"position0",void 0),bt(this,"zoom0",void 0),bt(this,"_domElementKeyEvents",null),bt(this,"getPolarAngle",void 0),bt(this,"getAzimuthalAngle",void 0),bt(this,"setPolarAngle",void 0),bt(this,"setAzimuthalAngle",void 0),bt(this,"getDistance",void 0),bt(this,"listenToKeyEvents",void 0),bt(this,"saveState",void 0),bt(this,"reset",void 0),bt(this,"update",void 0),bt(this,"connect",void 0),bt(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Bn?this.object.zoom:1,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Y=>{let ye=XU(Y,2*Math.PI),ke=u.phi;ke<0&&(ke+=2*Math.PI),ye<0&&(ye+=2*Math.PI);let Ue=Math.abs(ye-ke);2*Math.PI-Ue<Ue&&(ye<ke?ye+=2*Math.PI:ke+=2*Math.PI),d.phi=ye-ke,r.update()},this.setAzimuthalAngle=Y=>{let ye=XU(Y,2*Math.PI),ke=u.theta;ke<0&&(ke+=2*Math.PI),ye<0&&(ye+=2*Math.PI);let Ue=Math.abs(ye-ke);2*Math.PI-Ue<Ue&&(ye<ke?ye+=2*Math.PI:ke+=2*Math.PI),d.theta=ye-ke,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Y=>{Y.addEventListener("keydown",ne),this._domElementKeyEvents=Y},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof Bn?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof Bn&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const Y=new V,ye=new li().setFromUnitVectors(e.up,new V(0,1,0)),ke=ye.clone().invert(),Ue=new V,ot=new li,wt=2*Math.PI;return function(){const ie=r.object.position;Y.copy(ie).sub(r.target),Y.applyQuaternion(ye),u.setFromVector3(Y),r.autoRotate&&l===a.NONE&&X(O()),r.enableDamping?(u.theta+=d.theta*r.dampingFactor,u.phi+=d.phi*r.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let oe=r.minAzimuthAngle,Oe=r.maxAzimuthAngle;return isFinite(oe)&&isFinite(Oe)&&(oe<-Math.PI?oe+=wt:oe>Math.PI&&(oe-=wt),Oe<-Math.PI?Oe+=wt:Oe>Math.PI&&(Oe-=wt),oe<=Oe?u.theta=Math.max(oe,Math.min(Oe,u.theta)):u.theta=u.theta>(oe+Oe)/2?Math.max(oe,u.theta):Math.min(Oe,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=h,u.radius=Math.max(r.minDistance,Math.min(r.maxDistance,u.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),Y.setFromSpherical(u),Y.applyQuaternion(ke),ie.copy(r.target).add(Y),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),m.set(0,0,0)),h=1,g||Ue.distanceToSquared(r.object.position)>c||8*(1-ot.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Ue.copy(r.object.position),ot.copy(r.object.quaternion),g=!1,!0):!1}})(),this.connect=Y=>{Y===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=Y,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",He),r.domElement.addEventListener("pointerdown",ze),r.domElement.addEventListener("pointercancel",qe),r.domElement.addEventListener("wheel",B)},this.dispose=()=>{var Y,ye,ke,Ue,ot,wt;(Y=r.domElement)===null||Y===void 0||Y.removeEventListener("contextmenu",He),(ye=r.domElement)===null||ye===void 0||ye.removeEventListener("pointerdown",ze),(ke=r.domElement)===null||ke===void 0||ke.removeEventListener("pointercancel",qe),(Ue=r.domElement)===null||Ue===void 0||Ue.removeEventListener("wheel",B),(ot=r.domElement)===null||ot===void 0||ot.ownerDocument.removeEventListener("pointermove",We),(wt=r.domElement)===null||wt===void 0||wt.ownerDocument.removeEventListener("pointerup",et),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ne)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new _I,d=new _I;let h=1;const m=new V;let g=!1;const v=new Re,_=new Re,x=new Re,b=new Re,w=new Re,E=new Re,A=new Re,T=new Re,I=new Re,M=[],R={};function O(){return 2*Math.PI/60/60*r.autoRotateSpeed}function L(){return Math.pow(.95,r.zoomSpeed)}function X(Y){r.reverseOrbit?d.theta+=Y:d.theta-=Y}function W(Y){r.reverseOrbit?d.phi+=Y:d.phi-=Y}const K=(()=>{const Y=new V;return function(ke,Ue){Y.setFromMatrixColumn(Ue,0),Y.multiplyScalar(-ke),m.add(Y)}})(),U=(()=>{const Y=new V;return function(ke,Ue){r.screenSpacePanning===!0?Y.setFromMatrixColumn(Ue,1):(Y.setFromMatrixColumn(Ue,0),Y.crossVectors(r.object.up,Y)),Y.multiplyScalar(ke),m.add(Y)}})(),ee=(()=>{const Y=new V;return function(ke,Ue){const ot=r.domElement;if(ot&&r.object instanceof Bn&&r.object.isPerspectiveCamera){const wt=r.object.position;Y.copy(wt).sub(r.target);let dn=Y.length();dn*=Math.tan(r.object.fov/2*Math.PI/180),K(2*ke*dn/ot.clientHeight,r.object.matrix),U(2*Ue*dn/ot.clientHeight,r.object.matrix)}else ot&&r.object instanceof ml&&r.object.isOrthographicCamera?(K(ke*(r.object.right-r.object.left)/r.object.zoom/ot.clientWidth,r.object.matrix),U(Ue*(r.object.top-r.object.bottom)/r.object.zoom/ot.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function Q(Y){r.object instanceof Bn&&r.object.isPerspectiveCamera?h/=Y:r.object instanceof ml&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*Y)),r.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function D(Y){r.object instanceof Bn&&r.object.isPerspectiveCamera?h*=Y:r.object instanceof ml&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/Y)),r.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function z(Y){v.set(Y.clientX,Y.clientY)}function Z(Y){A.set(Y.clientX,Y.clientY)}function he(Y){b.set(Y.clientX,Y.clientY)}function G(Y){_.set(Y.clientX,Y.clientY),x.subVectors(_,v).multiplyScalar(r.rotateSpeed);const ye=r.domElement;ye&&(X(2*Math.PI*x.x/ye.clientHeight),W(2*Math.PI*x.y/ye.clientHeight)),v.copy(_),r.update()}function te(Y){T.set(Y.clientX,Y.clientY),I.subVectors(T,A),I.y>0?Q(L()):I.y<0&&D(L()),A.copy(T),r.update()}function re(Y){w.set(Y.clientX,Y.clientY),E.subVectors(w,b).multiplyScalar(r.panSpeed),ee(E.x,E.y),b.copy(w),r.update()}function q(Y){Y.deltaY<0?D(L()):Y.deltaY>0&&Q(L()),r.update()}function $(Y){let ye=!1;switch(Y.code){case r.keys.UP:ee(0,r.keyPanSpeed),ye=!0;break;case r.keys.BOTTOM:ee(0,-r.keyPanSpeed),ye=!0;break;case r.keys.LEFT:ee(r.keyPanSpeed,0),ye=!0;break;case r.keys.RIGHT:ee(-r.keyPanSpeed,0),ye=!0;break}ye&&(Y.preventDefault(),r.update())}function me(){if(M.length==1)v.set(M[0].pageX,M[0].pageY);else{const Y=.5*(M[0].pageX+M[1].pageX),ye=.5*(M[0].pageY+M[1].pageY);v.set(Y,ye)}}function ae(){if(M.length==1)b.set(M[0].pageX,M[0].pageY);else{const Y=.5*(M[0].pageX+M[1].pageX),ye=.5*(M[0].pageY+M[1].pageY);b.set(Y,ye)}}function xe(){const Y=M[0].pageX-M[1].pageX,ye=M[0].pageY-M[1].pageY,ke=Math.sqrt(Y*Y+ye*ye);A.set(0,ke)}function Ae(){r.enableZoom&&xe(),r.enablePan&&ae()}function Me(){r.enableZoom&&xe(),r.enableRotate&&me()}function ce(Y){if(M.length==1)_.set(Y.pageX,Y.pageY);else{const ke=Fe(Y),Ue=.5*(Y.pageX+ke.x),ot=.5*(Y.pageY+ke.y);_.set(Ue,ot)}x.subVectors(_,v).multiplyScalar(r.rotateSpeed);const ye=r.domElement;ye&&(X(2*Math.PI*x.x/ye.clientHeight),W(2*Math.PI*x.y/ye.clientHeight)),v.copy(_)}function ve(Y){if(M.length==1)w.set(Y.pageX,Y.pageY);else{const ye=Fe(Y),ke=.5*(Y.pageX+ye.x),Ue=.5*(Y.pageY+ye.y);w.set(ke,Ue)}E.subVectors(w,b).multiplyScalar(r.panSpeed),ee(E.x,E.y),b.copy(w)}function Ie(Y){const ye=Fe(Y),ke=Y.pageX-ye.x,Ue=Y.pageY-ye.y,ot=Math.sqrt(ke*ke+Ue*Ue);T.set(0,ot),I.set(0,Math.pow(T.y/A.y,r.zoomSpeed)),Q(I.y),A.copy(T)}function Le(Y){r.enableZoom&&Ie(Y),r.enablePan&&ve(Y)}function De(Y){r.enableZoom&&Ie(Y),r.enableRotate&&ce(Y)}function ze(Y){if(r.enabled!==!1){if(M.length===0){var ye,ke;(ye=r.domElement)===null||ye===void 0||ye.ownerDocument.addEventListener("pointermove",We),(ke=r.domElement)===null||ke===void 0||ke.ownerDocument.addEventListener("pointerup",et)}we(Y),Y.pointerType==="touch"?Se(Y):it(Y)}}function We(Y){r.enabled!==!1&&(Y.pointerType==="touch"?Be(Y):j(Y))}function et(Y){if(ue(Y),M.length===0){var ye,ke,Ue;(ye=r.domElement)===null||ye===void 0||ye.releasePointerCapture(Y.pointerId),(ke=r.domElement)===null||ke===void 0||ke.ownerDocument.removeEventListener("pointermove",We),(Ue=r.domElement)===null||Ue===void 0||Ue.ownerDocument.removeEventListener("pointerup",et)}r.dispatchEvent(o),l=a.NONE}function qe(Y){ue(Y)}function it(Y){let ye;switch(Y.button){case 0:ye=r.mouseButtons.LEFT;break;case 1:ye=r.mouseButtons.MIDDLE;break;case 2:ye=r.mouseButtons.RIGHT;break;default:ye=-1}switch(ye){case Bu.DOLLY:if(r.enableZoom===!1)return;Z(Y),l=a.DOLLY;break;case Bu.ROTATE:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(r.enablePan===!1)return;he(Y),l=a.PAN}else{if(r.enableRotate===!1)return;z(Y),l=a.ROTATE}break;case Bu.PAN:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(r.enableRotate===!1)return;z(Y),l=a.ROTATE}else{if(r.enablePan===!1)return;he(Y),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function j(Y){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;G(Y);break;case a.DOLLY:if(r.enableZoom===!1)return;te(Y);break;case a.PAN:if(r.enablePan===!1)return;re(Y);break}}function B(Y){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Y.preventDefault(),r.dispatchEvent(s),q(Y),r.dispatchEvent(o))}function ne(Y){r.enabled===!1||r.enablePan===!1||$(Y)}function Se(Y){switch(fe(Y),M.length){case 1:switch(r.touches.ONE){case Fu.ROTATE:if(r.enableRotate===!1)return;me(),l=a.TOUCH_ROTATE;break;case Fu.PAN:if(r.enablePan===!1)return;ae(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Fu.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ae(),l=a.TOUCH_DOLLY_PAN;break;case Fu.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Me(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Be(Y){switch(fe(Y),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ce(Y),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;ve(Y),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Le(Y),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;De(Y),r.update();break;default:l=a.NONE}}function He(Y){r.enabled!==!1&&Y.preventDefault()}function we(Y){M.push(Y)}function ue(Y){delete R[Y.pointerId];for(let ye=0;ye<M.length;ye++)if(M[ye].pointerId==Y.pointerId){M.splice(ye,1);return}}function fe(Y){let ye=R[Y.pointerId];ye===void 0&&(ye=new Re,R[Y.pointerId]=ye),ye.set(Y.pageX,Y.pageY)}function Fe(Y){const ye=Y.pointerId===M[0].pointerId?M[1]:M[0];return R[ye.pointerId]}t!==void 0&&this.connect(t),this.update()}};class YO extends Xi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new QNe(t)}),this.register(function(t){return new ske(t)}),this.register(function(t){return new oke(t)}),this.register(function(t){return new eke(t)}),this.register(function(t){return new tke(t)}),this.register(function(t){return new nke(t)}),this.register(function(t){return new rke(t)}),this.register(function(t){return new qNe(t)}),this.register(function(t){return new ike(t)}),this.register(function(t){return new ZNe(t)}),this.register(function(t){return new JNe(t)}),this.register(function(t){return new ake(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Ca.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new ks(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=e;else if(Ca.decodeText(new Uint8Array(e,0,4))===OK){try{o[Bt.KHR_BINARY_GLTF]=new lke(e)}catch(d){i&&i(d);return}s=o[Bt.KHR_BINARY_GLTF].content}else s=Ca.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new bke(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);a[d.name]=d,o[d.name]=!0}if(l.extensionsUsed)for(let u=0;u<l.extensionsUsed.length;++u){const d=l.extensionsUsed[u],h=l.extensionsRequired||[];switch(d){case Bt.KHR_MATERIALS_UNLIT:o[d]=new YNe;break;case Bt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[d]=new dke;break;case Bt.KHR_DRACO_MESH_COMPRESSION:o[d]=new cke(l,this.dracoLoader);break;case Bt.KHR_TEXTURE_TRANSFORM:o[d]=new uke;break;case Bt.KHR_MESH_QUANTIZATION:o[d]=new hke;break;default:h.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function XNe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Bt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class JNe{constructor(e){this.parser=e,this.name=Bt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Ke(16777215);l.color!==void 0&&u.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new zO(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new FO(u),c.distance=d;break;case"spot":c=new BO(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class YNe{constructor(){this.name=Bt.KHR_MATERIALS_UNLIT}getMaterialType(){return Cs}extendParams(e,t,r){const i=[];e.color=new Ke(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,Ut))}return Promise.all(i)}}class qNe{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class QNe{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Re(a,a)}return Promise.all(s)}}class ZNe{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class eke{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ke(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Ut)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class tke{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class nke{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ke(a[0],a[1],a[2]),Promise.all(s)}}class rke{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kl}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class ike{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ke(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,Ut)),Promise.all(s)}}class ske{constructor(e){this.parser=e,this.name=Bt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class oke{constructor(e){this.parser=e,this.name=Bt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class ake{constructor(e){this.name=Bt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,d=i.byteStride,h=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,d,h,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*d);return o.decodeGltfBuffer(new Uint8Array(m),u,d,h,i.mode,i.filter),m})})}else return null}}const OK="glTF",rg=12,JU={JSON:1313821514,BIN:5130562};class lke{constructor(e){this.name=Bt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,rg);if(this.header={magic:Ca.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==OK)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-rg,i=new DataView(e,rg);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===JU.JSON){const l=new Uint8Array(e,rg+s,o);this.content=Ca.decodeText(l)}else if(a===JU.BIN){const l=rg+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class cke{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Bt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=AI[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=AI[u]||u.toLowerCase();if(o[u]!==void 0){const h=r.accessors[e.attributes[u]],m=uy[h.componentType];c[d]=m.name,l[d]=h.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(d){i.decodeDracoFile(u,function(h){for(const m in h.attributes){const g=h.attributes[m],v=l[m];v!==void 0&&(g.normalized=v)}d(h)},a,c)})})}}class uke{constructor(){this.name=Bt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class CI extends $p{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new Ke().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const c in a)l.uniforms[c]=a[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class dke{constructor(){this.name=Bt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return CI}extendParams(e,t,r){const i=t.extensions[this.name];e.color=new Ke(1,1,1),e.opacity=1;const s=[];if(Array.isArray(i.diffuseFactor)){const o=i.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(i.diffuseTexture!==void 0&&s.push(r.assignTexture(e,"map",i.diffuseTexture,Ut)),e.emissive=new Ke(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new Ke(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const o=i.specularGlossinessTexture;s.push(r.assignTexture(e,"glossinessMap",o)),s.push(r.assignTexture(e,"specularMap",o,Ut))}return Promise.all(s)}createMaterial(e){const t=new CI(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=Il,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class hke{constructor(){this.name=Bt.KHR_MESH_QUANTIZATION}}class LK extends Kp{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,d=(r-t)/u,h=d*d,m=h*d,g=e*c,v=g-c,_=-2*m+3*h,x=m-h,b=1-_,w=x-h+d;for(let E=0;E!==a;E++){const A=o[v+E+a],T=o[v+E+l]*u,I=o[g+E+a],M=o[g+E]*u;s[E]=b*A+w*T+_*I+x*M}return s}}const fke=new li;class pke extends LK{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return fke.fromArray(s).normalize().toArray(s),s}}const qa={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},uy={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},YU={9728:dr,9729:Dn,9984:qv,9985:DS,9986:Pf,9987:Ia},qU={33071:si,33648:dp,10497:qc},QU={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},AI={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Yl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},mke={CUBICSPLINE:void 0,LINEAR:Id,STEP:hp},IM={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function gke(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new $p({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ra})),n.DefaultMaterial}function ig(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Uu(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function vke(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(r=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(r){const h=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(h)}if(i){const h=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(h)}if(s){const h=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],h=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=h),n.morphTargetsRelative=!0,n})}function yke(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function _ke(n){const e=n.extensions&&n.extensions[Bt.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+ZU(e.attributes):t=n.indices+":"+ZU(n.attributes)+":"+n.mode,t}function ZU(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function MI(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function xke(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class bke{constructor(e={},t={}){var r,i;this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new XNe,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const s=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=typeof navigator<"u"&&((r=navigator.userAgent)===null||r===void 0?void 0:r.indexOf("Firefox"))>-1,a=typeof navigator<"u"&&o?(i=navigator.userAgent)===null||i===void 0?void 0:i.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||s||o&&a<98?this.textureLoader=new nK(this.options.manager):this.textureLoader=new cK(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ks(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};ig(s,a,i),Uu(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Bt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Ca.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=QU[i.type],c=uy[i.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,h=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let v,_;if(m&&m!==d){const x=Math.floor(h/m),b="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+x+":"+i.count;let w=t.cache.get(b);w||(v=new c(a,x*m,i.count*m/u),w=new Zy(v,m/u),t.cache.add(b,w)),_=new Qc(w,l,h%m/u,g)}else a===null?v=new c(i.count*l):v=new c(a,h,i.count*l),_=new un(v,l,g);if(i.sparse!==void 0){const x=QU.SCALAR,b=uy[i.sparse.indices.componentType],w=i.sparse.indices.byteOffset||0,E=i.sparse.values.byteOffset||0,A=new b(o[1],w,i.sparse.count*x),T=new c(o[2],E,i.sparse.count*l);a!==null&&(_=new un(_.array.slice(),_.itemSize,_.normalized));for(let I=0,M=A.length;I<M;I++){const R=A[I];if(_.setX(R,T[I*l]),l>=2&&_.setY(R,T[I*l+1]),l>=3&&_.setZ(R,T[I*l+2]),l>=4&&_.setW(R,T[I*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,o.name&&(u.name=o.name);const h=(s.samplers||{})[o.sampler]||{};return u.magFilter=YU[h.magFilter]||Dn,u.minFilter=YU[h.minFilter]||Ia,u.wrapS=qU[h.wrapS]||qc,u.wrapT=qU[h.wrapT]||qc,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const h=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(h),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(h,m){let g=h;t.isImageBitmapLoader===!0&&(g=function(v){const _=new Kn(v);_.needsUpdate=!0,h(_)}),t.load(Ca.resolveURL(d,s.path),g,void 0,m)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||xke(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(r.texCoord!==void 0&&r.texCoord!=0&&!(t==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),s.extensions[Bt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Bt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Bt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new $S,Mr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new ki,Mr.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return $p}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Bt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const d=i[Bt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else if(l[Bt.KHR_MATERIALS_UNLIT]){const d=i[Bt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Ke(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const h=d.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",d.baseColorTexture,Ut)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=No);const u=s.alphaMode||IM.OPAQUE;if(u===IM.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===IM.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Cs&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Re(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==Cs&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Cs&&(a.emissive=new Ke().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Cs&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Ut)),Promise.all(c).then(function(){let d;return o===CI?d=i[Bt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):d=new o(a),s.name&&(d.name=s.name),Uu(d,s),t.associations.set(d,{materials:e}),s.extensions&&ig(i,d,s),d})}createUniqueName(e){const t=qt.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Bt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return eH(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=_ke(c),d=i[u];if(d)o.push(d.promise);else{let h;c.extensions&&c.extensions[Bt.KHR_DRACO_MESH_COMPRESSION]?h=s(c):h=eH(new At,c,t),i[u]={primitive:c,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?gke(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let m=0,g=u.length;m<g;m++){const v=u[m],_=o[m];let x;const b=c[m];if(_.mode===qa.TRIANGLES||_.mode===qa.TRIANGLE_STRIP||_.mode===qa.TRIANGLE_FAN||_.mode===void 0)x=s.isSkinnedMesh===!0?new bO(v,b):new Or(v,b),x.isSkinnedMesh===!0&&!x.geometry.attributes.skinWeight.normalized&&x.normalizeSkinWeights(),_.mode===qa.TRIANGLE_STRIP?x.geometry=tH(x.geometry,s7):_.mode===qa.TRIANGLE_FAN&&(x.geometry=tH(x.geometry,cO));else if(_.mode===qa.LINES)x=new jo(v,b);else if(_.mode===qa.LINE_STRIP)x=new Cl(v,b);else if(_.mode===qa.LINE_LOOP)x=new wO(v,b);else if(_.mode===qa.POINTS)x=new SO(v,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(x.geometry.morphAttributes).length>0&&yke(x,s),x.name=t.createUniqueName(s.name||"mesh_"+e),Uu(x,s),_.extensions&&ig(i,x,_),t.assignFinalMaterial(x),d.push(x)}for(let m=0,g=d.length;m<g;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return d[0];const h=new al;t.associations.set(h,{meshes:e});for(let m=0,g=d.length;m<g;m++)h.add(d[m]);return h})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Bn(h7.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new ml(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Uu(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],s=[],o=[],a=[],l=[];for(let c=0,u=r.channels.length;c<u;c++){const d=r.channels[c],h=r.samplers[d.sampler],m=d.target,g=m.node,v=r.parameters!==void 0?r.parameters[h.input]:h.input,_=r.parameters!==void 0?r.parameters[h.output]:h.output;i.push(this.getDependency("node",g)),s.push(this.getDependency("accessor",v)),o.push(this.getDependency("accessor",_)),a.push(h),l.push(m)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],h=c[2],m=c[3],g=c[4],v=[];for(let x=0,b=u.length;x<b;x++){const w=u[x],E=d[x],A=h[x],T=m[x],I=g[x];if(w===void 0)continue;w.updateMatrix();let M;switch(Yl[I.path]){case Yl.weights:M=gp;break;case Yl.rotation:M=Zc;break;case Yl.position:case Yl.scale:default:M=vp;break}const R=w.name?w.name:w.uuid,O=T.interpolation!==void 0?mke[T.interpolation]:Id,L=[];Yl[I.path]===Yl.weights?w.traverse(function(W){W.morphTargetInfluences&&L.push(W.name?W.name:W.uuid)}):L.push(R);let X=A.array;if(A.normalized){const W=MI(X.constructor),K=new Float32Array(X.length);for(let U=0,ee=X.length;U<ee;U++)K[U]=X[U]*W;X=K}for(let W=0,K=L.length;W<K;W++){const U=new M(L[W]+"."+Yl[I.path],E.array,X,O);T.interpolation==="CUBICSPLINE"&&(U.createInterpolant=function(Q){const D=this instanceof Zc?pke:LK;return new D(this.times,this.values,this.getValueSize()/3,Q)},U.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(U)}}const _=r.name?r.name:"animation_"+e;return new yp(_,void 0,v)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this.extensions,i=this,s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"";return function(){const a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new jS:a.length>1?l=new al:a.length===1?l=a[0]:l=new Qt,l!==a[0])for(let c=0,u=a.length;c<u;c++)l.add(a[c]);if(s.name&&(l.userData.name=s.name,l.name=o),Uu(l,s),s.extensions&&ig(r,l,s),s.matrix!==void 0){const c=new vt;c.fromArray(s.matrix),l.applyMatrix4(c)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,r=this.extensions,i=this.json.scenes[e],s=this,o=new al;i.name&&(o.name=s.createUniqueName(i.name)),Uu(o,i),i.extensions&&ig(r,o,i);const a=i.nodes||[],l=[];for(let c=0,u=a.length;c<u;c++)l.push(DK(a[c],o,t,s));return Promise.all(l).then(function(){const c=u=>{const d=new Map;for(const[h,m]of s.associations)(h instanceof Mr||h instanceof Kn)&&d.set(h,m);return u.traverse(h=>{const m=s.associations.get(h);m!=null&&d.set(h,m)}),d};return s.associations=c(o),o})}}function DK(n,e,t,r){const i=t.nodes[n];return r.getDependency("node",n).then(function(s){if(i.skin===void 0)return s;let o;return r.getDependency("skin",i.skin).then(function(a){o=a;const l=[];for(let c=0,u=o.joints.length;c<u;c++)l.push(r.getDependency("node",o.joints[c]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const c=[],u=[];for(let d=0,h=a.length;d<h;d++){const m=a[d];if(m){c.push(m);const g=new vt;o.inverseBindMatrices!==void 0&&g.fromArray(o.inverseBindMatrices.array,d*16),u.push(g)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[d])}l.bind(new e0(c,u),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(i.children){const a=i.children;for(let l=0,c=a.length;l<c;l++){const u=a[l];o.push(DK(u,s,t,r))}}return Promise.all(o)})}function wke(n,e,t){const r=e.attributes,i=new su;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new V(l[0],l[1],l[2]),new V(c[0],c[1],c[2])),a.normalized){const u=MI(uy[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new V,l=new V;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d.POSITION!==void 0){const h=t.json.accessors[d.POSITION],m=h.min,g=h.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),h.normalized){const v=MI(uy[h.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new ou;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function eH(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=AI[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Uu(n,e),wke(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?vke(n,e.targets,t):n})}function tH(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===cO)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s}class Ske extends tK{constructor(e){super(e),this.type=ko}parse(e){const a=function(w,E){switch(w){case 1:console.error("THREE.RGBELoader Read Error: "+(E||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(E||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(E||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(E||""))}return-1},d=`
`,h=function(w,E,A){E=E||1024;let I=w.pos,M=-1,R=0,O="",L=String.fromCharCode.apply(null,new Uint16Array(w.subarray(I,I+128)));for(;0>(M=L.indexOf(d))&&R<E&&I<w.byteLength;)O+=L,R+=L.length,I+=128,L+=String.fromCharCode.apply(null,new Uint16Array(w.subarray(I,I+128)));return-1<M?(A!==!1&&(w.pos+=R+M+1),O+L.slice(0,M)):!1},m=function(w){const E=/^#\?(\S+)/,A=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,T=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,I=/^\s*FORMAT=(\S+)\s*$/,M=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,R={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let O,L;if(w.pos>=w.byteLength||!(O=h(w)))return a(1,"no header found");if(!(L=O.match(E)))return a(3,"bad initial token");for(R.valid|=1,R.programtype=L[1],R.string+=O+`
`;O=h(w),O!==!1;){if(R.string+=O+`
`,O.charAt(0)==="#"){R.comments+=O+`
`;continue}if((L=O.match(A))&&(R.gamma=parseFloat(L[1])),(L=O.match(T))&&(R.exposure=parseFloat(L[1])),(L=O.match(I))&&(R.valid|=2,R.format=L[1]),(L=O.match(M))&&(R.valid|=4,R.height=parseInt(L[1],10),R.width=parseInt(L[2],10)),R.valid&2&&R.valid&4)break}return R.valid&2?R.valid&4?R:a(3,"missing image size specifier"):a(3,"missing format specifier")},g=function(w,E,A){const T=E;if(T<8||T>32767||w[0]!==2||w[1]!==2||w[2]&128)return new Uint8Array(w);if(T!==(w[2]<<8|w[3]))return a(3,"wrong scanline width");const I=new Uint8Array(4*E*A);if(!I.length)return a(4,"unable to allocate buffer space");let M=0,R=0;const O=4*T,L=new Uint8Array(4),X=new Uint8Array(O);let W=A;for(;W>0&&R<w.byteLength;){if(R+4>w.byteLength)return a(1);if(L[0]=w[R++],L[1]=w[R++],L[2]=w[R++],L[3]=w[R++],L[0]!=2||L[1]!=2||(L[2]<<8|L[3])!=T)return a(3,"bad rgbe scanline format");let K=0,U;for(;K<O&&R<w.byteLength;){U=w[R++];const Q=U>128;if(Q&&(U-=128),U===0||K+U>O)return a(3,"bad scanline data");if(Q){const D=w[R++];for(let z=0;z<U;z++)X[K++]=D}else X.set(w.subarray(R,R+U),K),K+=U,R+=U}const ee=T;for(let Q=0;Q<ee;Q++){let D=0;I[M]=X[Q+D],D+=T,I[M+1]=X[Q+D],D+=T,I[M+2]=X[Q+D],D+=T,I[M+3]=X[Q+D],M+=4}W--}return I},v=function(w,E,A,T){const I=w[E+3],M=Math.pow(2,I-128)/255;A[T+0]=w[E+0]*M,A[T+1]=w[E+1]*M,A[T+2]=w[E+2]*M,A[T+3]=1},_=function(w,E,A,T){const I=w[E+3],M=Math.pow(2,I-128)/255;A[T+0]=xg.toHalfFloat(Math.min(w[E+0]*M,65504)),A[T+1]=xg.toHalfFloat(Math.min(w[E+1]*M,65504)),A[T+2]=xg.toHalfFloat(Math.min(w[E+2]*M,65504)),A[T+3]=xg.toHalfFloat(1)},x=new Uint8Array(e);x.pos=0;const b=m(x);if(b!==-1){const w=b.width,E=b.height,A=g(x.subarray(x.pos),w,E);if(A!==-1){let T,I,M;switch(this.type){case io:M=A.length/4;const R=new Float32Array(M*4);for(let L=0;L<M;L++)v(A,L*4,R,L*4);T=R,I=io;break;case ko:M=A.length/4;const O=new Uint16Array(M*4);for(let L=0;L<M;L++)_(A,L*4,O,L*4);T=O,I=ko;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:w,height:E,data:T,header:b.string,gamma:b.gamma,exposure:b.exposure,type:I}}}return null}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){switch(o.type){case io:case ko:o.encoding=Uo,o.minFilter=Dn,o.magFilter=Dn,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,r,i)}}const NM=new WeakMap;class Eke extends Xi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new ks(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(NM.has(e)){const l=NM.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),NM.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new At;e.index&&t.setIndex(new un(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new un(o,a))}return t}_loadLibrary(e,t){const r=new ks(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=Cke.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Cke(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const d=u.draco,h=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const g=t(d,h,m,c),v=g.attributes.map(_=>_.array.buffer);g.index&&v.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},v)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{d.destroy(m),d.destroy(h)}});break}};function t(o,a,l,c){const u=c.attributeIDs,d=c.attributeTypes;let h,m;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)h=new o.Mesh,m=a.DecodeBufferToMesh(l,h);else if(g===o.POINT_CLOUD)h=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const v={index:null,attributes:[]};for(const _ in u){const x=self[d[_]];let b,w;if(c.useUniqueIDs)w=u[_],b=a.GetAttributeByUniqueId(h,w);else{if(w=a.GetAttributeId(h,o[u[_]]),w===-1)continue;b=a.GetAttribute(h,w)}v.attributes.push(i(o,a,h,_,x,b))}return g===o.TRIANGULAR_MESH&&(v.index=r(o,a,h)),o.destroy(h),v}function r(o,a,l){const u=l.num_faces()*3,d=u*4,h=o._malloc(d);a.GetTrianglesUInt32Array(l,d,h);const m=new Uint32Array(o.HEAPF32.buffer,h,u).slice();return o._free(h),{array:m,itemSize:1}}function i(o,a,l,c,u,d){const h=d.num_components(),g=l.num_points()*h,v=g*u.BYTES_PER_ELEMENT,_=s(o,u),x=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,d,_,v,x);const b=new u(o.HEAPF32.buffer,x,g).slice();return o._free(x),{name:c,array:b,itemSize:h}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Px;const kM=()=>{if(Px)return Px;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const h=new Uint8Array(d.length);for(let g=0;g<d.length;++g){const v=d.charCodeAt(g);h[g]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let m=0;for(let g=0;g<d.length;++g)h[m++]=h[g]<60?r[h[g]]:(h[g]-60)*64+h[++g];return h.buffer.slice(0,m)}function l(d,h,m,g,v,_){const x=s.exports.sbrk,b=m+3&-4,w=x(b*g),E=x(v.length),A=new Uint8Array(s.exports.memory.buffer);A.set(v,E);const T=d(w,m,g,E,v.length);if(T===0&&_&&_(w,b,g),h.set(A.subarray(w,w+m*g)),x(w-x(0)),T!==0)throw new Error(`Malformed buffer data: ${T}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Px={ready:o,supported:!0,decodeVertexBuffer(d,h,m,g,v){l(s.exports.meshopt_decodeVertexBuffer,d,h,m,g,s.exports[c[v]])},decodeIndexBuffer(d,h,m,g){l(s.exports.meshopt_decodeIndexBuffer,d,h,m,g)},decodeIndexSequence(d,h,m,g){l(s.exports.meshopt_decodeIndexSequence,d,h,m,g)},decodeGltfBuffer(d,h,m,g,v,_){l(s.exports[u[v]],d,h,m,g,s.exports[c[_]])}},Px};let Rx=null;function BK(n,e,t){return r=>{t&&t(r),n&&(Rx||(Rx=new Eke),Rx.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(Rx)),e&&r.setMeshoptDecoder(typeof kM=="function"?kM():kM)}}function Zr(n,e=!0,t=!0,r){return Xp(YO,n,BK(e,t,r))}Zr.preload=(n,e=!0,t=!0,r)=>Xp.preload(YO,n,BK(e,t,r));Zr.clear=n=>Xp.clear(YO,n);const tc=N.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,onChange:s,onStart:o,onEnd:a,...l},c)=>{const u=Js(A=>A.invalidate),d=Js(A=>A.camera),h=Js(A=>A.gl),m=Js(A=>A.events),g=Js(A=>A.setEvents),v=Js(A=>A.set),_=Js(A=>A.get),x=Js(A=>A.performance),b=e||d,w=r||m.connected||h.domElement,E=N.useMemo(()=>new KNe(b),[b]);return XO(()=>{E.enabled&&E.update()},-1),N.useEffect(()=>(E.connect(w),()=>void E.dispose()),[w,t,E,u]),N.useEffect(()=>{const A=M=>{u(),t&&x.regress(),s&&s(M)},T=M=>{o&&o(M)},I=M=>{a&&a(M)};return E.addEventListener("change",A),E.addEventListener("start",T),E.addEventListener("end",I),()=>{E.removeEventListener("start",T),E.removeEventListener("end",I),E.removeEventListener("change",A)}},[s,o,a,E,u,g]),N.useEffect(()=>{if(n){const A=_().controls;return v({controls:E}),()=>v({controls:A})}},[n,E]),N.createElement("primitive",Ww({ref:c,object:E,enableDamping:i},l))});function FK(n,e){const t=N.useRef(),[r]=N.useState(()=>e?e instanceof Qt?{current:e}:e:t),[i]=N.useState(()=>new hK(void 0)),s=N.useRef({}),[o]=N.useState(()=>{const a={};return n.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(r.current)return s.current[l.name]||(s.current[l.name]=i.clipAction(l,r.current))}})),{ref:r,clips:n,actions:a,names:n.map(l=>l.name),mixer:i}});return XO((a,l)=>i.update(l)),N.useEffect(()=>{const a=r.current;return()=>{s.current={},Object.values(o.actions).forEach(l=>{a&&i.uncacheAction(l,a)})}},[n]),N.useEffect(()=>()=>{i.stopAllAction()},[i]),o}const OM={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},Ake="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/",Mke=n=>n.current&&n.current.isScene,Tke=n=>Mke(n)?n.current:n;function qO(n,e,t,r,i=0){const s=Tke(e||t),o=s.background,a=s.environment,l=s.backgroundBlurriness||0;return n!=="only"&&(s.environment=r),n&&(s.background=r),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=i),()=>{n!=="only"&&(s.environment=a),n&&(s.background=o),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=l)}}function QO({scene:n,background:e=!1,blur:t,map:r}){const i=Js(s=>s.scene);return N.useLayoutEffect(()=>{if(r)return qO(e,n,i,r,t)},[i,n,r,e,t]),null}function zK({files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,encoding:r=void 0,extensions:i}){if(t){if(!(t in OM))throw new Error("Preset must be one of: "+Object.keys(OM).join(", "));n=OM[t],e=Ake}const s=Array.isArray(n),a=Xp(s?eK:Ske,s?[n]:n,c=>{c.setPath(e),i&&i(c)}),l=s?a[0]:a;return l.mapping=s?Sl:up,l.encoding=r??s?Ut:Uo,l}function UK({background:n=!1,scene:e,blur:t,...r}){const i=zK(r),s=Js(o=>o.scene);return N.useLayoutEffect(()=>qO(n,e,s,i,t),[i,n,e,s,t]),null}function Pke({children:n,near:e=1,far:t=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,scene:l,files:c,path:u,preset:d=void 0,extensions:h}){const m=Js(w=>w.gl),g=Js(w=>w.scene),v=N.useRef(null),[_]=N.useState(()=>new WS),x=N.useMemo(()=>{const w=new gO(r);return w.texture.type=ko,w},[r]);N.useLayoutEffect(()=>(i===1&&v.current.update(m,_),qO(o,l,g,x.texture,a)),[n,_,x.texture,l,g,o,i,m]);let b=1;return XO(()=>{(i===1/0||b<i)&&(v.current.update(m,_),b++)}),N.createElement(N.Fragment,null,ENe(N.createElement(N.Fragment,null,n,N.createElement("cubeCamera",{ref:v,args:[e,t,x]}),c||d?N.createElement(UK,{background:!0,files:c,preset:d,path:u,extensions:h}):s?N.createElement(QO,{background:!0,map:s,extensions:h}):null),_))}function Rke(n){var e,t,r,i;const s=zK(n),o=n.map||s;N.useMemo(()=>AK({GroundProjectedEnvImpl:$Ne}),[]);const a=N.useMemo(()=>[o],[o]),l=(e=n.ground)==null?void 0:e.height,c=(t=n.ground)==null?void 0:t.radius,u=(r=(i=n.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return N.createElement(N.Fragment,null,N.createElement(QO,Ww({},n,{map:o})),N.createElement("groundProjectedEnvImpl",{args:a,scale:u,height:l,radius:c}))}function nc(n){return n.ground?N.createElement(Rke,n):n.map?N.createElement(QO,n):n.children?N.createElement(Pke,n):N.createElement(UK,n)}function Ike(n){const{nodes:e,materials:t}=Zr("/rice-terraces.glb");return F("group",{...n,dispose:null,position:[-.3,0,0],rotation:[0,.6,0],scale:.6,children:[y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3838.geometry,material:t["Hut2:Grass.002"],position:[.12,1.29,-1.52],rotation:[Math.PI/2,0,-2.95],scale:1.38}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3837.geometry,material:t["Hut2:Grass.002"],position:[1.67,1.24,-1.5],rotation:[Math.PI/2,0,0],scale:[.84,1.23,.6]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3841.geometry,material:t["Hut2:Grass.002"],position:[-2.7,-.71,.88],rotation:[1.76,-.19,1.19],scale:[3.11,1.8,1.6]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3840.geometry,material:t["Hut2:Grass.002"],position:[-2.52,-.64,.3],rotation:[Math.PI/2,0,-2.96],scale:[2.22,1.28,1.14]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3839.geometry,material:t["Hut2:Grass.002"],position:[-.22,-.6,2.74],rotation:[Math.PI/2,0,.22],scale:[3.97,2.28,2.73]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3835.geometry,material:t["Hut2:Grass.002"],position:[-1.88,.39,-1.47],rotation:[1.57,0,-1.77],scale:[2.83,1.62,1.95]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3832.geometry,material:t["Hut2:Grass.002"],position:[.75,-.59,1.39],rotation:[1.57,0,1.4],scale:[3.97,2.28,2.73]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3831.geometry,material:t["Hut2:Grass.002"],position:[1.12,-.13,1.44],rotation:[1.76,-.19,2.37],scale:[3.11,1.8,1.6]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3825.geometry,material:t["Hut2:Grass.002"],position:[-1.47,-.18,-.22],rotation:[Math.PI/2,0,-1.78],scale:[2.22,1.28,1.14]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3826.geometry,material:t["Hut2:Grass.002"],position:[-1.69,-.15,-.39],rotation:[Math.PI/2,0,-2.73],scale:[2.83,1.62,1.95]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3829.geometry,material:t["Hut2:Grass.002"],position:[-2.18,-.16,-1.95],rotation:[1.46,.02,2.32],scale:[2.83,1.62,1.95]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3830.geometry,material:t["Hut2:Grass.002"],position:[1.72,-.69,3.32],rotation:[1.49,-.08,-3.02],scale:[3.11,1.8,1.6]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3828.geometry,material:t["Hut2:Grass.002"],position:[1.88,-.67,3.28],rotation:[Math.PI/2,0,1.4],scale:[3.97,2.28,2.73]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3827.geometry,material:t["Hut2:Grass.002"],position:[1.88,-.53,3.34],rotation:[Math.PI/2,0,2.35],scale:[3.11,1.8,1.6]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3842.geometry,material:t["Hut2:Grass.002"],position:[2.9,-.68,1.46],rotation:[Math.PI/2,0,0],scale:[.84,1.23,.6]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3843.geometry,material:t["Hut2:Grass.002"],position:[2.94,-.66,1.51],rotation:[Math.PI/2,0,0],scale:.84}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3838001.geometry,material:t["Hut2:Grass.002"],position:[-2.51,-.66,2.93],rotation:[Math.PI/2,0,.09],scale:.84}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3839001.geometry,material:t["Hut2:Grass.002"],position:[-2.54,-.66,2.85],rotation:[Math.PI/2,0,1.8],scale:[1.22,1.93,.91]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3839002.geometry,material:t["Hut2:Grass.002"],position:[-.41,.42,-.73],rotation:[Math.PI/2,0,.88],scale:[3.97,2.28,2.73]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3838002.geometry,material:t["Hut2:Grass.002"],position:[-1,1.29,-2.7],rotation:[Math.PI/2,0,2.16],scale:1.38}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.pCube2002.geometry,material:t["Rice terraces"],position:[-.24,1.12,-2.22],rotation:[Math.PI/2,0,0],scale:[1.96,1.95,1.95]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.pCube3.geometry,material:t["Rice terraces"],position:[.04,.67,-1.85],rotation:[Math.PI/2,0,-.03],scale:[3.6,3.58,2.3]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.pCube4.geometry,material:t["Rice terraces"],position:[.31,.11,-1.54],rotation:[Math.PI/2,0,-.45],scale:[4.51,4.18,.59]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.pCube5.geometry,material:t["Rice terraces"],position:[.2,-.41,-1.07],rotation:[Math.PI/2,0,0],scale:[4.54,6.57,.57]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.pCube6.geometry,material:t["Rice terraces"],position:[.37,-1.18,0],rotation:[Math.PI/2,0,0],scale:[5.66,9.86,.99]})]})}Zr.preload("/rice-terraces.glb");const Nke=()=>{_e.useRef();const[n,e]=N.useState(!1);return F("div",{children:[F("div",{className:"prec-1",children:[F("h1",{className:"page-header-title",children:["chapter2",y("sup",{children:y("button",{className:"about-ch",onClick:()=>e(!0),children:"?"})})]}),y("p",{className:"page-header-subtitle",children:"pre-colonial"}),y(Fp,{open:n,onClose:()=>e(!1)})]}),y("div",{className:"dev-slides-item dev-slide-1",id:"dev-slide-1","aria-label":"slide 1 of 2",tabIndex:"0",children:F("div",{className:"rice-terraces-container",children:[F(ec,{className:"model-viewer",style:{width:"30vw",height:"30vw",padding:"0",margin:"0",borderRadius:"50%",border:"1.5vh solid lightyellow",top:"0",background:"linear-gradient(#f1ede6 10%,rgba(220, 208, 181)100%)",hover:{boxShadow:"0px 0px 100px 100px red"}},children:[F(N.Suspense,{fallback:null,children:[y(Ike,{}),y(nc,{background:!1,files:"/pillars_1k.hdr"})]}),y(tc,{})]}),y("div",{className:"rice-card-modal-container",children:F("div",{className:"rice-card-modal-p-container",children:[y("h2",{className:"rice-card-modal-h3",children:"Pre-Colonial Agricultural Developments"}),y("p",{className:"rice-card-modal-p",children:"Before we were colonized by the Spaniards, although the social systems were not perfect, not free from peasant oppression and slavery — land, at least in many parts of Luzon, was shared by everyone and was tilled for the whole community."}),y("p",{className:"rice-card-modal-p",children:"One well-known development is that there was already a prosperous irrigation system for their fields at that time. The famous rice terraces are worth mentioning, a product of the engineering genius of the early Ifugaos."}),y("p",{className:"rice-card-modal-p",children:"More so, pre-colonial Philippines had a great deal of achievements: livestock-raising, fishing, brewing, mining, lumbering, weapons and cannons, gunpowder, weaving, shipbuilding, and ornaments."})]})})]})})]})},kke=()=>{_e.useRef(),N.useState(!1),N.useState(!1);const[n,e]=N.useState(!1);return F("div",{className:"chapter-container",children:[" ",F("div",{className:"dev-cards-list",children:[F("div",{className:"page-header-container",children:[F("h1",{className:"page-header-title",children:["chapter2",y("sup",{children:y("button",{className:"about-ch",onClick:()=>e(!0),children:"?"})})]}),y("p",{className:"page-header-subtitle",children:"pre-colonial developments"}),y(Fp,{open:n,onClose:()=>e(!1)})]}),y("label",{htmlFor:"dev-card-checkbox-toggle-1",className:"dev-1",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/8TRLrcdMbgSDpQctUI/giphy.gif"})})})}),y("label",{htmlFor:"dev-card-checkbox-toggle-2",className:"dev-2",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/FhuMeW4ne1Vi2vhEFS/giphy.gif"})})})}),y("label",{htmlFor:"dev-card-checkbox-toggle-3",className:"dev-3",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/InIHR2Xb6TG5sMHcLH/giphy.gif"})})})}),y("label",{htmlFor:"dev-card-checkbox-toggle-4",className:"dev-4",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/I5HmyWSIiRpbwzGV9i/giphy.gif"})})})}),y("label",{htmlFor:"dev-card-checkbox-toggle-5",className:"dev-5",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/Zd25ivbSfytMQekkoD/giphy.gif"})})})}),y("label",{htmlFor:"dev-card-checkbox-toggle-6",className:"dev-6",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/rkE1N3QnbYXuLeC3rl/giphy.gif"})})})}),y("label",{htmlFor:"dev-card-checkbox-toggle-7",className:"dev-7",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/uDBZo21lUHM2m8H3Ii/giphy.gif"})})})}),y("label",{htmlFor:"dev-card-checkbox-toggle-8",className:"dev-8",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/R6YfJusrNT87SkBoDy/giphy.gif"})})})}),y("label",{htmlFor:"dev-card-checkbox-toggle-9",className:"dev-9",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/mw5BNeF0Gwnm58KpLI/giphy.gif"})})})})]})]})},Oke=()=>{const[n,e]=N.useState(!0),[t,r]=N.useState(!1);return F("div",{className:"chapter-container",children:[n&&y(Nke,{}),t&&y(kke,{}),F("div",{className:"dev-carousel__nav",children:[y("button",{onClick:()=>{e(!0),r(!1)},className:"dev-slider-nav",children:"1"}),y("button",{onClick:()=>{e(!1),r(!0)},className:"dev-slider-nav",children:"2"})]})]})},HK=()=>{N.useState(!1),N.useState(!1);const[n,e]=N.useState(!1);return _e.useRef(),F("div",{className:"chapter-container",children:[F("div",{className:"spanish-cards-list",children:[F("div",{className:"page-header-container",children:[F("h1",{className:"page-header-title",children:["chapter2",y("sup",{children:y("button",{className:"about-ch",onClick:()=>e(!0),children:"?"})})]}),y("p",{className:"page-header-subtitle",children:"spanish colonization"}),y(Fp,{open:n,onClose:()=>e(!1)})]}),y("input",{type:"checkbox",id:"spanish-card-checkbox-toggle-1"}),y("input",{type:"checkbox",id:"spanish-card-checkbox-toggle-2"}),y("input",{type:"checkbox",id:"spanish-card-checkbox-toggle-3"}),y("input",{type:"checkbox",id:"spanish-card-checkbox-toggle-4"}),F("label",{htmlFor:"spanish-card-checkbox-toggle-1",className:"spanish-1",children:[F("div",{className:"spanish-card-btn",children:[y("div",{className:"spanish-card-image",children:y("img",{className:"spanish-card-image-img",src:"https://media.giphy.com/media/9lHqRf3Oi8Vv83oZqK/giphy.gif"})}),y("div",{className:"spanish-card-title",children:y("div",{className:"spanish-card-p",children:"Regalian Doctrine"})})]}),y("div",{className:"spanish-card-modal-container",children:y("div",{className:"spanish-card-modal",children:F("div",{className:"spanish-card-modal-p-container",children:[y("h2",{className:"spanish-card-modal-h3",children:"The Regalian Doctrine: A Colonial Law for Philippine Land Disposession"}),y("p",{children:"Through the Regalian Doctrine the conquistadors introduced, all our lands were to be completely owned by the “crown” or the King of Spain."})]})})})]}),F("label",{htmlFor:"spanish-card-checkbox-toggle-2",className:"spanish-2",children:[F("div",{className:"spanish-card-btn",children:[y("div",{className:"spanish-card-image",children:y("img",{className:"spanish-card-image-img",src:"https://media.giphy.com/media/TscfGyVBG1mJPRrkDl/giphy.gif"})}),y("div",{className:"spanish-card-title",children:y("div",{className:"spanish-card-p",children:"Encomienda System"})})]}),y("div",{className:"spanish-card-modal-container",children:y("div",{className:"spanish-card-modal",children:F("div",{className:"spanish-card-modal-p-container",children:[y("h2",{className:"spanish-card-modal-h3",children:"The Encomienda System: Spain's Slave Labor System"}),y("p",{children:"This was a system where the Spanish colonial officials and religious orders were granted wide areas of lands as an award for their services in the conquest of the Filipinos, this was called the Encomienda System. They were granted the right to force Filipino peasants to farm the stolen lands to produce the needs of the crown and its other colonies."})]})})})]}),F("label",{htmlFor:"spanish-card-checkbox-toggle-3",className:"spanish-3",children:[F("div",{className:"spanish-card-btn",children:[y("div",{className:"spanish-card-image",children:y("img",{className:"spanish-card-image-img",src:"https://media.giphy.com/media/zFSzW8Ko1YISqmoOkY/giphy.gif"})}),y("div",{className:"spanish-card-title",children:y("div",{className:"spanish-card-p",children:"Hacienda System"})})]}),y("div",{className:"spanish-card-modal-container",children:y("div",{className:"spanish-card-modal",children:F("div",{className:"spanish-card-modal-p-container",children:[y("h2",{className:"spanish-card-modal-h3",children:"The Hacienda System: Philippine Natural Resources for Foreign Consumption"}),y("p",{children:"After some time, the encomienda system evolved into the hacienda system. Compared to the former, this system was geared to produce superprofits by expanding the possessed lands into plantations or “haciendas.” Here, crops and raw materials are produced for export, consumption, and demand of Spanish and other European countries."})]})})})]}),F("label",{htmlFor:"spanish-card-checkbox-toggle-4",className:"spanish-4",children:[F("div",{className:"spanish-card-btn",children:[y("div",{className:"spanish-card-image",children:y("img",{className:"spanish-card-image-img",src:"https://media.giphy.com/media/Rlk16e2c76QoLvU8Hh/giphy.gif"})}),y("div",{className:"spanish-card-title",children:y("div",{className:"spanish-card-p",children:"Mandatory Taxation"})})]}),y("div",{className:"spanish-card-modal-container",children:y("div",{className:"spanish-card-modal",children:F("div",{className:"spanish-card-modal-p-container",children:[y("h2",{className:"spanish-card-modal-h3",children:"Mandatory Taxation for Spanish Interests"}),y("p",{children:"Throughout, taxes were compulsory and had to be collected (50% of crops produced). Peasants were forced to clear forested areas for farming and infrastructures for the new government."})]})})})]})]}),y(Hi,{to:"/chapters-directory/chapter-2",style:{color:"white"},children:y("div",{className:"chapter-two-btn chapter-two-btn-container",children:y("button",{className:"chapter-two-links back-btn",children:"Back"})})})]})},GK=()=>{N.useState(!1),N.useState(!1);const[n,e]=N.useState(!1);return _e.useRef(),F("div",{className:"chapter-container",children:[F("div",{className:"american-cards-list",children:[F("div",{className:"page-header-container",children:[F("h1",{className:"page-header-title",children:["chapter2",y("sup",{children:y("button",{className:"about-ch",onClick:()=>e(!0),children:"?"})})]}),y("p",{className:"page-header-subtitle",children:"american colonization"}),y(Fp,{open:n,onClose:()=>e(!1)})]}),y("input",{type:"checkbox",id:"american-card-checkbox-toggle-1"}),y("input",{type:"checkbox",id:"american-card-checkbox-toggle-2"}),y("input",{type:"checkbox",id:"american-card-checkbox-toggle-3"}),y("input",{type:"checkbox",id:"american-card-checkbox-toggle-4"}),F("label",{htmlFor:"american-card-checkbox-toggle-1",className:"american-1",children:[F("div",{className:"american-card-btn",children:[y("div",{className:"american-card-image",children:y("img",{className:"american-card-image-img",src:"https://media.giphy.com/media/DHuCILVdIvofvSPIi7/giphy.gif"})}),y("div",{className:"american-card-title",children:y("div",{className:"american-card-p",children:"Hacienda Expansion"})})]}),y("div",{className:"american-card-modal-container",children:y("div",{className:"american-card-modal",children:F("div",{className:"american-card-modal-p-container",children:[y("h2",{className:"american-card-modal-h3",children:"Expansion of Haciendas"}),y("p",{children:"They encouraged the development of the hacienda system, resulting in extracting more export crops and natural resources — all sold at low prices through cheap labor and the expansion of their base in the country."})]})})})]}),F("label",{htmlFor:"american-card-checkbox-toggle-2",className:"american-2",children:[F("div",{className:"american-card-btn",children:[y("div",{className:"american-card-image",children:y("img",{className:"american-card-image-img",src:"https://media.giphy.com/media/Iemzt229PtS49xD2uU/giphy.gif"})}),y("div",{className:"american-card-title",children:y("div",{className:"american-card-p",children:"Anti-Peasant Laws"})})]}),y("div",{className:"american-card-modal-container",children:y("div",{className:"american-card-modal",children:F("div",{className:"american-card-modal-p-container",children:[y("h2",{className:"american-card-modal-h3",children:"Anti-Peasant Laws"}),y("p",{children:"They implemented deceptive laws that only reinforced the land monopoly, land-grabbings, and landlessness. The preservation of the feudal bondage was made possible through the Bell Trade Act, Laurel-Langley Agreement, and other relevant trade policies."})]})})})]}),F("label",{htmlFor:"american-card-checkbox-toggle-3",className:"american-3",children:[F("div",{className:"american-card-btn",children:[y("div",{className:"american-card-image",children:y("img",{className:"american-card-image-img",src:"https://media.giphy.com/media/Ql2nGRMNcLTsgfVbDb/giphy.gif"})}),y("div",{className:"american-card-title",children:y("div",{className:"american-card-p",children:"US Market Expansion"})})]}),y("div",{className:"american-card-modal-container",children:y("div",{className:"american-card-modal",children:F("div",{className:"american-card-modal-p-container",children:[y("h2",{className:"american-card-modal-h3",children:"US Market Expansion"}),y("p",{children:"To spread their influence, imports of American commodities were advertised and sold in the motherland. They also sought the Philippines as a market for their surplus goods, which crushed local handicrafts and manufacturers, resorting the Filipinos to buy these overpriced finished goods instead of manufacturing them – leaving them to become dependent on importing expensive goods and exporting cheap ones."})]})})})]}),F("label",{htmlFor:"american-card-checkbox-toggle-4",className:"american-4",children:[F("div",{className:"american-card-btn",children:[y("div",{className:"american-card-image",children:y("img",{className:"american-card-image-img",src:"https://media.giphy.com/media/PtbW7yGXisj3y8DsLR/giphy.gif"})}),y("div",{className:"american-card-title",children:y("div",{className:"american-card-p",children:"International Debt"})})]}),y("div",{className:"american-card-modal-container",children:y("div",{className:"american-card-modal",children:F("div",{className:"american-card-modal-p-container",children:[y("h2",{className:"american-card-modal-h3",children:"International Debt"}),y("p",{children:"During the 1950s, foreign machinery and agricultural inputs were sold at excessive prices. This played a major role in the widespread poverty, hunger, and inequality across the Philippines and other colonies. They accumulated so much debt that they have still been taking out loans from international financing institutions such as the International Monetary Fund and World Bank. In exchange for the loans, they have been mandated to buy overpriced genetically modified seeds and agro-chemicals that kill local indigenous crop varieties and sustainable agricultural practices."})]})})})]})]}),y(Hi,{to:"/chapters-directory/chapter-2",style:{color:"white"},children:y("div",{className:"chapter-two-btn chapter-two-btn-container",children:y("button",{className:"chapter-two-links back-btn",children:"Back"})})})]})},VK=()=>{N.useState(!1),N.useState(!1);const[n,e]=N.useState(!1);return _e.useRef(),F("div",{className:"chapter-container",children:[F("div",{className:"pres-cards-list ",children:[F("div",{className:"page-header-container",children:[F("h1",{className:"page-header-title",children:["chapter2",y("sup",{children:y("button",{className:"about-ch",onClick:()=>e(!0),children:"?"})})]}),y("p",{className:"page-header-subtitle",children:"philippine republic"}),y(Fp,{open:n,onClose:()=>e(!1)})]}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-1"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-2"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-3"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-4"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-5"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-6"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-7"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-8"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-9"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-10"}),F("label",{htmlFor:"pres-card-checkbox-toggle-1",className:"pres-1",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/XZequ0aQUU35ROwfsM/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Roxas"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Manuel Roxas"}),F("ol",{children:[y("li",{children:"During his term, agreements with the United States, such as the U.S.-R.P. Treaty of General Relations, Property Act, and Bell Trade Act, allowed US ownership and utilization of the country’s lands, natural resources, and public utilities."}),y("li",{children:"Roxas' administration attacked peasant communities who were begging for land reform through military forces, evident in the Maliwalu massacre and Masico massacre."}),y("li",{children:"Roxas' administration charged peasants for all the unpaid land rent during the recent Philippine-Japanese war."})]})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-2",className:"pres-2",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/YNMBb3bfUZeX7RdrWV/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Magsaysay"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Ramon Magsaysay"}),y("ol",{children:y("li",{children:"The 1955 Agrarian Reform Law was implemented during his term, but the agrarian program that aimed for land distribution was barely enforced."})})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-3",className:"pres-3",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/4Yd7lT7RTfv2MFpU8k/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Macapagal"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Diosdado Macapagal"}),F("ol",{children:[y("li",{children:"The agrarian program that aimed for limiting land ownership of landlords was barely enforced during his term."}),y("li",{children:"Macapagal's administration also attacked peasant communities who were begging for land reform through military forces, evident in the Maliwalu massacre and Masico massacre."}),y("li",{children:"During his term, land rent was raised, causing the decline of prices of farmers’ agricultural goods, and plantations for export crops were expanded under the 1963 Agrarian Reform Code."})]})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-4",className:"pres-4",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/qyUEO3pd72JmWc9Fd5/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Marcos"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Ferdinand Marcos"}),F("ol",{children:[y("li",{children:"Rice and corn farms were subjected to land distribution, yet haciendas and plantations devoted to export crops like sugar, copra, bananas, tobacco, and pineapples were exempted. This deprived more than half of farmers of their own lands. This was through the Presidential Decree 2 and 27."}),y("li",{children:"The lands of foreign corporate farms and plantations were expanded, and farms owned by peasants were then acquired by these big businesses instead of acquiring idle, abandoned, or unexploited lands. This raised rural poverty and landlessness through the Green Revolution/Masagana 99."}),y("li",{children:"Marcos' administration required farmers to use expensive imported seeds, chemical soil fertilizers, and pesticides. This, along with the ever-increasing prices of farm inputs, buried farmers in debt and pushed them into poverty through the Green Revolution/Masagana 99."})]})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-5",className:"pres-5",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/2wLBocQAO8OPfTJcLK/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Aquino"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Corazon Aquino"}),F("ol",{children:[y("li",{children:"The Comprehensive Agrarian Reform Program (CARP) was implemented, but the administration’s agrarian program failed to redistribute land to peasants and only empowered large agribusinesses."}),y("li",{children:"Aquino's administration prohibited workers from their right to strike, through the Herrera Bill."}),y("li",{children:"The administration declared a “Total War” policy to suppress peasant voices, which led to the Mendiola Massacre."})]})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-6",className:"pres-6",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/QD11atC0rtZsiwSGrM/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Ramos"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Fidel Ramos"}),F("ol",{children:[y("li",{children:"Peasant-owned lands were privatized and commercialized, expanding business interests and worsening peasant landlessness through the Philippines 2000 program."}),y("li",{children:"The administration further encouraged export-oriented production of cheap goods and importation of expensive ones through joining the World Trade Organization."}),y("li",{children:"Ramos' administration declared a war on the peasant Moros in the countryside."})]})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-7",className:"pres-7",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/xWTbV9TNWDkvjMedr8/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Estrada"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Joseph Estrada"}),F("ol",{children:[y("li",{children:"Estrada did not have any programs for peasants at all."}),y("li",{children:"Estrada declared an “All Out War” on Moros in the countryside."})]})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-8",className:"pres-8",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/s7mVTtCxH5vjzRsxcg/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Arroyo"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Gloria Arroyo"}),F("ol",{children:[y("li",{children:"The national income for agriculture further declined because of excessive importation, causing millions of farmers to lose their livelihoods, forcing them to sell or mortgage their very little lands, and look for other jobs in cities. Worse, the products that were being imported could be produced in the Philippines – rice, vegetables, sugar, and fish."}),y("li",{children:"Militarization and bombings in the countryside (i.e., Bangsa Moro, Liguasan Marsh, Capiz)."}),y("li",{children:"Arroyo's administration launched extrajudicial killings of members, leaders, and sympathizers of the peasantry, including priests, journalists, lawyers, doctors, students, and more, through Oplan Bantay Laya."})]})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-9",className:"pres-9",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/wCdjVvi5VQpeanKUdu/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Aquino III"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Benigno Aquino III"}),F("ol",{children:[y("li",{children:"The Comprehensive Agrarian Reform Program Extension with Reforms (CARPER) was implemented, but the new agrarian reform that was passed only worsened rural poverty and landlessness."}),y("li",{children:"Aquino III's administration worsened the imperialist exploitation of the country’s natural resources through Public-Private Partnerships (PPP)."}),y("li",{children:"Counter-insurgency campaigns were reinforced that mainly affected those in the countryside through Oplan Bayanihan."}),y("li",{children:"Thousands of farmers who were asking for agricultural support were shot by state forces in the Kidapawan massacre."})]})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-10",className:"pres-10",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/GNSVc2HW3BNYXDjQFl/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Duterte"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Rodrigo Duterte"}),F("ol",{children:[y("li",{children:"Overprioritization of infrastructure projects led to trillions of debts and failure of distribution of government funds through Build! Build! Build!"}),y("li",{children:"Increased taxes of basic commodities, burdening the masses even more, especially the poorest. These are also used to pay off the country’s high amounts of debts. (Through Train Law of 2018.)"}),y("li",{children:"Worsened peasant-farmer livelihoods by prioritizing rice importation through removing rice import quotas. (Through Rice Liberalization Law.)"}),y("li",{children:"Created a national task force that only put peasant lives in danger, as they are popular targets of violence and black propaganda among state forces. (Through Executive Order No. 70 (NTF-ELCAC) and “whole-of-nation” approach)"})]})]})})})]})]}),y(Hi,{to:"/chapters-directory/chapter-2",style:{color:"white"},children:y("div",{className:"chapter-two-btn chapter-two-btn-container",children:y("button",{className:"chapter-two-links back-btn",children:"Back"})})})]})},Lke=({onShowPreColonial:n,onShowSpanish:e,onShowAmerican:t,onShowPhilippines:r})=>{const[i,s]=N.useState(!1);return F("div",{className:"chapter-two-nav",children:[F("div",{className:"chii-text-wrapper",children:[F("h1",{className:"page-header-title chii-text-wrapper",children:["chapter2",y("sup",{children:y("button",{className:"about-ch",onClick:()=>s(!0),children:"?"})})]}),y(Fp,{open:i,onClose:()=>s(!1)})]}),y("div",{className:"chapter-two-btn",children:y("button",{className:"chapter-two-links",onClick:()=>n(!0),children:"Pre-Colonial Period"})}),y("div",{className:"chapter-two-btn",children:y("button",{className:"chapter-two-links",onClick:()=>e(!0),children:"Spanish Colonization Period"})}),y("div",{className:"chapter-two-btn",children:y("button",{className:"chapter-two-links",onClick:()=>t(!0),children:"American Colonization Period"})}),y("div",{className:"chapter-two-btn",children:y("button",{className:"chapter-two-links",onClick:()=>r(!0),children:"Present Philippine Republic"})})]})},Dke=()=>{const[n,e]=N.useState(!1),[t,r]=N.useState(!1),[i,s]=N.useState(!1),[o,a]=N.useState(!1),[l,c]=N.useState(!1),[u,d]=N.useState(!0),h=()=>{r(!1),s(!1),a(!1),c(!1),d(!0)},m=()=>{e(!1),d(!1)};return F("div",{className:"chapter-container",children:[y(Bp,{}),u&&y(Zl.div,{className:"chapter2-nav-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:y(Lke,{onShowPreColonial:()=>{r(!0),m()},onShowSpanish:()=>{s(!0),m()},onShowAmerican:()=>{a(!0),m()},onShowPhilippines:()=>{c(!0),m()},isOpen:n,setIsOpen:e})}),t&&y(Oke,{onClose:()=>r(!1)}),i&&y(HK,{onClose:()=>s(!1)}),o&&y(GK,{onClose:()=>a(!1)}),l&&y(VK,{onClose:()=>c(!1)}),(t||i||o||l)&&y("div",{className:"chapter-two-btn chapter-two-btn-container",children:y("button",{className:"chapter-two-links back-btn",onClick:h,children:"Back"})})]})},Bke={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e3},Fke={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(2px)",zIndex:1e3};function zke({open:n,onClose:e}){return n?Pi.createPortal(F(fs,{children:[y("div",{onClick:e}),y("div",{style:Fke,onClick:e}),y("div",{style:Bke,children:y("div",{className:"sol-modal-container",children:F("div",{className:"sol-modal-text",children:[y("h2",{className:"sol-modal-h2",children:"Chapter 3"}),y("h3",{className:"sol-modal-h3",children:"Plight of the Peasantry"}),y("p",{className:"sol-modal-p",children:"Chapter 3 contains a short list of the many ways the Filipino peasantry is being disenfranchised. These challenges perpetuate a cycle of poverty, making it difficult for the peasantry to assert their rights to land ownership and improve their livelihoods."}),y("p",{className:"sol-modal-p",children:y("i",{children:"To know more, open the Chapter Guide found at the top-right of your screen."})})]})})})]}),document.getElementById("portal")):null}const Uke=()=>{const[n,e]=N.useState(!1);return _e.useRef(),F("div",{children:[F("div",{className:"prec-1",children:[F("div",{className:"chiii-text-wrapper",children:[F("h1",{className:"page-header-title",children:["chapter3",y("sup",{children:y("button",{className:"about-ch",onClick:()=>e(!0),children:"?"})})]}),y("p",{className:"page-header-subtitle",children:"plight of the peasantry"})]}),y(zke,{open:n,onClose:()=>e(!1)})]}),F("div",{className:"plight-carousel",children:[y("a",{className:"plight-carousel__skip-link",href:"#plight-skip-link",children:"Skip the plight-Carousel"}),F("div",{className:"plight-slides",children:[F("div",{className:"plight-slides-item plight-slide-1",id:"plight-slide-1","aria-label":"slide 1 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/FTttO6GosqxuvvsMHn/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"Landlessness"}),y("p",{className:"plight-card-modal-p",children:"At least 7 out of 10 farmers are landless and do not own the land they till. For a farmer, losing their land is like losing their basic right to existence."}),y("p",{className:"plight-card-modal-p",children:"The lack of access to land has resulted in the proliferation of informal settlements and urban slums, where people live in substandard housing and lack access to basic services such as water and sanitation."}),y("p",{className:"plight-card-modal-p",children:"One of the main causes of landlessness in the Philippines is the concentration of land ownership in the hands of a few wealthy families, who have the resources and influence to maintain their control over large tracts of land."}),y("p",{className:"plight-card-modal-p",children:"Giving peasants ownership of the land they work on could help to solve this problem. It would give them more control over their work environment and the ability to invest in their own farms. This could lead to greater stability, increased productivity, and improved livelihoods for Filipino peasants."})]})})]}),F("div",{className:"plight-slides-item plight-slide-2",id:"plight-slide-2","aria-label":"slide 2 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/sq9TLxv9OIV6G79nb9/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"Land Monopoly"}),y("p",{className:"plight-card-modal-p",children:"Today, peasants are still forced to give up their lands because of the conversion of agricultural lands to commercial use. Many are evicted from their lands through military means and anti-peasant laws and policies."}),y("p",{className:"plight-card-modal-p",children:"In many cases, there are peasants who are the owners of their lands as declared on paper, yet the agribusinesses are always the ones who control and benefit from them. Peasants cannot also grow their own crops on abandoned commercial lands they used to work on, do not have the autonomy to choose which types of crops and agricultural inputs to use, and are forced to buy and use expensive environment- and health-damaging foreign imports of agricultural inputs."})]})})]}),F("div",{className:"plight-slides-item plight-slide-3",id:"plight-slide-3","aria-label":"slide 3 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/uzrHKx47ihF4lQb0aC/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"Food Insecurity"}),y("p",{className:"plight-card-modal-p",children:"The ever-expansion of land monopoly among big landlords and agribusinesses are a threat to the food security of Filipinos, especially the peasants. Export crops have taken over and far exceeded the rice and corn farms, which the peasants mainly depend on for food and sustenance."}),y("p",{className:"plight-card-modal-p",children:"In addition to this, the influx of imported expensive agricultural products have taken a toll on their livelihoods and food as they end up earning next to nothing."})]})})]}),F("div",{className:"plight-slides-item plight-slide-4",id:"plight-slide-4","aria-label":"slide 4 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/GzSaTt5YK9xGw6aVy1/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"Low Wages"}),y("p",{className:"plight-card-modal-p",children:"Peasants in the Philippines often face low wages, which can make it difficult to make ends meet. Many agricultural workers in the Philippines are not even paid the minimum wage, as some employers are able to exploit loopholes in the law. This can lead to further economic hardship for workers, particularly those who are already living in poverty."})]})})]}),F("div",{className:"plight-slides-item plight-slide-5",id:"plight-slide-5","aria-label":"slide 5 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/Xev9ybCo8Nlo5QrxOs/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"High Land Rent"}),y("p",{className:"plight-card-modal-p",children:"Peasants in the Philippines often face high land rent costs that can be financially burdensome. In many cases, these costs are so high that peasants are forced to take out loans just to pay for them. This perpetuates a cycle of debt that can be difficult to break, as the high cost of land rent leaves peasants with little money to invest in their farms or improve their living conditions. As a result, many peasants struggle to make ends meet and are at risk of losing their land if they are unable to keep up with the rent payments."})]})})]}),F("div",{className:"plight-slides-item plight-slide-6",id:"plight-slide-6","aria-label":"slide 6 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/fZgaDnsLftBgD6LQIQ/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"High Loan and Tax Interest Rates"}),y("p",{className:"plight-card-modal-p",children:"The high loan and tax interest rates in the Philippines have been a major concern for the peasantry, who are among the most vulnerable and marginalized sectors of society. The Philippine government has implemented various programs and policies aimed at supporting the rural economy and improving the welfare of farmers, but many of these initiatives have fallen short in addressing the root causes of poverty and inequality in the countryside."}),F("p",{className:"plight-card-modal-p",children:["Such difficulties compel peasants to take out loans with high interest rates."," "]})]})})]}),F("div",{className:"plight-slides-item plight-slide-7",id:"plight-slide-7","aria-label":"slide 7 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/allqaf8rK2bG7hPci1/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"Forced Labor"}),y("p",{className:"plight-card-modal-p",children:"Many farmers and peasants in the Philippines rely heavily on their families to help them with their work. However, in some cases, these families are forced to work without pay or adequate compensation. This is especially true for children, who are often pulled out of school to work on farms."}),y("p",{className:"plight-card-modal-p",children:"One of the main reasons for forced family labor is poverty. Many families in rural areas are living in extreme poverty and are often forced to rely on their children to help them make ends meet. In some cases, these families are also indebted to landowners or moneylenders, which further exacerbates the problem."})]})})]}),F("div",{className:"plight-slides-item plight-slide-8",id:"plight-slide-8","aria-label":"slide 8 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/JPH7nyTLXN21Hl9QXj/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"Militarization"}),y("p",{className:"plight-card-modal-p",children:"The militarization of the Philippines peasantry is a long-standing issue in the country. For decades, the Philippine government has deployed military forces to rural areas to suppress armed rebellions and insurgencies. This has led to numerous human rights violations, including extrajudicial killings, forced disappearances, and displacement of communities."}),y("p",{className:"plight-card-modal-p",children:"The government's counter-insurgency programs, such as Oplan Bantay Laya, have often targeted farmers and other rural residents who are suspected of supporting or being members of insurgent groups. The military has also been accused of collaborating with private corporations, such as mining and logging companies, to forcibly remove farmers from their land to make way for large-scale development projects."}),y("p",{className:"plight-card-modal-p",children:"The militarization of the countryside has not only resulted in human rights abuses but has also disrupted the lives and livelihoods of rural communities. Farmers have been forced to abandon their crops and their homes, and many have been forced to flee to urban areas to seek refuge."}),y("p",{className:"plight-card-modal-p",children:"The Philippine government has been criticized by human rights groups and international organizations for its failure to hold accountable those responsible for the abuses committed by the military. The government has also been urged to address the root causes of the insurgency, including poverty, landlessness, and social inequality."}),y("p",{className:"plight-card-modal-p",children:"Efforts to address the militarization of the peasantry have included calls for the demilitarization of rural areas and the withdrawal of military forces from communities. There have also been efforts to promote agrarian reform and to protect the rights of farmers to their land and livelihoods. However, progress has been slow, and the militarization of the countryside remains a significant challenge in the Philippines."})]})})]}),F("div",{className:"plight-slides-item plight-slide-9",id:"plight-slide-9","aria-label":"slide 9 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/fhEYRG1rkFIC3AMfgI/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"Killings and Human Rights Abuses"}),y("p",{className:"plight-card-modal-p",children:"Extrajudicial killings (EJKs) and human rights abuses are serious violations of human rights and must be condemned. The fact that the majority of EJK victims are peasants is a cause for concern, as it points to a larger issue of inequality and injustice in society."}),y("p",{className:"plight-card-modal-p",children:"Peasants, who are often poor and marginalized, are particularly vulnerable to EJKs and other human rights abuses. They may be targeted by state actors or non-state actors, such as criminal gangs or private security forces, for various reasons, including their involvement in land disputes or their opposition to development projects that may displace them from their homes and livelihoods."}),y("p",{className:"plight-card-modal-p",children:"It is important for governments to take measures to protect the human rights of all their citizens, including peasants and other marginalized groups. This includes ensuring that those responsible for EJKs and other abuses are held accountable and brought to justice, and that victims and their families are provided with appropriate remedies and support."}),y("p",{className:"plight-card-modal-p",children:"Moreover, addressing the root causes of inequality and injustice is essential to prevent future violations of human rights. This may involve implementing policies and programs that promote social and economic inclusion and empower marginalized groups, such as peasants, to participate in decision-making processes that affect their lives and livelihoods."})]})})]}),F("div",{className:"plight-slides-item plight-slide-10",id:"plight-slide-10","aria-label":"slide 10 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/lmKisCsdqmyZHhviNK/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"Bogus Land Reforms"}),y("p",{className:"plight-card-modal-p",children:"Land reform in the Philippines has been a contentious issue for many decades. While some land reform programs have achieved some success, others have been criticized for being ineffective, inadequate, or even fraudulent. Here are some examples of bogus land reforms in the Philippines:"}),F("ul",{children:[y("li",{className:"plight-card-modal-p",children:"Stock distribution option (SDO) - The Comprehensive Agrarian Reform Program (CARP) of 1988 allowed landowners to retain ownership of their land by distributing stocks in their corporations to farmers. However, this program was widely criticized for being a bogus land reform scheme because it did not transfer actual ownership of land to farmers. The farmers received shares of stocks that were often manipulated, undervalued, or easily diluted by the landowners."}),y("li",{className:"plight-card-modal-p",children:"Leaseback arrangement - Some landowners in the Philippines have used a leaseback arrangement to circumvent the land reform program. This scheme involves leasing the land to the government for distribution to landless farmers, then leasing it back from the government at an exorbitant price. The landowners retain control of the land while the farmers are left with the burden of paying high rent."}),y("li",{className:"plight-card-modal-p",children:"Land use conversion - Landowners can evade the land reform program by converting agricultural land into other uses, such as commercial or residential purposes. This practice is often facilitated by corrupt local officials who issue permits and approvals for the conversion of land, even if it is not legally allowed."}),y("li",{className:"plight-card-modal-p",children:"Violence and intimidation - Some landowners in the Philippines have resorted to violence and intimidation to prevent the implementation of land reform programs. Farmers who assert their rights to land ownership are often met with threats, harassment, and even physical violence."})]}),y("p",{className:"plight-card-modal-p",children:"These bogus land reform schemes have undermined the objective of redistributing land to farmers and alleviating rural poverty in the Philippines. Without genuine land reform, the rural poor will continue to suffer from landlessness, poverty, and inequality."})]})})]})]}),F("div",{className:"plight-carousel__nav",children:[y("a",{className:"plight-slider-nav",href:"#plight-slide-1","aria-label":"Go to slide 1",children:"1"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-2","aria-label":"Go to slide 2",children:"2"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-3","aria-label":"Go to slide 3",children:"3"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-4","aria-label":"Go to slide 4",children:"4"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-5","aria-label":"Go to slide 5",children:"5"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-6","aria-label":"Go to slide 6",children:"6"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-7","aria-label":"Go to slide 7",children:"7"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-8","aria-label":"Go to slide 8",children:"8"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-9","aria-label":"Go to slide 9",children:"9"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-10","aria-label":"Go to slide 10",children:"10"})]}),y("div",{className:"plight-carousel__skip-message",id:"plight-skip-link",tabIndex:"0"})]})]})},Hke=()=>F("div",{className:"chapter-container",children:[y(Bp,{}),y(Uke,{})]}),Gke={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e3},Vke={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(2px)",zIndex:1e3};function Wke({open:n,onClose:e}){return n?Pi.createPortal(F(fs,{children:[y("div",{onClick:e}),y("div",{style:Vke,onClick:e}),y("div",{style:Gke,children:y("div",{className:"sol-modal-container",children:F("div",{className:"sol-modal-text",children:[y("h2",{className:"sol-modal-h2",children:"Chapter 4"}),y("h3",{className:"sol-modal-h3",children:"Roots of the Problems"}),y("p",{className:"sol-modal-p",children:"Imperialism, feudalism, and bureaucrat-capitalism have all had significant impacts on the material conditions of the Filipino peasantry. These issues have led to an unequal distribution of wealth and power, leaving the Filipino peasantry to face the negative consequences. Addressing these issues is essential to promote a fairer and more just society for all."}),y("p",{className:"sol-modal-p",children:y("i",{children:"To know more, open the Chapter Guide found at the top-right of your screen."})})]})})})]}),document.getElementById("portal")):null}const jke=()=>{const[n,e]=N.useState(!1);return _e.useRef(),F("div",{className:"spanish-cards-container",children:[" ",F("div",{className:"spanish-cards-list",children:[F("div",{className:"page-header-container",children:[F("h1",{className:"page-header-title",children:["chapter4",y("sup",{children:y("button",{className:"about-ch",onClick:()=>e(!0),children:"?"})})]}),y("p",{className:"page-header-subtitle",children:"roots of the problems"}),y(Wke,{open:n,onClose:()=>e(!1)})]}),y("input",{type:"checkbox",id:"spanish-card-checkbox-toggle-1"}),y("input",{type:"checkbox",id:"spanish-card-checkbox-toggle-2"}),y("input",{type:"checkbox",id:"spanish-card-checkbox-toggle-3"}),F("label",{htmlFor:"spanish-card-checkbox-toggle-1",className:"spanish-1",children:[F("div",{className:"spanish-card-btn",children:[y("div",{className:"spanish-card-image",children:y("img",{className:"spanish-card-image-img",src:"https://media.giphy.com/media/STK4cRSyq7vhrWEMfl/giphy.gif"})}),y("div",{className:"spanish-card-title",children:y("div",{className:"spanish-card-p",children:"Imperialism"})})]}),y("div",{className:"spanish-card-modal-container",children:y("div",{className:"spanish-card-modal",children:F("div",{className:"spanish-card-modal-p-container",children:[y("h2",{className:"spanish-card-modal-h3",children:"Imperialism"}),y("p",{children:"Imperialism has led to the domination of the economy, politics, and culture of weaker nations by a few big capitalists. This has resulted in the concentration of wealth and power in the hands of a few, who control the markets, source of raw materials, modern technology, and skilled labor. As a result, the Filipino peasantry has been prevented from attaining food security, food sovereignty, and from their rights to safe, healthy, and ecologically sustainable production. The rich and powerful nations have been interested in the country as a source of cheap raw materials, cheap labor, and a market for their surplus goods and capital. This has had a negative impact on the Filipino peasantry, who have been left to face the consequences of imperialism."})]})})})]}),F("label",{htmlFor:"spanish-card-checkbox-toggle-2",className:"spanish-2",children:[F("div",{className:"spanish-card-btn",children:[y("div",{className:"spanish-card-image",children:y("img",{className:"spanish-card-image-img",src:"https://media.giphy.com/media/1VYWbsZGOYfAYa31dR/giphy.gif"})}),y("div",{className:"spanish-card-title",children:y("div",{className:"spanish-card-p",children:"Feudalism"})})]}),y("div",{className:"spanish-card-modal-container",children:y("div",{className:"spanish-card-modal",children:F("div",{className:"spanish-card-modal-p-container",children:[y("h2",{className:"spanish-card-modal-h3",children:"Feudalism"}),y("p",{children:"Feudalism is another issue that has affected the material conditions of the Filipino peasantry. In this system, agricultural lands are monopolized by a few landlords, leaving vast tracts of land to be tilled by the peasantry. This system has led to landlessness and food insecurity for the Filipino peasantry, who face exploitation through high land rent and high-interest and loan rates, slavery, cheap labor and products, and backward farming methods. This has resulted in an unequal distribution of wealth and power, with the Filipino peasantry being left behind."})]})})})]}),F("label",{htmlFor:"spanish-card-checkbox-toggle-3",className:"spanish-3",children:[F("div",{className:"spanish-card-btn",children:[y("div",{className:"spanish-card-image",children:y("img",{className:"spanish-card-image-img",src:"https://media.giphy.com/media/MCiJ3dGpVcH0YPL82B/giphy.gif"})}),y("div",{className:"spanish-card-title",children:y("div",{className:"spanish-card-p",children:"Bureaucrat-Capitalism"})})]}),y("div",{className:"spanish-card-modal-container",children:y("div",{className:"spanish-card-modal",children:F("div",{className:"spanish-card-modal-p-container",children:[y("h2",{className:"spanish-card-modal-h3",children:"Bureaucrat-Capitalism"}),y("p",{children:"Bureaucrat-capitalism is a phenomenon where the government operates as a business and enriches those sitting in power. Most top bureaucrats are in national, provincial, and municipal governments. The bureaucrat capitalists direct the operation of the reactionary state, wielding political power to serve imperialists, landlords, and the large comprador bourgeoisie. They also harness their position to loot from the people's money and expand land ownership and their businesses. This has led to the concentration of power and wealth in the hands of a few, further exacerbating the already prevalent issues of imperialism and feudalism."})]})})})]})]})]})},$ke=()=>F("div",{className:"chapter-container",children:[y(Bp,{}),y(jke,{})]}),Kke={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e3},Xke={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(2px)",zIndex:1e3};function Jke({open:n,onClose:e}){return n?Pi.createPortal(F(fs,{children:[y("div",{onClick:e}),y("div",{style:Xke,onClick:e}),y("div",{style:Kke,children:y("div",{className:"sol-modal-container",children:F("div",{className:"sol-modal-text",children:[y("h2",{className:"sol-modal-h2",children:"Chapter 5"}),y("h3",{className:"sol-modal-h3",children:"Solutions to the Problems"}),y("p",{className:"sol-modal-p",children:"There haven't been any agrarian reform policies that truly aim to answer the demand of Filipino farmers, which are free land distribution and social justice. Having said that, the Genuine Agrarian Reform Program (GARB) will implement these two, addressing landlessness and rural poverty."}),y("p",{className:"sol-modal-p",children:"With this bill, if passed, it will break up the monopoly of a few landowners and foreign control of agricultural lands, eliminate all forms of oppression and exploitation in the countryside, and pave the way for social justice."}),y("p",{className:"sol-modal-p",children:y("i",{children:"To know more, open the Chapter Guide found at the top-right of your screen."})})]})})})]}),document.getElementById("portal")):null}const Yke=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function TI(n){return`scale(${n}, ${n**2})`}const qke={entering:{opacity:1,transform:TI(1)},entered:{opacity:1,transform:"none"}},LM=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),WK=N.forwardRef(function(e,t){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:m,style:g,timeout:v="auto",TransitionComponent:_=h6}=e,x=Xn(e,Yke),b=N.useRef(),w=N.useRef(),E=Ey(),A=N.useRef(null),T=Aa(A,s.ref,t),I=U=>ee=>{if(U){const Q=A.current;ee===void 0?U(Q):U(Q,ee)}},M=I(u),R=I((U,ee)=>{mye(U);const{duration:Q,delay:D,easing:z}=bw({style:g,timeout:v,easing:o},{mode:"enter"});let Z;v==="auto"?(Z=E.transitions.getAutoHeightDuration(U.clientHeight),w.current=Z):Z=Q,U.style.transition=[E.transitions.create("opacity",{duration:Z,delay:D}),E.transitions.create("transform",{duration:LM?Z:Z*.666,delay:D,easing:z})].join(","),l&&l(U,ee)}),O=I(c),L=I(m),X=I(U=>{const{duration:ee,delay:Q,easing:D}=bw({style:g,timeout:v,easing:o},{mode:"exit"});let z;v==="auto"?(z=E.transitions.getAutoHeightDuration(U.clientHeight),w.current=z):z=ee,U.style.transition=[E.transitions.create("opacity",{duration:z,delay:Q}),E.transitions.create("transform",{duration:LM?z:z*.666,delay:LM?Q:Q||z*.333,easing:D})].join(","),U.style.opacity=0,U.style.transform=TI(.75),d&&d(U)}),W=I(h),K=U=>{v==="auto"&&(b.current=setTimeout(U,w.current||0)),r&&r(A.current,U)};return N.useEffect(()=>()=>{clearTimeout(b.current)},[]),y(_,Ne({appear:i,in:a,nodeRef:A,onEnter:R,onEntered:O,onEntering:M,onExit:X,onExited:W,onExiting:L,addEndListener:K,timeout:v==="auto"?null:v},x,{children:(U,ee)=>N.cloneElement(s,Ne({style:Ne({opacity:0,transform:TI(.75),visibility:U==="exited"&&!a?"hidden":void 0},qke[U],g,s.props.style),ref:T},ee))}))});WK.muiSupportAuto=!0;const nH=WK,Qke=["components","componentsProps","slots","slotProps"],Zke=on(hee,{name:"MuiPopper",slot:"Root",overridesResolver:(n,e)=>e.root})({}),eOe=N.forwardRef(function(e,t){var r;const i=r6(),s=Qr({props:e,name:"MuiPopper"}),{components:o,componentsProps:a,slots:l,slotProps:c}=s,u=Xn(s,Qke),d=(r=l==null?void 0:l.root)!=null?r:o==null?void 0:o.Root;return y(Zke,Ne({direction:i==null?void 0:i.direction,slots:{root:d},slotProps:c??a},u,{ref:t}))}),jK=eOe;function tOe(n){return Jr("MuiTooltip",n)}const nOe=Yr("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),ll=nOe,rOe=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function iOe(n){return Math.round(n*1e5)/1e5}const sOe=n=>{const{classes:e,disableInteractive:t,arrow:r,touch:i,placement:s}=n,o={popper:["popper",!t&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${pr(s.split("-")[0])}`],arrow:["arrow"]};return ui(o,tOe,e)},oOe=on(jK,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.popper,!t.disableInteractive&&e.popperInteractive,t.arrow&&e.popperArrow,!t.open&&e.popperClose]}})(({theme:n,ownerState:e,open:t})=>Ne({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!t&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${ll.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${ll.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${ll.arrow}`]:Ne({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${ll.arrow}`]:Ne({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),aOe=on("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.tooltip,t.touch&&e.touch,t.arrow&&e.tooltipArrow,e[`tooltipPlacement${pr(t.placement.split("-")[0])}`]]}})(({theme:n,ownerState:e})=>Ne({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:Kf(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${iOe(16/14)}em`,fontWeight:n.typography.fontWeightRegular},{[`.${ll.popper}[data-popper-placement*="left"] &`]:Ne({transformOrigin:"right center"},e.isRtl?Ne({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):Ne({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${ll.popper}[data-popper-placement*="right"] &`]:Ne({transformOrigin:"left center"},e.isRtl?Ne({marginRight:"14px"},e.touch&&{marginRight:"24px"}):Ne({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${ll.popper}[data-popper-placement*="top"] &`]:Ne({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${ll.popper}[data-popper-placement*="bottom"] &`]:Ne({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),lOe=on("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(n,e)=>e.arrow})(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:Kf(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Ix=!1,DM=null,sg={x:0,y:0};function Nx(n,e){return t=>{e&&e(t),n(t)}}const cOe=N.forwardRef(function(e,t){var r,i,s,o,a,l,c,u,d,h,m,g,v,_,x,b,w,E,A;const T=Qr({props:e,name:"MuiTooltip"}),{arrow:I=!1,children:M,components:R={},componentsProps:O={},describeChild:L=!1,disableFocusListener:X=!1,disableHoverListener:W=!1,disableInteractive:K=!1,disableTouchListener:U=!1,enterDelay:ee=100,enterNextDelay:Q=0,enterTouchDelay:D=700,followCursor:z=!1,id:Z,leaveDelay:he=0,leaveTouchDelay:G=1500,onClose:te,onOpen:re,open:q,placement:$="bottom",PopperComponent:me,PopperProps:ae={},slotProps:xe={},slots:Ae={},title:Me,TransitionComponent:ce=nH,TransitionProps:ve}=T,Ie=Xn(T,rOe),Le=Ey(),De=Le.direction==="rtl",[ze,We]=N.useState(),[et,qe]=N.useState(null),it=N.useRef(!1),j=K||z,B=N.useRef(),ne=N.useRef(),Se=N.useRef(),Be=N.useRef(),[He,we]=P2({controlled:q,default:!1,name:"Tooltip",state:"open"});let ue=He;const fe=EV(Z),Fe=N.useRef(),Y=N.useCallback(()=>{Fe.current!==void 0&&(document.body.style.WebkitUserSelect=Fe.current,Fe.current=void 0),clearTimeout(Be.current)},[]);N.useEffect(()=>()=>{clearTimeout(B.current),clearTimeout(ne.current),clearTimeout(Se.current),Y()},[Y]);const ye=ut=>{clearTimeout(DM),Ix=!0,we(!0),re&&!ue&&re(ut)},ke=il(ut=>{clearTimeout(DM),DM=setTimeout(()=>{Ix=!1},800+he),we(!1),te&&ue&&te(ut),clearTimeout(B.current),B.current=setTimeout(()=>{it.current=!1},Le.transitions.duration.shortest)}),Ue=ut=>{it.current&&ut.type!=="touchstart"||(ze&&ze.removeAttribute("title"),clearTimeout(ne.current),clearTimeout(Se.current),ee||Ix&&Q?ne.current=setTimeout(()=>{ye(ut)},Ix?Q:ee):ye(ut))},ot=ut=>{clearTimeout(ne.current),clearTimeout(Se.current),Se.current=setTimeout(()=>{ke(ut)},he)},{isFocusVisibleRef:wt,onBlur:dn,onFocus:ie,ref:oe}=R2(),[,Oe]=N.useState(!1),Ze=ut=>{dn(ut),wt.current===!1&&(Oe(!1),ot(ut))},nt=ut=>{ze||We(ut.currentTarget),ie(ut),wt.current===!0&&(Oe(!0),Ue(ut))},an=ut=>{it.current=!0;const kn=M.props;kn.onTouchStart&&kn.onTouchStart(ut)},zn=Ue,_r=ot,Oi=ut=>{an(ut),clearTimeout(Se.current),clearTimeout(B.current),Y(),Fe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Be.current=setTimeout(()=>{document.body.style.WebkitUserSelect=Fe.current,Ue(ut)},D)},An=ut=>{M.props.onTouchEnd&&M.props.onTouchEnd(ut),Y(),clearTimeout(Se.current),Se.current=setTimeout(()=>{ke(ut)},G)};N.useEffect(()=>{if(!ue)return;function ut(kn){(kn.key==="Escape"||kn.key==="Esc")&&ke(kn)}return document.addEventListener("keydown",ut),()=>{document.removeEventListener("keydown",ut)}},[ke,ue]);const ei=Aa(M.ref,oe,We,t);!Me&&Me!==0&&(ue=!1);const di=N.useRef(),Jp=ut=>{const kn=M.props;kn.onMouseMove&&kn.onMouseMove(ut),sg={x:ut.clientX,y:ut.clientY},di.current&&di.current.update()},Oa={},Ol=typeof Me=="string";L?(Oa.title=!ue&&Ol&&!W?Me:null,Oa["aria-describedby"]=ue?fe:null):(Oa["aria-label"]=Ol?Me:null,Oa["aria-labelledby"]=ue&&!Ol?fe:null);const H=Ne({},Oa,Ie,M.props,{className:Ft(Ie.className,M.props.className),onTouchStart:an,ref:ei},z?{onMouseMove:Jp}:{}),pe={};U||(H.onTouchStart=Oi,H.onTouchEnd=An),W||(H.onMouseOver=Nx(zn,H.onMouseOver),H.onMouseLeave=Nx(_r,H.onMouseLeave),j||(pe.onMouseOver=zn,pe.onMouseLeave=_r)),X||(H.onFocus=Nx(nt,H.onFocus),H.onBlur=Nx(Ze,H.onBlur),j||(pe.onFocus=nt,pe.onBlur=Ze));const Ee=N.useMemo(()=>{var ut;let kn=[{name:"arrow",enabled:Boolean(et),options:{element:et,padding:4}}];return(ut=ae.popperOptions)!=null&&ut.modifiers&&(kn=kn.concat(ae.popperOptions.modifiers)),Ne({},ae.popperOptions,{modifiers:kn})},[et,ae]),de=Ne({},T,{isRtl:De,arrow:I,disableInteractive:j,placement:$,PopperComponentProp:me,touch:it.current}),Te=sOe(de),ct=(r=(i=Ae.popper)!=null?i:R.Popper)!=null?r:oOe,mt=(s=(o=(a=Ae.transition)!=null?a:R.Transition)!=null?o:ce)!=null?s:nH,yt=(l=(c=Ae.tooltip)!=null?c:R.Tooltip)!=null?l:aOe,St=(u=(d=Ae.arrow)!=null?d:R.Arrow)!=null?u:lOe,zt=dg(ct,Ne({},ae,(h=xe.popper)!=null?h:O.popper,{className:Ft(Te.popper,ae==null?void 0:ae.className,(m=(g=xe.popper)!=null?g:O.popper)==null?void 0:m.className)}),de),Pt=dg(mt,Ne({},ve,(v=xe.transition)!=null?v:O.transition),de),Ot=dg(yt,Ne({},(_=xe.tooltip)!=null?_:O.tooltip,{className:Ft(Te.tooltip,(x=(b=xe.tooltip)!=null?b:O.tooltip)==null?void 0:x.className)}),de),Un=dg(St,Ne({},(w=xe.arrow)!=null?w:O.arrow,{className:Ft(Te.arrow,(E=(A=xe.arrow)!=null?A:O.arrow)==null?void 0:E.className)}),de);return F(N.Fragment,{children:[N.cloneElement(M,H),y(ct,Ne({as:me??jK,placement:$,anchorEl:z?{getBoundingClientRect:()=>({top:sg.y,left:sg.x,right:sg.x,bottom:sg.y,width:0,height:0})}:ze,popperRef:di,open:ze?ue:!1,id:fe,transition:!0},pe,zt,{popperOptions:Ee,children:({TransitionProps:ut})=>y(mt,Ne({timeout:Le.transitions.duration.shorter},ut,Pt,{children:F(yt,Ne({},Ot,{children:[Me,I?y(St,Ne({},Un,{ref:qe})):null]}))}))}))]})}),uOe=cOe;function dOe(n){const e=N.useRef(),{nodes:t,materials:r,animations:i}=Zr("/FreeLand.glb");return FK(i,e),y("group",{ref:e,...n,dispose:null,children:y("group",{name:"Scene",children:F("group",{name:"pCube13",position:[0,0,.5],rotation:[3.3,0,.98],scale:[3.08,3.08,.12],children:[y("mesh",{name:"Mesh001",castShadow:!0,receiveShadow:!0,geometry:t.Mesh001.geometry,material:r.Material}),y("mesh",{name:"Mesh001_1",castShadow:!0,receiveShadow:!0,geometry:t.Mesh001_1.geometry,material:r.lambert1}),y("mesh",{name:"Mesh001_2",castShadow:!0,receiveShadow:!0,geometry:t.Mesh001_2.geometry,material:r["lambert1.001"]})]})})})}Zr.preload("/FreeLand.glb");function hOe(n){const e=N.useRef(),{nodes:t,materials:r,animations:i}=Zr("/SignBoard.glb");return FK(i,e),y("group",{ref:e,...n,dispose:null,children:y("group",{name:"Scene",children:F("group",{name:"Cylinder",position:[0,-.8,0],rotation:[0,.6,0],scale:.12,children:[y("mesh",{name:"Cylinder_1",castShadow:!0,receiveShadow:!0,geometry:t.Cylinder_1.geometry,material:r["Yellow stone"]}),y("mesh",{name:"Cylinder_2",castShadow:!0,receiveShadow:!0,geometry:t.Cylinder_2.geometry,material:r["Sign board"]})]})})})}Zr.preload("/SignBoard.glb");function fOe(n){const{nodes:e,materials:t}=Zr("/Shield.glb");return y("group",{...n,dispose:null,children:F("group",{position:[0,0,0],rotation:[1.49,.11,-.62],scale:2,children:[y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh066.geometry,material:t["lambert1.003"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh066_1.geometry,material:t.lambert2})]})})}Zr.preload("/Shield.glb");function pOe(n){const{nodes:e,materials:t}=Zr("/Benefits.glb");return y("group",{...n,dispose:null,children:F("group",{position:[0,-1.5,0],rotation:[.69182672,.12655814,.25218323],scale:[.07854235,.07854234,.07854234],children:[y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017.geometry,material:t.Hands}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_1.geometry,material:t["pasted__Material.005"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_2.geometry,material:t["pasted__Material.004"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_3.geometry,material:t["pasted__Material.010"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_4.geometry,material:t["pasted__Material.007"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_5.geometry,material:t["pasted__Material.017"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_6.geometry,material:t.he}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_7.geometry,material:t["pasted__Material.028"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_8.geometry,material:t["pasted__Material.029"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_9.geometry,material:t["pasted__Material.001"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_10.geometry,material:t["pasted__Material.033"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_11.geometry,material:t.pasted__Material}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_12.geometry,material:t["pasted__Material.035"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_13.geometry,material:t["pasted__Material.036"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_14.geometry,material:t.Coin}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_15.geometry,material:t.pasted__lambert5}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_16.geometry,material:t["Material.001"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_17.geometry,material:t["Material.003"]})]})})}Zr.preload("/Benefits.glb");function mOe(n){const{nodes:e,materials:t}=Zr("/PiggyBank.glb");return y("group",{...n,dispose:null,children:y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.pasted__Piggy_Bank001.geometry,material:t.Pig,position:[0,-1.5,0],rotation:[0,.56,0],scale:.04})})}Zr.preload("/PiggyBank.glb");function gOe(n){const{nodes:e,materials:t}=Zr("/Gear.glb");return y("group",{...n,dispose:null,children:y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder002.geometry,material:t.Gear,position:[0,0,0],rotation:[1.4,0,-.7],scale:[1.68,.31,1.68]})})}Zr.preload("/Gear.glb");function vOe(n){const{nodes:e,materials:t}=Zr("/Factory.glb");return y("group",{...n,dispose:null,children:F("group",{position:[0,0,0],rotation:[3,1.03,-3.05],scale:.09,children:[y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053.geometry,material:t.Walls}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053_1.geometry,material:t.Windows}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053_2.geometry,material:t["Sliding door"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053_3.geometry,material:t.Borders}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053_4.geometry,material:t.Door}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053_5.geometry,material:t["More chimneys"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053_6.geometry,material:t.Smoke}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053_7.geometry,material:t.Chimneys}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053_8.geometry,material:t.Stairs})]})})}Zr.preload("/Factory.glb");const Pu=on(({className:n,...e})=>y(uOe,{...e,classes:{popper:n}}))(({theme:n})=>({[`& .${ll.tooltip}`]:{backgroundColor:"#efcc42",color:"white",maxWidth:220,fontSize:n.typography.pxToRem(12),boxShadow:"0px 0px 10px 3px #d8a408",border:"none"}})),yOe=()=>{N.useState(!1),N.useState(!1);const[n,e]=N.useState(!1);return _e.useRef(),F("div",{className:"chapter-container",children:[y(Bp,{})," ",F("div",{className:"chapter-five-cards-list",children:[F("div",{className:"chapter-five-container",children:[F("h1",{className:"page-header-title",children:["chapter5",y("sup",{children:y("button",{className:"about-ch",onClick:()=>e(!0),children:"?"})})]}),y("p",{className:"page-header-subtitle",children:"solutions"}),y(Jke,{open:n,onClose:()=>e(!1)})]}),y(Pu,{title:y(_e.Fragment,{children:y(Je,{color:"inherit",children:"Free land distribution"})}),children:y("div",{className:"dev-1 sol-btn",children:y("label",{children:y("div",{className:"dev-card-btn",children:y("div",{className:"sol-card-image",children:F(ec,{className:"model-viewer",style:{width:"13vw",height:"13vw",padding:"0",margin:"0",borderRadius:"2vh",border:"1vh solid lightyellow",background:"linear-gradient(#f1ede6 10%,rgba(220, 208, 181)100%)",top:"0",hover:{boxShadow:"0px 0px 100px 100px red"}},children:[F(N.Suspense,{fallback:null,children:[y(nc,{background:!1,files:"/pillars_1k.hdr"}),y(dOe,{rotation:[30,0,0]})]}),y(tc,{})]})})})})})}),y(Pu,{title:y(_e.Fragment,{children:y(Je,{color:"inherit",children:"No exemptions"})}),children:y("label",{className:"dev-2 sol-btn",children:y("div",{className:"dev-card-btn",children:y("div",{className:"sol-card-image",children:F(ec,{className:"model-viewer",style:{width:"13vw",height:"13vw",padding:"0",margin:"0",borderRadius:"2vh",border:"1vh solid lightyellow",background:"linear-gradient(#f1ede6 10%,rgba(220, 208, 181)100%)",top:"0",hover:{boxShadow:"0px 0px 100px 100px red"}},children:[F(N.Suspense,{fallback:null,children:[y(nc,{background:!1,files:"/pillars_1k.hdr"}),y(hOe,{})]}),y(tc,{})]})})})})}),y(Pu,{title:y(_e.Fragment,{children:y(Je,{color:"inherit",children:"Land protection"})}),children:y("label",{className:"dev-3 sol-btn",children:y("div",{className:"dev-card-btn",children:y("div",{className:"sol-card-image",children:F(ec,{className:"model-viewer",style:{width:"13vw",height:"13vw",padding:"0",margin:"0",borderRadius:"2vh",border:"1vh solid lightyellow",background:"linear-gradient(#f1ede6 10%,rgba(220, 208, 181)100%)",top:"0",hover:{boxShadow:"0px 0px 100px 100px red"}},children:[F(N.Suspense,{fallback:null,children:[y(nc,{background:!1,files:"/pillars_1k.hdr"}),y(fOe,{})]}),y(tc,{})]})})})})}),y(Pu,{title:y(_e.Fragment,{children:y(Je,{color:"inherit",children:"Additional support"})}),children:y("label",{className:"dev-4 sol-btn",children:y("div",{className:"dev-card-btn",children:y("div",{className:"sol-card-image",children:F(ec,{className:"model-viewer",style:{width:"13vw",height:"13vw",padding:"0",margin:"0",borderRadius:"2vh",border:"1vh solid lightyellow",background:"linear-gradient(#f1ede6 10%,rgba(220, 208, 181)100%)",top:"0",hover:{boxShadow:"0px 0px 100px 100px red"}},children:[F(N.Suspense,{fallback:null,children:[y(nc,{background:!1,files:"/pillars_1k.hdr"}),y(pOe,{})]}),y(tc,{})]})})})})}),y(Pu,{title:y(_e.Fragment,{children:y(Je,{color:"inherit",children:"Agriworker support"})}),children:y("label",{className:"dev-5 sol-btn",children:y("div",{className:"dev-card-btn",children:y("div",{className:"sol-card-image",children:F(ec,{className:"model-viewer",style:{width:"13vw",height:"13vw",padding:"0",margin:"0",borderRadius:"2vh",border:"1vh solid lightyellow",background:"linear-gradient(#f1ede6 10%,rgba(220, 208, 181)100%)",top:"0",hover:{boxShadow:"0px 0px 100px 100px red"}},children:[F(N.Suspense,{fallback:null,children:[y(nc,{background:!1,files:"/pillars_1k.hdr"}),y(mOe,{})]}),y(tc,{})]})})})})}),y(Pu,{title:y(_e.Fragment,{children:y(Je,{color:"inherit",children:"Farmer participation"})}),children:y("label",{className:"dev-6 sol-btn",children:y("div",{className:"dev-card-btn",children:y("div",{className:"sol-card-image",children:F(ec,{className:"model-viewer",style:{width:"13vw",height:"13vw",padding:"0",margin:"0",borderRadius:"2vh",border:"1vh solid lightyellow",background:"linear-gradient(#f1ede6 10%,rgba(220, 208, 181)100%)",top:"0",hover:{boxShadow:"0px 0px 100px 100px red"}},children:[F(N.Suspense,{fallback:null,children:[y(nc,{background:!1,files:"/pillars_1k.hdr"}),y(gOe,{})]}),y(tc,{})]})})})})}),y(Pu,{title:y(_e.Fragment,{children:y(Je,{color:"inherit",children:"National Industrialization"})}),children:y("label",{className:"dev-7 sol-btn",children:y("div",{className:"dev-card-btn",children:y("div",{className:"sol-card-image",children:F(ec,{className:"model-viewer",style:{width:"13vw",height:"13vw",padding:"0",margin:"0",borderRadius:"2vh",border:"1vh solid lightyellow",background:"linear-gradient(#f1ede6 10%,rgba(220, 208, 181)100%)",top:"0",hover:{boxShadow:"0px 0px 100px 100px red"}},children:[F(N.Suspense,{fallback:null,children:[y(nc,{background:!1,files:"/pillars_1k.hdr"}),y(vOe,{})]}),y(tc,{})]})})})})})]})]})},_Oe=[{selector:".home-btn",content:"First, we have the Home button."},{selector:".chapters-btn",content:"This is the Chapters Directory, which will show you a swipable gallery of 5 Chapter cards."},{selector:".chapters-btn",content:"Each card will direct you to its designated Chapter."},{selector:".menu-element-i",content:"The Chapter Guide button will provide you with a quick overview of the contents of each chapter.",showCondition:()=>document.querySelector(".ham-btn").classList.contains("is-active")},{selector:".menu-element-ii",content:"The Audio Toggle button allows you to toggle the background music on and off, depending on your preferences. ",showCondition:()=>document.querySelector(".ham-btn").classList.contains("is-active")},{selector:".menu-element-iii",content:"The About button will give you more information about 5Siglo, about us, and our call to action.",showCondition:()=>document.querySelector(".ham-btn").classList.contains("is-active")},{selector:".menu-element-iii",content:"Want to send us a message or hit us up? We have a handy feedback form too! 😉",showCondition:()=>document.querySelector(".ham-btn").classList.contains("is-active")},{selector:".homepage-start-btn",content:"And if you're finally ready to start your journey through our website, simply click the Start button."},{selector:".homepage-start-btn",content:"We hope you'll find our website both informative and engaging. Thank you for choosing 5Siglo as your resource for learning about the Filipino peasantry."}],xOe=()=>y(yEe,{steps:_Oe,startAt:0,onClose:()=>{setIsOpen(!1)},styles:{popover:t=>({...t,"--reactour-accent":"#eec627",borderRadius:10,background:"linear-gradient(#f1ede6 50%,#d9c7a8 150%)",color:"#31302F",padding:"2rem 2rem 0rem 2rem"}),maskArea:t=>({...t,rx:10}),badge:t=>({...t,right:"auto",left:"-0.8125em"}),controls:t=>({...t,margin:"1.5rem"}),close:t=>({...t,left:"auto",right:8,top:8})},children:y("div",{className:"root-main",children:F(oQ,{children:[y(Co,{path:"/",element:y(xEe,{})}),y(Co,{path:"/chapters-directory",element:y(C9,{})}),y(Co,{path:"/chapters-directory/chapter-1",element:y(WEe,{})}),y(Co,{path:"/chapters-directory/chapter-2",element:y(Dke,{})}),y(Co,{path:"/chapters-directory/chapter-2/spanish",element:y(HK,{})}),y(Co,{path:"/chapters-directory/chapter-2/american",element:y(GK,{})}),y(Co,{path:"/chapters-directory/chapter-2/philippines",element:y(VK,{})}),y(Co,{path:"/chapters-directory/chapter-3",element:y(Hke,{})}),y(Co,{path:"/chapters-directory/chapter-4",element:y($ke,{})}),y(Co,{path:"/chapters-directory/chapter-5",element:y(yOe,{})})]})})});BM.createRoot(document.getElementById("root")).render(y(_e.StrictMode,{children:y(dQ,{children:y(xOe,{})})}));
