function l7(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function qP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function C4(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Rg={},c7={get exports(){return Rg},set exports(n){Rg=n}},$b={},k={},u7={get exports(){return k},set exports(n){k=n}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv=Symbol.for("react.element"),d7=Symbol.for("react.portal"),h7=Symbol.for("react.fragment"),f7=Symbol.for("react.strict_mode"),p7=Symbol.for("react.profiler"),m7=Symbol.for("react.provider"),g7=Symbol.for("react.context"),v7=Symbol.for("react.forward_ref"),y7=Symbol.for("react.suspense"),_7=Symbol.for("react.memo"),x7=Symbol.for("react.lazy"),FO=Symbol.iterator;function b7(n){return n===null||typeof n!="object"?null:(n=FO&&n[FO]||n["@@iterator"],typeof n=="function"?n:null)}var A4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M4=Object.assign,T4={};function Zf(n,e,t){this.props=n,this.context=e,this.refs=T4,this.updater=t||A4}Zf.prototype.isReactComponent={};Zf.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Zf.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function P4(){}P4.prototype=Zf.prototype;function QP(n,e,t){this.props=n,this.context=e,this.refs=T4,this.updater=t||A4}var ZP=QP.prototype=new P4;ZP.constructor=QP;M4(ZP,Zf.prototype);ZP.isPureReactComponent=!0;var zO=Array.isArray,R4=Object.prototype.hasOwnProperty,eR={current:null},I4={key:!0,ref:!0,__self:!0,__source:!0};function N4(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)R4.call(e,r)&&!I4.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Bv,type:n,key:s,ref:o,props:i,_owner:eR.current}}function w7(n,e){return{$$typeof:Bv,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function tR(n){return typeof n=="object"&&n!==null&&n.$$typeof===Bv}function S7(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var UO=/\/+/g;function tE(n,e){return typeof n=="object"&&n!==null&&n.key!=null?S7(""+n.key):e.toString(36)}function q_(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Bv:case d7:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+tE(o,0):r,zO(i)?(t="",n!=null&&(t=n.replace(UO,"$&/")+"/"),q_(i,e,t,"",function(c){return c})):i!=null&&(tR(i)&&(i=w7(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(UO,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",zO(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+tE(s,a);o+=q_(s,e,t,l,i)}else if(l=b7(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+tE(s,a++),o+=q_(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Py(n,e,t){if(n==null)return n;var r=[],i=0;return q_(n,r,"","",function(s){return e.call(t,s,i++)}),r}function E7(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Vi={current:null},Q_={transition:null},C7={ReactCurrentDispatcher:Vi,ReactCurrentBatchConfig:Q_,ReactCurrentOwner:eR};Ut.Children={map:Py,forEach:function(n,e,t){Py(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Py(n,function(){e++}),e},toArray:function(n){return Py(n,function(e){return e})||[]},only:function(n){if(!tR(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ut.Component=Zf;Ut.Fragment=h7;Ut.Profiler=p7;Ut.PureComponent=QP;Ut.StrictMode=f7;Ut.Suspense=y7;Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C7;Ut.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=M4({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=eR.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)R4.call(e,l)&&!I4.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Bv,type:n.type,key:i,ref:s,props:r,_owner:o}};Ut.createContext=function(n){return n={$$typeof:g7,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:m7,_context:n},n.Consumer=n};Ut.createElement=N4;Ut.createFactory=function(n){var e=N4.bind(null,n);return e.type=n,e};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(n){return{$$typeof:v7,render:n}};Ut.isValidElement=tR;Ut.lazy=function(n){return{$$typeof:x7,_payload:{_status:-1,_result:n},_init:E7}};Ut.memo=function(n,e){return{$$typeof:_7,type:n,compare:e===void 0?null:e}};Ut.startTransition=function(n){var e=Q_.transition;Q_.transition={};try{n()}finally{Q_.transition=e}};Ut.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ut.useCallback=function(n,e){return Vi.current.useCallback(n,e)};Ut.useContext=function(n){return Vi.current.useContext(n)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(n){return Vi.current.useDeferredValue(n)};Ut.useEffect=function(n,e){return Vi.current.useEffect(n,e)};Ut.useId=function(){return Vi.current.useId()};Ut.useImperativeHandle=function(n,e,t){return Vi.current.useImperativeHandle(n,e,t)};Ut.useInsertionEffect=function(n,e){return Vi.current.useInsertionEffect(n,e)};Ut.useLayoutEffect=function(n,e){return Vi.current.useLayoutEffect(n,e)};Ut.useMemo=function(n,e){return Vi.current.useMemo(n,e)};Ut.useReducer=function(n,e,t){return Vi.current.useReducer(n,e,t)};Ut.useRef=function(n){return Vi.current.useRef(n)};Ut.useState=function(n){return Vi.current.useState(n)};Ut.useSyncExternalStore=function(n,e,t){return Vi.current.useSyncExternalStore(n,e,t)};Ut.useTransition=function(){return Vi.current.useTransition()};Ut.version="18.2.0";(function(n){n.exports=Ut})(u7);const mt=qP(k),hf=l7({__proto__:null,default:mt},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A7=k,M7=Symbol.for("react.element"),T7=Symbol.for("react.fragment"),P7=Object.prototype.hasOwnProperty,R7=A7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I7={key:!0,ref:!0,__self:!0,__source:!0};function k4(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)P7.call(e,r)&&!I7.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:M7,type:n,key:s,ref:o,props:i,_owner:R7.current}}$b.Fragment=T7;$b.jsx=k4;$b.jsxs=k4;(function(n){n.exports=$b})(c7);const Fo=Rg.Fragment,y=Rg.jsx,F=Rg.jsxs,N7=Object.freeze(Object.defineProperty({__proto__:null,Fragment:Fo,jsx:y,jsxs:F},Symbol.toStringTag,{value:"Module"}));var SA={},ff={},k7={get exports(){return ff},set exports(n){ff=n}},Ns={},EA={},O7={get exports(){return EA},set exports(n){EA=n}},O4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,$){var X=D.length;D.push($);e:for(;0<X;){var ue=X-1>>>1,Y=D[ue];if(0<i(Y,$))D[ue]=$,D[X]=Y,X=ue;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],X=D.pop();if(X!==$){D[0]=X;e:for(var ue=0,Y=D.length,pe=Y>>>1;ue<pe;){var ye=2*(ue+1)-1,ne=D[ye],fe=ye+1,Ee=D[fe];if(0>i(ne,X))fe<Y&&0>i(Ee,ne)?(D[ue]=Ee,D[fe]=X,ue=fe):(D[ue]=ne,D[ye]=X,ue=ye);else if(fe<Y&&0>i(Ee,X))D[ue]=Ee,D[fe]=X,ue=fe;else break e}}return $}function i(D,$){var X=D.sortIndex-$.sortIndex;return X!==0?X:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var $=t(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=D)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(c)}}function E(D){if(v=!1,S(D),!g)if(t(l)!==null)g=!0,Q(A);else{var $=t(c);$!==null&&te(E,$.startTime-D)}}function A(D,$){g=!1,v&&(v=!1,x(T),T=-1),m=!0;var X=f;try{for(S($),d=t(l);d!==null&&(!(d.expirationTime>$)||D&&!L());){var ue=d.callback;if(typeof ue=="function"){d.callback=null,f=d.priorityLevel;var Y=ue(d.expirationTime<=$);$=n.unstable_now(),typeof Y=="function"?d.callback=Y:d===t(l)&&r(l),S($)}else r(l);d=t(l)}if(d!==null)var pe=!0;else{var ye=t(c);ye!==null&&te(E,ye.startTime-$),pe=!1}return pe}finally{d=null,f=X,m=!1}}var P=!1,I=null,T=-1,R=5,O=-1;function L(){return!(n.unstable_now()-O<R)}function J(){if(I!==null){var D=n.unstable_now();O=D;var $=!0;try{$=I(!0,D)}finally{$?j():(P=!1,I=null)}}else P=!1}var j;if(typeof w=="function")j=function(){w(J)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,K=V.port2;V.port1.onmessage=J,j=function(){K.postMessage(null)}}else j=function(){_(J,0)};function Q(D){I=D,P||(P=!0,j())}function te(D,$){T=_(function(){D(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,Q(A))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var X=f;f=$;try{return D()}finally{f=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var X=f;f=D;try{return $()}finally{f=X}},n.unstable_scheduleCallback=function(D,$,X){var ue=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ue+X:ue):X=ue,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=X+Y,D={id:u++,callback:$,priorityLevel:D,startTime:X,expirationTime:Y,sortIndex:-1},X>ue?(D.sortIndex=X,e(c,D),t(l)===null&&D===t(c)&&(v?(x(T),T=-1):v=!0,te(E,X-ue))):(D.sortIndex=Y,e(l,D),g||m||(g=!0,Q(A))),D},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(D){var $=f;return function(){var X=f;f=$;try{return D.apply(this,arguments)}finally{f=X}}}})(O4);(function(n){n.exports=O4})(O7);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L4=k,Ms=EA;function Le(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B4=new Set,Ig={};function bd(n,e){pf(n,e),pf(n+"Capture",e)}function pf(n,e){for(Ig[n]=e,n=0;n<e.length;n++)B4.add(e[n])}var ll=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),CA=Object.prototype.hasOwnProperty,L7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GO={},HO={};function B7(n){return CA.call(HO,n)?!0:CA.call(GO,n)?!1:L7.test(n)?HO[n]=!0:(GO[n]=!0,!1)}function D7(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function F7(n,e,t,r){if(e===null||typeof e>"u"||D7(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wi(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ci={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ci[n]=new Wi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];ci[e]=new Wi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ci[n]=new Wi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ci[n]=new Wi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ci[n]=new Wi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ci[n]=new Wi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ci[n]=new Wi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ci[n]=new Wi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ci[n]=new Wi(n,5,!1,n.toLowerCase(),null,!1,!1)});var nR=/[\-:]([a-z])/g;function rR(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(nR,rR);ci[e]=new Wi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(nR,rR);ci[e]=new Wi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(nR,rR);ci[e]=new Wi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ci[n]=new Wi(n,1,!1,n.toLowerCase(),null,!1,!1)});ci.xlinkHref=new Wi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ci[n]=new Wi(n,1,!1,n.toLowerCase(),null,!0,!0)});function iR(n,e,t,r){var i=ci.hasOwnProperty(e)?ci[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(F7(e,t,i,r)&&(t=null),r||i===null?B7(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var yl=L4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ry=Symbol.for("react.element"),Ah=Symbol.for("react.portal"),Mh=Symbol.for("react.fragment"),sR=Symbol.for("react.strict_mode"),AA=Symbol.for("react.profiler"),D4=Symbol.for("react.provider"),F4=Symbol.for("react.context"),oR=Symbol.for("react.forward_ref"),MA=Symbol.for("react.suspense"),TA=Symbol.for("react.suspense_list"),aR=Symbol.for("react.memo"),jl=Symbol.for("react.lazy"),z4=Symbol.for("react.offscreen"),VO=Symbol.iterator;function Kp(n){return n===null||typeof n!="object"?null:(n=VO&&n[VO]||n["@@iterator"],typeof n=="function"?n:null)}var tr=Object.assign,nE;function zm(n){if(nE===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);nE=e&&e[1]||""}return`
`+nE+n}var rE=!1;function iE(n,e){if(!n||rE)return"";rE=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{rE=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?zm(n):""}function z7(n){switch(n.tag){case 5:return zm(n.type);case 16:return zm("Lazy");case 13:return zm("Suspense");case 19:return zm("SuspenseList");case 0:case 2:case 15:return n=iE(n.type,!1),n;case 11:return n=iE(n.type.render,!1),n;case 1:return n=iE(n.type,!0),n;default:return""}}function PA(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Mh:return"Fragment";case Ah:return"Portal";case AA:return"Profiler";case sR:return"StrictMode";case MA:return"Suspense";case TA:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case F4:return(n.displayName||"Context")+".Consumer";case D4:return(n._context.displayName||"Context")+".Provider";case oR:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case aR:return e=n.displayName||null,e!==null?e:PA(n.type)||"Memo";case jl:e=n._payload,n=n._init;try{return PA(n(e))}catch{}}return null}function U7(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return PA(e);case 8:return e===sR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function U4(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function G7(n){var e=U4(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Iy(n){n._valueTracker||(n._valueTracker=G7(n))}function G4(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=U4(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Mx(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function RA(n,e){var t=e.checked;return tr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function WO(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Sc(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function H4(n,e){e=e.checked,e!=null&&iR(n,"checked",e,!1)}function IA(n,e){H4(n,e);var t=Sc(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?NA(n,e.type,t):e.hasOwnProperty("defaultValue")&&NA(n,e.type,Sc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function jO(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function NA(n,e,t){(e!=="number"||Mx(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Um=Array.isArray;function Jh(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Sc(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function kA(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return tr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function $O(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Le(92));if(Um(t)){if(1<t.length)throw Error(Le(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Sc(t)}}function V4(n,e){var t=Sc(e.value),r=Sc(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function JO(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function W4(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function OA(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?W4(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ny,j4=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Ny=Ny||document.createElement("div"),Ny.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ny.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Ng(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Zm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H7=["Webkit","ms","Moz","O"];Object.keys(Zm).forEach(function(n){H7.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Zm[e]=Zm[n]})});function $4(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Zm.hasOwnProperty(n)&&Zm[n]?(""+e).trim():e+"px"}function J4(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=$4(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var V7=tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function LA(n,e){if(e){if(V7[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function BA(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DA=null;function lR(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var FA=null,Kh=null,Xh=null;function KO(n){if(n=zv(n)){if(typeof FA!="function")throw Error(Le(280));var e=n.stateNode;e&&(e=qb(e),FA(n.stateNode,n.type,e))}}function K4(n){Kh?Xh?Xh.push(n):Xh=[n]:Kh=n}function X4(){if(Kh){var n=Kh,e=Xh;if(Xh=Kh=null,KO(n),e)for(n=0;n<e.length;n++)KO(e[n])}}function Y4(n,e){return n(e)}function q4(){}var sE=!1;function Q4(n,e,t){if(sE)return n(e,t);sE=!0;try{return Y4(n,e,t)}finally{sE=!1,(Kh!==null||Xh!==null)&&(q4(),X4())}}function kg(n,e){var t=n.stateNode;if(t===null)return null;var r=qb(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Le(231,e,typeof t));return t}var zA=!1;if(ll)try{var Xp={};Object.defineProperty(Xp,"passive",{get:function(){zA=!0}}),window.addEventListener("test",Xp,Xp),window.removeEventListener("test",Xp,Xp)}catch{zA=!1}function W7(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var eg=!1,Tx=null,Px=!1,UA=null,j7={onError:function(n){eg=!0,Tx=n}};function $7(n,e,t,r,i,s,o,a,l){eg=!1,Tx=null,W7.apply(j7,arguments)}function J7(n,e,t,r,i,s,o,a,l){if($7.apply(this,arguments),eg){if(eg){var c=Tx;eg=!1,Tx=null}else throw Error(Le(198));Px||(Px=!0,UA=c)}}function wd(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Z4(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function XO(n){if(wd(n)!==n)throw Error(Le(188))}function K7(n){var e=n.alternate;if(!e){if(e=wd(n),e===null)throw Error(Le(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return XO(i),n;if(s===r)return XO(i),e;s=s.sibling}throw Error(Le(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Le(189))}}if(t.alternate!==r)throw Error(Le(190))}if(t.tag!==3)throw Error(Le(188));return t.stateNode.current===t?n:e}function eU(n){return n=K7(n),n!==null?tU(n):null}function tU(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=tU(n);if(e!==null)return e;n=n.sibling}return null}var nU=Ms.unstable_scheduleCallback,YO=Ms.unstable_cancelCallback,X7=Ms.unstable_shouldYield,Y7=Ms.unstable_requestPaint,vr=Ms.unstable_now,q7=Ms.unstable_getCurrentPriorityLevel,cR=Ms.unstable_ImmediatePriority,rU=Ms.unstable_UserBlockingPriority,Rx=Ms.unstable_NormalPriority,Q7=Ms.unstable_LowPriority,iU=Ms.unstable_IdlePriority,Jb=null,ca=null;function Z7(n){if(ca&&typeof ca.onCommitFiberRoot=="function")try{ca.onCommitFiberRoot(Jb,n,void 0,(n.current.flags&128)===128)}catch{}}var Ro=Math.clz32?Math.clz32:n$,e$=Math.log,t$=Math.LN2;function n$(n){return n>>>=0,n===0?32:31-(e$(n)/t$|0)|0}var ky=64,Oy=4194304;function Gm(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ix(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Gm(a):(s&=o,s!==0&&(r=Gm(s)))}else o=t&~i,o!==0?r=Gm(o):s!==0&&(r=Gm(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Ro(e),i=1<<t,r|=n[t],e&=~i;return r}function r$(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i$(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Ro(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=r$(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function GA(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function sU(){var n=ky;return ky<<=1,!(ky&4194240)&&(ky=64),n}function oE(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Dv(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ro(e),n[e]=t}function s$(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Ro(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function uR(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Ro(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var gn=0;function oU(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var aU,dR,lU,cU,uU,HA=!1,Ly=[],oc=null,ac=null,lc=null,Og=new Map,Lg=new Map,Xl=[],o$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qO(n,e){switch(n){case"focusin":case"focusout":oc=null;break;case"dragenter":case"dragleave":ac=null;break;case"mouseover":case"mouseout":lc=null;break;case"pointerover":case"pointerout":Og.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lg.delete(e.pointerId)}}function Yp(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=zv(e),e!==null&&dR(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function a$(n,e,t,r,i){switch(e){case"focusin":return oc=Yp(oc,n,e,t,r,i),!0;case"dragenter":return ac=Yp(ac,n,e,t,r,i),!0;case"mouseover":return lc=Yp(lc,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Og.set(s,Yp(Og.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Lg.set(s,Yp(Lg.get(s)||null,n,e,t,r,i)),!0}return!1}function dU(n){var e=Ou(n.target);if(e!==null){var t=wd(e);if(t!==null){if(e=t.tag,e===13){if(e=Z4(t),e!==null){n.blockedOn=e,uU(n.priority,function(){lU(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Z_(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=VA(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);DA=r,t.target.dispatchEvent(r),DA=null}else return e=zv(t),e!==null&&dR(e),n.blockedOn=t,!1;e.shift()}return!0}function QO(n,e,t){Z_(n)&&t.delete(e)}function l$(){HA=!1,oc!==null&&Z_(oc)&&(oc=null),ac!==null&&Z_(ac)&&(ac=null),lc!==null&&Z_(lc)&&(lc=null),Og.forEach(QO),Lg.forEach(QO)}function qp(n,e){n.blockedOn===e&&(n.blockedOn=null,HA||(HA=!0,Ms.unstable_scheduleCallback(Ms.unstable_NormalPriority,l$)))}function Bg(n){function e(i){return qp(i,n)}if(0<Ly.length){qp(Ly[0],n);for(var t=1;t<Ly.length;t++){var r=Ly[t];r.blockedOn===n&&(r.blockedOn=null)}}for(oc!==null&&qp(oc,n),ac!==null&&qp(ac,n),lc!==null&&qp(lc,n),Og.forEach(e),Lg.forEach(e),t=0;t<Xl.length;t++)r=Xl[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Xl.length&&(t=Xl[0],t.blockedOn===null);)dU(t),t.blockedOn===null&&Xl.shift()}var Yh=yl.ReactCurrentBatchConfig,Nx=!0;function c$(n,e,t,r){var i=gn,s=Yh.transition;Yh.transition=null;try{gn=1,hR(n,e,t,r)}finally{gn=i,Yh.transition=s}}function u$(n,e,t,r){var i=gn,s=Yh.transition;Yh.transition=null;try{gn=4,hR(n,e,t,r)}finally{gn=i,Yh.transition=s}}function hR(n,e,t,r){if(Nx){var i=VA(n,e,t,r);if(i===null)gE(n,e,r,kx,t),qO(n,r);else if(a$(i,n,e,t,r))r.stopPropagation();else if(qO(n,r),e&4&&-1<o$.indexOf(n)){for(;i!==null;){var s=zv(i);if(s!==null&&aU(s),s=VA(n,e,t,r),s===null&&gE(n,e,r,kx,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else gE(n,e,r,null,t)}}var kx=null;function VA(n,e,t,r){if(kx=null,n=lR(r),n=Ou(n),n!==null)if(e=wd(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Z4(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return kx=n,null}function hU(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q7()){case cR:return 1;case rU:return 4;case Rx:case Q7:return 16;case iU:return 536870912;default:return 16}default:return 16}}var ql=null,fR=null,ex=null;function fU(){if(ex)return ex;var n,e=fR,t=e.length,r,i="value"in ql?ql.value:ql.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return ex=i.slice(n,1<r?1-r:void 0)}function tx(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function By(){return!0}function ZO(){return!1}function ks(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?By:ZO,this.isPropagationStopped=ZO,this}return tr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=By)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=By)},persist:function(){},isPersistent:By}),e}var ep={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pR=ks(ep),Fv=tr({},ep,{view:0,detail:0}),d$=ks(Fv),aE,lE,Qp,Kb=tr({},Fv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mR,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qp&&(Qp&&n.type==="mousemove"?(aE=n.screenX-Qp.screenX,lE=n.screenY-Qp.screenY):lE=aE=0,Qp=n),aE)},movementY:function(n){return"movementY"in n?n.movementY:lE}}),eL=ks(Kb),h$=tr({},Kb,{dataTransfer:0}),f$=ks(h$),p$=tr({},Fv,{relatedTarget:0}),cE=ks(p$),m$=tr({},ep,{animationName:0,elapsedTime:0,pseudoElement:0}),g$=ks(m$),v$=tr({},ep,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),y$=ks(v$),_$=tr({},ep,{data:0}),tL=ks(_$),x$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S$(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=w$[n])?!!e[n]:!1}function mR(){return S$}var E$=tr({},Fv,{key:function(n){if(n.key){var e=x$[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=tx(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?b$[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mR,charCode:function(n){return n.type==="keypress"?tx(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?tx(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),C$=ks(E$),A$=tr({},Kb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nL=ks(A$),M$=tr({},Fv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mR}),T$=ks(M$),P$=tr({},ep,{propertyName:0,elapsedTime:0,pseudoElement:0}),R$=ks(P$),I$=tr({},Kb,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),N$=ks(I$),k$=[9,13,27,32],gR=ll&&"CompositionEvent"in window,tg=null;ll&&"documentMode"in document&&(tg=document.documentMode);var O$=ll&&"TextEvent"in window&&!tg,pU=ll&&(!gR||tg&&8<tg&&11>=tg),rL=String.fromCharCode(32),iL=!1;function mU(n,e){switch(n){case"keyup":return k$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gU(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Th=!1;function L$(n,e){switch(n){case"compositionend":return gU(e);case"keypress":return e.which!==32?null:(iL=!0,rL);case"textInput":return n=e.data,n===rL&&iL?null:n;default:return null}}function B$(n,e){if(Th)return n==="compositionend"||!gR&&mU(n,e)?(n=fU(),ex=fR=ql=null,Th=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pU&&e.locale!=="ko"?null:e.data;default:return null}}var D$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sL(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!D$[n.type]:e==="textarea"}function vU(n,e,t,r){K4(r),e=Ox(e,"onChange"),0<e.length&&(t=new pR("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var ng=null,Dg=null;function F$(n){TU(n,0)}function Xb(n){var e=Ih(n);if(G4(e))return n}function z$(n,e){if(n==="change")return e}var yU=!1;if(ll){var uE;if(ll){var dE="oninput"in document;if(!dE){var oL=document.createElement("div");oL.setAttribute("oninput","return;"),dE=typeof oL.oninput=="function"}uE=dE}else uE=!1;yU=uE&&(!document.documentMode||9<document.documentMode)}function aL(){ng&&(ng.detachEvent("onpropertychange",_U),Dg=ng=null)}function _U(n){if(n.propertyName==="value"&&Xb(Dg)){var e=[];vU(e,Dg,n,lR(n)),Q4(F$,e)}}function U$(n,e,t){n==="focusin"?(aL(),ng=e,Dg=t,ng.attachEvent("onpropertychange",_U)):n==="focusout"&&aL()}function G$(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Xb(Dg)}function H$(n,e){if(n==="click")return Xb(e)}function V$(n,e){if(n==="input"||n==="change")return Xb(e)}function W$(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Oo=typeof Object.is=="function"?Object.is:W$;function Fg(n,e){if(Oo(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!CA.call(e,i)||!Oo(n[i],e[i]))return!1}return!0}function lL(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function cL(n,e){var t=lL(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=lL(t)}}function xU(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?xU(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function bU(){for(var n=window,e=Mx();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Mx(n.document)}return e}function vR(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function j$(n){var e=bU(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&xU(t.ownerDocument.documentElement,t)){if(r!==null&&vR(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=cL(t,s);var o=cL(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var $$=ll&&"documentMode"in document&&11>=document.documentMode,Ph=null,WA=null,rg=null,jA=!1;function uL(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;jA||Ph==null||Ph!==Mx(r)||(r=Ph,"selectionStart"in r&&vR(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rg&&Fg(rg,r)||(rg=r,r=Ox(WA,"onSelect"),0<r.length&&(e=new pR("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Ph)))}function Dy(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Rh={animationend:Dy("Animation","AnimationEnd"),animationiteration:Dy("Animation","AnimationIteration"),animationstart:Dy("Animation","AnimationStart"),transitionend:Dy("Transition","TransitionEnd")},hE={},wU={};ll&&(wU=document.createElement("div").style,"AnimationEvent"in window||(delete Rh.animationend.animation,delete Rh.animationiteration.animation,delete Rh.animationstart.animation),"TransitionEvent"in window||delete Rh.transitionend.transition);function Yb(n){if(hE[n])return hE[n];if(!Rh[n])return n;var e=Rh[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in wU)return hE[n]=e[t];return n}var SU=Yb("animationend"),EU=Yb("animationiteration"),CU=Yb("animationstart"),AU=Yb("transitionend"),MU=new Map,dL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uc(n,e){MU.set(n,e),bd(e,[n])}for(var fE=0;fE<dL.length;fE++){var pE=dL[fE],J$=pE.toLowerCase(),K$=pE[0].toUpperCase()+pE.slice(1);Uc(J$,"on"+K$)}Uc(SU,"onAnimationEnd");Uc(EU,"onAnimationIteration");Uc(CU,"onAnimationStart");Uc("dblclick","onDoubleClick");Uc("focusin","onFocus");Uc("focusout","onBlur");Uc(AU,"onTransitionEnd");pf("onMouseEnter",["mouseout","mouseover"]);pf("onMouseLeave",["mouseout","mouseover"]);pf("onPointerEnter",["pointerout","pointerover"]);pf("onPointerLeave",["pointerout","pointerover"]);bd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bd("onBeforeInput",["compositionend","keypress","textInput","paste"]);bd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hm));function hL(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,J7(r,e,void 0,n),n.currentTarget=null}function TU(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;hL(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;hL(i,a,c),s=l}}}if(Px)throw n=UA,Px=!1,UA=null,n}function kn(n,e){var t=e[YA];t===void 0&&(t=e[YA]=new Set);var r=n+"__bubble";t.has(r)||(PU(e,n,2,!1),t.add(r))}function mE(n,e,t){var r=0;e&&(r|=4),PU(t,n,r,e)}var Fy="_reactListening"+Math.random().toString(36).slice(2);function zg(n){if(!n[Fy]){n[Fy]=!0,B4.forEach(function(t){t!=="selectionchange"&&(X$.has(t)||mE(t,!1,n),mE(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Fy]||(e[Fy]=!0,mE("selectionchange",!1,e))}}function PU(n,e,t,r){switch(hU(e)){case 1:var i=c$;break;case 4:i=u$;break;default:i=hR}t=i.bind(null,e,t,n),i=void 0,!zA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function gE(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ou(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Q4(function(){var c=s,u=lR(t),d=[];e:{var f=MU.get(n);if(f!==void 0){var m=pR,g=n;switch(n){case"keypress":if(tx(t)===0)break e;case"keydown":case"keyup":m=C$;break;case"focusin":g="focus",m=cE;break;case"focusout":g="blur",m=cE;break;case"beforeblur":case"afterblur":m=cE;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=eL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=f$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=T$;break;case SU:case EU:case CU:m=g$;break;case AU:m=R$;break;case"scroll":m=d$;break;case"wheel":m=N$;break;case"copy":case"cut":case"paste":m=y$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=nL}var v=(e&4)!==0,_=!v&&n==="scroll",x=v?f!==null?f+"Capture":null:f;v=[];for(var w=c,S;w!==null;){S=w;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,x!==null&&(E=kg(w,x),E!=null&&v.push(Ug(w,E,S)))),_)break;w=w.return}0<v.length&&(f=new m(f,g,null,t,u),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",f&&t!==DA&&(g=t.relatedTarget||t.fromElement)&&(Ou(g)||g[cl]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=c,g=g?Ou(g):null,g!==null&&(_=wd(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(v=eL,E="onMouseLeave",x="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(v=nL,E="onPointerLeave",x="onPointerEnter",w="pointer"),_=m==null?f:Ih(m),S=g==null?f:Ih(g),f=new v(E,w+"leave",m,t,u),f.target=_,f.relatedTarget=S,E=null,Ou(u)===c&&(v=new v(x,w+"enter",g,t,u),v.target=S,v.relatedTarget=_,E=v),_=E,m&&g)t:{for(v=m,x=g,w=0,S=v;S;S=jd(S))w++;for(S=0,E=x;E;E=jd(E))S++;for(;0<w-S;)v=jd(v),w--;for(;0<S-w;)x=jd(x),S--;for(;w--;){if(v===x||x!==null&&v===x.alternate)break t;v=jd(v),x=jd(x)}v=null}else v=null;m!==null&&fL(d,f,m,v,!1),g!==null&&_!==null&&fL(d,_,g,v,!0)}}e:{if(f=c?Ih(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var A=z$;else if(sL(f))if(yU)A=V$;else{A=G$;var P=U$}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=H$);if(A&&(A=A(n,c))){vU(d,A,t,u);break e}P&&P(n,f,c),n==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&NA(f,"number",f.value)}switch(P=c?Ih(c):window,n){case"focusin":(sL(P)||P.contentEditable==="true")&&(Ph=P,WA=c,rg=null);break;case"focusout":rg=WA=Ph=null;break;case"mousedown":jA=!0;break;case"contextmenu":case"mouseup":case"dragend":jA=!1,uL(d,t,u);break;case"selectionchange":if($$)break;case"keydown":case"keyup":uL(d,t,u)}var I;if(gR)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Th?mU(n,t)&&(T="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(T="onCompositionStart");T&&(pU&&t.locale!=="ko"&&(Th||T!=="onCompositionStart"?T==="onCompositionEnd"&&Th&&(I=fU()):(ql=u,fR="value"in ql?ql.value:ql.textContent,Th=!0)),P=Ox(c,T),0<P.length&&(T=new tL(T,n,null,t,u),d.push({event:T,listeners:P}),I?T.data=I:(I=gU(t),I!==null&&(T.data=I)))),(I=O$?L$(n,t):B$(n,t))&&(c=Ox(c,"onBeforeInput"),0<c.length&&(u=new tL("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=I))}TU(d,e)})}function Ug(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Ox(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=kg(n,t),s!=null&&r.unshift(Ug(n,s,i)),s=kg(n,e),s!=null&&r.push(Ug(n,s,i))),n=n.return}return r}function jd(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function fL(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=kg(t,s),l!=null&&o.unshift(Ug(t,l,a))):i||(l=kg(t,s),l!=null&&o.push(Ug(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var Y$=/\r\n?/g,q$=/\u0000|\uFFFD/g;function pL(n){return(typeof n=="string"?n:""+n).replace(Y$,`
`).replace(q$,"")}function zy(n,e,t){if(e=pL(e),pL(n)!==e&&t)throw Error(Le(425))}function Lx(){}var $A=null,JA=null;function KA(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var XA=typeof setTimeout=="function"?setTimeout:void 0,Q$=typeof clearTimeout=="function"?clearTimeout:void 0,mL=typeof Promise=="function"?Promise:void 0,Z$=typeof queueMicrotask=="function"?queueMicrotask:typeof mL<"u"?function(n){return mL.resolve(null).then(n).catch(eJ)}:XA;function eJ(n){setTimeout(function(){throw n})}function vE(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Bg(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Bg(e)}function cc(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function gL(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var tp=Math.random().toString(36).slice(2),sa="__reactFiber$"+tp,Gg="__reactProps$"+tp,cl="__reactContainer$"+tp,YA="__reactEvents$"+tp,tJ="__reactListeners$"+tp,nJ="__reactHandles$"+tp;function Ou(n){var e=n[sa];if(e)return e;for(var t=n.parentNode;t;){if(e=t[cl]||t[sa]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=gL(n);n!==null;){if(t=n[sa])return t;n=gL(n)}return e}n=t,t=n.parentNode}return null}function zv(n){return n=n[sa]||n[cl],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ih(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Le(33))}function qb(n){return n[Gg]||null}var qA=[],Nh=-1;function Gc(n){return{current:n}}function Dn(n){0>Nh||(n.current=qA[Nh],qA[Nh]=null,Nh--)}function Pn(n,e){Nh++,qA[Nh]=n.current,n.current=e}var Ec={},Pi=Gc(Ec),ts=Gc(!1),rd=Ec;function mf(n,e){var t=n.type.contextTypes;if(!t)return Ec;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ns(n){return n=n.childContextTypes,n!=null}function Bx(){Dn(ts),Dn(Pi)}function vL(n,e,t){if(Pi.current!==Ec)throw Error(Le(168));Pn(Pi,e),Pn(ts,t)}function RU(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Le(108,U7(n)||"Unknown",i));return tr({},t,r)}function Dx(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ec,rd=Pi.current,Pn(Pi,n),Pn(ts,ts.current),!0}function yL(n,e,t){var r=n.stateNode;if(!r)throw Error(Le(169));t?(n=RU(n,e,rd),r.__reactInternalMemoizedMergedChildContext=n,Dn(ts),Dn(Pi),Pn(Pi,n)):Dn(ts),Pn(ts,t)}var ja=null,Qb=!1,yE=!1;function IU(n){ja===null?ja=[n]:ja.push(n)}function rJ(n){Qb=!0,IU(n)}function Hc(){if(!yE&&ja!==null){yE=!0;var n=0,e=gn;try{var t=ja;for(gn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}ja=null,Qb=!1}catch(i){throw ja!==null&&(ja=ja.slice(n+1)),nU(cR,Hc),i}finally{gn=e,yE=!1}}return null}var kh=[],Oh=0,Fx=null,zx=0,Ks=[],Xs=0,id=null,Ka=1,Xa="";function _u(n,e){kh[Oh++]=zx,kh[Oh++]=Fx,Fx=n,zx=e}function NU(n,e,t){Ks[Xs++]=Ka,Ks[Xs++]=Xa,Ks[Xs++]=id,id=n;var r=Ka;n=Xa;var i=32-Ro(r)-1;r&=~(1<<i),t+=1;var s=32-Ro(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ka=1<<32-Ro(e)+i|t<<i|r,Xa=s+n}else Ka=1<<s|t<<i|r,Xa=n}function yR(n){n.return!==null&&(_u(n,1),NU(n,1,0))}function _R(n){for(;n===Fx;)Fx=kh[--Oh],kh[Oh]=null,zx=kh[--Oh],kh[Oh]=null;for(;n===id;)id=Ks[--Xs],Ks[Xs]=null,Xa=Ks[--Xs],Ks[Xs]=null,Ka=Ks[--Xs],Ks[Xs]=null}var Es=null,bs=null,Wn=!1,Co=null;function kU(n,e){var t=Qs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function _L(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Es=n,bs=cc(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Es=n,bs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=id!==null?{id:Ka,overflow:Xa}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Qs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Es=n,bs=null,!0):!1;default:return!1}}function QA(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ZA(n){if(Wn){var e=bs;if(e){var t=e;if(!_L(n,e)){if(QA(n))throw Error(Le(418));e=cc(t.nextSibling);var r=Es;e&&_L(n,e)?kU(r,t):(n.flags=n.flags&-4097|2,Wn=!1,Es=n)}}else{if(QA(n))throw Error(Le(418));n.flags=n.flags&-4097|2,Wn=!1,Es=n}}}function xL(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Es=n}function Uy(n){if(n!==Es)return!1;if(!Wn)return xL(n),Wn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!KA(n.type,n.memoizedProps)),e&&(e=bs)){if(QA(n))throw OU(),Error(Le(418));for(;e;)kU(n,e),e=cc(e.nextSibling)}if(xL(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Le(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){bs=cc(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}bs=null}}else bs=Es?cc(n.stateNode.nextSibling):null;return!0}function OU(){for(var n=bs;n;)n=cc(n.nextSibling)}function gf(){bs=Es=null,Wn=!1}function xR(n){Co===null?Co=[n]:Co.push(n)}var iJ=yl.ReactCurrentBatchConfig;function wo(n,e){if(n&&n.defaultProps){e=tr({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Ux=Gc(null),Gx=null,Lh=null,bR=null;function wR(){bR=Lh=Gx=null}function SR(n){var e=Ux.current;Dn(Ux),n._currentValue=e}function eM(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function qh(n,e){Gx=n,bR=Lh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Zi=!0),n.firstContext=null)}function io(n){var e=n._currentValue;if(bR!==n)if(n={context:n,memoizedValue:e,next:null},Lh===null){if(Gx===null)throw Error(Le(308));Lh=n,Gx.dependencies={lanes:0,firstContext:n}}else Lh=Lh.next=n;return e}var Lu=null;function ER(n){Lu===null?Lu=[n]:Lu.push(n)}function LU(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,ER(e)):(t.next=i.next,i.next=t),e.interleaved=t,ul(n,r)}function ul(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var $l=!1;function CR(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BU(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function tl(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function uc(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Zt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ul(n,t)}return i=r.interleaved,i===null?(e.next=e,ER(r)):(e.next=i.next,i.next=e),r.interleaved=e,ul(n,t)}function nx(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,uR(n,t)}}function bL(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Hx(n,e,t,r){var i=n.updateQueue;$l=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,v=a;switch(f=e,m=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(m,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(m,d,f):g,f==null)break e;d=tr({},d,f);break e;case 2:$l=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);od|=o,n.lanes=o,n.memoizedState=d}}function wL(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Le(191,i));i.call(r)}}}var DU=new L4.Component().refs;function tM(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:tr({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Zb={isMounted:function(n){return(n=n._reactInternals)?wd(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Gi(),i=hc(n),s=tl(r,i);s.payload=e,t!=null&&(s.callback=t),e=uc(n,s,i),e!==null&&(Io(e,n,i,r),nx(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Gi(),i=hc(n),s=tl(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=uc(n,s,i),e!==null&&(Io(e,n,i,r),nx(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Gi(),r=hc(n),i=tl(t,r);i.tag=2,e!=null&&(i.callback=e),e=uc(n,i,r),e!==null&&(Io(e,n,r,t),nx(e,n,r))}};function SL(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Fg(t,r)||!Fg(i,s):!0}function FU(n,e,t){var r=!1,i=Ec,s=e.contextType;return typeof s=="object"&&s!==null?s=io(s):(i=ns(e)?rd:Pi.current,r=e.contextTypes,s=(r=r!=null)?mf(n,i):Ec),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zb,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function EL(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Zb.enqueueReplaceState(e,e.state,null)}function nM(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=DU,CR(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=io(s):(s=ns(e)?rd:Pi.current,i.context=mf(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tM(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zb.enqueueReplaceState(i,i.state,null),Hx(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Zp(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Le(309));var r=t.stateNode}if(!r)throw Error(Le(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===DU&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Le(284));if(!t._owner)throw Error(Le(290,n))}return n}function Gy(n,e){throw n=Object.prototype.toString.call(e),Error(Le(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function CL(n){var e=n._init;return e(n._payload)}function zU(n){function e(x,w){if(n){var S=x.deletions;S===null?(x.deletions=[w],x.flags|=16):S.push(w)}}function t(x,w){if(!n)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=fc(x,w),x.index=0,x.sibling=null,x}function s(x,w,S){return x.index=S,n?(S=x.alternate,S!==null?(S=S.index,S<w?(x.flags|=2,w):S):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,w,S,E){return w===null||w.tag!==6?(w=CE(S,x.mode,E),w.return=x,w):(w=i(w,S),w.return=x,w)}function l(x,w,S,E){var A=S.type;return A===Mh?u(x,w,S.props.children,E,S.key):w!==null&&(w.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===jl&&CL(A)===w.type)?(E=i(w,S.props),E.ref=Zp(x,w,S),E.return=x,E):(E=lx(S.type,S.key,S.props,null,x.mode,E),E.ref=Zp(x,w,S),E.return=x,E)}function c(x,w,S,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=AE(S,x.mode,E),w.return=x,w):(w=i(w,S.children||[]),w.return=x,w)}function u(x,w,S,E,A){return w===null||w.tag!==7?(w=$u(S,x.mode,E,A),w.return=x,w):(w=i(w,S),w.return=x,w)}function d(x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=CE(""+w,x.mode,S),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ry:return S=lx(w.type,w.key,w.props,null,x.mode,S),S.ref=Zp(x,null,w),S.return=x,S;case Ah:return w=AE(w,x.mode,S),w.return=x,w;case jl:var E=w._init;return d(x,E(w._payload),S)}if(Um(w)||Kp(w))return w=$u(w,x.mode,S,null),w.return=x,w;Gy(x,w)}return null}function f(x,w,S,E){var A=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return A!==null?null:a(x,w,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ry:return S.key===A?l(x,w,S,E):null;case Ah:return S.key===A?c(x,w,S,E):null;case jl:return A=S._init,f(x,w,A(S._payload),E)}if(Um(S)||Kp(S))return A!==null?null:u(x,w,S,E,null);Gy(x,S)}return null}function m(x,w,S,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(S)||null,a(w,x,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ry:return x=x.get(E.key===null?S:E.key)||null,l(w,x,E,A);case Ah:return x=x.get(E.key===null?S:E.key)||null,c(w,x,E,A);case jl:var P=E._init;return m(x,w,S,P(E._payload),A)}if(Um(E)||Kp(E))return x=x.get(S)||null,u(w,x,E,A,null);Gy(w,E)}return null}function g(x,w,S,E){for(var A=null,P=null,I=w,T=w=0,R=null;I!==null&&T<S.length;T++){I.index>T?(R=I,I=null):R=I.sibling;var O=f(x,I,S[T],E);if(O===null){I===null&&(I=R);break}n&&I&&O.alternate===null&&e(x,I),w=s(O,w,T),P===null?A=O:P.sibling=O,P=O,I=R}if(T===S.length)return t(x,I),Wn&&_u(x,T),A;if(I===null){for(;T<S.length;T++)I=d(x,S[T],E),I!==null&&(w=s(I,w,T),P===null?A=I:P.sibling=I,P=I);return Wn&&_u(x,T),A}for(I=r(x,I);T<S.length;T++)R=m(I,x,T,S[T],E),R!==null&&(n&&R.alternate!==null&&I.delete(R.key===null?T:R.key),w=s(R,w,T),P===null?A=R:P.sibling=R,P=R);return n&&I.forEach(function(L){return e(x,L)}),Wn&&_u(x,T),A}function v(x,w,S,E){var A=Kp(S);if(typeof A!="function")throw Error(Le(150));if(S=A.call(S),S==null)throw Error(Le(151));for(var P=A=null,I=w,T=w=0,R=null,O=S.next();I!==null&&!O.done;T++,O=S.next()){I.index>T?(R=I,I=null):R=I.sibling;var L=f(x,I,O.value,E);if(L===null){I===null&&(I=R);break}n&&I&&L.alternate===null&&e(x,I),w=s(L,w,T),P===null?A=L:P.sibling=L,P=L,I=R}if(O.done)return t(x,I),Wn&&_u(x,T),A;if(I===null){for(;!O.done;T++,O=S.next())O=d(x,O.value,E),O!==null&&(w=s(O,w,T),P===null?A=O:P.sibling=O,P=O);return Wn&&_u(x,T),A}for(I=r(x,I);!O.done;T++,O=S.next())O=m(I,x,T,O.value,E),O!==null&&(n&&O.alternate!==null&&I.delete(O.key===null?T:O.key),w=s(O,w,T),P===null?A=O:P.sibling=O,P=O);return n&&I.forEach(function(J){return e(x,J)}),Wn&&_u(x,T),A}function _(x,w,S,E){if(typeof S=="object"&&S!==null&&S.type===Mh&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ry:e:{for(var A=S.key,P=w;P!==null;){if(P.key===A){if(A=S.type,A===Mh){if(P.tag===7){t(x,P.sibling),w=i(P,S.props.children),w.return=x,x=w;break e}}else if(P.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===jl&&CL(A)===P.type){t(x,P.sibling),w=i(P,S.props),w.ref=Zp(x,P,S),w.return=x,x=w;break e}t(x,P);break}else e(x,P);P=P.sibling}S.type===Mh?(w=$u(S.props.children,x.mode,E,S.key),w.return=x,x=w):(E=lx(S.type,S.key,S.props,null,x.mode,E),E.ref=Zp(x,w,S),E.return=x,x=E)}return o(x);case Ah:e:{for(P=S.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){t(x,w.sibling),w=i(w,S.children||[]),w.return=x,x=w;break e}else{t(x,w);break}else e(x,w);w=w.sibling}w=AE(S,x.mode,E),w.return=x,x=w}return o(x);case jl:return P=S._init,_(x,w,P(S._payload),E)}if(Um(S))return g(x,w,S,E);if(Kp(S))return v(x,w,S,E);Gy(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(t(x,w.sibling),w=i(w,S),w.return=x,x=w):(t(x,w),w=CE(S,x.mode,E),w.return=x,x=w),o(x)):t(x,w)}return _}var vf=zU(!0),UU=zU(!1),Uv={},ua=Gc(Uv),Hg=Gc(Uv),Vg=Gc(Uv);function Bu(n){if(n===Uv)throw Error(Le(174));return n}function AR(n,e){switch(Pn(Vg,e),Pn(Hg,n),Pn(ua,Uv),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:OA(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=OA(e,n)}Dn(ua),Pn(ua,e)}function yf(){Dn(ua),Dn(Hg),Dn(Vg)}function GU(n){Bu(Vg.current);var e=Bu(ua.current),t=OA(e,n.type);e!==t&&(Pn(Hg,n),Pn(ua,t))}function MR(n){Hg.current===n&&(Dn(ua),Dn(Hg))}var qn=Gc(0);function Vx(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _E=[];function TR(){for(var n=0;n<_E.length;n++)_E[n]._workInProgressVersionPrimary=null;_E.length=0}var rx=yl.ReactCurrentDispatcher,xE=yl.ReactCurrentBatchConfig,sd=0,er=null,Rr=null,Vr=null,Wx=!1,ig=!1,Wg=0,sJ=0;function vi(){throw Error(Le(321))}function PR(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Oo(n[t],e[t]))return!1;return!0}function RR(n,e,t,r,i,s){if(sd=s,er=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rx.current=n===null||n.memoizedState===null?cJ:uJ,n=t(r,i),ig){s=0;do{if(ig=!1,Wg=0,25<=s)throw Error(Le(301));s+=1,Vr=Rr=null,e.updateQueue=null,rx.current=dJ,n=t(r,i)}while(ig)}if(rx.current=jx,e=Rr!==null&&Rr.next!==null,sd=0,Vr=Rr=er=null,Wx=!1,e)throw Error(Le(300));return n}function IR(){var n=Wg!==0;return Wg=0,n}function ea(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?er.memoizedState=Vr=n:Vr=Vr.next=n,Vr}function so(){if(Rr===null){var n=er.alternate;n=n!==null?n.memoizedState:null}else n=Rr.next;var e=Vr===null?er.memoizedState:Vr.next;if(e!==null)Vr=e,Rr=n;else{if(n===null)throw Error(Le(310));Rr=n,n={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Vr===null?er.memoizedState=Vr=n:Vr=Vr.next=n}return Vr}function jg(n,e){return typeof e=="function"?e(n):e}function bE(n){var e=so(),t=e.queue;if(t===null)throw Error(Le(311));t.lastRenderedReducer=n;var r=Rr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((sd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,er.lanes|=u,od|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Oo(r,e.memoizedState)||(Zi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,er.lanes|=s,od|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function wE(n){var e=so(),t=e.queue;if(t===null)throw Error(Le(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Oo(s,e.memoizedState)||(Zi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function HU(){}function VU(n,e){var t=er,r=so(),i=e(),s=!Oo(r.memoizedState,i);if(s&&(r.memoizedState=i,Zi=!0),r=r.queue,NR($U.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Vr!==null&&Vr.memoizedState.tag&1){if(t.flags|=2048,$g(9,jU.bind(null,t,r,i,e),void 0,null),Jr===null)throw Error(Le(349));sd&30||WU(t,e,i)}return i}function WU(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=er.updateQueue,e===null?(e={lastEffect:null,stores:null},er.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function jU(n,e,t,r){e.value=t,e.getSnapshot=r,JU(e)&&KU(n)}function $U(n,e,t){return t(function(){JU(e)&&KU(n)})}function JU(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Oo(n,t)}catch{return!0}}function KU(n){var e=ul(n,1);e!==null&&Io(e,n,1,-1)}function AL(n){var e=ea();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:n},e.queue=n,n=n.dispatch=lJ.bind(null,er,n),[e.memoizedState,n]}function $g(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=er.updateQueue,e===null?(e={lastEffect:null,stores:null},er.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function XU(){return so().memoizedState}function ix(n,e,t,r){var i=ea();er.flags|=n,i.memoizedState=$g(1|e,t,void 0,r===void 0?null:r)}function ew(n,e,t,r){var i=so();r=r===void 0?null:r;var s=void 0;if(Rr!==null){var o=Rr.memoizedState;if(s=o.destroy,r!==null&&PR(r,o.deps)){i.memoizedState=$g(e,t,s,r);return}}er.flags|=n,i.memoizedState=$g(1|e,t,s,r)}function ML(n,e){return ix(8390656,8,n,e)}function NR(n,e){return ew(2048,8,n,e)}function YU(n,e){return ew(4,2,n,e)}function qU(n,e){return ew(4,4,n,e)}function QU(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function ZU(n,e,t){return t=t!=null?t.concat([n]):null,ew(4,4,QU.bind(null,e,n),t)}function kR(){}function e5(n,e){var t=so();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&PR(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function t5(n,e){var t=so();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&PR(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function n5(n,e,t){return sd&21?(Oo(t,e)||(t=sU(),er.lanes|=t,od|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Zi=!0),n.memoizedState=t)}function oJ(n,e){var t=gn;gn=t!==0&&4>t?t:4,n(!0);var r=xE.transition;xE.transition={};try{n(!1),e()}finally{gn=t,xE.transition=r}}function r5(){return so().memoizedState}function aJ(n,e,t){var r=hc(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},i5(n))s5(e,t);else if(t=LU(n,e,t,r),t!==null){var i=Gi();Io(t,n,r,i),o5(t,e,r)}}function lJ(n,e,t){var r=hc(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(i5(n))s5(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Oo(a,o)){var l=e.interleaved;l===null?(i.next=i,ER(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=LU(n,e,i,r),t!==null&&(i=Gi(),Io(t,n,r,i),o5(t,e,r))}}function i5(n){var e=n.alternate;return n===er||e!==null&&e===er}function s5(n,e){ig=Wx=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function o5(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,uR(n,t)}}var jx={readContext:io,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useInsertionEffect:vi,useLayoutEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useMutableSource:vi,useSyncExternalStore:vi,useId:vi,unstable_isNewReconciler:!1},cJ={readContext:io,useCallback:function(n,e){return ea().memoizedState=[n,e===void 0?null:e],n},useContext:io,useEffect:ML,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,ix(4194308,4,QU.bind(null,e,n),t)},useLayoutEffect:function(n,e){return ix(4194308,4,n,e)},useInsertionEffect:function(n,e){return ix(4,2,n,e)},useMemo:function(n,e){var t=ea();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=ea();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=aJ.bind(null,er,n),[r.memoizedState,n]},useRef:function(n){var e=ea();return n={current:n},e.memoizedState=n},useState:AL,useDebugValue:kR,useDeferredValue:function(n){return ea().memoizedState=n},useTransition:function(){var n=AL(!1),e=n[0];return n=oJ.bind(null,n[1]),ea().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=er,i=ea();if(Wn){if(t===void 0)throw Error(Le(407));t=t()}else{if(t=e(),Jr===null)throw Error(Le(349));sd&30||WU(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,ML($U.bind(null,r,s,n),[n]),r.flags|=2048,$g(9,jU.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=ea(),e=Jr.identifierPrefix;if(Wn){var t=Xa,r=Ka;t=(r&~(1<<32-Ro(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Wg++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=sJ++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},uJ={readContext:io,useCallback:e5,useContext:io,useEffect:NR,useImperativeHandle:ZU,useInsertionEffect:YU,useLayoutEffect:qU,useMemo:t5,useReducer:bE,useRef:XU,useState:function(){return bE(jg)},useDebugValue:kR,useDeferredValue:function(n){var e=so();return n5(e,Rr.memoizedState,n)},useTransition:function(){var n=bE(jg)[0],e=so().memoizedState;return[n,e]},useMutableSource:HU,useSyncExternalStore:VU,useId:r5,unstable_isNewReconciler:!1},dJ={readContext:io,useCallback:e5,useContext:io,useEffect:NR,useImperativeHandle:ZU,useInsertionEffect:YU,useLayoutEffect:qU,useMemo:t5,useReducer:wE,useRef:XU,useState:function(){return wE(jg)},useDebugValue:kR,useDeferredValue:function(n){var e=so();return Rr===null?e.memoizedState=n:n5(e,Rr.memoizedState,n)},useTransition:function(){var n=wE(jg)[0],e=so().memoizedState;return[n,e]},useMutableSource:HU,useSyncExternalStore:VU,useId:r5,unstable_isNewReconciler:!1};function _f(n,e){try{var t="",r=e;do t+=z7(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function SE(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function rM(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var hJ=typeof WeakMap=="function"?WeakMap:Map;function a5(n,e,t){t=tl(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Jx||(Jx=!0,fM=r),rM(n,e)},t}function l5(n,e,t){t=tl(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){rM(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){rM(n,e),typeof r!="function"&&(dc===null?dc=new Set([this]):dc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function TL(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new hJ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=AJ.bind(null,n,e,t),e.then(n,n))}function PL(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function RL(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=tl(-1,1),e.tag=2,uc(t,e,1))),t.lanes|=1),n)}var fJ=yl.ReactCurrentOwner,Zi=!1;function Fi(n,e,t,r){e.child=n===null?UU(e,null,t,r):vf(e,n.child,t,r)}function IL(n,e,t,r,i){t=t.render;var s=e.ref;return qh(e,i),r=RR(n,e,t,r,s,i),t=IR(),n!==null&&!Zi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,dl(n,e,i)):(Wn&&t&&yR(e),e.flags|=1,Fi(n,e,r,i),e.child)}function NL(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!GR(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,c5(n,e,s,r,i)):(n=lx(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Fg,t(o,r)&&n.ref===e.ref)return dl(n,e,i)}return e.flags|=1,n=fc(s,r),n.ref=e.ref,n.return=e,e.child=n}function c5(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Fg(s,r)&&n.ref===e.ref)if(Zi=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Zi=!0);else return e.lanes=n.lanes,dl(n,e,i)}return iM(n,e,t,r,i)}function u5(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pn(Dh,ys),ys|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Pn(Dh,ys),ys|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Pn(Dh,ys),ys|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Pn(Dh,ys),ys|=r;return Fi(n,e,i,t),e.child}function d5(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function iM(n,e,t,r,i){var s=ns(t)?rd:Pi.current;return s=mf(e,s),qh(e,i),t=RR(n,e,t,r,s,i),r=IR(),n!==null&&!Zi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,dl(n,e,i)):(Wn&&r&&yR(e),e.flags|=1,Fi(n,e,t,i),e.child)}function kL(n,e,t,r,i){if(ns(t)){var s=!0;Dx(e)}else s=!1;if(qh(e,i),e.stateNode===null)sx(n,e),FU(e,t,r),nM(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=io(c):(c=ns(t)?rd:Pi.current,c=mf(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&EL(e,o,r,c),$l=!1;var f=e.memoizedState;o.state=f,Hx(e,r,o,i),l=e.memoizedState,a!==r||f!==l||ts.current||$l?(typeof u=="function"&&(tM(e,t,u,r),l=e.memoizedState),(a=$l||SL(e,t,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,BU(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:wo(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=io(l):(l=ns(t)?rd:Pi.current,l=mf(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&EL(e,o,r,l),$l=!1,f=e.memoizedState,o.state=f,Hx(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||ts.current||$l?(typeof m=="function"&&(tM(e,t,m,r),g=e.memoizedState),(c=$l||SL(e,t,c,r,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return sM(n,e,t,r,s,i)}function sM(n,e,t,r,i,s){d5(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&yL(e,t,!1),dl(n,e,s);r=e.stateNode,fJ.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=vf(e,n.child,null,s),e.child=vf(e,null,a,s)):Fi(n,e,a,s),e.memoizedState=r.state,i&&yL(e,t,!0),e.child}function h5(n){var e=n.stateNode;e.pendingContext?vL(n,e.pendingContext,e.pendingContext!==e.context):e.context&&vL(n,e.context,!1),AR(n,e.containerInfo)}function OL(n,e,t,r,i){return gf(),xR(i),e.flags|=256,Fi(n,e,t,r),e.child}var oM={dehydrated:null,treeContext:null,retryLane:0};function aM(n){return{baseLanes:n,cachePool:null,transitions:null}}function f5(n,e,t){var r=e.pendingProps,i=qn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Pn(qn,i&1),n===null)return ZA(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=rw(o,r,0,null),n=$u(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=aM(t),e.memoizedState=oM,n):OR(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return pJ(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=fc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=fc(a,s):(s=$u(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?aM(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=oM,r}return s=n.child,n=s.sibling,r=fc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function OR(n,e){return e=rw({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Hy(n,e,t,r){return r!==null&&xR(r),vf(e,n.child,null,t),n=OR(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function pJ(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=SE(Error(Le(422))),Hy(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=rw({mode:"visible",children:r.children},i,0,null),s=$u(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&vf(e,n.child,null,o),e.child.memoizedState=aM(o),e.memoizedState=oM,s);if(!(e.mode&1))return Hy(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Le(419)),r=SE(s,r,void 0),Hy(n,e,o,r)}if(a=(o&n.childLanes)!==0,Zi||a){if(r=Jr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ul(n,i),Io(r,n,i,-1))}return UR(),r=SE(Error(Le(421))),Hy(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=MJ.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,bs=cc(i.nextSibling),Es=e,Wn=!0,Co=null,n!==null&&(Ks[Xs++]=Ka,Ks[Xs++]=Xa,Ks[Xs++]=id,Ka=n.id,Xa=n.overflow,id=e),e=OR(e,r.children),e.flags|=4096,e)}function LL(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),eM(n.return,e,t)}function EE(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function p5(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Fi(n,e,r.children,t),r=qn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&LL(n,t,e);else if(n.tag===19)LL(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Pn(qn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Vx(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),EE(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Vx(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}EE(e,!0,t,null,s);break;case"together":EE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sx(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function dl(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),od|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Le(153));if(e.child!==null){for(n=e.child,t=fc(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=fc(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function mJ(n,e,t){switch(e.tag){case 3:h5(e),gf();break;case 5:GU(e);break;case 1:ns(e.type)&&Dx(e);break;case 4:AR(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pn(Ux,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pn(qn,qn.current&1),e.flags|=128,null):t&e.child.childLanes?f5(n,e,t):(Pn(qn,qn.current&1),n=dl(n,e,t),n!==null?n.sibling:null);Pn(qn,qn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return p5(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pn(qn,qn.current),r)break;return null;case 22:case 23:return e.lanes=0,u5(n,e,t)}return dl(n,e,t)}var m5,lM,g5,v5;m5=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};lM=function(){};g5=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Bu(ua.current);var s=null;switch(t){case"input":i=RA(n,i),r=RA(n,r),s=[];break;case"select":i=tr({},i,{value:void 0}),r=tr({},r,{value:void 0}),s=[];break;case"textarea":i=kA(n,i),r=kA(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Lx)}LA(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ig.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ig.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&kn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};v5=function(n,e,t,r){t!==r&&(e.flags|=4)};function em(n,e){if(!Wn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function yi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function gJ(n,e,t){var r=e.pendingProps;switch(_R(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yi(e),null;case 1:return ns(e.type)&&Bx(),yi(e),null;case 3:return r=e.stateNode,yf(),Dn(ts),Dn(Pi),TR(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Uy(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Co!==null&&(gM(Co),Co=null))),lM(n,e),yi(e),null;case 5:MR(e);var i=Bu(Vg.current);if(t=e.type,n!==null&&e.stateNode!=null)g5(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Le(166));return yi(e),null}if(n=Bu(ua.current),Uy(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[sa]=e,r[Gg]=s,n=(e.mode&1)!==0,t){case"dialog":kn("cancel",r),kn("close",r);break;case"iframe":case"object":case"embed":kn("load",r);break;case"video":case"audio":for(i=0;i<Hm.length;i++)kn(Hm[i],r);break;case"source":kn("error",r);break;case"img":case"image":case"link":kn("error",r),kn("load",r);break;case"details":kn("toggle",r);break;case"input":WO(r,s),kn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},kn("invalid",r);break;case"textarea":$O(r,s),kn("invalid",r)}LA(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&zy(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&zy(r.textContent,a,n),i=["children",""+a]):Ig.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&kn("scroll",r)}switch(t){case"input":Iy(r),jO(r,s,!0);break;case"textarea":Iy(r),JO(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Lx)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=W4(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[sa]=e,n[Gg]=r,m5(n,e,!1,!1),e.stateNode=n;e:{switch(o=BA(t,r),t){case"dialog":kn("cancel",n),kn("close",n),i=r;break;case"iframe":case"object":case"embed":kn("load",n),i=r;break;case"video":case"audio":for(i=0;i<Hm.length;i++)kn(Hm[i],n);i=r;break;case"source":kn("error",n),i=r;break;case"img":case"image":case"link":kn("error",n),kn("load",n),i=r;break;case"details":kn("toggle",n),i=r;break;case"input":WO(n,r),i=RA(n,r),kn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=tr({},r,{value:void 0}),kn("invalid",n);break;case"textarea":$O(n,r),i=kA(n,r),kn("invalid",n);break;default:i=r}LA(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?J4(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&j4(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Ng(n,l):typeof l=="number"&&Ng(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ig.hasOwnProperty(s)?l!=null&&s==="onScroll"&&kn("scroll",n):l!=null&&iR(n,s,l,o))}switch(t){case"input":Iy(n),jO(n,r,!1);break;case"textarea":Iy(n),JO(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Sc(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Jh(n,!!r.multiple,s,!1):r.defaultValue!=null&&Jh(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Lx)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yi(e),null;case 6:if(n&&e.stateNode!=null)v5(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Le(166));if(t=Bu(Vg.current),Bu(ua.current),Uy(e)){if(r=e.stateNode,t=e.memoizedProps,r[sa]=e,(s=r.nodeValue!==t)&&(n=Es,n!==null))switch(n.tag){case 3:zy(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&zy(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[sa]=e,e.stateNode=r}return yi(e),null;case 13:if(Dn(qn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Wn&&bs!==null&&e.mode&1&&!(e.flags&128))OU(),gf(),e.flags|=98560,s=!1;else if(s=Uy(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Le(317));s[sa]=e}else gf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yi(e),s=!1}else Co!==null&&(gM(Co),Co=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||qn.current&1?kr===0&&(kr=3):UR())),e.updateQueue!==null&&(e.flags|=4),yi(e),null);case 4:return yf(),lM(n,e),n===null&&zg(e.stateNode.containerInfo),yi(e),null;case 10:return SR(e.type._context),yi(e),null;case 17:return ns(e.type)&&Bx(),yi(e),null;case 19:if(Dn(qn),s=e.memoizedState,s===null)return yi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)em(s,!1);else{if(kr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Vx(n),o!==null){for(e.flags|=128,em(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Pn(qn,qn.current&1|2),e.child}n=n.sibling}s.tail!==null&&vr()>xf&&(e.flags|=128,r=!0,em(s,!1),e.lanes=4194304)}else{if(!r)if(n=Vx(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),em(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Wn)return yi(e),null}else 2*vr()-s.renderingStartTime>xf&&t!==1073741824&&(e.flags|=128,r=!0,em(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vr(),e.sibling=null,t=qn.current,Pn(qn,r?t&1|2:t&1),e):(yi(e),null);case 22:case 23:return zR(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ys&1073741824&&(yi(e),e.subtreeFlags&6&&(e.flags|=8192)):yi(e),null;case 24:return null;case 25:return null}throw Error(Le(156,e.tag))}function vJ(n,e){switch(_R(e),e.tag){case 1:return ns(e.type)&&Bx(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return yf(),Dn(ts),Dn(Pi),TR(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return MR(e),null;case 13:if(Dn(qn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Le(340));gf()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Dn(qn),null;case 4:return yf(),null;case 10:return SR(e.type._context),null;case 22:case 23:return zR(),null;case 24:return null;default:return null}}var Vy=!1,Ei=!1,yJ=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Bh(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){cr(n,e,r)}else t.current=null}function cM(n,e,t){try{t()}catch(r){cr(n,e,r)}}var BL=!1;function _J(n,e){if($A=Nx,n=bU(),vR(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=n,f=null;t:for(;;){for(var m;d!==t||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===n)break t;if(f===t&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(JA={focusedElem:n,selectionRange:t},Nx=!1,qe=e;qe!==null;)if(e=qe,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,qe=n;else for(;qe!==null;){e=qe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,_=g.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:wo(e.type,v),_);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(E){cr(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,qe=n;break}qe=e.return}return g=BL,BL=!1,g}function sg(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&cM(e,t,s)}i=i.next}while(i!==r)}}function tw(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function uM(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function y5(n){var e=n.alternate;e!==null&&(n.alternate=null,y5(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[sa],delete e[Gg],delete e[YA],delete e[tJ],delete e[nJ])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function _5(n){return n.tag===5||n.tag===3||n.tag===4}function DL(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||_5(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function dM(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Lx));else if(r!==4&&(n=n.child,n!==null))for(dM(n,e,t),n=n.sibling;n!==null;)dM(n,e,t),n=n.sibling}function hM(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(hM(n,e,t),n=n.sibling;n!==null;)hM(n,e,t),n=n.sibling}var ri=null,So=!1;function Nl(n,e,t){for(t=t.child;t!==null;)x5(n,e,t),t=t.sibling}function x5(n,e,t){if(ca&&typeof ca.onCommitFiberUnmount=="function")try{ca.onCommitFiberUnmount(Jb,t)}catch{}switch(t.tag){case 5:Ei||Bh(t,e);case 6:var r=ri,i=So;ri=null,Nl(n,e,t),ri=r,So=i,ri!==null&&(So?(n=ri,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ri.removeChild(t.stateNode));break;case 18:ri!==null&&(So?(n=ri,t=t.stateNode,n.nodeType===8?vE(n.parentNode,t):n.nodeType===1&&vE(n,t),Bg(n)):vE(ri,t.stateNode));break;case 4:r=ri,i=So,ri=t.stateNode.containerInfo,So=!0,Nl(n,e,t),ri=r,So=i;break;case 0:case 11:case 14:case 15:if(!Ei&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&cM(t,e,o),i=i.next}while(i!==r)}Nl(n,e,t);break;case 1:if(!Ei&&(Bh(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){cr(t,e,a)}Nl(n,e,t);break;case 21:Nl(n,e,t);break;case 22:t.mode&1?(Ei=(r=Ei)||t.memoizedState!==null,Nl(n,e,t),Ei=r):Nl(n,e,t);break;default:Nl(n,e,t)}}function FL(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new yJ),e.forEach(function(r){var i=TJ.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function go(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ri=a.stateNode,So=!1;break e;case 3:ri=a.stateNode.containerInfo,So=!0;break e;case 4:ri=a.stateNode.containerInfo,So=!0;break e}a=a.return}if(ri===null)throw Error(Le(160));x5(s,o,i),ri=null,So=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){cr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)b5(e,n),e=e.sibling}function b5(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(go(e,n),Qo(n),r&4){try{sg(3,n,n.return),tw(3,n)}catch(v){cr(n,n.return,v)}try{sg(5,n,n.return)}catch(v){cr(n,n.return,v)}}break;case 1:go(e,n),Qo(n),r&512&&t!==null&&Bh(t,t.return);break;case 5:if(go(e,n),Qo(n),r&512&&t!==null&&Bh(t,t.return),n.flags&32){var i=n.stateNode;try{Ng(i,"")}catch(v){cr(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&H4(i,s),BA(a,o);var c=BA(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?J4(i,d):u==="dangerouslySetInnerHTML"?j4(i,d):u==="children"?Ng(i,d):iR(i,u,d,c)}switch(a){case"input":IA(i,s);break;case"textarea":V4(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Jh(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Jh(i,!!s.multiple,s.defaultValue,!0):Jh(i,!!s.multiple,s.multiple?[]:"",!1))}i[Gg]=s}catch(v){cr(n,n.return,v)}}break;case 6:if(go(e,n),Qo(n),r&4){if(n.stateNode===null)throw Error(Le(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){cr(n,n.return,v)}}break;case 3:if(go(e,n),Qo(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Bg(e.containerInfo)}catch(v){cr(n,n.return,v)}break;case 4:go(e,n),Qo(n);break;case 13:go(e,n),Qo(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(DR=vr())),r&4&&FL(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Ei=(c=Ei)||u,go(e,n),Ei=c):go(e,n),Qo(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(qe=n,u=n.child;u!==null;){for(d=qe=u;qe!==null;){switch(f=qe,m=f.child,f.tag){case 0:case 11:case 14:case 15:sg(4,f,f.return);break;case 1:Bh(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){cr(r,t,v)}}break;case 5:Bh(f,f.return);break;case 22:if(f.memoizedState!==null){UL(d);continue}}m!==null?(m.return=f,qe=m):UL(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$4("display",o))}catch(v){cr(n,n.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){cr(n,n.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:go(e,n),Qo(n),r&4&&FL(n);break;case 21:break;default:go(e,n),Qo(n)}}function Qo(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(_5(t)){var r=t;break e}t=t.return}throw Error(Le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ng(i,""),r.flags&=-33);var s=DL(n);hM(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=DL(n);dM(n,a,o);break;default:throw Error(Le(161))}}catch(l){cr(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function xJ(n,e,t){qe=n,w5(n)}function w5(n,e,t){for(var r=(n.mode&1)!==0;qe!==null;){var i=qe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Vy;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ei;a=Vy;var c=Ei;if(Vy=o,(Ei=l)&&!c)for(qe=i;qe!==null;)o=qe,l=o.child,o.tag===22&&o.memoizedState!==null?GL(i):l!==null?(l.return=o,qe=l):GL(i);for(;s!==null;)qe=s,w5(s),s=s.sibling;qe=i,Vy=a,Ei=c}zL(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,qe=s):zL(n)}}function zL(n){for(;qe!==null;){var e=qe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ei||tw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ei)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:wo(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&wL(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}wL(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Bg(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}Ei||e.flags&512&&uM(e)}catch(f){cr(e,e.return,f)}}if(e===n){qe=null;break}if(t=e.sibling,t!==null){t.return=e.return,qe=t;break}qe=e.return}}function UL(n){for(;qe!==null;){var e=qe;if(e===n){qe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,qe=t;break}qe=e.return}}function GL(n){for(;qe!==null;){var e=qe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{tw(4,e)}catch(l){cr(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){cr(e,i,l)}}var s=e.return;try{uM(e)}catch(l){cr(e,s,l)}break;case 5:var o=e.return;try{uM(e)}catch(l){cr(e,o,l)}}}catch(l){cr(e,e.return,l)}if(e===n){qe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,qe=a;break}qe=e.return}}var bJ=Math.ceil,$x=yl.ReactCurrentDispatcher,LR=yl.ReactCurrentOwner,no=yl.ReactCurrentBatchConfig,Zt=0,Jr=null,Ar=null,ai=0,ys=0,Dh=Gc(0),kr=0,Jg=null,od=0,nw=0,BR=0,og=null,Yi=null,DR=0,xf=1/0,Wa=null,Jx=!1,fM=null,dc=null,Wy=!1,Ql=null,Kx=0,ag=0,pM=null,ox=-1,ax=0;function Gi(){return Zt&6?vr():ox!==-1?ox:ox=vr()}function hc(n){return n.mode&1?Zt&2&&ai!==0?ai&-ai:iJ.transition!==null?(ax===0&&(ax=sU()),ax):(n=gn,n!==0||(n=window.event,n=n===void 0?16:hU(n.type)),n):1}function Io(n,e,t,r){if(50<ag)throw ag=0,pM=null,Error(Le(185));Dv(n,t,r),(!(Zt&2)||n!==Jr)&&(n===Jr&&(!(Zt&2)&&(nw|=t),kr===4&&Yl(n,ai)),rs(n,r),t===1&&Zt===0&&!(e.mode&1)&&(xf=vr()+500,Qb&&Hc()))}function rs(n,e){var t=n.callbackNode;i$(n,e);var r=Ix(n,n===Jr?ai:0);if(r===0)t!==null&&YO(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&YO(t),e===1)n.tag===0?rJ(HL.bind(null,n)):IU(HL.bind(null,n)),Z$(function(){!(Zt&6)&&Hc()}),t=null;else{switch(oU(r)){case 1:t=cR;break;case 4:t=rU;break;case 16:t=Rx;break;case 536870912:t=iU;break;default:t=Rx}t=R5(t,S5.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function S5(n,e){if(ox=-1,ax=0,Zt&6)throw Error(Le(327));var t=n.callbackNode;if(Qh()&&n.callbackNode!==t)return null;var r=Ix(n,n===Jr?ai:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Xx(n,r);else{e=r;var i=Zt;Zt|=2;var s=C5();(Jr!==n||ai!==e)&&(Wa=null,xf=vr()+500,ju(n,e));do try{EJ();break}catch(a){E5(n,a)}while(1);wR(),$x.current=s,Zt=i,Ar!==null?e=0:(Jr=null,ai=0,e=kr)}if(e!==0){if(e===2&&(i=GA(n),i!==0&&(r=i,e=mM(n,i))),e===1)throw t=Jg,ju(n,0),Yl(n,r),rs(n,vr()),t;if(e===6)Yl(n,r);else{if(i=n.current.alternate,!(r&30)&&!wJ(i)&&(e=Xx(n,r),e===2&&(s=GA(n),s!==0&&(r=s,e=mM(n,s))),e===1))throw t=Jg,ju(n,0),Yl(n,r),rs(n,vr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Le(345));case 2:xu(n,Yi,Wa);break;case 3:if(Yl(n,r),(r&130023424)===r&&(e=DR+500-vr(),10<e)){if(Ix(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Gi(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=XA(xu.bind(null,n,Yi,Wa),e);break}xu(n,Yi,Wa);break;case 4:if(Yl(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Ro(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=vr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bJ(r/1960))-r,10<r){n.timeoutHandle=XA(xu.bind(null,n,Yi,Wa),r);break}xu(n,Yi,Wa);break;case 5:xu(n,Yi,Wa);break;default:throw Error(Le(329))}}}return rs(n,vr()),n.callbackNode===t?S5.bind(null,n):null}function mM(n,e){var t=og;return n.current.memoizedState.isDehydrated&&(ju(n,e).flags|=256),n=Xx(n,e),n!==2&&(e=Yi,Yi=t,e!==null&&gM(e)),n}function gM(n){Yi===null?Yi=n:Yi.push.apply(Yi,n)}function wJ(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Oo(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yl(n,e){for(e&=~BR,e&=~nw,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ro(e),r=1<<t;n[t]=-1,e&=~r}}function HL(n){if(Zt&6)throw Error(Le(327));Qh();var e=Ix(n,0);if(!(e&1))return rs(n,vr()),null;var t=Xx(n,e);if(n.tag!==0&&t===2){var r=GA(n);r!==0&&(e=r,t=mM(n,r))}if(t===1)throw t=Jg,ju(n,0),Yl(n,e),rs(n,vr()),t;if(t===6)throw Error(Le(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,xu(n,Yi,Wa),rs(n,vr()),null}function FR(n,e){var t=Zt;Zt|=1;try{return n(e)}finally{Zt=t,Zt===0&&(xf=vr()+500,Qb&&Hc())}}function ad(n){Ql!==null&&Ql.tag===0&&!(Zt&6)&&Qh();var e=Zt;Zt|=1;var t=no.transition,r=gn;try{if(no.transition=null,gn=1,n)return n()}finally{gn=r,no.transition=t,Zt=e,!(Zt&6)&&Hc()}}function zR(){ys=Dh.current,Dn(Dh)}function ju(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Q$(t)),Ar!==null)for(t=Ar.return;t!==null;){var r=t;switch(_R(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bx();break;case 3:yf(),Dn(ts),Dn(Pi),TR();break;case 5:MR(r);break;case 4:yf();break;case 13:Dn(qn);break;case 19:Dn(qn);break;case 10:SR(r.type._context);break;case 22:case 23:zR()}t=t.return}if(Jr=n,Ar=n=fc(n.current,null),ai=ys=e,kr=0,Jg=null,BR=nw=od=0,Yi=og=null,Lu!==null){for(e=0;e<Lu.length;e++)if(t=Lu[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Lu=null}return n}function E5(n,e){do{var t=Ar;try{if(wR(),rx.current=jx,Wx){for(var r=er.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wx=!1}if(sd=0,Vr=Rr=er=null,ig=!1,Wg=0,LR.current=null,t===null||t.return===null){kr=1,Jg=e,Ar=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=ai,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=PL(o);if(m!==null){m.flags&=-257,RL(m,o,a,s,e),m.mode&1&&TL(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){TL(s,c,e),UR();break e}l=Error(Le(426))}}else if(Wn&&a.mode&1){var _=PL(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),RL(_,o,a,s,e),xR(_f(l,a));break e}}s=l=_f(l,a),kr!==4&&(kr=2),og===null?og=[s]:og.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=a5(s,l,e);bL(s,x);break e;case 1:a=l;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(dc===null||!dc.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=l5(s,a,e);bL(s,E);break e}}s=s.return}while(s!==null)}M5(t)}catch(A){e=A,Ar===t&&t!==null&&(Ar=t=t.return);continue}break}while(1)}function C5(){var n=$x.current;return $x.current=jx,n===null?jx:n}function UR(){(kr===0||kr===3||kr===2)&&(kr=4),Jr===null||!(od&268435455)&&!(nw&268435455)||Yl(Jr,ai)}function Xx(n,e){var t=Zt;Zt|=2;var r=C5();(Jr!==n||ai!==e)&&(Wa=null,ju(n,e));do try{SJ();break}catch(i){E5(n,i)}while(1);if(wR(),Zt=t,$x.current=r,Ar!==null)throw Error(Le(261));return Jr=null,ai=0,kr}function SJ(){for(;Ar!==null;)A5(Ar)}function EJ(){for(;Ar!==null&&!X7();)A5(Ar)}function A5(n){var e=P5(n.alternate,n,ys);n.memoizedProps=n.pendingProps,e===null?M5(n):Ar=e,LR.current=null}function M5(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=vJ(t,e),t!==null){t.flags&=32767,Ar=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{kr=6,Ar=null;return}}else if(t=gJ(t,e,ys),t!==null){Ar=t;return}if(e=e.sibling,e!==null){Ar=e;return}Ar=e=n}while(e!==null);kr===0&&(kr=5)}function xu(n,e,t){var r=gn,i=no.transition;try{no.transition=null,gn=1,CJ(n,e,t,r)}finally{no.transition=i,gn=r}return null}function CJ(n,e,t,r){do Qh();while(Ql!==null);if(Zt&6)throw Error(Le(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Le(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(s$(n,s),n===Jr&&(Ar=Jr=null,ai=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Wy||(Wy=!0,R5(Rx,function(){return Qh(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=no.transition,no.transition=null;var o=gn;gn=1;var a=Zt;Zt|=4,LR.current=null,_J(n,t),b5(t,n),j$(JA),Nx=!!$A,JA=$A=null,n.current=t,xJ(t),Y7(),Zt=a,gn=o,no.transition=s}else n.current=t;if(Wy&&(Wy=!1,Ql=n,Kx=i),s=n.pendingLanes,s===0&&(dc=null),Z7(t.stateNode),rs(n,vr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jx)throw Jx=!1,n=fM,fM=null,n;return Kx&1&&n.tag!==0&&Qh(),s=n.pendingLanes,s&1?n===pM?ag++:(ag=0,pM=n):ag=0,Hc(),null}function Qh(){if(Ql!==null){var n=oU(Kx),e=no.transition,t=gn;try{if(no.transition=null,gn=16>n?16:n,Ql===null)var r=!1;else{if(n=Ql,Ql=null,Kx=0,Zt&6)throw Error(Le(331));var i=Zt;for(Zt|=4,qe=n.current;qe!==null;){var s=qe,o=s.child;if(qe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(qe=c;qe!==null;){var u=qe;switch(u.tag){case 0:case 11:case 15:sg(8,u,s)}var d=u.child;if(d!==null)d.return=u,qe=d;else for(;qe!==null;){u=qe;var f=u.sibling,m=u.return;if(y5(u),u===c){qe=null;break}if(f!==null){f.return=m,qe=f;break}qe=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}qe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,qe=o;else e:for(;qe!==null;){if(s=qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sg(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,qe=x;break e}qe=s.return}}var w=n.current;for(qe=w;qe!==null;){o=qe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,qe=S;else e:for(o=w;qe!==null;){if(a=qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:tw(9,a)}}catch(A){cr(a,a.return,A)}if(a===o){qe=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,qe=E;break e}qe=a.return}}if(Zt=i,Hc(),ca&&typeof ca.onPostCommitFiberRoot=="function")try{ca.onPostCommitFiberRoot(Jb,n)}catch{}r=!0}return r}finally{gn=t,no.transition=e}}return!1}function VL(n,e,t){e=_f(t,e),e=a5(n,e,1),n=uc(n,e,1),e=Gi(),n!==null&&(Dv(n,1,e),rs(n,e))}function cr(n,e,t){if(n.tag===3)VL(n,n,t);else for(;e!==null;){if(e.tag===3){VL(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dc===null||!dc.has(r))){n=_f(t,n),n=l5(e,n,1),e=uc(e,n,1),n=Gi(),e!==null&&(Dv(e,1,n),rs(e,n));break}}e=e.return}}function AJ(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Gi(),n.pingedLanes|=n.suspendedLanes&t,Jr===n&&(ai&t)===t&&(kr===4||kr===3&&(ai&130023424)===ai&&500>vr()-DR?ju(n,0):BR|=t),rs(n,e)}function T5(n,e){e===0&&(n.mode&1?(e=Oy,Oy<<=1,!(Oy&130023424)&&(Oy=4194304)):e=1);var t=Gi();n=ul(n,e),n!==null&&(Dv(n,e,t),rs(n,t))}function MJ(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),T5(n,t)}function TJ(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Le(314))}r!==null&&r.delete(e),T5(n,t)}var P5;P5=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ts.current)Zi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Zi=!1,mJ(n,e,t);Zi=!!(n.flags&131072)}else Zi=!1,Wn&&e.flags&1048576&&NU(e,zx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sx(n,e),n=e.pendingProps;var i=mf(e,Pi.current);qh(e,t),i=RR(null,e,r,n,i,t);var s=IR();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ns(r)?(s=!0,Dx(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,CR(e),i.updater=Zb,e.stateNode=i,i._reactInternals=e,nM(e,r,n,t),e=sM(null,e,r,!0,s,t)):(e.tag=0,Wn&&s&&yR(e),Fi(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(sx(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=RJ(r),n=wo(r,n),i){case 0:e=iM(null,e,r,n,t);break e;case 1:e=kL(null,e,r,n,t);break e;case 11:e=IL(null,e,r,n,t);break e;case 14:e=NL(null,e,r,wo(r.type,n),t);break e}throw Error(Le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wo(r,i),iM(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wo(r,i),kL(n,e,r,i,t);case 3:e:{if(h5(e),n===null)throw Error(Le(387));r=e.pendingProps,s=e.memoizedState,i=s.element,BU(n,e),Hx(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=_f(Error(Le(423)),e),e=OL(n,e,r,t,i);break e}else if(r!==i){i=_f(Error(Le(424)),e),e=OL(n,e,r,t,i);break e}else for(bs=cc(e.stateNode.containerInfo.firstChild),Es=e,Wn=!0,Co=null,t=UU(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(gf(),r===i){e=dl(n,e,t);break e}Fi(n,e,r,t)}e=e.child}return e;case 5:return GU(e),n===null&&ZA(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,KA(r,i)?o=null:s!==null&&KA(r,s)&&(e.flags|=32),d5(n,e),Fi(n,e,o,t),e.child;case 6:return n===null&&ZA(e),null;case 13:return f5(n,e,t);case 4:return AR(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=vf(e,null,r,t):Fi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wo(r,i),IL(n,e,r,i,t);case 7:return Fi(n,e,e.pendingProps,t),e.child;case 8:return Fi(n,e,e.pendingProps.children,t),e.child;case 12:return Fi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pn(Ux,r._currentValue),r._currentValue=o,s!==null)if(Oo(s.value,o)){if(s.children===i.children&&!ts.current){e=dl(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=tl(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),eM(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Le(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),eM(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Fi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,qh(e,t),i=io(i),r=r(i),e.flags|=1,Fi(n,e,r,t),e.child;case 14:return r=e.type,i=wo(r,e.pendingProps),i=wo(r.type,i),NL(n,e,r,i,t);case 15:return c5(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wo(r,i),sx(n,e),e.tag=1,ns(r)?(n=!0,Dx(e)):n=!1,qh(e,t),FU(e,r,i),nM(e,r,i,t),sM(null,e,r,!0,n,t);case 19:return p5(n,e,t);case 22:return u5(n,e,t)}throw Error(Le(156,e.tag))};function R5(n,e){return nU(n,e)}function PJ(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qs(n,e,t,r){return new PJ(n,e,t,r)}function GR(n){return n=n.prototype,!(!n||!n.isReactComponent)}function RJ(n){if(typeof n=="function")return GR(n)?1:0;if(n!=null){if(n=n.$$typeof,n===oR)return 11;if(n===aR)return 14}return 2}function fc(n,e){var t=n.alternate;return t===null?(t=Qs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function lx(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")GR(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Mh:return $u(t.children,i,s,e);case sR:o=8,i|=8;break;case AA:return n=Qs(12,t,e,i|2),n.elementType=AA,n.lanes=s,n;case MA:return n=Qs(13,t,e,i),n.elementType=MA,n.lanes=s,n;case TA:return n=Qs(19,t,e,i),n.elementType=TA,n.lanes=s,n;case z4:return rw(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D4:o=10;break e;case F4:o=9;break e;case oR:o=11;break e;case aR:o=14;break e;case jl:o=16,r=null;break e}throw Error(Le(130,n==null?n:typeof n,""))}return e=Qs(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function $u(n,e,t,r){return n=Qs(7,n,r,e),n.lanes=t,n}function rw(n,e,t,r){return n=Qs(22,n,r,e),n.elementType=z4,n.lanes=t,n.stateNode={isHidden:!1},n}function CE(n,e,t){return n=Qs(6,n,null,e),n.lanes=t,n}function AE(n,e,t){return e=Qs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function IJ(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oE(0),this.expirationTimes=oE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function HR(n,e,t,r,i,s,o,a,l){return n=new IJ(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qs(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},CR(s),n}function NJ(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ah,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function I5(n){if(!n)return Ec;n=n._reactInternals;e:{if(wd(n)!==n||n.tag!==1)throw Error(Le(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ns(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Le(171))}if(n.tag===1){var t=n.type;if(ns(t))return RU(n,t,e)}return e}function N5(n,e,t,r,i,s,o,a,l){return n=HR(t,r,!0,n,i,s,o,a,l),n.context=I5(null),t=n.current,r=Gi(),i=hc(t),s=tl(r,i),s.callback=e??null,uc(t,s,i),n.current.lanes=i,Dv(n,i,r),rs(n,r),n}function iw(n,e,t,r){var i=e.current,s=Gi(),o=hc(i);return t=I5(t),e.context===null?e.context=t:e.pendingContext=t,e=tl(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=uc(i,e,o),n!==null&&(Io(n,i,o,s),nx(n,i,o)),o}function Yx(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function WL(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function VR(n,e){WL(n,e),(n=n.alternate)&&WL(n,e)}function kJ(){return null}var k5=typeof reportError=="function"?reportError:function(n){console.error(n)};function WR(n){this._internalRoot=n}sw.prototype.render=WR.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Le(409));iw(n,e,null,null)};sw.prototype.unmount=WR.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ad(function(){iw(null,n,null,null)}),e[cl]=null}};function sw(n){this._internalRoot=n}sw.prototype.unstable_scheduleHydration=function(n){if(n){var e=cU();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Xl.length&&e!==0&&e<Xl[t].priority;t++);Xl.splice(t,0,n),t===0&&dU(n)}};function jR(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ow(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function jL(){}function OJ(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Yx(o);s.call(c)}}var o=N5(e,r,n,0,null,!1,!1,"",jL);return n._reactRootContainer=o,n[cl]=o.current,zg(n.nodeType===8?n.parentNode:n),ad(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Yx(l);a.call(c)}}var l=HR(n,0,!1,null,null,!1,!1,"",jL);return n._reactRootContainer=l,n[cl]=l.current,zg(n.nodeType===8?n.parentNode:n),ad(function(){iw(e,l,t,r)}),l}function aw(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Yx(o);a.call(l)}}iw(e,o,n,i)}else o=OJ(t,e,n,i,r);return Yx(o)}aU=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Gm(e.pendingLanes);t!==0&&(uR(e,t|1),rs(e,vr()),!(Zt&6)&&(xf=vr()+500,Hc()))}break;case 13:ad(function(){var r=ul(n,1);if(r!==null){var i=Gi();Io(r,n,1,i)}}),VR(n,1)}};dR=function(n){if(n.tag===13){var e=ul(n,134217728);if(e!==null){var t=Gi();Io(e,n,134217728,t)}VR(n,134217728)}};lU=function(n){if(n.tag===13){var e=hc(n),t=ul(n,e);if(t!==null){var r=Gi();Io(t,n,e,r)}VR(n,e)}};cU=function(){return gn};uU=function(n,e){var t=gn;try{return gn=n,e()}finally{gn=t}};FA=function(n,e,t){switch(e){case"input":if(IA(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=qb(r);if(!i)throw Error(Le(90));G4(r),IA(r,i)}}}break;case"textarea":V4(n,t);break;case"select":e=t.value,e!=null&&Jh(n,!!t.multiple,e,!1)}};Y4=FR;q4=ad;var LJ={usingClientEntryPoint:!1,Events:[zv,Ih,qb,K4,X4,FR]},tm={findFiberByHostInstance:Ou,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},BJ={bundleType:tm.bundleType,version:tm.version,rendererPackageName:tm.rendererPackageName,rendererConfig:tm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=eU(n),n===null?null:n.stateNode},findFiberByHostInstance:tm.findFiberByHostInstance||kJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jy.isDisabled&&jy.supportsFiber)try{Jb=jy.inject(BJ),ca=jy}catch{}}Ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LJ;Ns.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jR(e))throw Error(Le(200));return NJ(n,e,null,t)};Ns.createRoot=function(n,e){if(!jR(n))throw Error(Le(299));var t=!1,r="",i=k5;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=HR(n,1,!1,null,null,t,!1,r,i),n[cl]=e.current,zg(n.nodeType===8?n.parentNode:n),new WR(e)};Ns.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Le(188)):(n=Object.keys(n).join(","),Error(Le(268,n)));return n=eU(e),n=n===null?null:n.stateNode,n};Ns.flushSync=function(n){return ad(n)};Ns.hydrate=function(n,e,t){if(!ow(e))throw Error(Le(200));return aw(null,n,e,!0,t)};Ns.hydrateRoot=function(n,e,t){if(!jR(n))throw Error(Le(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=k5;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=N5(e,null,n,1,t??null,i,!1,s,o),n[cl]=e.current,zg(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new sw(e)};Ns.render=function(n,e,t){if(!ow(e))throw Error(Le(200));return aw(null,n,e,!1,t)};Ns.unmountComponentAtNode=function(n){if(!ow(n))throw Error(Le(40));return n._reactRootContainer?(ad(function(){aw(null,null,n,!1,function(){n._reactRootContainer=null,n[cl]=null})}),!0):!1};Ns.unstable_batchedUpdates=FR;Ns.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!ow(t))throw Error(Le(200));if(n==null||n._reactInternals===void 0)throw Error(Le(38));return aw(n,e,t,!1,r)};Ns.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=Ns})(k7);const ws=qP(ff);var $L=ff;SA.createRoot=$L.createRoot,SA.hydrateRoot=$L.hydrateRoot;/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kg(){return Kg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Kg.apply(this,arguments)}var Zl;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Zl||(Zl={}));const JL="popstate";function DJ(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return vM("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:qx(i)}return zJ(e,t,null,n)}function Lr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function FJ(){return Math.random().toString(36).substr(2,8)}function KL(n,e){return{usr:n.state,key:n.key,idx:e}}function vM(n,e,t,r){return t===void 0&&(t=null),Kg({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?np(e):e,{state:t,key:e&&e.key||r||FJ()})}function qx(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function np(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function zJ(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Zl.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Kg({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Zl.Pop;let _=u(),x=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:x})}function f(_,x){a=Zl.Push;let w=vM(v.location,_,x);t&&t(w,_),c=u()+1;let S=KL(w,c),E=v.createHref(w);try{o.pushState(S,"",E)}catch{i.location.assign(E)}s&&l&&l({action:a,location:v.location,delta:1})}function m(_,x){a=Zl.Replace;let w=vM(v.location,_,x);t&&t(w,_),c=u();let S=KL(w,c),E=v.createHref(w);o.replaceState(S,"",E),s&&l&&l({action:a,location:v.location,delta:0})}function g(_){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof _=="string"?_:qx(_);return Lr(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let v={get action(){return a},get location(){return n(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(JL,d),l=_,()=>{i.removeEventListener(JL,d),l=null}},createHref(_){return e(i,_)},createURL:g,encodeLocation(_){let x=g(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(_){return o.go(_)}};return v}var XL;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(XL||(XL={}));function UJ(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?np(e):e,i=B5(r.pathname||"/",t);if(i==null)return null;let s=O5(n);GJ(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=YJ(s[a],ZJ(i));return o}function O5(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Lr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=pc([r,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(Lr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),O5(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:KJ(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of L5(s.path))i(s,o,l)}),e}function L5(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=L5(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function GJ(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:XJ(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const HJ=/^:\w+$/,VJ=3,WJ=2,jJ=1,$J=10,JJ=-2,YL=n=>n==="*";function KJ(n,e){let t=n.split("/"),r=t.length;return t.some(YL)&&(r+=JJ),e&&(r+=WJ),t.filter(i=>!YL(i)).reduce((i,s)=>i+(HJ.test(s)?VJ:s===""?jJ:$J),r)}function XJ(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function YJ(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=qJ({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:pc([i,u.pathname]),pathnameBase:rK(pc([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=pc([i,u.pathnameBase]))}return s}function qJ(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=QJ(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return c[u]=eK(a[d]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:n}}function QJ(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),$R(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZJ(n){try{return decodeURI(n)}catch(e){return $R(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function eK(n,e){try{return decodeURIComponent(n)}catch(t){return $R(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function B5(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function $R(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tK(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?np(n):n;return{pathname:t?t.startsWith("/")?t:nK(t,e):e,search:iK(r),hash:sK(i)}}function nK(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function ME(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D5(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function F5(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=np(n):(i=Kg({},n),Lr(!i.pathname||!i.pathname.includes("?"),ME("?","pathname","search",i)),Lr(!i.pathname||!i.pathname.includes("#"),ME("#","pathname","hash",i)),Lr(!i.search||!i.search.includes("#"),ME("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=t;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=tK(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const pc=n=>n.join("/").replace(/\/\/+/g,"/"),rK=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),iK=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sK=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function oK(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const aK=["post","put","patch","delete"];[...aK];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yM(){return yM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yM.apply(this,arguments)}function lK(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const cK=typeof Object.is=="function"?Object.is:lK,{useState:uK,useEffect:dK,useLayoutEffect:hK,useDebugValue:fK}=hf;function pK(n,e,t){const r=e(),[{inst:i},s]=uK({inst:{value:r,getSnapshot:e}});return hK(()=>{i.value=r,i.getSnapshot=e,TE(i)&&s({inst:i})},[n,r,e]),dK(()=>(TE(i)&&s({inst:i}),n(()=>{TE(i)&&s({inst:i})})),[n]),fK(r),r}function TE(n){const e=n.getSnapshot,t=n.value;try{const r=e();return!cK(t,r)}catch{return!0}}function mK(n,e,t){return e()}const gK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vK=!gK,yK=vK?mK:pK;"useSyncExternalStore"in hf&&(n=>n.useSyncExternalStore)(hf);const z5=k.createContext(null),U5=k.createContext(null),lw=k.createContext(null),cw=k.createContext(null),rp=k.createContext({outlet:null,matches:[]}),G5=k.createContext(null);function _K(n,e){let{relative:t}=e===void 0?{}:e;Gv()||Lr(!1);let{basename:r,navigator:i}=k.useContext(lw),{hash:s,pathname:o,search:a}=H5(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:pc([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Gv(){return k.useContext(cw)!=null}function uw(){return Gv()||Lr(!1),k.useContext(cw).location}function xK(){Gv()||Lr(!1);let{basename:n,navigator:e}=k.useContext(lw),{matches:t}=k.useContext(rp),{pathname:r}=uw(),i=JSON.stringify(D5(t).map(a=>a.pathnameBase)),s=k.useRef(!1);return k.useEffect(()=>{s.current=!0}),k.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let c=F5(a,JSON.parse(i),r,l.relative==="path");n!=="/"&&(c.pathname=c.pathname==="/"?n:pc([n,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[n,e,i,r])}function H5(n,e){let{relative:t}=e===void 0?{}:e,{matches:r}=k.useContext(rp),{pathname:i}=uw(),s=JSON.stringify(D5(r).map(o=>o.pathnameBase));return k.useMemo(()=>F5(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function bK(n,e){Gv()||Lr(!1);let{navigator:t}=k.useContext(lw),r=k.useContext(U5),{matches:i}=k.useContext(rp),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=uw(),c;if(e){var u;let v=typeof e=="string"?np(e):e;a==="/"||(u=v.pathname)!=null&&u.startsWith(a)||Lr(!1),c=v}else c=l;let d=c.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",m=UJ(n,{pathname:f}),g=CK(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:pc([a,t.encodeLocation?t.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:pc([a,t.encodeLocation?t.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r||void 0);return e&&g?k.createElement(cw.Provider,{value:{location:yM({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Zl.Pop}},g):g}function wK(){let n=PK(),e=oK(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:i},t):null,s)}class SK extends k.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?k.createElement(rp.Provider,{value:this.props.routeContext},k.createElement(G5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EK(n){let{routeContext:e,match:t,children:r}=n,i=k.useContext(z5);return i&&i.static&&i.staticContext&&t.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(rp.Provider,{value:e},r)}function CK(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let r=n,i=t==null?void 0:t.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Lr(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,c=t?o.route.errorElement||k.createElement(wK,null):null,u=e.concat(r.slice(0,a+1)),d=()=>k.createElement(EK,{match:o,routeContext:{outlet:s,matches:u}},l?c:o.route.element!==void 0?o.route.element:s);return t&&(o.route.errorElement||a===0)?k.createElement(SK,{location:t.location,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u}}):d()},null)}var qL;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator"})(qL||(qL={}));var Qx;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(Qx||(Qx={}));function AK(n){let e=k.useContext(U5);return e||Lr(!1),e}function MK(n){let e=k.useContext(rp);return e||Lr(!1),e}function TK(n){let e=MK(),t=e.matches[e.matches.length-1];return t.route.id||Lr(!1),t.route.id}function PK(){var n;let e=k.useContext(G5),t=AK(Qx.UseRouteError),r=TK(Qx.UseRouteError);return e||((n=t.errors)==null?void 0:n[r])}function vs(n){Lr(!1)}function RK(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Zl.Pop,navigator:s,static:o=!1}=n;Gv()&&Lr(!1);let a=e.replace(/^\/*/,"/"),l=k.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=np(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:m="default"}=r,g=k.useMemo(()=>{let v=B5(c,a);return v==null?null:{pathname:v,search:u,hash:d,state:f,key:m}},[a,c,u,d,f,m]);return g==null?null:k.createElement(lw.Provider,{value:l},k.createElement(cw.Provider,{children:t,value:{location:g,navigationType:i}}))}function IK(n){let{children:e,location:t}=n,r=k.useContext(z5),i=r&&!e?r.router.routes:_M(e);return bK(i,t)}var QL;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(QL||(QL={}));new Promise(()=>{});function _M(n,e){e===void 0&&(e=[]);let t=[];return k.Children.forEach(n,(r,i)=>{if(!k.isValidElement(r))return;if(r.type===k.Fragment){t.push.apply(t,_M(r.props.children,e));return}r.type!==vs&&Lr(!1),!r.props.index||!r.props.children||Lr(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=_M(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xM(){return xM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xM.apply(this,arguments)}function NK(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function kK(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function OK(n,e){return n.button===0&&(!e||e==="_self")&&!kK(n)}const LK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function BK(n){let{basename:e,children:t,window:r}=n,i=k.useRef();i.current==null&&(i.current=DJ({window:r,v5Compat:!0}));let s=i.current,[o,a]=k.useState({action:s.action,location:s.location});return k.useLayoutEffect(()=>s.listen(a),[s]),k.createElement(RK,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}const DK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jn=k.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,d=NK(e,LK),f,m=!1;if(DK&&typeof c=="string"&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(c)){f=c;let x=new URL(window.location.href),w=c.startsWith("//")?new URL(x.protocol+c):new URL(c);w.origin===x.origin?c=w.pathname+w.search+w.hash:m=!0}let g=_K(c,{relative:i}),v=FK(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i});function _(x){r&&r(x),x.defaultPrevented||v(x)}return k.createElement("a",xM({},d,{href:f||g,onClick:m||s?r:_,ref:t,target:l}))});var ZL;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(ZL||(ZL={}));var eB;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(eB||(eB={}));function FK(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=xK(),l=uw(),c=H5(n,{relative:o});return k.useCallback(u=>{if(OK(u,t)){u.preventDefault();let d=r!==void 0?r:qx(l)===qx(c);a(n,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,t,n,s,o])}var JR={},ya={},zK={get exports(){return ya},set exports(n){ya=n}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(zK);var PE={};function Zh(){return Zh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Zh.apply(this,arguments)}function Ru(n){return n!==null&&typeof n=="object"&&n.constructor===Object}function V5(n){if(!Ru(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=V5(n[t])}),e}function nl(n,e,t={clone:!0}){const r=t.clone?Zh({},n):n;return Ru(n)&&Ru(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Ru(e[i])&&i in n&&Ru(n[i])?r[i]=nl(n[i],e[i],t):t.clone?r[i]=Ru(e[i])?V5(e[i]):e[i]:r[i]=e[i])}),r}var lg={},UK={get exports(){return lg},set exports(n){lg=n}},GK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HK=GK,VK=HK;function W5(){}function j5(){}j5.resetWarningCache=W5;var WK=function(){function n(r,i,s,o,a,l){if(l!==VK){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:j5,resetWarningCache:W5};return t.PropTypes=t,t};UK.exports=WK();function bf(n){let e="https://mui.com/production-error/?code="+n;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+n+"; visit "+e+" for the full message."}function pr(n){if(typeof n!="string")throw new Error(bf(7));return n.charAt(0).toUpperCase()+n.slice(1)}function jK(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function Zx(n,e=166){let t;function r(...i){const s=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(s,e)}return r.clear=()=>{clearTimeout(t)},r}function $K(n,e){return()=>null}function JK(n,e){return k.isValidElement(n)&&e.indexOf(n.type.muiName)!==-1}function Xg(n){return n&&n.ownerDocument||document}function KR(n){return Xg(n).defaultView||window}function KK(n,e){return()=>null}function eb(n,e){typeof n=="function"?n(e):n&&(n.current=e)}const XK=typeof window<"u"?k.useLayoutEffect:k.useEffect,wf=XK;let tB=0;function YK(n){const[e,t]=k.useState(n),r=n||e;return k.useEffect(()=>{e==null&&(tB+=1,t(`mui-${tB}`))},[e]),r}const nB=hf["useId"];function $5(n){if(nB!==void 0){const e=nB();return n??e}return YK(n)}function qK(n,e,t,r,i){return null}function XR({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=k.useRef(n!==void 0),[s,o]=k.useState(e),a=i?n:s,l=k.useCallback(c=>{i||o(c)},[]);return[a,l]}function Ya(n){const e=k.useRef(n);return wf(()=>{e.current=n}),k.useCallback((...t)=>(0,e.current)(...t),[])}function _a(...n){return k.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{eb(t,e)})},n)}let dw=!0,bM=!1,rB;const QK={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ZK(n){const{type:e,tagName:t}=n;return!!(t==="INPUT"&&QK[e]&&!n.readOnly||t==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function eX(n){n.metaKey||n.altKey||n.ctrlKey||(dw=!0)}function RE(){dw=!1}function tX(){this.visibilityState==="hidden"&&bM&&(dw=!0)}function nX(n){n.addEventListener("keydown",eX,!0),n.addEventListener("mousedown",RE,!0),n.addEventListener("pointerdown",RE,!0),n.addEventListener("touchstart",RE,!0),n.addEventListener("visibilitychange",tX,!0)}function rX(n){const{target:e}=n;try{return e.matches(":focus-visible")}catch{}return dw||ZK(e)}function YR(){const n=k.useCallback(i=>{i!=null&&nX(i.ownerDocument)},[]),e=k.useRef(!1);function t(){return e.current?(bM=!0,window.clearTimeout(rB),rB=window.setTimeout(()=>{bM=!1},100),e.current=!1,!0):!1}function r(i){return rX(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:t,ref:n}}let $d;function J5(){if($d)return $d;const n=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",n.appendChild(e),n.dir="rtl",n.style.fontSize="14px",n.style.width="4px",n.style.height="1px",n.style.position="absolute",n.style.top="-1000px",n.style.overflow="scroll",document.body.appendChild(n),$d="reverse",n.scrollLeft>0?$d="default":(n.scrollLeft=1,n.scrollLeft===0&&($d="negative")),document.body.removeChild(n),$d}function iB(n,e){const t=n.scrollLeft;if(e!=="rtl")return t;switch(J5()){case"negative":return n.scrollWidth-n.clientWidth+t;case"reverse":return n.scrollWidth-n.clientWidth-t;default:return t}}function K5(n,e){const t=Zh({},e);return Object.keys(n).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Zh({},n[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=n[r]||{},s=e[r];t[r]={},!s||!Object.keys(s)?t[r]=i:!i||!Object.keys(i)?t[r]=s:(t[r]=Zh({},s),Object.keys(i).forEach(o=>{t[r][o]=K5(i[o],s[o])}))}else t[r]===void 0&&(t[r]=n[r])}),t}function ui(n,e,t){const r={};return Object.keys(n).forEach(i=>{r[i]=n[i].reduce((s,o)=>(o&&(s.push(e(o)),t&&t[o]&&s.push(t[o])),s),[]).join(" ")}),r}const sB=n=>n,iX=()=>{let n=sB;return{configure(e){n=e},generate(e){return n(e)},reset(){n=sB}}},sX=iX(),qR=sX,oX={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Xr(n,e,t="Mui"){const r=oX[e];return r?`${t}-${r}`:`${qR.generate(n)}-${e}`}function Yr(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Xr(n,i,t)}),r}function Ce(){return Ce=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ce.apply(this,arguments)}function Kn(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function X5(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=X5(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Dt(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=X5(n))&&(r&&(r+=" "),r+=e);return r}function Ai(){return Ai=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ai.apply(this,arguments)}function aX(n){return typeof n=="string"}function Vm(n,e,t){return n===void 0||aX(n)?e:Ai({},e,{ownerState:Ai({},e.ownerState,t)})}function lX(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function cX(n,e){return typeof n=="function"?n(e):n}function QR(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function oB(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function uX(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:s}=n;if(!e){const m=Dt(i==null?void 0:i.className,r==null?void 0:r.className,s,t==null?void 0:t.className),g=Ai({},t==null?void 0:t.style,i==null?void 0:i.style,r==null?void 0:r.style),v=Ai({},t,i,r);return m.length>0&&(v.className=m),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:void 0}}const o=lX(Ai({},i,r)),a=oB(r),l=oB(i),c=e(o),u=Dt(c==null?void 0:c.className,t==null?void 0:t.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=Ai({},c==null?void 0:c.style,t==null?void 0:t.style,i==null?void 0:i.style,r==null?void 0:r.style),f=Ai({},c,t,l,a);return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:c.ref}}const dX=["elementType","externalSlotProps","ownerState"];function hX(n){var e;const{elementType:t,externalSlotProps:r,ownerState:i}=n,s=QR(n,dX),o=cX(r,i),{props:a,internalRef:l}=uX(Ai({},s,{externalSlotProps:o})),c=_a(l,o==null?void 0:o.ref,(e=n.additionalProps)==null?void 0:e.ref);return Vm(t,Ai({},a,{ref:c}),i)}var is="top",oo="bottom",ao="right",ss="left",ZR="auto",Hv=[is,oo,ao,ss],Sf="start",Yg="end",fX="clippingParents",Y5="viewport",nm="popper",pX="reference",aB=Hv.reduce(function(n,e){return n.concat([e+"-"+Sf,e+"-"+Yg])},[]),q5=[].concat(Hv,[ZR]).reduce(function(n,e){return n.concat([e,e+"-"+Sf,e+"-"+Yg])},[]),mX="beforeRead",gX="read",vX="afterRead",yX="beforeMain",_X="main",xX="afterMain",bX="beforeWrite",wX="write",SX="afterWrite",EX=[mX,gX,vX,yX,_X,xX,bX,wX,SX];function xa(n){return n?(n.nodeName||"").toLowerCase():null}function lo(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ld(n){var e=lo(n).Element;return n instanceof e||n instanceof Element}function ro(n){var e=lo(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function eI(n){if(typeof ShadowRoot>"u")return!1;var e=lo(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function CX(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!ro(s)||!xa(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function AX(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!ro(i)||!xa(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const MX={name:"applyStyles",enabled:!0,phase:"write",fn:CX,effect:AX,requires:["computeStyles"]};function da(n){return n.split("-")[0]}var Ju=Math.max,tb=Math.min,Ef=Math.round;function wM(){var n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Q5(){return!/^((?!chrome|android).)*safari/i.test(wM())}function Cf(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&ro(n)&&(i=n.offsetWidth>0&&Ef(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&Ef(r.height)/n.offsetHeight||1);var o=ld(n)?lo(n):window,a=o.visualViewport,l=!Q5()&&t,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function tI(n){var e=Cf(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function Z5(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&eI(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function hl(n){return lo(n).getComputedStyle(n)}function TX(n){return["table","td","th"].indexOf(xa(n))>=0}function Vc(n){return((ld(n)?n.ownerDocument:n.document)||window.document).documentElement}function hw(n){return xa(n)==="html"?n:n.assignedSlot||n.parentNode||(eI(n)?n.host:null)||Vc(n)}function lB(n){return!ro(n)||hl(n).position==="fixed"?null:n.offsetParent}function PX(n){var e=/firefox/i.test(wM()),t=/Trident/i.test(wM());if(t&&ro(n)){var r=hl(n);if(r.position==="fixed")return null}var i=hw(n);for(eI(i)&&(i=i.host);ro(i)&&["html","body"].indexOf(xa(i))<0;){var s=hl(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Vv(n){for(var e=lo(n),t=lB(n);t&&TX(t)&&hl(t).position==="static";)t=lB(t);return t&&(xa(t)==="html"||xa(t)==="body"&&hl(t).position==="static")?e:t||PX(n)||e}function nI(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function cg(n,e,t){return Ju(n,tb(e,t))}function RX(n,e,t){var r=cg(n,e,t);return r>t?t:r}function eG(){return{top:0,right:0,bottom:0,left:0}}function tG(n){return Object.assign({},eG(),n)}function nG(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var IX=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,tG(typeof e!="number"?e:nG(e,Hv))};function NX(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=da(t.placement),l=nI(a),c=[ss,ao].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=IX(i.padding,t),f=tI(s),m=l==="y"?is:ss,g=l==="y"?oo:ao,v=t.rects.reference[u]+t.rects.reference[l]-o[l]-t.rects.popper[u],_=o[l]-t.rects.reference[l],x=Vv(s),w=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,S=v/2-_/2,E=d[m],A=w-f[u]-d[g],P=w/2-f[u]/2+S,I=cg(E,P,A),T=l;t.modifiersData[r]=(e={},e[T]=I,e.centerOffset=I-P,e)}}function kX(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Z5(e.elements.popper,i)&&(e.elements.arrow=i))}const OX={name:"arrow",enabled:!0,phase:"main",fn:NX,effect:kX,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Af(n){return n.split("-")[1]}var LX={top:"auto",right:"auto",bottom:"auto",left:"auto"};function BX(n){var e=n.x,t=n.y,r=window,i=r.devicePixelRatio||1;return{x:Ef(e*i)/i||0,y:Ef(t*i)/i||0}}function cB(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,d=n.isFixed,f=o.x,m=f===void 0?0:f,g=o.y,v=g===void 0?0:g,_=typeof u=="function"?u({x:m,y:v}):{x:m,y:v};m=_.x,v=_.y;var x=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),S=ss,E=is,A=window;if(c){var P=Vv(t),I="clientHeight",T="clientWidth";if(P===lo(t)&&(P=Vc(t),hl(P).position!=="static"&&a==="absolute"&&(I="scrollHeight",T="scrollWidth")),P=P,i===is||(i===ss||i===ao)&&s===Yg){E=oo;var R=d&&P===A&&A.visualViewport?A.visualViewport.height:P[I];v-=R-r.height,v*=l?1:-1}if(i===ss||(i===is||i===oo)&&s===Yg){S=ao;var O=d&&P===A&&A.visualViewport?A.visualViewport.width:P[T];m-=O-r.width,m*=l?1:-1}}var L=Object.assign({position:a},c&&LX),J=u===!0?BX({x:m,y:v}):{x:m,y:v};if(m=J.x,v=J.y,l){var j;return Object.assign({},L,(j={},j[E]=w?"0":"",j[S]=x?"0":"",j.transform=(A.devicePixelRatio||1)<=1?"translate("+m+"px, "+v+"px)":"translate3d("+m+"px, "+v+"px, 0)",j))}return Object.assign({},L,(e={},e[E]=w?v+"px":"",e[S]=x?m+"px":"",e.transform="",e))}function DX(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,o=s===void 0?!0:s,a=t.roundOffsets,l=a===void 0?!0:a,c={placement:da(e.placement),variation:Af(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,cB(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,cB(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const FX={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:DX,data:{}};var $y={passive:!0};function zX(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=lo(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",t.update,$y)}),a&&l.addEventListener("resize",t.update,$y),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",t.update,$y)}),a&&l.removeEventListener("resize",t.update,$y)}}const UX={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zX,data:{}};var GX={left:"right",right:"left",bottom:"top",top:"bottom"};function cx(n){return n.replace(/left|right|bottom|top/g,function(e){return GX[e]})}var HX={start:"end",end:"start"};function uB(n){return n.replace(/start|end/g,function(e){return HX[e]})}function rI(n){var e=lo(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function iI(n){return Cf(Vc(n)).left+rI(n).scrollLeft}function VX(n,e){var t=lo(n),r=Vc(n),i=t.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=Q5();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+iI(n),y:l}}function WX(n){var e,t=Vc(n),r=rI(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=Ju(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ju(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+iI(n),l=-r.scrollTop;return hl(i||t).direction==="rtl"&&(a+=Ju(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function sI(n){var e=hl(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function rG(n){return["html","body","#document"].indexOf(xa(n))>=0?n.ownerDocument.body:ro(n)&&sI(n)?n:rG(hw(n))}function ug(n,e){var t;e===void 0&&(e=[]);var r=rG(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=lo(r),o=i?[s].concat(s.visualViewport||[],sI(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(ug(hw(o)))}function SM(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function jX(n,e){var t=Cf(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function dB(n,e,t){return e===Y5?SM(VX(n,t)):ld(e)?jX(e,t):SM(WX(Vc(n)))}function $X(n){var e=ug(hw(n)),t=["absolute","fixed"].indexOf(hl(n).position)>=0,r=t&&ro(n)?Vv(n):n;return ld(r)?e.filter(function(i){return ld(i)&&Z5(i,r)&&xa(i)!=="body"}):[]}function JX(n,e,t,r){var i=e==="clippingParents"?$X(n):[].concat(e),s=[].concat(i,[t]),o=s[0],a=s.reduce(function(l,c){var u=dB(n,c,r);return l.top=Ju(u.top,l.top),l.right=tb(u.right,l.right),l.bottom=tb(u.bottom,l.bottom),l.left=Ju(u.left,l.left),l},dB(n,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function iG(n){var e=n.reference,t=n.element,r=n.placement,i=r?da(r):null,s=r?Af(r):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(i){case is:l={x:o,y:e.y-t.height};break;case oo:l={x:o,y:e.y+e.height};break;case ao:l={x:e.x+e.width,y:a};break;case ss:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?nI(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Sf:l[c]=l[c]-(e[u]/2-t[u]/2);break;case Yg:l[c]=l[c]+(e[u]/2-t[u]/2);break}}return l}function qg(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,o=s===void 0?n.strategy:s,a=t.boundary,l=a===void 0?fX:a,c=t.rootBoundary,u=c===void 0?Y5:c,d=t.elementContext,f=d===void 0?nm:d,m=t.altBoundary,g=m===void 0?!1:m,v=t.padding,_=v===void 0?0:v,x=tG(typeof _!="number"?_:nG(_,Hv)),w=f===nm?pX:nm,S=n.rects.popper,E=n.elements[g?w:f],A=JX(ld(E)?E:E.contextElement||Vc(n.elements.popper),l,u,o),P=Cf(n.elements.reference),I=iG({reference:P,element:S,strategy:"absolute",placement:i}),T=SM(Object.assign({},S,I)),R=f===nm?T:P,O={top:A.top-R.top+x.top,bottom:R.bottom-A.bottom+x.bottom,left:A.left-R.left+x.left,right:R.right-A.right+x.right},L=n.modifiersData.offset;if(f===nm&&L){var J=L[i];Object.keys(O).forEach(function(j){var V=[ao,oo].indexOf(j)>=0?1:-1,K=[is,oo].indexOf(j)>=0?"y":"x";O[j]+=J[K]*V})}return O}function KX(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?q5:l,u=Af(r),d=u?a?aB:aB.filter(function(g){return Af(g)===u}):Hv,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var m=f.reduce(function(g,v){return g[v]=qg(n,{placement:v,boundary:i,rootBoundary:s,padding:o})[da(v)],g},{});return Object.keys(m).sort(function(g,v){return m[g]-m[v]})}function XX(n){if(da(n)===ZR)return[];var e=cx(n);return[uB(n),e,uB(e)]}function YX(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,c=t.padding,u=t.boundary,d=t.rootBoundary,f=t.altBoundary,m=t.flipVariations,g=m===void 0?!0:m,v=t.allowedAutoPlacements,_=e.options.placement,x=da(_),w=x===_,S=l||(w||!g?[cx(_)]:XX(_)),E=[_].concat(S).reduce(function(ye,ne){return ye.concat(da(ne)===ZR?KX(e,{placement:ne,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:v}):ne)},[]),A=e.rects.reference,P=e.rects.popper,I=new Map,T=!0,R=E[0],O=0;O<E.length;O++){var L=E[O],J=da(L),j=Af(L)===Sf,V=[is,oo].indexOf(J)>=0,K=V?"width":"height",Q=qg(e,{placement:L,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),te=V?j?ao:ss:j?oo:is;A[K]>P[K]&&(te=cx(te));var D=cx(te),$=[];if(s&&$.push(Q[J]<=0),a&&$.push(Q[te]<=0,Q[D]<=0),$.every(function(ye){return ye})){R=L,T=!1;break}I.set(L,$)}if(T)for(var X=g?3:1,ue=function(ne){var fe=E.find(function(Ee){var Re=I.get(Ee);if(Re)return Re.slice(0,ne).every(function(Me){return Me})});if(fe)return R=fe,"break"},Y=X;Y>0;Y--){var pe=ue(Y);if(pe==="break")break}e.placement!==R&&(e.modifiersData[r]._skip=!0,e.placement=R,e.reset=!0)}}const qX={name:"flip",enabled:!0,phase:"main",fn:YX,requiresIfExists:["offset"],data:{_skip:!1}};function hB(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function fB(n){return[is,ao,oo,ss].some(function(e){return n[e]>=0})}function QX(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=qg(e,{elementContext:"reference"}),a=qg(e,{altBoundary:!0}),l=hB(o,r),c=hB(a,i,s),u=fB(l),d=fB(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const ZX={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:QX};function eY(n,e,t){var r=da(n),i=[ss,is].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[ss,ao].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function tY(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,o=q5.reduce(function(u,d){return u[d]=eY(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const nY={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tY};function rY(n){var e=n.state,t=n.name;e.modifiersData[t]=iG({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const iY={name:"popperOffsets",enabled:!0,phase:"read",fn:rY,data:{}};function sY(n){return n==="x"?"y":"x"}function oY(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,c=t.rootBoundary,u=t.altBoundary,d=t.padding,f=t.tether,m=f===void 0?!0:f,g=t.tetherOffset,v=g===void 0?0:g,_=qg(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),x=da(e.placement),w=Af(e.placement),S=!w,E=nI(x),A=sY(E),P=e.modifiersData.popperOffsets,I=e.rects.reference,T=e.rects.popper,R=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,O=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,J={x:0,y:0};if(P){if(s){var j,V=E==="y"?is:ss,K=E==="y"?oo:ao,Q=E==="y"?"height":"width",te=P[E],D=te+_[V],$=te-_[K],X=m?-T[Q]/2:0,ue=w===Sf?I[Q]:T[Q],Y=w===Sf?-T[Q]:-I[Q],pe=e.elements.arrow,ye=m&&pe?tI(pe):{width:0,height:0},ne=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:eG(),fe=ne[V],Ee=ne[K],Re=cg(0,I[Q],ye[Q]),Me=S?I[Q]/2-X-Re-fe-O.mainAxis:ue-Re-fe-O.mainAxis,Ue=S?-I[Q]/2+X+Re+Ee+O.mainAxis:Y+Re+Ee+O.mainAxis,Ge=e.elements.arrow&&Vv(e.elements.arrow),me=Ge?E==="y"?Ge.clientTop||0:Ge.clientLeft||0:0,_e=(j=L==null?void 0:L[E])!=null?j:0,ke=te+Me-_e-me,$e=te+Ue-_e,Fe=cg(m?tb(D,ke):D,te,m?Ju($,$e):$);P[E]=Fe,J[E]=Fe-te}if(a){var Ye,Xe=E==="x"?is:ss,et=E==="x"?oo:ao,at=P[A],it=A==="y"?"height":"width",G=at+_[Xe],B=at-_[et],ae=[is,ss].indexOf(x)!==-1,Te=(Ye=L==null?void 0:L[A])!=null?Ye:0,Ie=ae?G:at-I[it]-T[it]-Te+O.altAxis,De=ae?at+I[it]+T[it]-Te-O.altAxis:B,xe=m&&ae?RX(Ie,at,De):cg(m?Ie:G,at,m?De:B);P[A]=xe,J[A]=xe-at}e.modifiersData[r]=J}}const aY={name:"preventOverflow",enabled:!0,phase:"main",fn:oY,requiresIfExists:["offset"]};function lY(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function cY(n){return n===lo(n)||!ro(n)?rI(n):lY(n)}function uY(n){var e=n.getBoundingClientRect(),t=Ef(e.width)/n.offsetWidth||1,r=Ef(e.height)/n.offsetHeight||1;return t!==1||r!==1}function dY(n,e,t){t===void 0&&(t=!1);var r=ro(e),i=ro(e)&&uY(e),s=Vc(e),o=Cf(n,i,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&((xa(e)!=="body"||sI(s))&&(a=cY(e)),ro(e)?(l=Cf(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=iI(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function hY(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function fY(n){var e=hY(n);return EX.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function pY(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function mY(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var pB={placement:"bottom",modifiers:[],strategy:"absolute"};function mB(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function gY(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?pB:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},pB,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,m={state:u,setOptions:function(x){var w=typeof x=="function"?x(u.options):x;v(),u.options=Object.assign({},s,u.options,w),u.scrollParents={reference:ld(a)?ug(a):a.contextElement?ug(a.contextElement):[],popper:ug(l)};var S=fY(mY([].concat(r,u.options.modifiers)));return u.orderedModifiers=S.filter(function(E){return E.enabled}),g(),m.update()},forceUpdate:function(){if(!f){var x=u.elements,w=x.reference,S=x.popper;if(mB(w,S)){u.rects={reference:dY(w,Vv(S),u.options.strategy==="fixed"),popper:tI(S)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(O){return u.modifiersData[O.name]=Object.assign({},O.data)});for(var E=0;E<u.orderedModifiers.length;E++){if(u.reset===!0){u.reset=!1,E=-1;continue}var A=u.orderedModifiers[E],P=A.fn,I=A.options,T=I===void 0?{}:I,R=A.name;typeof P=="function"&&(u=P({state:u,options:T,name:R,instance:m})||u)}}}},update:pY(function(){return new Promise(function(_){m.forceUpdate(),_(u)})}),destroy:function(){v(),f=!0}};if(!mB(a,l))return m;m.setOptions(c).then(function(_){!f&&c.onFirstUpdate&&c.onFirstUpdate(_)});function g(){u.orderedModifiers.forEach(function(_){var x=_.name,w=_.options,S=w===void 0?{}:w,E=_.effect;if(typeof E=="function"){var A=E({state:u,name:x,instance:m,options:S}),P=function(){};d.push(A||P)}})}function v(){d.forEach(function(_){return _()}),d=[]}return m}}var vY=[UX,iY,FX,MX,nY,qX,aY,OX,ZX],yY=gY({defaultModifiers:vY});function _Y(n){return typeof n=="function"?n():n}const xY=k.forwardRef(function(e,t){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=k.useState(null),l=_a(k.isValidElement(r)?r.ref:null,t);if(wf(()=>{s||a(_Y(i)||document.body)},[i,s]),wf(()=>{if(o&&!s)return eb(t,o),()=>{eb(t,null)}},[t,o,s]),s){if(k.isValidElement(r)){const c={ref:l};return k.cloneElement(r,c)}return y(k.Fragment,{children:r})}return y(k.Fragment,{children:o&&ff.createPortal(r,o)})}),bY=xY;function wY(n){return Xr("MuiPopperUnstyled",n)}Yr("MuiPopperUnstyled",["root"]);const SY=["anchorEl","children","component","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","slotProps","slots","TransitionProps"],EY=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function CY(n,e){if(e==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function EM(n){return typeof n=="function"?n():n}function AY(n){return n.nodeType!==void 0}const MY=()=>ui({root:["root"]},wY,{}),TY={},PY=k.forwardRef(function(e,t){var r;const{anchorEl:i,children:s,component:o,direction:a,disablePortal:l,modifiers:c,open:u,ownerState:d,placement:f,popperOptions:m,popperRef:g,slotProps:v={},slots:_={},TransitionProps:x}=e,w=QR(e,SY),S=k.useRef(null),E=_a(S,t),A=k.useRef(null),P=_a(A,g),I=k.useRef(P);wf(()=>{I.current=P},[P]),k.useImperativeHandle(g,()=>A.current,[]);const T=CY(f,a),[R,O]=k.useState(T),[L,J]=k.useState(EM(i));k.useEffect(()=>{A.current&&A.current.forceUpdate()}),k.useEffect(()=>{i&&J(EM(i))},[i]),wf(()=>{if(!L||!u)return;const te=X=>{O(X.placement)};let D=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:X})=>{te(X)}}];c!=null&&(D=D.concat(c)),m&&m.modifiers!=null&&(D=D.concat(m.modifiers));const $=yY(L,S.current,Ai({placement:T},m,{modifiers:D}));return I.current($),()=>{$.destroy(),I.current(null)}},[L,l,c,u,m,T]);const j={placement:R};x!==null&&(j.TransitionProps=x);const V=MY(),K=(r=o??_.root)!=null?r:"div",Q=hX({elementType:K,externalSlotProps:v.root,externalForwardedProps:w,additionalProps:{role:"tooltip",ref:E},ownerState:Ai({},e,d),className:V.root});return y(K,Ai({},Q,{children:typeof s=="function"?s(j):s}))}),RY=k.forwardRef(function(e,t){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:f=TY,popperRef:m,style:g,transition:v=!1,slotProps:_={},slots:x={}}=e,w=QR(e,EY),[S,E]=k.useState(!0),A=()=>{E(!1)},P=()=>{E(!0)};if(!l&&!u&&(!v||S))return null;let I;if(s)I=s;else if(r){const O=EM(r);I=O&&AY(O)?Xg(O).body:Xg(null).body}const T=!u&&l&&(!v||S)?"none":void 0,R=v?{in:u,onEnter:A,onExited:P}:void 0;return y(bY,{disablePortal:a,container:I,children:y(PY,Ai({anchorEl:r,direction:o,disablePortal:a,modifiers:c,ref:t,open:v?!S:u,placement:d,popperOptions:f,popperRef:m,slotProps:_,slots:x},w,{style:Ai({position:"fixed",top:0,left:0,display:T},g),TransitionProps:R,children:i}))})}),IY=RY;function CM(){return CM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},CM.apply(this,arguments)}function sG(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var NY=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,kY=sG(function(n){return NY.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});function OY(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function LY(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var BY=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(LY(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=OY(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),bi="-ms-",nb="-moz-",ln="-webkit-",oG="comm",oI="rule",aI="decl",DY="@import",aG="@keyframes",FY=Math.abs,fw=String.fromCharCode,zY=Object.assign;function UY(n,e){return ii(n,0)^45?(((e<<2^ii(n,0))<<2^ii(n,1))<<2^ii(n,2))<<2^ii(n,3):0}function lG(n){return n.trim()}function GY(n,e){return(n=e.exec(n))?n[0]:n}function hn(n,e,t){return n.replace(e,t)}function AM(n,e){return n.indexOf(e)}function ii(n,e){return n.charCodeAt(e)|0}function Qg(n,e,t){return n.slice(e,t)}function na(n){return n.length}function lI(n){return n.length}function Jy(n,e){return e.push(n),n}function HY(n,e){return n.map(e).join("")}var pw=1,Mf=1,cG=0,ls=0,Er=0,ip="";function mw(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:pw,column:Mf,length:o,return:""}}function rm(n,e){return zY(mw("",null,null,"",null,null,0),n,{length:-n.length},e)}function VY(){return Er}function WY(){return Er=ls>0?ii(ip,--ls):0,Mf--,Er===10&&(Mf=1,pw--),Er}function Cs(){return Er=ls<cG?ii(ip,ls++):0,Mf++,Er===10&&(Mf=1,pw++),Er}function ha(){return ii(ip,ls)}function ux(){return ls}function Wv(n,e){return Qg(ip,n,e)}function Zg(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uG(n){return pw=Mf=1,cG=na(ip=n),ls=0,[]}function dG(n){return ip="",n}function dx(n){return lG(Wv(ls-1,MM(n===91?n+2:n===40?n+1:n)))}function jY(n){for(;(Er=ha())&&Er<33;)Cs();return Zg(n)>2||Zg(Er)>3?"":" "}function $Y(n,e){for(;--e&&Cs()&&!(Er<48||Er>102||Er>57&&Er<65||Er>70&&Er<97););return Wv(n,ux()+(e<6&&ha()==32&&Cs()==32))}function MM(n){for(;Cs();)switch(Er){case n:return ls;case 34:case 39:n!==34&&n!==39&&MM(Er);break;case 40:n===41&&MM(n);break;case 92:Cs();break}return ls}function JY(n,e){for(;Cs()&&n+Er!==47+10;)if(n+Er===42+42&&ha()===47)break;return"/*"+Wv(e,ls-1)+"*"+fw(n===47?n:Cs())}function KY(n){for(;!Zg(ha());)Cs();return Wv(n,ls)}function XY(n){return dG(hx("",null,null,null,[""],n=uG(n),0,[0],n))}function hx(n,e,t,r,i,s,o,a,l){for(var c=0,u=0,d=o,f=0,m=0,g=0,v=1,_=1,x=1,w=0,S="",E=i,A=s,P=r,I=S;_;)switch(g=w,w=Cs()){case 40:if(g!=108&&ii(I,d-1)==58){AM(I+=hn(dx(w),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:I+=dx(w);break;case 9:case 10:case 13:case 32:I+=jY(g);break;case 92:I+=$Y(ux()-1,7);continue;case 47:switch(ha()){case 42:case 47:Jy(YY(JY(Cs(),ux()),e,t),l);break;default:I+="/"}break;case 123*v:a[c++]=na(I)*x;case 125*v:case 59:case 0:switch(w){case 0:case 125:_=0;case 59+u:m>0&&na(I)-d&&Jy(m>32?vB(I+";",r,t,d-1):vB(hn(I," ","")+";",r,t,d-2),l);break;case 59:I+=";";default:if(Jy(P=gB(I,e,t,c,u,i,a,S,E=[],A=[],d),s),w===123)if(u===0)hx(I,e,P,P,E,s,d,a,A);else switch(f===99&&ii(I,3)===110?100:f){case 100:case 109:case 115:hx(n,P,P,r&&Jy(gB(n,P,P,0,0,i,a,S,i,E=[],d),A),i,A,d,a,r?E:A);break;default:hx(I,P,P,P,[""],A,0,a,A)}}c=u=m=0,v=x=1,S=I="",d=o;break;case 58:d=1+na(I),m=g;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&WY()==125)continue}switch(I+=fw(w),w*v){case 38:x=u>0?1:(I+="\f",-1);break;case 44:a[c++]=(na(I)-1)*x,x=1;break;case 64:ha()===45&&(I+=dx(Cs())),f=ha(),u=d=na(S=I+=KY(ux())),w++;break;case 45:g===45&&na(I)==2&&(v=0)}}return s}function gB(n,e,t,r,i,s,o,a,l,c,u){for(var d=i-1,f=i===0?s:[""],m=lI(f),g=0,v=0,_=0;g<r;++g)for(var x=0,w=Qg(n,d+1,d=FY(v=o[g])),S=n;x<m;++x)(S=lG(v>0?f[x]+" "+w:hn(w,/&\f/g,f[x])))&&(l[_++]=S);return mw(n,e,t,i===0?oI:a,l,c,u)}function YY(n,e,t){return mw(n,e,t,oG,fw(VY()),Qg(n,2,-2),0)}function vB(n,e,t,r){return mw(n,e,t,aI,Qg(n,0,r),Qg(n,r+1,-1),r)}function ef(n,e){for(var t="",r=lI(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function qY(n,e,t,r){switch(n.type){case DY:case aI:return n.return=n.return||n.value;case oG:return"";case aG:return n.return=n.value+"{"+ef(n.children,r)+"}";case oI:n.value=n.props.join(",")}return na(t=ef(n.children,r))?n.return=n.value+"{"+t+"}":""}function QY(n){var e=lI(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function ZY(n){return function(e){e.root||(e=e.return)&&n(e)}}var eq=function(e,t,r){for(var i=0,s=0;i=s,s=ha(),i===38&&s===12&&(t[r]=1),!Zg(s);)Cs();return Wv(e,ls)},tq=function(e,t){var r=-1,i=44;do switch(Zg(i)){case 0:i===38&&ha()===12&&(t[r]=1),e[r]+=eq(ls-1,t,r);break;case 2:e[r]+=dx(i);break;case 4:if(i===44){e[++r]=ha()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=fw(i)}while(i=Cs());return e},nq=function(e,t){return dG(tq(uG(e),t))},yB=new WeakMap,rq=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!yB.get(r))&&!i){yB.set(e,!0);for(var s=[],o=nq(t,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},iq=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function hG(n,e){switch(UY(n,e)){case 5103:return ln+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ln+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return ln+n+nb+n+bi+n+n;case 6828:case 4268:return ln+n+bi+n+n;case 6165:return ln+n+bi+"flex-"+n+n;case 5187:return ln+n+hn(n,/(\w+).+(:[^]+)/,ln+"box-$1$2"+bi+"flex-$1$2")+n;case 5443:return ln+n+bi+"flex-item-"+hn(n,/flex-|-self/,"")+n;case 4675:return ln+n+bi+"flex-line-pack"+hn(n,/align-content|flex-|-self/,"")+n;case 5548:return ln+n+bi+hn(n,"shrink","negative")+n;case 5292:return ln+n+bi+hn(n,"basis","preferred-size")+n;case 6060:return ln+"box-"+hn(n,"-grow","")+ln+n+bi+hn(n,"grow","positive")+n;case 4554:return ln+hn(n,/([^-])(transform)/g,"$1"+ln+"$2")+n;case 6187:return hn(hn(hn(n,/(zoom-|grab)/,ln+"$1"),/(image-set)/,ln+"$1"),n,"")+n;case 5495:case 3959:return hn(n,/(image-set\([^]*)/,ln+"$1$`$1");case 4968:return hn(hn(n,/(.+:)(flex-)?(.*)/,ln+"box-pack:$3"+bi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ln+n+n;case 4095:case 3583:case 4068:case 2532:return hn(n,/(.+)-inline(.+)/,ln+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(na(n)-1-e>6)switch(ii(n,e+1)){case 109:if(ii(n,e+4)!==45)break;case 102:return hn(n,/(.+:)(.+)-([^]+)/,"$1"+ln+"$2-$3$1"+nb+(ii(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~AM(n,"stretch")?hG(hn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(ii(n,e+1)!==115)break;case 6444:switch(ii(n,na(n)-3-(~AM(n,"!important")&&10))){case 107:return hn(n,":",":"+ln)+n;case 101:return hn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ln+(ii(n,14)===45?"inline-":"")+"box$3$1"+ln+"$2$3$1"+bi+"$2box$3")+n}break;case 5936:switch(ii(n,e+11)){case 114:return ln+n+bi+hn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return ln+n+bi+hn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return ln+n+bi+hn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return ln+n+bi+n+n}return n}var sq=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case aI:e.return=hG(e.value,e.length);break;case aG:return ef([rm(e,{value:hn(e.value,"@","@"+ln)})],i);case oI:if(e.length)return HY(e.props,function(s){switch(GY(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ef([rm(e,{props:[hn(s,/:(read-\w+)/,":"+nb+"$1")]})],i);case"::placeholder":return ef([rm(e,{props:[hn(s,/:(plac\w+)/,":"+ln+"input-$1")]}),rm(e,{props:[hn(s,/:(plac\w+)/,":"+nb+"$1")]}),rm(e,{props:[hn(s,/:(plac\w+)/,bi+"input-$1")]})],i)}return""})}},oq=[sq],aq=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var _=v.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||oq,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(v){for(var _=v.getAttribute("data-emotion").split(" "),x=1;x<_.length;x++)s[_[x]]=!0;a.push(v)});var l,c=[rq,iq];{var u,d=[qY,ZY(function(v){u.insert(v)})],f=QY(c.concat(i,d)),m=function(_){return ef(XY(_),f)};l=function(_,x,w,S){u=w,m(_?_+"{"+x.styles+"}":x.styles),S&&(g.inserted[x.name]=!0)}}var g={key:t,sheet:new BY({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},TM={},lq={get exports(){return TM},set exports(n){TM=n}},vn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qr=typeof Symbol=="function"&&Symbol.for,cI=qr?Symbol.for("react.element"):60103,uI=qr?Symbol.for("react.portal"):60106,gw=qr?Symbol.for("react.fragment"):60107,vw=qr?Symbol.for("react.strict_mode"):60108,yw=qr?Symbol.for("react.profiler"):60114,_w=qr?Symbol.for("react.provider"):60109,xw=qr?Symbol.for("react.context"):60110,dI=qr?Symbol.for("react.async_mode"):60111,bw=qr?Symbol.for("react.concurrent_mode"):60111,ww=qr?Symbol.for("react.forward_ref"):60112,Sw=qr?Symbol.for("react.suspense"):60113,cq=qr?Symbol.for("react.suspense_list"):60120,Ew=qr?Symbol.for("react.memo"):60115,Cw=qr?Symbol.for("react.lazy"):60116,uq=qr?Symbol.for("react.block"):60121,dq=qr?Symbol.for("react.fundamental"):60117,hq=qr?Symbol.for("react.responder"):60118,fq=qr?Symbol.for("react.scope"):60119;function Os(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case cI:switch(n=n.type,n){case dI:case bw:case gw:case yw:case vw:case Sw:return n;default:switch(n=n&&n.$$typeof,n){case xw:case ww:case Cw:case Ew:case _w:return n;default:return e}}case uI:return e}}}function fG(n){return Os(n)===bw}vn.AsyncMode=dI;vn.ConcurrentMode=bw;vn.ContextConsumer=xw;vn.ContextProvider=_w;vn.Element=cI;vn.ForwardRef=ww;vn.Fragment=gw;vn.Lazy=Cw;vn.Memo=Ew;vn.Portal=uI;vn.Profiler=yw;vn.StrictMode=vw;vn.Suspense=Sw;vn.isAsyncMode=function(n){return fG(n)||Os(n)===dI};vn.isConcurrentMode=fG;vn.isContextConsumer=function(n){return Os(n)===xw};vn.isContextProvider=function(n){return Os(n)===_w};vn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===cI};vn.isForwardRef=function(n){return Os(n)===ww};vn.isFragment=function(n){return Os(n)===gw};vn.isLazy=function(n){return Os(n)===Cw};vn.isMemo=function(n){return Os(n)===Ew};vn.isPortal=function(n){return Os(n)===uI};vn.isProfiler=function(n){return Os(n)===yw};vn.isStrictMode=function(n){return Os(n)===vw};vn.isSuspense=function(n){return Os(n)===Sw};vn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===gw||n===bw||n===yw||n===vw||n===Sw||n===cq||typeof n=="object"&&n!==null&&(n.$$typeof===Cw||n.$$typeof===Ew||n.$$typeof===_w||n.$$typeof===xw||n.$$typeof===ww||n.$$typeof===dq||n.$$typeof===hq||n.$$typeof===fq||n.$$typeof===uq)};vn.typeOf=Os;(function(n){n.exports=vn})(lq);var pG=TM,pq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mG={};mG[pG.ForwardRef]=pq;mG[pG.Memo]=mq;var gq=!0;function vq(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):r+=i+" "}),r}var gG=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||gq===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},yq=function(e,t,r){gG(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function _q(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var xq={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bq=/[A-Z]|^ms/g,wq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vG=function(e){return e.charCodeAt(1)===45},_B=function(e){return e!=null&&typeof e!="boolean"},IE=sG(function(n){return vG(n)?n:n.replace(bq,"-$&").toLowerCase()}),xB=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(wq,function(r,i,s){return ra={name:i,styles:s,next:ra},i})}return xq[e]!==1&&!vG(e)&&typeof t=="number"&&t!==0?t+"px":t};function ev(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return ra={name:t.name,styles:t.styles,next:ra},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)ra={name:r.name,styles:r.styles,next:ra},r=r.next;var i=t.styles+";";return i}return Sq(n,e,t)}case"function":{if(n!==void 0){var s=ra,o=t(n);return ra=s,ev(n,e,o)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function Sq(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=ev(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":_B(o)&&(r+=IE(s)+":"+xB(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)_B(o[a])&&(r+=IE(s)+":"+xB(s,o[a])+";");else{var l=ev(n,e,o);switch(s){case"animation":case"animationName":{r+=IE(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var bB=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ra,yG=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";ra=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=ev(r,t,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=ev(r,t,e[a]),i&&(s+=o[a]);bB.lastIndex=0;for(var l="",c;(c=bB.exec(s))!==null;)l+="-"+c[1];var u=_q(s)+l;return{name:u,styles:s,next:ra}},Eq=function(e){return e()},Cq=hf["useInsertionEffect"]?hf["useInsertionEffect"]:!1,Aq=Cq||Eq,_G=k.createContext(typeof HTMLElement<"u"?aq({key:"css"}):null);_G.Provider;var Mq=function(e){return k.forwardRef(function(t,r){var i=k.useContext(_G);return e(t,i,r)})},Tq=k.createContext({});function Pq(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return yG(e)}var hI=function(){var e=Pq.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Rq=kY,Iq=function(e){return e!=="theme"},wB=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Rq:Iq},SB=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Nq=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return gG(t,r,i),Aq(function(){return yq(t,r,i)}),null},kq=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=SB(e,t,r),l=a||wB(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var f=u.length,m=1;m<f;m++)d.push(u[m],u[0][m])}var g=Mq(function(v,_,x){var w=c&&v.as||i,S="",E=[],A=v;if(v.theme==null){A={};for(var P in v)A[P]=v[P];A.theme=k.useContext(Tq)}typeof v.className=="string"?S=vq(_.registered,E,v.className):v.className!=null&&(S=v.className+" ");var I=yG(d.concat(E),_.registered,A);S+=_.key+"-"+I.name,o!==void 0&&(S+=" "+o);var T=c&&a===void 0?wB(w):l,R={};for(var O in v)c&&O==="as"||T(O)&&(R[O]=v[O]);return R.className=S,R.ref=x,k.createElement(k.Fragment,null,k.createElement(Nq,{cache:_,serialized:I,isStringTag:typeof w=="string"}),k.createElement(w,R))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(v,_){return n(v,CM({},t,_,{shouldForwardProp:SB(g,_,!0)})).apply(void 0,d)},g}},Oq=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],PM=kq.bind();Oq.forEach(function(n){PM[n]=PM(n)});const Lq=PM;/**
 * @mui/styled-engine v5.11.8
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function xG(n,e){return Lq(n,e)}const Bq=(n,e)=>{Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))};function Mi(){return Mi=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mi.apply(this,arguments)}function dg(n,e){return e?nl(n,e,{clone:!1}):n}const fI={xs:0,sm:600,md:900,lg:1200,xl:1536},EB={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${fI[n]}px)`};function fl(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||EB;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=t(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||EB;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||fI).indexOf(a)!==-1){const l=s.up(a);o[l]=t(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return t(e)}function Dq(n={}){var e;return((e=n.keys)==null?void 0:e.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function Fq(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Aw(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function rb(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Aw(n,t)||r,e&&(i=e(i,r,n)),i}function pn(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=Aw(l,r)||{};return fl(o,a,d=>{let f=rb(c,i,d);return d===f&&typeof d=="string"&&(f=rb(c,i,`${e}${d==="default"?"":pr(d)}`,d)),t===!1?f:{[t]:f}})};return s.propTypes={},s.filterProps=[e],s}function Mw(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?dg(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function zq(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const Uq={m:"margin",p:"padding"},Gq={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},CB={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Hq=zq(n=>{if(n.length>2)if(CB[n])n=CB[n];else return[n];const[e,t]=n.split(""),r=Uq[e],i=Gq[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),pI=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],mI=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...pI,...mI];function jv(n,e,t,r){var i;const s=(i=Aw(n,e,!1))!=null?i:t;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function bG(n){return jv(n,"spacing",8)}function $v(n,e){if(typeof e=="string"||e==null)return e;const t=Math.abs(e),r=n(t);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Vq(n,e){return t=>n.reduce((r,i)=>(r[i]=$v(e,t),r),{})}function Wq(n,e,t,r){if(e.indexOf(t)===-1)return null;const i=Hq(t),s=Vq(i,r),o=n[t];return fl(n,o,s)}function wG(n,e){const t=bG(n.theme);return Object.keys(n).map(r=>Wq(n,e,r,t)).reduce(dg,{})}function ar(n){return wG(n,pI)}ar.propTypes={};ar.filterProps=pI;function lr(n){return wG(n,mI)}lr.propTypes={};lr.filterProps=mI;function oa(n){return typeof n!="number"?n:`${n}px solid`}const jq=pn({prop:"border",themeKey:"borders",transform:oa}),$q=pn({prop:"borderTop",themeKey:"borders",transform:oa}),Jq=pn({prop:"borderRight",themeKey:"borders",transform:oa}),Kq=pn({prop:"borderBottom",themeKey:"borders",transform:oa}),Xq=pn({prop:"borderLeft",themeKey:"borders",transform:oa}),Yq=pn({prop:"borderColor",themeKey:"palette"}),qq=pn({prop:"borderTopColor",themeKey:"palette"}),Qq=pn({prop:"borderRightColor",themeKey:"palette"}),Zq=pn({prop:"borderBottomColor",themeKey:"palette"}),eQ=pn({prop:"borderLeftColor",themeKey:"palette"}),Tw=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=jv(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:$v(e,r)});return fl(n,n.borderRadius,t)}return null};Tw.propTypes={};Tw.filterProps=["borderRadius"];Mw(jq,$q,Jq,Kq,Xq,Yq,qq,Qq,Zq,eQ,Tw);const Pw=n=>{if(n.gap!==void 0&&n.gap!==null){const e=jv(n.theme,"spacing",8),t=r=>({gap:$v(e,r)});return fl(n,n.gap,t)}return null};Pw.propTypes={};Pw.filterProps=["gap"];const Rw=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=jv(n.theme,"spacing",8),t=r=>({columnGap:$v(e,r)});return fl(n,n.columnGap,t)}return null};Rw.propTypes={};Rw.filterProps=["columnGap"];const Iw=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=jv(n.theme,"spacing",8),t=r=>({rowGap:$v(e,r)});return fl(n,n.rowGap,t)}return null};Iw.propTypes={};Iw.filterProps=["rowGap"];const tQ=pn({prop:"gridColumn"}),nQ=pn({prop:"gridRow"}),rQ=pn({prop:"gridAutoFlow"}),iQ=pn({prop:"gridAutoColumns"}),sQ=pn({prop:"gridAutoRows"}),oQ=pn({prop:"gridTemplateColumns"}),aQ=pn({prop:"gridTemplateRows"}),lQ=pn({prop:"gridTemplateAreas"}),cQ=pn({prop:"gridArea"});Mw(Pw,Rw,Iw,tQ,nQ,rQ,iQ,sQ,oQ,aQ,lQ,cQ);function tf(n,e){return e==="grey"?e:n}const uQ=pn({prop:"color",themeKey:"palette",transform:tf}),dQ=pn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:tf}),hQ=pn({prop:"backgroundColor",themeKey:"palette",transform:tf});Mw(uQ,dQ,hQ);function _s(n){return n<=1&&n!==0?`${n*100}%`:n}const fQ=pn({prop:"width",transform:_s}),gI=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,i,s;return{maxWidth:((r=n.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[t])||fI[t]||_s(t)}};return fl(n,n.maxWidth,e)}return null};gI.filterProps=["maxWidth"];const pQ=pn({prop:"minWidth",transform:_s}),mQ=pn({prop:"height",transform:_s}),gQ=pn({prop:"maxHeight",transform:_s}),vQ=pn({prop:"minHeight",transform:_s});pn({prop:"size",cssProperty:"width",transform:_s});pn({prop:"size",cssProperty:"height",transform:_s});const yQ=pn({prop:"boxSizing"});Mw(fQ,gI,pQ,mQ,gQ,vQ,yQ);const _Q={border:{themeKey:"borders",transform:oa},borderTop:{themeKey:"borders",transform:oa},borderRight:{themeKey:"borders",transform:oa},borderBottom:{themeKey:"borders",transform:oa},borderLeft:{themeKey:"borders",transform:oa},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Tw},color:{themeKey:"palette",transform:tf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:tf},backgroundColor:{themeKey:"palette",transform:tf},p:{style:lr},pt:{style:lr},pr:{style:lr},pb:{style:lr},pl:{style:lr},px:{style:lr},py:{style:lr},padding:{style:lr},paddingTop:{style:lr},paddingRight:{style:lr},paddingBottom:{style:lr},paddingLeft:{style:lr},paddingX:{style:lr},paddingY:{style:lr},paddingInline:{style:lr},paddingInlineStart:{style:lr},paddingInlineEnd:{style:lr},paddingBlock:{style:lr},paddingBlockStart:{style:lr},paddingBlockEnd:{style:lr},m:{style:ar},mt:{style:ar},mr:{style:ar},mb:{style:ar},ml:{style:ar},mx:{style:ar},my:{style:ar},margin:{style:ar},marginTop:{style:ar},marginRight:{style:ar},marginBottom:{style:ar},marginLeft:{style:ar},marginX:{style:ar},marginY:{style:ar},marginInline:{style:ar},marginInlineStart:{style:ar},marginInlineEnd:{style:ar},marginBlock:{style:ar},marginBlockStart:{style:ar},marginBlockEnd:{style:ar},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Pw},rowGap:{style:Iw},columnGap:{style:Rw},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:_s},maxWidth:{style:gI},minWidth:{transform:_s},height:{transform:_s},maxHeight:{transform:_s},minHeight:{transform:_s},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Nw=_Q;function xQ(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function bQ(n,e){return typeof n=="function"?n(e):n}function wQ(){function n(t,r,i,s){const o={[t]:r,theme:i},a=s[t];if(!a)return{[t]:r};const{cssProperty:l=t,themeKey:c,transform:u,style:d}=a;if(r==null)return null;const f=Aw(i,c)||{};return d?d(o):fl(o,r,g=>{let v=rb(f,u,g);return g===v&&typeof g=="string"&&(v=rb(f,u,`${t}${g==="default"?"":pr(g)}`,g)),l===!1?v:{[l]:v}})}function e(t){var r;const{sx:i,theme:s={}}=t||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:Nw;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=Dq(s.breakpoints),d=Object.keys(u);let f=u;return Object.keys(c).forEach(m=>{const g=bQ(c[m],s);if(g!=null)if(typeof g=="object")if(o[m])f=dg(f,n(m,g,s,o));else{const v=fl({theme:s},g,_=>({[m]:_}));xQ(v,g)?f[m]=e({sx:g,theme:s}):f=dg(f,v)}else f=dg(f,n(m,g,s,o))}),Fq(d,f)}return Array.isArray(i)?i.map(a):a(i)}return e}const SG=wQ();SG.filterProps=["sx"];const kw=SG;function mc(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}const SQ=["sx"],EQ=n=>{var e,t;const r={systemProps:{},otherProps:{}},i=(e=n==null||(t=n.theme)==null?void 0:t.unstable_sxConfig)!=null?e:Nw;return Object.keys(n).forEach(s=>{i[s]?r.systemProps[s]=n[s]:r.otherProps[s]=n[s]}),r};function EG(n){const{sx:e}=n,t=mc(n,SQ),{systemProps:r,otherProps:i}=EQ(t);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Ru(a)?Mi({},r,a):r}:s=Mi({},r,e),Mi({},i,{sx:s})}const CQ=["values","unit","step"],AQ=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>Mi({},t,{[r.key]:r.val}),{})};function MQ(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=n,i=mc(n,CQ),s=AQ(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${t})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${t})`}function c(f,m){const g=o.indexOf(m);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${t}) and (max-width:${(g!==-1&&typeof e[o[g]]=="number"?e[o[g]]:m)-r/100}${t})`}function u(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):a(f)}function d(f){const m=o.indexOf(f);return m===0?a(o[1]):m===o.length-1?l(o[m]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return Mi({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:t},i)}const TQ={borderRadius:4},PQ=TQ;function RQ(n=8){if(n.mui)return n;const e=bG({spacing:n}),t=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}const IQ=["breakpoints","palette","spacing","shape"];function vI(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={}}=n,o=mc(n,IQ),a=MQ(t),l=RQ(i);let c=nl({breakpoints:a,direction:"ltr",components:{},palette:Mi({mode:"light"},r),spacing:l,shape:Mi({},PQ,s)},o);return c=e.reduce((u,d)=>nl(u,d),c),c.unstable_sxConfig=Mi({},Nw,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return kw({sx:d,theme:this})},c}const NQ=k.createContext(null),kQ=NQ;function OQ(){return k.useContext(kQ)}function LQ(n){return Object.keys(n).length===0}function CG(n=null){const e=OQ();return!e||LQ(e)?n:e}const BQ=vI();function yI(n=BQ){return CG(n)}const DQ=["className","component"];function FQ(n={}){const{defaultTheme:e,defaultClassName:t="MuiBox-root",generateClassName:r}=n,i=xG("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(kw);return k.forwardRef(function(a,l){const c=yI(e),u=EG(a),{className:d,component:f="div"}=u,m=mc(u,DQ);return y(i,Mi({as:f,ref:l,className:Dt(d,r?r(t):t),theme:c},m))})}const zQ=["variant"];function AB(n){return n.length===0}function AG(n){const{variant:e}=n,t=mc(n,zQ);let r=e||"";return Object.keys(t).sort().forEach(i=>{i==="color"?r+=AB(r)?n[i]:pr(n[i]):r+=`${AB(r)?i:pr(i)}${pr(n[i].toString())}`}),r}const UQ=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],GQ=["theme"],HQ=["theme"];function im(n){return Object.keys(n).length===0}function VQ(n){return typeof n=="string"&&n.charCodeAt(0)>96}const WQ=(n,e)=>e.components&&e.components[n]&&e.components[n].styleOverrides?e.components[n].styleOverrides:null,jQ=(n,e)=>{let t=[];e&&e.components&&e.components[n]&&e.components[n].variants&&(t=e.components[n].variants);const r={};return t.forEach(i=>{const s=AG(i.props);r[s]=i.style}),r},$Q=(n,e,t,r)=>{var i,s;const{ownerState:o={}}=n,a=[],l=t==null||(i=t.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(c=>{let u=!0;Object.keys(c.props).forEach(d=>{o[d]!==c.props[d]&&n[d]!==c.props[d]&&(u=!1)}),u&&a.push(e[AG(c.props)])}),a};function fx(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const JQ=vI();function KQ(n={}){const{defaultTheme:e=JQ,rootShouldForwardProp:t=fx,slotShouldForwardProp:r=fx}=n,i=s=>{const o=im(s.theme)?e:s.theme;return kw(Mi({},s,{theme:o}))};return i.__mui_systemSx=!0,(s,o={})=>{Bq(s,S=>S.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:a,slot:l,skipVariantsResolver:c,skipSx:u,overridesResolver:d}=o,f=mc(o,UQ),m=c!==void 0?c:l&&l!=="Root"||!1,g=u||!1;let v,_=fx;l==="Root"?_=t:l?_=r:VQ(s)&&(_=void 0);const x=xG(s,Mi({shouldForwardProp:_,label:v},f)),w=(S,...E)=>{const A=E?E.map(R=>typeof R=="function"&&R.__emotion_real!==R?O=>{let{theme:L}=O,J=mc(O,GQ);return R(Mi({theme:im(L)?e:L},J))}:R):[];let P=S;a&&d&&A.push(R=>{const O=im(R.theme)?e:R.theme,L=WQ(a,O);if(L){const J={};return Object.entries(L).forEach(([j,V])=>{J[j]=typeof V=="function"?V(Mi({},R,{theme:O})):V}),d(R,J)}return null}),a&&!m&&A.push(R=>{const O=im(R.theme)?e:R.theme;return $Q(R,jQ(a,O),O,a)}),g||A.push(i);const I=A.length-E.length;if(Array.isArray(S)&&I>0){const R=new Array(I).fill("");P=[...S,...R],P.raw=[...S.raw,...R]}else typeof S=="function"&&S.__emotion_real!==S&&(P=R=>{let{theme:O}=R,L=mc(R,HQ);return S(Mi({theme:im(O)?e:O},L))});return x(P,...A)};return x.withConfig&&(w.withConfig=x.withConfig),w}}function XQ(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:K5(e.components[t].defaultProps,r)}function YQ({props:n,name:e,defaultTheme:t}){const r=yI(t);return XQ({theme:r,name:e,props:n})}function _I(n,e=0,t=1){return Math.min(Math.max(e,n),t)}function qQ(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function cd(n){if(n.type)return n;if(n.charAt(0)==="#")return cd(qQ(n));const e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error(bf(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(bf(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}function Ow(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function QQ(n){n=cd(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+t/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),Ow({type:a,values:l})}function MB(n){n=cd(n);let e=n.type==="hsl"||n.type==="hsla"?cd(QQ(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function ZQ(n,e){const t=MB(n),r=MB(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function Tf(n,e){return n=cd(n),e=_I(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Ow(n)}function eZ(n,e){if(n=cd(n),e=_I(e),n.type.indexOf("hsl")!==-1)n.values[2]*=1-e;else if(n.type.indexOf("rgb")!==-1||n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Ow(n)}function tZ(n,e){if(n=cd(n),e=_I(e),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf("rgb")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Ow(n)}function nZ(n,e){return Ce({toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}}},e)}const rZ={black:"#000",white:"#fff"},tv=rZ,iZ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},sZ=iZ,oZ={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Jd=oZ,aZ={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Kd=aZ,lZ={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},aa=lZ,cZ={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Xd=cZ,uZ={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Yd=uZ,dZ={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},qd=dZ,hZ=["mode","contrastThreshold","tonalOffset"],TB={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:tv.white,default:tv.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},NE={text:{primary:tv.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:tv.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function PB(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=tZ(n.main,i):e==="dark"&&(n.dark=eZ(n.main,s)))}function fZ(n="light"){return n==="dark"?{main:Xd[200],light:Xd[50],dark:Xd[400]}:{main:Xd[700],light:Xd[400],dark:Xd[800]}}function pZ(n="light"){return n==="dark"?{main:Jd[200],light:Jd[50],dark:Jd[400]}:{main:Jd[500],light:Jd[300],dark:Jd[700]}}function mZ(n="light"){return n==="dark"?{main:Kd[500],light:Kd[300],dark:Kd[700]}:{main:Kd[700],light:Kd[400],dark:Kd[800]}}function gZ(n="light"){return n==="dark"?{main:Yd[400],light:Yd[300],dark:Yd[700]}:{main:Yd[700],light:Yd[500],dark:Yd[900]}}function vZ(n="light"){return n==="dark"?{main:qd[400],light:qd[300],dark:qd[700]}:{main:qd[800],light:qd[500],dark:qd[900]}}function yZ(n="light"){return n==="dark"?{main:aa[400],light:aa[300],dark:aa[700]}:{main:"#ed6c02",light:aa[500],dark:aa[900]}}function _Z(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2}=n,i=Kn(n,hZ),s=n.primary||fZ(e),o=n.secondary||pZ(e),a=n.error||mZ(e),l=n.info||gZ(e),c=n.success||vZ(e),u=n.warning||yZ(e);function d(v){return ZQ(v,NE.text.primary)>=t?NE.text.primary:TB.text.primary}const f=({color:v,name:_,mainShade:x=500,lightShade:w=300,darkShade:S=700})=>{if(v=Ce({},v),!v.main&&v[x]&&(v.main=v[x]),!v.hasOwnProperty("main"))throw new Error(bf(11,_?` (${_})`:"",x));if(typeof v.main!="string")throw new Error(bf(12,_?` (${_})`:"",JSON.stringify(v.main)));return PB(v,"light",w,r),PB(v,"dark",S,r),v.contrastText||(v.contrastText=d(v.main)),v},m={dark:NE,light:TB};return nl(Ce({common:Ce({},tv),mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:sZ,contrastThreshold:t,getContrastText:d,augmentColor:f,tonalOffset:r},m[e]),i)}const xZ=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function bZ(n){return Math.round(n*1e5)/1e5}const RB={textTransform:"uppercase"},IB='"Roboto", "Helvetica", "Arial", sans-serif';function wZ(n,e){const t=typeof e=="function"?e(n):e,{fontFamily:r=IB,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=t,f=Kn(t,xZ),m=i/14,g=d||(x=>`${x/c*m}rem`),v=(x,w,S,E,A)=>Ce({fontFamily:r,fontWeight:x,fontSize:g(w),lineHeight:S},r===IB?{letterSpacing:`${bZ(E/w)}em`}:{},A,u),_={h1:v(s,96,1.167,-1.5),h2:v(s,60,1.2,-.5),h3:v(o,48,1.167,0),h4:v(o,34,1.235,.25),h5:v(o,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(o,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(o,16,1.5,.15),body2:v(o,14,1.43,.15),button:v(a,14,1.75,.4,RB),caption:v(o,12,1.66,.4),overline:v(o,12,2.66,1,RB)};return nl(Ce({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},_),f,{clone:!1})}const SZ=.2,EZ=.14,CZ=.12;function Hn(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${SZ})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${EZ})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${CZ})`].join(",")}const AZ=["none",Hn(0,2,1,-1,0,1,1,0,0,1,3,0),Hn(0,3,1,-2,0,2,2,0,0,1,5,0),Hn(0,3,3,-2,0,3,4,0,0,1,8,0),Hn(0,2,4,-1,0,4,5,0,0,1,10,0),Hn(0,3,5,-1,0,5,8,0,0,1,14,0),Hn(0,3,5,-1,0,6,10,0,0,1,18,0),Hn(0,4,5,-2,0,7,10,1,0,2,16,1),Hn(0,5,5,-3,0,8,10,1,0,3,14,2),Hn(0,5,6,-3,0,9,12,1,0,3,16,2),Hn(0,6,6,-3,0,10,14,1,0,4,18,3),Hn(0,6,7,-4,0,11,15,1,0,4,20,3),Hn(0,7,8,-4,0,12,17,2,0,5,22,4),Hn(0,7,8,-4,0,13,19,2,0,5,24,4),Hn(0,7,9,-4,0,14,21,2,0,5,26,4),Hn(0,8,9,-5,0,15,22,2,0,6,28,5),Hn(0,8,10,-5,0,16,24,2,0,6,30,5),Hn(0,8,11,-5,0,17,26,2,0,6,32,5),Hn(0,9,11,-5,0,18,28,2,0,7,34,6),Hn(0,9,12,-6,0,19,29,2,0,7,36,6),Hn(0,10,13,-6,0,20,31,3,0,8,38,7),Hn(0,10,13,-6,0,21,33,3,0,8,40,7),Hn(0,10,14,-6,0,22,35,3,0,8,42,7),Hn(0,11,14,-7,0,23,36,3,0,9,44,8),Hn(0,11,15,-7,0,24,38,3,0,9,46,8)],MZ=AZ,TZ=["duration","easing","delay"],PZ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},MG={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function NB(n){return`${Math.round(n)}ms`}function RZ(n){if(!n)return 0;const e=n/36;return Math.round((4+15*e**.25+e/5)*10)}function IZ(n){const e=Ce({},PZ,n.easing),t=Ce({},MG,n.duration);return Ce({getAutoHeightDuration:RZ,create:(i=["all"],s={})=>{const{duration:o=t.standard,easing:a=e.easeInOut,delay:l=0}=s;return Kn(s,TZ),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:NB(o)} ${a} ${typeof l=="string"?l:NB(l)}`).join(",")}},n,{easing:e,duration:t})}const NZ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},kZ=NZ,OZ=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function TG(n={},...e){const{mixins:t={},palette:r={},transitions:i={},typography:s={}}=n,o=Kn(n,OZ);if(n.vars)throw new Error(bf(18));const a=_Z(r),l=vI(n);let c=nl(l,{mixins:nZ(l.breakpoints,t),palette:a,shadows:MZ.slice(),typography:wZ(a,s),transitions:IZ(i),zIndex:Ce({},kZ)});return c=nl(c,o),c=e.reduce((u,d)=>nl(u,d),c),c.unstable_sxConfig=Ce({},Nw,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return kw({sx:d,theme:this})},c}const LZ=TG(),xI=LZ;function Qr({props:n,name:e}){return YQ({props:n,name:e,defaultTheme:xI})}const BZ=n=>fx(n)&&n!=="classes",DZ=KQ({defaultTheme:xI,rootShouldForwardProp:BZ}),sn=DZ;function FZ(n){return Xr("MuiSvgIcon",n)}Yr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const zZ=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],UZ=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${pr(e)}`,`fontSize${pr(t)}`]};return ui(i,FZ,r)},GZ=sn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${pr(t.color)}`],e[`fontSize${pr(t.fontSize)}`]]}})(({theme:n,ownerState:e})=>{var t,r,i,s,o,a,l,c,u,d,f,m,g,v,_,x,w;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(t=n.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=n.transitions)==null||(s=i.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((o=n.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((l=n.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((u=n.typography)==null||(d=u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}[e.fontSize],color:(f=(m=(n.vars||n).palette)==null||(g=m[e.color])==null?void 0:g.main)!=null?f:{action:(v=(n.vars||n).palette)==null||(_=v.action)==null?void 0:_.active,disabled:(x=(n.vars||n).palette)==null||(w=x.action)==null?void 0:w.disabled,inherit:void 0}[e.color]}}),PG=k.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:f="0 0 24 24"}=r,m=Kn(r,zZ),g=Ce({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:f}),v={};u||(v.viewBox=f);const _=UZ(g);return F(GZ,Ce({as:a,className:Dt(_.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:t},v,m,{ownerState:g,children:[i,d?y("title",{children:d}):null]}))});PG.muiName="SvgIcon";const kB=PG;function Lw(n,e){function t(r,i){return y(kB,Ce({"data-testid":`${e}Icon`,ref:i},r,{children:n}))}return t.muiName=kB.muiName,k.memo(k.forwardRef(t))}const HZ={configure:n=>{qR.configure(n)}},VZ=Object.freeze(Object.defineProperty({__proto__:null,capitalize:pr,createChainedFunction:jK,createSvgIcon:Lw,debounce:Zx,deprecatedPropType:$K,isMuiElement:JK,ownerDocument:Xg,ownerWindow:KR,requirePropFactory:KK,setRef:eb,unstable_ClassNameGenerator:HZ,unstable_useEnhancedEffect:wf,unstable_useId:$5,unsupportedProp:qK,useControlled:XR,useEventCallback:Ya,useForkRef:_a,useIsFocusVisible:YR},Symbol.toStringTag,{value:"Module"})),WZ=C4(VZ);var OB;function Wc(){return OB||(OB=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=WZ}(PE)),PE}const jc=C4(N7);var jZ=ya;Object.defineProperty(JR,"__esModule",{value:!0});var RM=JR.default=void 0,$Z=jZ(Wc()),JZ=jc,KZ=(0,$Z.default)((0,JZ.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");RM=JR.default=KZ;var bI={},XZ=ya;Object.defineProperty(bI,"__esModule",{value:!0});var RG=bI.default=void 0,YZ=XZ(Wc()),qZ=jc,QZ=(0,YZ.default)((0,qZ.jsx)("path",{d:"M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z"}),"HomeRounded");RG=bI.default=QZ;var wI={},ZZ=ya;Object.defineProperty(wI,"__esModule",{value:!0});var IG=wI.default=void 0,eee=ZZ(Wc()),tee=jc,nee=(0,eee.default)((0,tee.jsx)("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"}),"ImportContactsOutlined");IG=wI.default=nee;var SI={},ree=ya;Object.defineProperty(SI,"__esModule",{value:!0});var NG=SI.default=void 0,iee=ree(Wc()),see=jc,oee=(0,iee.default)((0,see.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");NG=SI.default=oee;var EI={},aee=ya;Object.defineProperty(EI,"__esModule",{value:!0});var kG=EI.default=void 0,lee=aee(Wc()),cee=jc,uee=(0,lee.default)((0,cee.jsx)("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"}),"MusicNote");kG=EI.default=uee;var CI={},dee=ya;Object.defineProperty(CI,"__esModule",{value:!0});var OG=CI.default=void 0,hee=dee(Wc()),fee=jc,pee=(0,hee.default)((0,fee.jsx)("path",{d:"M4.27 3 3 4.27l9 9v.28c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4v-1.73L19.73 21 21 19.73 4.27 3zM14 7h4V3h-6v5.18l2 2z"}),"MusicOff");OG=CI.default=pee;const mee="/assets/Just-Relax_Lesfm-ad713bc1.mp3",gee=n=>{const[e]=k.useState(new Audio(mee)),[t,r]=k.useState(!1),i=()=>r(!t);return k.useEffect(()=>{t?e.play():e.pause()},[t]),k.useEffect(()=>(e.addEventListener("ended",()=>r(!1)),()=>{e.removeEventListener("ended",()=>r(!1))}),[]),[t,i]},vee=({url:n})=>{const[e,t]=gee();return y("button",{className:"musicbitch",onClick:t,children:e?y(kG,{className:"material-icons music-on"}):y(OG,{className:"material-icons music-off"})})},yee="/assets/rotate-device-4b4314ef.svg";function Jv(){return yI(xI)}const _ee=n=>{let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,(e/100).toFixed(2)},LB=_ee;var BB={},xee={get exports(){return BB},set exports(n){BB=n}},yn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AI=Symbol.for("react.element"),MI=Symbol.for("react.portal"),Bw=Symbol.for("react.fragment"),Dw=Symbol.for("react.strict_mode"),Fw=Symbol.for("react.profiler"),zw=Symbol.for("react.provider"),Uw=Symbol.for("react.context"),bee=Symbol.for("react.server_context"),Gw=Symbol.for("react.forward_ref"),Hw=Symbol.for("react.suspense"),Vw=Symbol.for("react.suspense_list"),Ww=Symbol.for("react.memo"),jw=Symbol.for("react.lazy"),wee=Symbol.for("react.offscreen"),LG;LG=Symbol.for("react.module.reference");function co(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case AI:switch(n=n.type,n){case Bw:case Fw:case Dw:case Hw:case Vw:return n;default:switch(n=n&&n.$$typeof,n){case bee:case Uw:case Gw:case jw:case Ww:case zw:return n;default:return e}}case MI:return e}}}yn.ContextConsumer=Uw;yn.ContextProvider=zw;yn.Element=AI;yn.ForwardRef=Gw;yn.Fragment=Bw;yn.Lazy=jw;yn.Memo=Ww;yn.Portal=MI;yn.Profiler=Fw;yn.StrictMode=Dw;yn.Suspense=Hw;yn.SuspenseList=Vw;yn.isAsyncMode=function(){return!1};yn.isConcurrentMode=function(){return!1};yn.isContextConsumer=function(n){return co(n)===Uw};yn.isContextProvider=function(n){return co(n)===zw};yn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===AI};yn.isForwardRef=function(n){return co(n)===Gw};yn.isFragment=function(n){return co(n)===Bw};yn.isLazy=function(n){return co(n)===jw};yn.isMemo=function(n){return co(n)===Ww};yn.isPortal=function(n){return co(n)===MI};yn.isProfiler=function(n){return co(n)===Fw};yn.isStrictMode=function(n){return co(n)===Dw};yn.isSuspense=function(n){return co(n)===Hw};yn.isSuspenseList=function(n){return co(n)===Vw};yn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Bw||n===Fw||n===Dw||n===Hw||n===Vw||n===wee||typeof n=="object"&&n!==null&&(n.$$typeof===jw||n.$$typeof===Ww||n.$$typeof===zw||n.$$typeof===Uw||n.$$typeof===Gw||n.$$typeof===LG||n.getModuleId!==void 0)};yn.typeOf=co;(function(n){n.exports=yn})(xee);function See(n){return(1+Math.sin(Math.PI*n-Math.PI/2))/2}function Eee(n,e,t,r={},i=()=>{}){const{ease:s=See,duration:o=300}=r;let a=null;const l=e[n];let c=!1;const u=()=>{c=!0},d=f=>{if(c){i(new Error("Animation cancelled"));return}a===null&&(a=f);const m=Math.min(1,(f-a)/o);if(e[n]=s(m)*(t-l)+l,m>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return l===t?(i(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const Cee=["onChange"],Aee={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Mee(n){const{onChange:e}=n,t=Kn(n,Cee),r=k.useRef(),i=k.useRef(null),s=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return k.useEffect(()=>{const o=Zx(()=>{const l=r.current;s(),l!==r.current&&e(r.current)}),a=KR(i.current);return a.addEventListener("resize",o),()=>{o.clear(),a.removeEventListener("resize",o)}},[e]),k.useEffect(()=>{s(),e(r.current)},[e]),y("div",Ce({style:Aee,ref:i},t))}const Tee=Lw(y("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Pee=Lw(y("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function IM(){return IM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},IM.apply(this,arguments)}function BG(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function NM(n,e){return NM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NM(n,e)}function DG(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,NM(n,e)}const DB={disabled:!1},ib=mt.createContext(null);var Ree=function(e){return e.scrollTop},Wm="unmounted",bu="exited",wu="entering",bh="entered",kM="exiting",_l=function(n){DG(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=bu,s.appearStatus=wu):l=bh:r.unmountOnExit||r.mountOnEnter?l=Wm:l=bu,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Wm?{status:bu}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==wu&&o!==bh&&(s=wu):(o===wu||o===bh)&&(s=kM)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},t.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===wu){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ws.findDOMNode(this);o&&Ree(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===bu&&this.setState({status:Wm})},t.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[ws.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||DB.disabled){this.safeSetState({status:bh},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:wu},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:bh},function(){s.props.onEntered(c,u)})})})},t.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:ws.findDOMNode(this);if(!s||DB.disabled){this.safeSetState({status:bu},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:kM},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:bu},function(){i.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},t.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:ws.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Wm)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=BG(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return mt.createElement(ib.Provider,{value:null},typeof o=="function"?o(i,a):mt.cloneElement(mt.Children.only(o),a))},e}(mt.Component);_l.contextType=ib;_l.propTypes={};function Qd(){}_l.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Qd,onEntering:Qd,onEntered:Qd,onExit:Qd,onExiting:Qd,onExited:Qd};_l.UNMOUNTED=Wm;_l.EXITED=bu;_l.ENTERING=wu;_l.ENTERED=bh;_l.EXITING=kM;const FG=_l;function Iee(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function TI(n,e){var t=function(s){return e&&k.isValidElement(s)?e(s):s},r=Object.create(null);return n&&k.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function Nee(n,e){n=n||{},e=e||{};function t(u){return u in e?e[u]:n[u]}var r=Object.create(null),i=[];for(var s in n)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=t(c)}a[l]=t(l)}for(o=0;o<i.length;o++)a[i[o]]=t(i[o]);return a}function Du(n,e,t){return t[e]!=null?t[e]:n.props[e]}function kee(n,e){return TI(n.children,function(t){return k.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Du(t,"appear",n),enter:Du(t,"enter",n),exit:Du(t,"exit",n)})})}function Oee(n,e,t){var r=TI(n.children),i=Nee(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(k.isValidElement(o)){var a=s in e,l=s in r,c=e[s],u=k.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=k.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:Du(o,"exit",n),enter:Du(o,"enter",n)}):!l&&a&&!u?i[s]=k.cloneElement(o,{in:!1}):l&&a&&k.isValidElement(c)&&(i[s]=k.cloneElement(o,{onExited:t.bind(null,o),in:c.props.in,exit:Du(o,"exit",n),enter:Du(o,"enter",n)}))}}),i}var Lee=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},Bee={component:"div",childFactory:function(e){return e}},PI=function(n){DG(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=s.handleExited.bind(Iee(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?kee(i,a):Oee(i,o,a),firstRender:!1}},t.handleExited=function(i,s){var o=TI(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=IM({},a.children);return delete l[i.key],{children:l}}))},t.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=BG(i,["component","childFactory"]),l=this.state.contextValue,c=Lee(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?mt.createElement(ib.Provider,{value:l},c):mt.createElement(ib.Provider,{value:l},mt.createElement(s,a,c))},e}(mt.Component);PI.propTypes={};PI.defaultProps=Bee;const Dee=PI;function Fee(n){const{className:e,classes:t,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=n,[u,d]=k.useState(!1),f=Dt(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),m={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},g=Dt(t.child,u&&t.childLeaving,r&&t.childPulsate);return!a&&!u&&d(!0),k.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,c);return()=>{clearTimeout(v)}}},[l,a,c]),y("span",{className:f,style:m,children:y("span",{className:g})})}const zee=Yr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Js=zee,Uee=["center","classes","className"];let $w=n=>n,FB,zB,UB,GB;const OM=550,Gee=80,Hee=hI(FB||(FB=$w`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Vee=hI(zB||(zB=$w`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Wee=hI(UB||(UB=$w`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),jee=sn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),$ee=sn(Fee,{name:"MuiTouchRipple",slot:"Ripple"})(GB||(GB=$w`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Js.rippleVisible,Hee,OM,({theme:n})=>n.transitions.easing.easeInOut,Js.ripplePulsate,({theme:n})=>n.transitions.duration.shorter,Js.child,Js.childLeaving,Vee,OM,({theme:n})=>n.transitions.easing.easeInOut,Js.childPulsate,Wee,({theme:n})=>n.transitions.easing.easeInOut),Jee=k.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Kn(r,Uee),[l,c]=k.useState([]),u=k.useRef(0),d=k.useRef(null);k.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const f=k.useRef(!1),m=k.useRef(null),g=k.useRef(null),v=k.useRef(null);k.useEffect(()=>()=>{clearTimeout(m.current)},[]);const _=k.useCallback(E=>{const{pulsate:A,rippleX:P,rippleY:I,rippleSize:T,cb:R}=E;c(O=>[...O,y($ee,{classes:{ripple:Dt(s.ripple,Js.ripple),rippleVisible:Dt(s.rippleVisible,Js.rippleVisible),ripplePulsate:Dt(s.ripplePulsate,Js.ripplePulsate),child:Dt(s.child,Js.child),childLeaving:Dt(s.childLeaving,Js.childLeaving),childPulsate:Dt(s.childPulsate,Js.childPulsate)},timeout:OM,pulsate:A,rippleX:P,rippleY:I,rippleSize:T},u.current)]),u.current+=1,d.current=R},[s]),x=k.useCallback((E={},A={},P=()=>{})=>{const{pulsate:I=!1,center:T=i||A.pulsate,fakeElement:R=!1}=A;if((E==null?void 0:E.type)==="mousedown"&&f.current){f.current=!1;return}(E==null?void 0:E.type)==="touchstart"&&(f.current=!0);const O=R?null:v.current,L=O?O.getBoundingClientRect():{width:0,height:0,left:0,top:0};let J,j,V;if(T||E===void 0||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)J=Math.round(L.width/2),j=Math.round(L.height/2);else{const{clientX:K,clientY:Q}=E.touches&&E.touches.length>0?E.touches[0]:E;J=Math.round(K-L.left),j=Math.round(Q-L.top)}if(T)V=Math.sqrt((2*L.width**2+L.height**2)/3),V%2===0&&(V+=1);else{const K=Math.max(Math.abs((O?O.clientWidth:0)-J),J)*2+2,Q=Math.max(Math.abs((O?O.clientHeight:0)-j),j)*2+2;V=Math.sqrt(K**2+Q**2)}E!=null&&E.touches?g.current===null&&(g.current=()=>{_({pulsate:I,rippleX:J,rippleY:j,rippleSize:V,cb:P})},m.current=setTimeout(()=>{g.current&&(g.current(),g.current=null)},Gee)):_({pulsate:I,rippleX:J,rippleY:j,rippleSize:V,cb:P})},[i,_]),w=k.useCallback(()=>{x({},{pulsate:!0})},[x]),S=k.useCallback((E,A)=>{if(clearTimeout(m.current),(E==null?void 0:E.type)==="touchend"&&g.current){g.current(),g.current=null,m.current=setTimeout(()=>{S(E,A)});return}g.current=null,c(P=>P.length>0?P.slice(1):P),d.current=A},[]);return k.useImperativeHandle(t,()=>({pulsate:w,start:x,stop:S}),[w,x,S]),y(jee,Ce({className:Dt(Js.root,s.root,o),ref:v},a,{children:y(Dee,{component:null,exit:!0,children:l})}))}),Kee=Jee;function Xee(n){return Xr("MuiButtonBase",n)}const Yee=Yr("MuiButtonBase",["root","disabled","focusVisible"]),qee=Yee,Qee=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Zee=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:i}=n,o=ui({root:["root",e&&"disabled",t&&"focusVisible"]},Xee,i);return t&&r&&(o.root+=` ${r}`),o},ete=sn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${qee.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),tte=k.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:f=!1,LinkComponent:m="a",onBlur:g,onClick:v,onContextMenu:_,onDragLeave:x,onFocus:w,onFocusVisible:S,onKeyDown:E,onKeyUp:A,onMouseDown:P,onMouseLeave:I,onMouseUp:T,onTouchEnd:R,onTouchMove:O,onTouchStart:L,tabIndex:J=0,TouchRippleProps:j,touchRippleRef:V,type:K}=r,Q=Kn(r,Qee),te=k.useRef(null),D=k.useRef(null),$=_a(D,V),{isFocusVisibleRef:X,onFocus:ue,onBlur:Y,ref:pe}=YR(),[ye,ne]=k.useState(!1);c&&ye&&ne(!1),k.useImperativeHandle(i,()=>({focusVisible:()=>{ne(!0),te.current.focus()}}),[]);const[fe,Ee]=k.useState(!1);k.useEffect(()=>{Ee(!0)},[]);const Re=fe&&!u&&!c;k.useEffect(()=>{ye&&f&&!u&&fe&&D.current.pulsate()},[u,f,ye,fe]);function Me(ie,oe,Ne=d){return Ya(W=>(oe&&oe(W),!Ne&&D.current&&D.current[ie](W),!0))}const Ue=Me("start",P),Ge=Me("stop",_),me=Me("stop",x),_e=Me("stop",T),ke=Me("stop",ie=>{ye&&ie.preventDefault(),I&&I(ie)}),$e=Me("start",L),Fe=Me("stop",R),Ye=Me("stop",O),Xe=Me("stop",ie=>{Y(ie),X.current===!1&&ne(!1),g&&g(ie)},!1),et=Ya(ie=>{te.current||(te.current=ie.currentTarget),ue(ie),X.current===!0&&(ne(!0),S&&S(ie)),w&&w(ie)}),at=()=>{const ie=te.current;return l&&l!=="button"&&!(ie.tagName==="A"&&ie.href)},it=k.useRef(!1),G=Ya(ie=>{f&&!it.current&&ye&&D.current&&ie.key===" "&&(it.current=!0,D.current.stop(ie,()=>{D.current.start(ie)})),ie.target===ie.currentTarget&&at()&&ie.key===" "&&ie.preventDefault(),E&&E(ie),ie.target===ie.currentTarget&&at()&&ie.key==="Enter"&&!c&&(ie.preventDefault(),v&&v(ie))}),B=Ya(ie=>{f&&ie.key===" "&&D.current&&ye&&!ie.defaultPrevented&&(it.current=!1,D.current.stop(ie,()=>{D.current.pulsate(ie)})),A&&A(ie),v&&ie.target===ie.currentTarget&&at()&&ie.key===" "&&!ie.defaultPrevented&&v(ie)});let ae=l;ae==="button"&&(Q.href||Q.to)&&(ae=m);const Te={};ae==="button"?(Te.type=K===void 0?"button":K,Te.disabled=c):(!Q.href&&!Q.to&&(Te.role="button"),c&&(Te["aria-disabled"]=c));const Ie=_a(t,pe,te),De=Ce({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:f,tabIndex:J,focusVisible:ye}),xe=Zee(De);return F(ete,Ce({as:ae,className:Dt(xe.root,a),ownerState:De,onBlur:Xe,onClick:v,onContextMenu:Ge,onFocus:et,onKeyDown:G,onKeyUp:B,onMouseDown:Ue,onMouseLeave:ke,onMouseUp:_e,onDragLeave:me,onTouchEnd:Fe,onTouchMove:Ye,onTouchStart:$e,ref:Ie,tabIndex:c?-1:J,type:K},Te,Q,{children:[o,Re?y(Kee,Ce({ref:$,center:s},j)):null]}))}),Jw=tte;function nte(n){return Xr("MuiTabScrollButton",n)}const rte=Yr("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),ite=rte;var HB,VB;const ste=["className","direction","orientation","disabled"],ote=n=>{const{classes:e,orientation:t,disabled:r}=n;return ui({root:["root",t,r&&"disabled"]},nte,e)},ate=sn(Jw,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.orientation&&e[t.orientation]]}})(({ownerState:n})=>Ce({width:40,flexShrink:0,opacity:.8,[`&.${ite.disabled}`]:{opacity:0}},n.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${n.isRtl?-90:90}deg)`}})),lte=k.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiTabScrollButton"}),{className:i,direction:s}=r,o=Kn(r,ste),l=Jv().direction==="rtl",c=Ce({isRtl:l},r),u=ote(c);return y(ate,Ce({component:"div",className:Dt(u.root,i),ref:t,role:null,ownerState:c,tabIndex:null},o,{children:s==="left"?HB||(HB=y(Tee,{fontSize:"small"})):VB||(VB=y(Pee,{fontSize:"small"}))}))}),cte=lte;function ute(n){return Xr("MuiTabs",n)}const dte=Yr("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),kE=dte,hte=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],WB=(n,e)=>n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n.firstChild,jB=(n,e)=>n===e?n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n.lastChild,Ky=(n,e,t)=>{let r=!1,i=t(n,e);for(;i;){if(i===n.firstChild){if(r)return;r=!0}const s=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||s)i=t(n,i);else{i.focus();return}}},fte=n=>{const{vertical:e,fixed:t,hideScrollbar:r,scrollableX:i,scrollableY:s,centered:o,scrollButtonsHideMobile:a,classes:l}=n;return ui({root:["root",e&&"vertical"],scroller:["scroller",t&&"fixed",r&&"hideScrollbar",i&&"scrollableX",s&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},ute,l)},pte=sn("div",{name:"MuiTabs",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${kE.scrollButtons}`]:e.scrollButtons},{[`& .${kE.scrollButtons}`]:t.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,t.vertical&&e.vertical]}})(({ownerState:n,theme:e})=>Ce({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},n.vertical&&{flexDirection:"column"},n.scrollButtonsHideMobile&&{[`& .${kE.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),mte=sn("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.scroller,t.fixed&&e.fixed,t.hideScrollbar&&e.hideScrollbar,t.scrollableX&&e.scrollableX,t.scrollableY&&e.scrollableY]}})(({ownerState:n})=>Ce({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},n.fixed&&{overflowX:"hidden",width:"100%"},n.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},n.scrollableX&&{overflowX:"auto",overflowY:"hidden"},n.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),gte=sn("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.flexContainer,t.vertical&&e.flexContainerVertical,t.centered&&e.centered]}})(({ownerState:n})=>Ce({display:"flex"},n.vertical&&{flexDirection:"column"},n.centered&&{justifyContent:"center"})),vte=sn("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(n,e)=>e.indicator})(({ownerState:n,theme:e})=>Ce({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},n.indicatorColor==="primary"&&{backgroundColor:(e.vars||e).palette.primary.main},n.indicatorColor==="secondary"&&{backgroundColor:(e.vars||e).palette.secondary.main},n.vertical&&{height:"100%",width:2,right:0})),yte=sn(Mee,{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),$B={},_te=k.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiTabs"}),i=Jv(),s=i.direction==="rtl",{"aria-label":o,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:d,component:f="div",allowScrollButtonsMobile:m=!1,indicatorColor:g="primary",onChange:v,orientation:_="horizontal",ScrollButtonComponent:x=cte,scrollButtons:w="auto",selectionFollowsFocus:S,TabIndicatorProps:E={},TabScrollButtonProps:A={},textColor:P="primary",value:I,variant:T="standard",visibleScrollbar:R=!1}=r,O=Kn(r,hte),L=T==="scrollable",J=_==="vertical",j=J?"scrollTop":"scrollLeft",V=J?"top":"left",K=J?"bottom":"right",Q=J?"clientHeight":"clientWidth",te=J?"height":"width",D=Ce({},r,{component:f,allowScrollButtonsMobile:m,indicatorColor:g,orientation:_,vertical:J,scrollButtons:w,textColor:P,variant:T,visibleScrollbar:R,fixed:!L,hideScrollbar:L&&!R,scrollableX:L&&!J,scrollableY:L&&J,centered:c&&!L,scrollButtonsHideMobile:!m}),$=fte(D),[X,ue]=k.useState(!1),[Y,pe]=k.useState($B),[ye,ne]=k.useState({start:!1,end:!1}),[fe,Ee]=k.useState({overflow:"hidden",scrollbarWidth:0}),Re=new Map,Me=k.useRef(null),Ue=k.useRef(null),Ge=()=>{const xe=Me.current;let ie;if(xe){const Ne=xe.getBoundingClientRect();ie={clientWidth:xe.clientWidth,scrollLeft:xe.scrollLeft,scrollTop:xe.scrollTop,scrollLeftNormalized:iB(xe,i.direction),scrollWidth:xe.scrollWidth,top:Ne.top,bottom:Ne.bottom,left:Ne.left,right:Ne.right}}let oe;if(xe&&I!==!1){const Ne=Ue.current.children;if(Ne.length>0){const W=Ne[Re.get(I)];oe=W?W.getBoundingClientRect():null}}return{tabsMeta:ie,tabMeta:oe}},me=Ya(()=>{const{tabsMeta:xe,tabMeta:ie}=Ge();let oe=0,Ne;if(J)Ne="top",ie&&xe&&(oe=ie.top-xe.top+xe.scrollTop);else if(Ne=s?"right":"left",ie&&xe){const de=s?xe.scrollLeftNormalized+xe.clientWidth-xe.scrollWidth:xe.scrollLeft;oe=(s?-1:1)*(ie[Ne]-xe[Ne]+de)}const W={[Ne]:oe,[te]:ie?ie[te]:0};if(isNaN(Y[Ne])||isNaN(Y[te]))pe(W);else{const de=Math.abs(Y[Ne]-W[Ne]),Ae=Math.abs(Y[te]-W[te]);(de>=1||Ae>=1)&&pe(W)}}),_e=(xe,{animation:ie=!0}={})=>{ie?Eee(j,Me.current,xe,{duration:i.transitions.duration.standard}):Me.current[j]=xe},ke=xe=>{let ie=Me.current[j];J?ie+=xe:(ie+=xe*(s?-1:1),ie*=s&&J5()==="reverse"?-1:1),_e(ie)},$e=()=>{const xe=Me.current[Q];let ie=0;const oe=Array.from(Ue.current.children);for(let Ne=0;Ne<oe.length;Ne+=1){const W=oe[Ne];if(ie+W[Q]>xe){Ne===0&&(ie=xe);break}ie+=W[Q]}return ie},Fe=()=>{ke(-1*$e())},Ye=()=>{ke($e())},Xe=k.useCallback(xe=>{Ee({overflow:null,scrollbarWidth:xe})},[]),et=()=>{const xe={};xe.scrollbarSizeListener=L?y(yte,{onChange:Xe,className:Dt($.scrollableX,$.hideScrollbar)}):null;const ie=ye.start||ye.end,oe=L&&(w==="auto"&&ie||w===!0);return xe.scrollButtonStart=oe?y(x,Ce({orientation:_,direction:s?"right":"left",onClick:Fe,disabled:!ye.start},A,{className:Dt($.scrollButtons,A.className)})):null,xe.scrollButtonEnd=oe?y(x,Ce({orientation:_,direction:s?"left":"right",onClick:Ye,disabled:!ye.end},A,{className:Dt($.scrollButtons,A.className)})):null,xe},at=Ya(xe=>{const{tabsMeta:ie,tabMeta:oe}=Ge();if(!(!oe||!ie)){if(oe[V]<ie[V]){const Ne=ie[j]+(oe[V]-ie[V]);_e(Ne,{animation:xe})}else if(oe[K]>ie[K]){const Ne=ie[j]+(oe[K]-ie[K]);_e(Ne,{animation:xe})}}}),it=Ya(()=>{if(L&&w!==!1){const{scrollTop:xe,scrollHeight:ie,clientHeight:oe,scrollWidth:Ne,clientWidth:W}=Me.current;let de,Ae;if(J)de=xe>1,Ae=xe<ie-oe-1;else{const Oe=iB(Me.current,i.direction);de=s?Oe<Ne-W-1:Oe>1,Ae=s?Oe>1:Oe<Ne-W-1}(de!==ye.start||Ae!==ye.end)&&ne({start:de,end:Ae})}});k.useEffect(()=>{const xe=Zx(()=>{Me.current&&(me(),it())}),ie=KR(Me.current);ie.addEventListener("resize",xe);let oe;return typeof ResizeObserver<"u"&&(oe=new ResizeObserver(xe),Array.from(Ue.current.children).forEach(Ne=>{oe.observe(Ne)})),()=>{xe.clear(),ie.removeEventListener("resize",xe),oe&&oe.disconnect()}},[me,it]);const G=k.useMemo(()=>Zx(()=>{it()}),[it]);k.useEffect(()=>()=>{G.clear()},[G]),k.useEffect(()=>{ue(!0)},[]),k.useEffect(()=>{me(),it()}),k.useEffect(()=>{at($B!==Y)},[at,Y]),k.useImperativeHandle(l,()=>({updateIndicator:me,updateScrollButtons:it}),[me,it]);const B=y(vte,Ce({},E,{className:Dt($.indicator,E.className),ownerState:D,style:Ce({},Y,E.style)}));let ae=0;const Te=k.Children.map(u,xe=>{if(!k.isValidElement(xe))return null;const ie=xe.props.value===void 0?ae:xe.props.value;Re.set(ie,ae);const oe=ie===I;return ae+=1,k.cloneElement(xe,Ce({fullWidth:T==="fullWidth",indicator:oe&&!X&&B,selected:oe,selectionFollowsFocus:S,onChange:v,textColor:P,value:ie},ae===1&&I===!1&&!xe.props.tabIndex?{tabIndex:0}:{}))}),Ie=xe=>{const ie=Ue.current,oe=Xg(ie).activeElement;if(oe.getAttribute("role")!=="tab")return;let W=_==="horizontal"?"ArrowLeft":"ArrowUp",de=_==="horizontal"?"ArrowRight":"ArrowDown";switch(_==="horizontal"&&s&&(W="ArrowRight",de="ArrowLeft"),xe.key){case W:xe.preventDefault(),Ky(ie,oe,jB);break;case de:xe.preventDefault(),Ky(ie,oe,WB);break;case"Home":xe.preventDefault(),Ky(ie,null,WB);break;case"End":xe.preventDefault(),Ky(ie,null,jB);break}},De=et();return F(pte,Ce({className:Dt($.root,d),ownerState:D,ref:t,as:f},O,{children:[De.scrollButtonStart,De.scrollbarSizeListener,F(mte,{className:$.scroller,ownerState:D,style:{overflow:fe.overflow,[J?`margin${s?"Left":"Right"}`:"marginBottom"]:R?void 0:-fe.scrollbarWidth},ref:Me,onScroll:G,children:[y(gte,{"aria-label":o,"aria-labelledby":a,"aria-orientation":_==="vertical"?"vertical":null,className:$.flexContainer,ownerState:D,onKeyDown:Ie,ref:Ue,role:"tablist",children:Te}),X&&B]}),De.scrollButtonEnd]}))}),xte=_te;function bte(n){return Xr("MuiTab",n)}const wte=Yr("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),ou=wte,Ste=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Ete=n=>{const{classes:e,textColor:t,fullWidth:r,wrapped:i,icon:s,label:o,selected:a,disabled:l}=n,c={root:["root",s&&o&&"labelIcon",`textColor${pr(t)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return ui(c,bte,e)},Cte=sn(Jw,{name:"MuiTab",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.label&&t.icon&&e.labelIcon,e[`textColor${pr(t.textColor)}`],t.fullWidth&&e.fullWidth,t.wrapped&&e.wrapped]}})(({theme:n,ownerState:e})=>Ce({},n.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${ou.iconWrapper}`]:Ce({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:n.spacing(1)},e.iconPosition==="end"&&{marginLeft:n.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${ou.selected}`]:{opacity:1},[`&.${ou.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity}},e.textColor==="primary"&&{color:(n.vars||n).palette.text.secondary,[`&.${ou.selected}`]:{color:(n.vars||n).palette.primary.main},[`&.${ou.disabled}`]:{color:(n.vars||n).palette.text.disabled}},e.textColor==="secondary"&&{color:(n.vars||n).palette.text.secondary,[`&.${ou.selected}`]:{color:(n.vars||n).palette.secondary.main},[`&.${ou.disabled}`]:{color:(n.vars||n).palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:n.typography.pxToRem(12)})),Ate=k.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiTab"}),{className:i,disabled:s=!1,disableFocusRipple:o=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:f,onClick:m,onFocus:g,selected:v,selectionFollowsFocus:_,textColor:x="inherit",value:w,wrapped:S=!1}=r,E=Kn(r,Ste),A=Ce({},r,{disabled:s,disableFocusRipple:o,selected:v,icon:!!l,iconPosition:c,label:!!d,fullWidth:a,textColor:x,wrapped:S}),P=Ete(A),I=l&&d&&k.isValidElement(l)?k.cloneElement(l,{className:Dt(P.iconWrapper,l.props.className)}):l,T=O=>{!v&&f&&f(O,w),m&&m(O)},R=O=>{_&&!v&&f&&f(O,w),g&&g(O)};return F(Cte,Ce({focusRipple:!o,className:Dt(P.root,i),ref:t,role:"tab","aria-selected":v,disabled:s,onClick:T,onFocus:R,ownerState:A,tabIndex:v?0:-1},E,{children:[c==="top"||c==="start"?F(k.Fragment,{children:[I,d]}):F(k.Fragment,{children:[d,I]}),u]}))}),sm=Ate;function Mte(n){return Xr("MuiTypography",n)}Yr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Tte=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Pte=n=>{const{align:e,gutterBottom:t,noWrap:r,paragraph:i,variant:s,classes:o}=n,a={root:["root",s,n.align!=="inherit"&&`align${pr(e)}`,t&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return ui(a,Mte,o)},Rte=sn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${pr(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(({theme:n,ownerState:e})=>Ce({margin:0},e.variant&&n.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),JB={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ite={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Nte=n=>Ite[n]||n,kte=k.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiTypography"}),i=Nte(r.color),s=EG(Ce({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:f="body1",variantMapping:m=JB}=s,g=Kn(s,Tte),v=Ce({},s,{align:o,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:f,variantMapping:m}),_=l||(d?"p":m[f]||JB[f])||"span",x=Pte(v);return y(Rte,Ce({as:_,ref:t,ownerState:v,className:Dt(x.root,a)},g))}),We=kte,Ote=TG(),Lte=FQ({defaultTheme:Ote,defaultClassName:"MuiBox-root",generateClassName:qR.generate}),Bte=Lte,Dte=n=>n.scrollTop;function sb(n,e){var t,r;const{timeout:i,easing:s,style:o={}}=n;return{duration:(t=o.transitionDuration)!=null?t:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function Fte(n){return Xr("MuiCollapse",n)}Yr("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const zte=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Ute=n=>{const{orientation:e,classes:t}=n,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return ui(r,Fte,t)},Gte=sn("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.orientation],t.state==="entered"&&e.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&e.hidden]}})(({theme:n,ownerState:e})=>Ce({height:0,overflow:"hidden",transition:n.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:n.transitions.create("width")},e.state==="entered"&&Ce({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),Hte=sn("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(n,e)=>e.wrapper})(({ownerState:n})=>Ce({display:"flex",width:"100%"},n.orientation==="horizontal"&&{width:"auto",height:"100%"})),Vte=sn("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(n,e)=>e.wrapperInner})(({ownerState:n})=>Ce({width:"100%"},n.orientation==="horizontal"&&{width:"auto",height:"100%"})),zG=k.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiCollapse"}),{addEndListener:i,children:s,className:o,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:f,onEntering:m,onExit:g,onExited:v,onExiting:_,orientation:x="vertical",style:w,timeout:S=MG.standard,TransitionComponent:E=FG}=r,A=Kn(r,zte),P=Ce({},r,{orientation:x,collapsedSize:a}),I=Ute(P),T=Jv(),R=k.useRef(),O=k.useRef(null),L=k.useRef(),J=typeof a=="number"?`${a}px`:a,j=x==="horizontal",V=j?"width":"height";k.useEffect(()=>()=>{clearTimeout(R.current)},[]);const K=k.useRef(null),Q=_a(t,K),te=fe=>Ee=>{if(fe){const Re=K.current;Ee===void 0?fe(Re):fe(Re,Ee)}},D=()=>O.current?O.current[j?"clientWidth":"clientHeight"]:0,$=te((fe,Ee)=>{O.current&&j&&(O.current.style.position="absolute"),fe.style[V]=J,d&&d(fe,Ee)}),X=te((fe,Ee)=>{const Re=D();O.current&&j&&(O.current.style.position="");const{duration:Me,easing:Ue}=sb({style:w,timeout:S,easing:c},{mode:"enter"});if(S==="auto"){const Ge=T.transitions.getAutoHeightDuration(Re);fe.style.transitionDuration=`${Ge}ms`,L.current=Ge}else fe.style.transitionDuration=typeof Me=="string"?Me:`${Me}ms`;fe.style[V]=`${Re}px`,fe.style.transitionTimingFunction=Ue,m&&m(fe,Ee)}),ue=te((fe,Ee)=>{fe.style[V]="auto",f&&f(fe,Ee)}),Y=te(fe=>{fe.style[V]=`${D()}px`,g&&g(fe)}),pe=te(v),ye=te(fe=>{const Ee=D(),{duration:Re,easing:Me}=sb({style:w,timeout:S,easing:c},{mode:"exit"});if(S==="auto"){const Ue=T.transitions.getAutoHeightDuration(Ee);fe.style.transitionDuration=`${Ue}ms`,L.current=Ue}else fe.style.transitionDuration=typeof Re=="string"?Re:`${Re}ms`;fe.style[V]=J,fe.style.transitionTimingFunction=Me,_&&_(fe)});return y(E,Ce({in:u,onEnter:$,onEntered:ue,onEntering:X,onExit:Y,onExited:pe,onExiting:ye,addEndListener:fe=>{S==="auto"&&(R.current=setTimeout(fe,L.current||0)),i&&i(K.current,fe)},nodeRef:K,timeout:S==="auto"?null:S},A,{children:(fe,Ee)=>y(Gte,Ce({as:l,className:Dt(I.root,o,{entered:I.entered,exited:!u&&J==="0px"&&I.hidden}[fe]),style:Ce({[j?"minWidth":"minHeight"]:J},w),ownerState:Ce({},P,{state:fe}),ref:Q},Ee,{children:y(Hte,{ownerState:Ce({},P,{state:fe}),className:I.wrapper,ref:O,children:y(Vte,{ownerState:Ce({},P,{state:fe}),className:I.wrapperInner,children:s})})}))}))});zG.muiSupportAuto=!0;const Wte=zG;function jte(n){return Xr("MuiPaper",n)}Yr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const $te=["className","component","elevation","square","variant"],Jte=n=>{const{square:e,elevation:t,variant:r,classes:i}=n,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return ui(s,jte,i)},Kte=sn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(({theme:n,ownerState:e})=>{var t;return Ce({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!e.square&&{borderRadius:n.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.divider}`},e.variant==="elevation"&&Ce({boxShadow:(n.vars||n).shadows[e.elevation]},!n.vars&&n.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Tf("#fff",LB(e.elevation))}, ${Tf("#fff",LB(e.elevation))})`},n.vars&&{backgroundImage:(t=n.vars.overlays)==null?void 0:t[e.elevation]}))}),Xte=k.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=Kn(r,$te),u=Ce({},r,{component:s,elevation:o,square:a,variant:l}),d=Jte(u);return y(Kte,Ce({as:s,ownerState:u,className:Dt(d.root,i),ref:t},c))}),UG=Xte,Yte=k.createContext({}),GG=Yte;function qte(n){return Xr("MuiAccordion",n)}const Qte=Yr("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),Xy=Qte,Zte=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],ene=n=>{const{classes:e,square:t,expanded:r,disabled:i,disableGutters:s}=n;return ui({root:["root",!t&&"rounded",r&&"expanded",i&&"disabled",!s&&"gutters"],region:["region"]},qte,e)},tne=sn(UG,{name:"MuiAccordion",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Xy.region}`]:e.region},e.root,!t.square&&e.rounded,!t.disableGutters&&e.gutters]}})(({theme:n})=>{const e={duration:n.transitions.duration.shortest};return{position:"relative",transition:n.transitions.create(["margin"],e),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(n.vars||n).palette.divider,transition:n.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${Xy.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${Xy.disabled}`]:{backgroundColor:(n.vars||n).palette.action.disabledBackground}}},({theme:n,ownerState:e})=>Ce({},!e.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(n.vars||n).shape.borderRadius,borderBottomRightRadius:(n.vars||n).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!e.disableGutters&&{[`&.${Xy.expanded}`]:{margin:"16px 0"}})),nne=k.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiAccordion"}),{children:i,className:s,defaultExpanded:o=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,TransitionComponent:f=Wte,TransitionProps:m}=r,g=Kn(r,Zte),[v,_]=XR({controlled:c,default:o,name:"Accordion",state:"expanded"}),x=k.useCallback(I=>{_(!v),u&&u(I,!v)},[v,u,_]),[w,...S]=k.Children.toArray(i),E=k.useMemo(()=>({expanded:v,disabled:a,disableGutters:l,toggle:x}),[v,a,l,x]),A=Ce({},r,{square:d,disabled:a,disableGutters:l,expanded:v}),P=ene(A);return F(tne,Ce({className:Dt(P.root,s),ref:t,ownerState:A,square:d},g,{children:[y(GG.Provider,{value:E,children:w}),y(f,Ce({in:v,timeout:"auto"},m,{children:y("div",{"aria-labelledby":w.props.id,id:w.props["aria-controls"],role:"region",className:P.region,children:S})}))]}))}),Wt=nne;function rne(n){return Xr("MuiAccordionSummary",n)}const ine=Yr("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Fh=ine,sne=["children","className","expandIcon","focusVisibleClassName","onClick"],one=n=>{const{classes:e,expanded:t,disabled:r,disableGutters:i}=n;return ui({root:["root",t&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",t&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",t&&"expanded"]},rne,e)},ane=sn(Jw,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n,ownerState:e})=>{const t={duration:n.transitions.duration.shortest};return Ce({display:"flex",minHeight:48,padding:n.spacing(0,2),transition:n.transitions.create(["min-height","background-color"],t),[`&.${Fh.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${Fh.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`&:hover:not(.${Fh.disabled})`]:{cursor:"pointer"}},!e.disableGutters&&{[`&.${Fh.expanded}`]:{minHeight:64}})}),lne=sn("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(n,e)=>e.content})(({theme:n,ownerState:e})=>Ce({display:"flex",flexGrow:1,margin:"12px 0"},!e.disableGutters&&{transition:n.transitions.create(["margin"],{duration:n.transitions.duration.shortest}),[`&.${Fh.expanded}`]:{margin:"20px 0"}})),cne=sn("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(n,e)=>e.expandIconWrapper})(({theme:n})=>({display:"flex",color:(n.vars||n).palette.action.active,transform:"rotate(0deg)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),[`&.${Fh.expanded}`]:{transform:"rotate(180deg)"}})),une=k.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiAccordionSummary"}),{children:i,className:s,expandIcon:o,focusVisibleClassName:a,onClick:l}=r,c=Kn(r,sne),{disabled:u=!1,disableGutters:d,expanded:f,toggle:m}=k.useContext(GG),g=x=>{m&&m(x),l&&l(x)},v=Ce({},r,{expanded:f,disabled:u,disableGutters:d}),_=one(v);return F(ane,Ce({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":f,className:Dt(_.root,s),focusVisibleClassName:Dt(_.focusVisible,a),onClick:g,ref:t,ownerState:v},c,{children:[y(lne,{className:_.content,ownerState:v,children:i}),o&&y(cne,{className:_.expandIconWrapper,ownerState:v,children:o})]}))}),jt=une;function dne(n){return Xr("MuiAccordionDetails",n)}Yr("MuiAccordionDetails",["root"]);const hne=["className"],fne=n=>{const{classes:e}=n;return ui({root:["root"]},dne,e)},pne=sn("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n})=>({padding:n.spacing(1,2,2)})),mne=k.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiAccordionDetails"}),{className:i}=r,s=Kn(r,hne),o=r,a=fne(o);return y(pne,Ce({className:Dt(a.root,i),ref:t,ownerState:o},s))}),$t=mne;var RI={},gne=ya;Object.defineProperty(RI,"__esModule",{value:!0});var Gt=RI.default=void 0,vne=gne(Wc()),yne=jc,_ne=(0,vne.default)((0,yne.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");Gt=RI.default=_ne;const Jt={boxShadow:"none",background:"none",borderBottom:1,borderColor:"#d4d2d2"},Kt={ariaControls:"panel1a-content",id:"panel1a-header",alignText:"left",padding:0,minWidth:0,minHeight:0},Xt={alignText:"left",paddingLeft:0,paddingTop:0},xne={margin:0,marginLeft:"2.5vh",border:"none",minWidth:0,minHeight:0},om={color:"#b9b9b9",padding:"1vw",paddingLeft:"2vw",paddingRight:"2vw",fontSize:"1.8vh","&.Mui-selected":{color:"#FDDE00"},indicator:{backgroundColor:"white"},minWidth:"1vh",minHeight:"5vh"},an={alignText:"left",paddingLeft:0};function wh(n){const{children:e,value:t,index:r,...i}=n;return y("div",{role:"tabpanel",hidden:t!==r,id:`simple-tabpanel-${r}`,"aria-labelledby":`simple-tab-${r}`,...i,children:t===r&&y(Bte,{sx:{p:"6vh"},children:y(We,{children:e})})})}wh.propTypes={children:lg.node,index:lg.number.isRequired,value:lg.number.isRequired};function am(n){return{id:`simple-tab-${n}`,"aria-controls":`simple-tabpanel-${n}`}}function bne(){const[n,e]=k.useState(0);return F("div",{className:"ntbk-container",children:[F("div",{className:"ntbk-header",children:[y("div",{className:"ntbk-topic",children:"Chapter Guide"}),F(xte,{value:n,sx:xne,onChange:(r,i)=>{e(i)},"aria-label":"basic tabs example",className:"ntbk-tabs",TabIndicatorProps:{hidden:"true"},children:[y(sm,{label:"Ch. 1",sx:om,...am(0),containerElement:y(jn,{to:"/notebook/chapter-one"})}),y(sm,{label:"Ch. 2",sx:om,...am(1),containerElement:y(jn,{to:"/notebook/chapter-two"})}),y(sm,{label:"Ch. 3",sx:om,...am(2),containerElement:y(jn,{to:"/notebook/chapter-three"})}),y(sm,{label:"Ch. 4",sx:om,...am(3),containerElement:y(jn,{to:"/notebook/chapter-four"})}),y(sm,{label:"Ch. 5",sx:om,...am(4),containerElement:y(jn,{to:"/notebook/chapter-five"})})]})]}),F(wh,{value:n,index:0,className:"ntbk-tabpanel",children:[y("div",{className:"ntbk-title",children:y("h3",{children:"The Peasantry"})}),F("p",{children:["Peasants are small farmers from rural areas who have little to no land and who are oppressed-exploited by landlords. ",y("br",{}),y("br",{}),"These farmers are considered peasants because they are tied to a feudal or landlord- and-peasant relationship. To illustrate, landlordstogether with big corporationscontinue to rob the peasants with high land rents, low wages, and high interest rates. As a result, the peasants continue to get poorer, while the landlords continue to get richer. Granted that they are not under any of these harsh socioeconomic conditions, they are not peasants, but just farmers. ",y("br",{}),y("br",{}),"It is important for us to know that peasants are the main force of the national economy. Many of them are engaged in various activities, not only exclusive to farming. These can be fishing, handicraft work, pastoralism and livestock raising, forestry, hunting and gathering, carpentry, among many others. ",y("br",{}),y("br",{}),"Moreover, not all peasants are the same. They can be categorized into three strata: namely, rich, middle, and poor peasants. Of course, even though they can be considered as rich, they are still peasants after all and the majority of them are oppressed and exploited by landlords until now. ",y("br",{}),y("br",{}),"Do you know, being peasants can also extend to indigenous people and settlers who work on the land?"]})]}),F(wh,{value:n,index:1,className:"ntbk-tabpanel",children:[y("div",{className:"ntbk-title",children:y("h3",{children:"History"})}),F("div",{children:[F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subtitle",children:"Pre-colonial Period"})})}),y($t,{sx:Xt,children:y(We,{children:F("p",{children:["Before we were colonized by the Spaniards, although the social systems were not perfect, not free from peasant oppression and slavery  land, at least in many parts of Luzon, was shared by everyone and was tilled for the whole community. ",y("br",{}),y("br",{}),"One well-known development is that there was already a prosperous irrigation system for their fields at that time. The famous rice terraces are worth mentioning, a product of the engineering genius of the early Ifugaos. ",y("br",{}),y("br",{}),"More so, pre-colonial Philippines had a great deal of achievements: livestock-raising, fishing, brewing, mining, lumbering, weapons and cannons, gunpowder, weaving, shipbuilding, and ornaments.",y("br",{}),y("br",{})]})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{children:y("p",{className:"ntbk-subtitle",children:"Spanish Colonial Period"})})}),y($t,{sx:Xt,children:y(We,{children:F("p",{children:["The land problem and peasant oppression intensified when the Spanish Empire in the 1500s colonized the Philippines. These were made possible through the following below. ",y("br",{}),y("br",{}),y("p",{className:"ntbk-subsubtitle",children:"The Regalian Doctrine"}),"Through the regalian doctrine the conquistadors introduced, all our lands were to be completely owned by the crown or the King of Spain.",y("br",{}),y("br",{}),y("p",{className:"ntbk-subsubtitle",children:"Encomienda System"}),"This was a system where the Spanish colonial officials and religious orders were granted wide areas of lands as an award for their services in the conquest of the Filipinos. They were granted the right to force Filipino peasants to farm the stolen lands to produce the needs of the crown and its other colonies.",y("br",{}),y("br",{}),y("p",{className:"ntbk-subsubtitle",children:"Hacienda System"}),"After some time, the encomienda system evolved into the hacienda system. Compared to the former, this system was geared to produce superprofits by expanding the possessed lands into plantations or haciendas. Here, crops and raw materials are produced for export, consumption, and demand of Spanish and other European countries.",y("br",{}),y("br",{}),y("p",{className:"ntbk-subsubtitle",children:"Compulsory Taxation"}),"Throughout, taxes were compulsory and had to be collected (50% of crops produced). Peasants were forced to clear forested areas for farming and infrastructures for the new government.",y("br",{}),y("br",{})]})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{children:y("p",{className:"ntbk-subtitle",children:"American Colonial Period"})})}),y($t,{sx:Xt,children:F(We,{children:[y("p",{children:"After replacing the former rulers, the United States continued the hacienda system and the status of the Philippines as a colony, and developed it to its full potential. U.S. imperialism committed genocide and large-scale grave human rights abuses against Filipinos."}),y("br",{}),F("ol",{children:[y("li",{children:"They encouraged the development of the hacienda system, resulting in extracting more export crops and natural resources  all sold at low prices through cheap labor and the expansion of their base in the country."}),y("li",{children:"They implemented deceptive land laws that only reinforced the land monopoly, land-grabbings, and landlessness."}),y("li",{children:"To spread their influence, imports of American commodities were advertised and sold in the motherland. They  also sought the Philippines as a market for their surplus goods, which crushed local handicrafts and manufacturers, resorting the Filipinos to buy these overpriced finished goods instead of manufacturing them  leaving them to become dependent on importing expensive goods and exporting cheap ones."}),y("li",{children:"During the 1950s, foreign machinery and agricultural inputs were sold at excessive prices. This played a major role in the widespread poverty, hunger, and inequality across the Philippines and other colonies. They accumulated so much debt that they have still been taking out loans from international financing institutions such as the International Monetary Fund and World Bank. In exchange for the loans, they have been mandated to buy overpriced genetically modified seeds and agro-chemicals that kill local indigenous crop varieties and sustainable agricultural practices."})]})]})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{children:y("p",{className:"ntbk-subtitle",children:"Present Republic"})})}),y($t,{sx:Xt,children:F(We,{children:[y("p",{children:"The regimes that followed the declaration of the Philippines fake independence from the US were not entirely different from their colonial masters. They heeded the demands of the peasant communities through counterinsurgency campaigns and anti-peasant programs."}),F("div",{children:[F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subsubtitle",children:"1. Pres. Manuel Roxas"})})}),y($t,{sx:Xt,children:y(We,{children:F("ul",{children:[y("li",{children:"Maintained US ownership and utilization of the countrys lands, natural resources, and public utilities through agreements with the United States 	(e.g., U.S.-R.P. Treaty of General Relations, Property Act, and Bell Trade Act)."}),y("li",{children:"Attacked peasant communities who were begging for land reform through military forces 	(e.g., Maliwalu massacre and Masico massacre)."}),y("li",{children:"Charged peasants for all the unpaid land rent during the recent Philippine-Japanese war."})]})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subsubtitle",children:"2. Pres. Ramon Magsaysay"})})}),y($t,{sx:Xt,children:y(We,{children:y("ul",{children:y("li",{children:"The agrarian program that aimed for land distribution was barely enforced (i.e., 1955 Agrarian Reform Law)."})})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subsubtitle",children:"3. Pres. Diosdado Macapagal"})})}),y($t,{sx:Xt,children:y(We,{children:F("ul",{children:[y("li",{children:"The agrarian program that aimed for limiting land ownership of landlords was barely enforced."}),y("li",{children:"Raised land rent, caused the decline of prices of farmers agricultural goods, and expanded plantations for export crops. (Points 1 and 2 through the 1963 Agrarian Reform Code.)"})]})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subsubtitle",children:"4. Pres. Ferdinand Marcos"})})}),y($t,{sx:Xt,children:y(We,{children:F("ul",{children:[y("li",{children:"Subjected rice and corn farms to land distribution yet exempted haciendas and plantations devoted to export crops like sugar, copra, bananas, tobacco, pineapples, etc. More than half of farmers were deprived to own lands. (Through the Presidential Decree 2 and 27.) "}),y("li",{children:"Expanded the lands of foreign corporate farms and plantations. Farms owned by peasants were then stolen by these big businesses, instead of acquiring idle, abandoned, or unexploited lands. In turn, this raised rural poverty and landlessness. (Through the Green Revolution/Masagana 99.)"}),y("li",{children:"Required farmers to use expensive imported seeds, chemical soil fertilizers, and pesticides. This, as well as the adding ever-increasing prices of farm inputs, buried the farmers in debt and pushed them into poverty. (Through the Green Revolution/Masagana 99.)"})]})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subsubtitle",children:"5. Pres. Corazon Aquino"})})}),y($t,{sx:Xt,children:y(We,{children:y("ul",{children:y("li",{children:"Peasants are obliged to pay for land rent at a high cost."})})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subsubtitle",children:"6. Pres. Fidel Ramos"})})}),y($t,{sx:Xt,children:y(We,{children:F("ul",{children:[y("li",{children:"Privatized and commercialized peasant-owned lands, expanding business interests and worsening peasant landlessness. (Through the Philippines 2000 program.)"}),y("li",{children:"Further encouraged export-oriented production of cheap goods and importation of expensive ones. (Through joining the World Trade Organization.) "}),y("li",{children:"Declared a war on the peasant Moros in the countryside."})]})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subsubtitle",children:"7. Pres. Joseph Estrada"})})}),y($t,{sx:Xt,children:y(We,{children:F("ul",{children:[y("li",{children:"Did not have any programs for peasants at all."}),y("li",{children:"Declared an All Out War on Moros in the countryside."})]})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subsubtitle",children:"8. Pres. Gloria Arroyo"})})}),y($t,{sx:Xt,children:y(We,{children:F("ul",{children:[y("li",{children:"The national income for agriculture further declined because of excessive importation. Because of this, millions of farmers lost their livelihoods, were forced to sell or mortgage their very little lands, and were forced to look for other jobs in cities because. Worse, the products that were being imported were products that could be produced in the Philippines  rice, vegetables, sugar, and fish."}),y("li",{children:"Militarization and bombings in the countryside (i.e., Bangsa Moro, Liguasan Marsh, Capiz)."}),y("li",{children:"EJKs of members, leaders, sympathizers of the peasantry; even priests, journalists, lawyers, doctors, students, etc. (Through Oplan Bantay Laya.)"})]})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subsubtitle",children:"9. Pres. Benigno Aquino III"})})}),y($t,{sx:Xt,children:y(We,{children:F("ul",{children:[y("li",{children:"The new agrarian reform that was passed only worsened rural poverty and landlessness (i.e., CARPER)."}),y("li",{children:"Worsened imperialist exploitation of the countrys natural resources (Through PPP)."}),y("li",{children:"Reinforced counter-insurgency campaigns that mainly affected those in the countryside. (Through Oplan Bayanihan.)"}),y("li",{children:"Thousands of farmers who were asking for agricultural support were shot by state forces (Kidapawan massacre)."})]})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subsubtitle",children:"10. Pres. Rodrigo Duterte"})})}),y($t,{sx:Xt,children:y(We,{children:F("ul",{children:[y("li",{children:"Overprioritzation of infrastructure projects that lead to trillions of debts and failure of distribution of government funds. (Through Build! Build! Build!)"}),y("li",{children:"Increased taxes of basic commodities, burdening the masses even more, especially the poorest. These are also used to pay off the countrys high amounts of debts. (Through Train Law of 2018.)"}),y("li",{children:"Worsened peasant-farmer livelihoods by prioritizing rice importation through removing rice import quotas. (Through Rice Liberalization Law.)"}),y("li",{children:"Created a national task force that only put peasant lives in danger, as they are popular targets of violence and black propaganda among state forces. (Through Executive Order No. 70 (NTF-ELCAC) and whole-of-nation approach)"})]})})})]})]})]})})]})]})]}),F(wh,{value:n,index:2,className:"ntbk-tabpanel",children:[y("div",{className:"ntbk-title",children:y("h3",{children:"Plight"})}),F("div",{children:[F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subtitle",children:"1. Landlessness"})})}),y($t,{sx:Xt,children:y(We,{children:y("p",{children:"At least 7 out of 10 farmers are landless and do not own the land they till. For a farmer, losing their land is like losing their basic right to existence."})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subtitle",children:"2. Land-grabbing, land use conversion, and corporate plantation"})})}),y($t,{sx:Xt,children:F(We,{children:[y("p",{children:"Today, peasants are still forced to give up their lands because of the conversion of agricultural lands to commercial use. Many are evicted from their lands through military means and anti-peasant laws and policies."}),y("p",{children:"In many cases, there are peasants who are the owners of their lands as declared on paper, yet the agribusinesses are always the ones who control and benefit from them. Peasants cannot also grow their own crops on abandoned commercial lands they used to work on, do not have the autonomy to choose which types of crops and agricultural inputs to use, and are forced to buy and use expensive environment- and health-damaging foreign imports of agricultural inputs."})]})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subtitle",children:"3. Food insecurity"})})}),y($t,{sx:Xt,children:F(We,{children:[y("p",{children:"The ever-expansion of land monopoly among big landlords and agribusinesses are a threat to the food security of Filipinos, especially the peasants. Export crops have taken over and far exceeded the rice and corn farms, which the peasants mainly depend on for food and sustenance. "}),y("p",{children:"The influx of imported expensive agricultural products, too, have taken a toll on their livelihoods and food as they end up earning next to nothing."})]})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subtitle",children:"4. Low wages"})})}),y($t,{sx:Xt,children:y(We,{children:y("p",{children:"Peasant workers are paid below their required basic income and are forced to sell their agricultural products at a very low price. The national minimum wage is also not adequate enough for them to achieve financial security."})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subtitle",children:"5. High land rent"})})}),y($t,{sx:Xt,children:y(We,{children:y("p",{children:"Peasants are obliged to pay for land rent at a high cost."})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subtitle",children:"6. High loan and tax interest rates"})})}),y($t,{sx:Xt,children:y(We,{children:y("p",{children:"Extreme poverty compels peasants to take out loans with high interest rates."})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subtitle",children:"7. Forced labor"})})}),y($t,{sx:Xt,children:y(We,{children:y("p",{children:"Members of farmers families serve the landlords household for free."})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subtitle",children:"8. Militarization and criminalization"})})}),y($t,{sx:Xt,children:y(We,{children:y("p",{children:"Peasants are a popular target of state forces. Therefore, they are also the most red-tagged, criminalized, and harassed."})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subtitle",children:"9. EJKs and other human rights abuses"})})}),y($t,{sx:Xt,children:y(We,{children:y("p",{children:"Majority of EJK victims are peasants."})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subtitle",children:"10. Bogus land reforms"})})}),y($t,{sx:Xt,children:y(We,{children:y("p",{children:"The land reforms that preceded were only farce, violent, loan-based, and empowered big foreign and local landlords and businesses."})})})]})]})]}),F(wh,{value:n,index:3,className:"ntbk-tabpanel",children:[y("div",{className:"ntbk-title",children:y("h3",{children:"Roots"})}),F("div",{children:[F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subtitle",children:"Imperialism"})})}),y($t,{sx:Xt,children:F(We,{children:[y("p",{children:"Imperialism is the monopoly of a weaker nations economy, politics, and culture, where they are controlled and concentrated in the hands of a few big capitalists. They hold the markets, source of raw materials, modern technology, and skilled labor. They have influence on the dictation of laws and policies, and also on the size of production, price, and lending."}),y("p",{children:"Rich and powerful nations have been interested in third world countries like the Philippines as a source of cheap raw materials, cheap labor, and a market for their surplus goods and capital. Imperialism prevents peasants from attaining food security, food sovereignty, and from their rights to safe, healthy and ecologically sustainable production."})]})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subtitle",children:"Feudalism"})})}),y($t,{sx:Xt,children:y(We,{children:y("p",{children:"Feudalism is the oppression against peasants by landlords. Here, agricultural lands are monopolized by a few landlords and vast tracts of land are tilled by the peasantry who face landlessness and food insecurity. Exploitation is intensified through high land rent and high interest and loan rates, slavery, cheap labor and products, and backward method of farming."})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subtitle",children:"Bureaucrat Capitalism"})})}),y($t,{sx:Xt,children:y(We,{children:y("p",{children:"Bureaucrat capitalism is operating on the government as a business and for the enrichment of those sitting in power. Most top bureaucrats are in national, provincial, and municipal governments.The bureaucrat capitalists direct the operation of the reactionary state. They wield political power to serve imperialists, landlords, and the large comprador bourgeoisie. At the same time, they are harnessing their position to loot from the peoples money and expand land ownership and their own businesses."})})})]})]})]}),F(wh,{value:n,index:4,className:"ntbk-tabpanel",children:[y("div",{className:"ntbk-title",children:y("h3",{children:"Solutions"})}),y("p",{className:"ntbk-subtitle",children:"Genuine Agrarian Reform Bill"}),y("p",{children:"The Genuine Agrarian Reform Bill (GARB) aims to break up the monopoly of a few landowners and foreign control of agricultural lands, eliminate all forms of oppression and exploitation in the countryside, and pave the way for social justice. Its objectives are situated below. "}),F("div",{children:[F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subsubtitle",children:"1. Free distribution of land"})})}),y($t,{sx:Xt,children:y(We,{children:y("p",{children:"Land will be given in five years at no cost, land-related debts will be cleared, and a land title will be issued"})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subsubtitle",children:"2. No exemptions"})})}),y($t,{sx:Xt,children:y(We,{children:y("p",{children:"All private and public agricultural lands will be distributed."})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subsubtitle",children:"3. Land protection"})})}),y($t,{sx:Xt,children:y(We,{children:F("ul",{children:[y("li",{children:"The lands are prohibited against sale, mortgage, transfer, or any conveyance, except for hereditary succession."}),y("li",{children:"Progress of land distribution will be kept track through operation centers in Land Reform Zones"})]})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subsubtitle",children:"4. Additional support"})})}),y($t,{sx:Xt,children:y(We,{children:F("ul",{children:[y("li",{children:"50B pesos allocated budget to improve the productivity and working conditions of the peasantry."}),y("li",{children:"Credit facilities, production support, post-harvest, market access and market, price guarantees and other necessary services for a viable production and raising of income."})]})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subsubtitle",children:"5. Agricultural worker support"})})}),y($t,{sx:Xt,children:y(We,{children:F("ul",{children:[y("li",{children:"Necessary support, incentives, and privileges"}),y("li",{children:"Regularization of security of tenure"}),y("li",{children:"Higher income and benefits"})]})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subsubtitle",children:"6. Farmer participation"})})}),y($t,{sx:Xt,children:y(We,{children:y("p",{children:"They will participate and help in the land distribution process, land and landlord problems, building cooperatives, and delivering support services."})})})]}),F(Wt,{sx:Jt,children:[y(jt,{expandIcon:y(Gt,{}),sx:Kt,children:y(We,{sx:an,children:y("p",{className:"ntbk-subsubtitle",children:"7. National industrialization"})})}),y($t,{sx:Xt,children:y(We,{children:F("ul",{children:[y("li",{children:"Break free from foreign exploitation"}),y("li",{children:"Natural resources will be used to develop national industries"}),y("li",{children:"Prioritize Filipino products and industries"}),y("li",{children:"Protect Filipino producers from unfair regulations, local corruption, and foreign business advantage"})]})})})]})]})]})]})}const wne="/assets/umaLogo-1d5b5fd8.svg";function Sne(n){return Xr("MuiCard",n)}Yr("MuiCard",["root"]);const Ene=["className","raised"],Cne=n=>{const{classes:e}=n;return ui({root:["root"]},Sne,e)},Ane=sn(UG,{name:"MuiCard",slot:"Root",overridesResolver:(n,e)=>e.root})(()=>({overflow:"hidden"})),Mne=k.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=Kn(r,Ene),a=Ce({},r,{raised:s}),l=Cne(a);return y(Ane,Ce({className:Dt(l.root,i),elevation:s?8:void 0,ref:t,ownerState:a},o))}),Kv=Mne;function Tne(n){return Xr("MuiCardMedia",n)}Yr("MuiCardMedia",["root","media","img"]);const Pne=["children","className","component","image","src","style"],Rne=n=>{const{classes:e,isMediaComponent:t,isImageComponent:r}=n;return ui({root:["root",t&&"media",r&&"img"]},Tne,e)},Ine=sn("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{isMediaComponent:r,isImageComponent:i}=t;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:n})=>Ce({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},n.isMediaComponent&&{width:"100%"},n.isImageComponent&&{objectFit:"cover"})),Nne=["video","audio","picture","iframe","img"],kne=["picture","img"],One=k.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:l,style:c}=r,u=Kn(r,Pne),d=Nne.indexOf(o)!==-1,f=!d&&a?Ce({backgroundImage:`url("${a}")`},c):c,m=Ce({},r,{component:o,isMediaComponent:d,isImageComponent:kne.indexOf(o)!==-1}),g=Rne(m);return y(Ine,Ce({className:Dt(g.root,s),as:o,role:!d&&a?"img":void 0,ref:t,style:f,ownerState:m,src:d?a||l:void 0},u,{children:i}))}),Xv=One,Lne="/assets/samplefarm-a1aead80.png";var II={},Bne=ya;Object.defineProperty(II,"__esModule",{value:!0});var sp=II.default=void 0,Dne=Bne(Wc()),KB=jc,Fne=(0,Dne.default)([(0,KB.jsx)("path",{d:"M5.7 6.71c-.39.39-.39 1.02 0 1.41L9.58 12 5.7 15.88c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41L7.12 6.71c-.39-.39-1.03-.39-1.42 0z"},"0"),(0,KB.jsx)("path",{d:"M12.29 6.71c-.39.39-.39 1.02 0 1.41L16.17 12l-3.88 3.88c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41L13.7 6.7c-.38-.38-1.02-.38-1.41.01z"},"1")],"KeyboardDoubleArrowRightRounded");sp=II.default=Fne;const zne=Lw(y("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Une(n){return Xr("MuiAvatar",n)}Yr("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Gne=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],Hne=n=>{const{classes:e,variant:t,colorDefault:r}=n;return ui({root:["root",t,r&&"colorDefault"],img:["img"],fallback:["fallback"]},Une,e)},Vne=sn("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],t.colorDefault&&e.colorDefault]}})(({theme:n,ownerState:e})=>Ce({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},e.variant==="rounded"&&{borderRadius:(n.vars||n).shape.borderRadius},e.variant==="square"&&{borderRadius:0},e.colorDefault&&Ce({color:(n.vars||n).palette.background.default},n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:{backgroundColor:n.palette.mode==="light"?n.palette.grey[400]:n.palette.grey[600]}))),Wne=sn("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(n,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),jne=sn(zne,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(n,e)=>e.fallback})({width:"75%",height:"75%"});function $ne({crossOrigin:n,referrerPolicy:e,src:t,srcSet:r}){const[i,s]=k.useState(!1);return k.useEffect(()=>{if(!t&&!r)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&s("loaded")},a.onerror=()=>{o&&s("error")},a.crossOrigin=n,a.referrerPolicy=e,a.src=t,r&&(a.srcset=r),()=>{o=!1}},[n,e,t,r]),i}const Jne=k.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",imgProps:l,sizes:c,src:u,srcSet:d,variant:f="circular"}=r,m=Kn(r,Gne);let g=null;const v=$ne(Ce({},l,{src:u,srcSet:d})),_=u||d,x=_&&v!=="error",w=Ce({},r,{colorDefault:!x,component:a,variant:f}),S=Hne(w);return x?g=y(Wne,Ce({alt:i,src:u,srcSet:d,sizes:c,ownerState:w,className:S.img},l)):s!=null?g=s:_&&i?g=i[0]:g=y(jne,{className:S.fallback}),y(Vne,Ce({as:a,ownerState:w,className:Dt(S.root,o),ref:t},m,{children:g}))}),Yv=Jne;function Kne(n){return Xr("MuiIconButton",n)}const Xne=Yr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Yne=Xne,qne=["edge","children","className","color","disabled","disableFocusRipple","size"],Qne=n=>{const{classes:e,disabled:t,color:r,edge:i,size:s}=n,o={root:["root",t&&"disabled",r!=="default"&&`color${pr(r)}`,i&&`edge${pr(i)}`,`size${pr(s)}`]};return ui(o,Kne,e)},Zne=sn(Jw,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="default"&&e[`color${pr(t.color)}`],t.edge&&e[`edge${pr(t.edge)}`],e[`size${pr(t.size)}`]]}})(({theme:n,ownerState:e})=>Ce({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Tf(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:n,ownerState:e})=>{var t;const r=(t=(n.vars||n).palette)==null?void 0:t[e.color];return Ce({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&Ce({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":Ce({},r&&{backgroundColor:n.vars?`rgba(${r.mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Tf(r.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:n.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:n.typography.pxToRem(28)},{[`&.${Yne.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}})}),ere=k.forwardRef(function(e,t){const r=Qr({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=Kn(r,qne),f=Ce({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),m=Qne(f);return y(Zne,Ce({className:Dt(m.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:t,ownerState:f},d,{children:s}))}),qv=ere;function Nt(){return Nt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Nt.apply(this,arguments)}function LM(n){return LM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LM(n)}function OE(n){return n&&LM(n)==="object"&&n.constructor===Object}function Pf(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},r=t.clone?Nt({},n):n;return OE(n)&&OE(e)&&Object.keys(e).forEach(function(i){i!=="__proto__"&&(OE(e[i])&&i in n?r[i]=Pf(n[i],e[i],t):r[i]=e[i])}),r}function LE(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BM(n){for(var e="https://mui.com/production-error/?code="+n,t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified Material-UI error #"+n+"; visit "+e+" for the full message."}function HG(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(e,n),t)}function tre(n){n=n.substr(1);var e=new RegExp(".{1,".concat(n.length>=6?2:1,"}"),"g"),t=n.match(e);return t&&t[0].length===1&&(t=t.map(function(r){return r+r})),t?"rgb".concat(t.length===4?"a":"","(").concat(t.map(function(r,i){return i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3}).join(", "),")"):""}function nre(n){n=Rf(n);var e=n,t=e.values,r=t[0],i=t[1]/100,s=t[2]/100,o=i*Math.min(s,1-s),a=function(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(d+r/30)%12;return s-o*Math.max(Math.min(f-3,9-f,1),-1)},l="rgb",c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return n.type==="hsla"&&(l+="a",c.push(t[3])),NI({type:l,values:c})}function Rf(n){if(n.type)return n;if(n.charAt(0)==="#")return Rf(tre(n));var e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla"].indexOf(t)===-1)throw new Error(BM(3,n));var r=n.substring(e+1,n.length-1).split(",");return r=r.map(function(i){return parseFloat(i)}),{type:t,values:r}}function NI(n){var e=n.type,t=n.values;return e.indexOf("rgb")!==-1?t=t.map(function(r,i){return i<3?parseInt(r,10):r}):e.indexOf("hsl")!==-1&&(t[1]="".concat(t[1],"%"),t[2]="".concat(t[2],"%")),"".concat(e,"(").concat(t.join(", "),")")}function rre(n,e){var t=XB(n),r=XB(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function XB(n){n=Rf(n);var e=n.type==="hsl"?Rf(nre(n)).values:n.values;return e=e.map(function(t){return t/=255,t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function ire(n,e){if(n=Rf(n),e=HG(e),n.type.indexOf("hsl")!==-1)n.values[2]*=1-e;else if(n.type.indexOf("rgb")!==-1)for(var t=0;t<3;t+=1)n.values[t]*=1-e;return NI(n)}function sre(n,e){if(n=Rf(n),e=HG(e),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf("rgb")!==-1)for(var t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;return NI(n)}function VG(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function op(n,e){if(n==null)return{};var t=VG(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}var kl=["xs","sm","md","lg","xl"];function ore(n){var e=n.values,t=e===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,r=n.unit,i=r===void 0?"px":r,s=n.step,o=s===void 0?5:s,a=op(n,["values","unit","step"]);function l(m){var g=typeof t[m]=="number"?t[m]:m;return"@media (min-width:".concat(g).concat(i,")")}function c(m){var g=kl.indexOf(m)+1,v=t[kl[g]];if(g===kl.length)return l("xs");var _=typeof v=="number"&&g>0?v:m;return"@media (max-width:".concat(_-o/100).concat(i,")")}function u(m,g){var v=kl.indexOf(g);return v===kl.length-1?l(m):"@media (min-width:".concat(typeof t[m]=="number"?t[m]:m).concat(i,") and ")+"(max-width:".concat((v!==-1&&typeof t[kl[v+1]]=="number"?t[kl[v+1]]:g)-o/100).concat(i,")")}function d(m){return u(m,m)}function f(m){return t[m]}return Nt({keys:kl,values:t,up:l,down:c,between:u,only:d,width:f},a)}function are(n,e,t){var r;return Nt({gutters:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),Nt({paddingLeft:e(2),paddingRight:e(2)},s,LE({},n.up("sm"),Nt({paddingLeft:e(3),paddingRight:e(3)},s[n.up("sm")])))},toolbar:(r={minHeight:56},LE(r,"".concat(n.up("xs")," and (orientation: landscape)"),{minHeight:48}),LE(r,n.up("sm"),{minHeight:64}),r)},t)}var lre={black:"#000",white:"#fff"};const ob=lre;var cre={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};const kI=cre;var ure={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};const BE=ure;var dre={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};const DE=dre;var hre={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};const FE=hre;var fre={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};const zE=fre;var pre={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};const UE=pre;var mre={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const GE=mre;var YB={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ob.white,default:kI[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},HE={text:{primary:ob.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:kI[800],default:"#303030"},action:{active:ob.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function qB(n,e,t,r){var i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=sre(n.main,i):e==="dark"&&(n.dark=ire(n.main,s)))}function gre(n){var e=n.primary,t=e===void 0?{light:BE[300],main:BE[500],dark:BE[700]}:e,r=n.secondary,i=r===void 0?{light:DE.A200,main:DE.A400,dark:DE.A700}:r,s=n.error,o=s===void 0?{light:FE[300],main:FE[500],dark:FE[700]}:s,a=n.warning,l=a===void 0?{light:zE[300],main:zE[500],dark:zE[700]}:a,c=n.info,u=c===void 0?{light:UE[300],main:UE[500],dark:UE[700]}:c,d=n.success,f=d===void 0?{light:GE[300],main:GE[500],dark:GE[700]}:d,m=n.type,g=m===void 0?"light":m,v=n.contrastThreshold,_=v===void 0?3:v,x=n.tonalOffset,w=x===void 0?.2:x,S=op(n,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function E(T){var R=rre(T,HE.text.primary)>=_?HE.text.primary:YB.text.primary;return R}var A=function(R){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(R=Nt({},R),!R.main&&R[O]&&(R.main=R[O]),!R.main)throw new Error(BM(4,O));if(typeof R.main!="string")throw new Error(BM(5,JSON.stringify(R.main)));return qB(R,"light",L,w),qB(R,"dark",J,w),R.contrastText||(R.contrastText=E(R.main)),R},P={dark:HE,light:YB},I=Pf(Nt({common:ob,type:g,primary:A(t),secondary:A(i,"A400","A200","A700"),error:A(o),warning:A(l),info:A(u),success:A(f),grey:kI,contrastThreshold:_,getContrastText:E,augmentColor:A,tonalOffset:w},P[g]),S);return I}function WG(n){return Math.round(n*1e5)/1e5}function vre(n){return WG(n)}var QB={textTransform:"uppercase"},ZB='"Roboto", "Helvetica", "Arial", sans-serif';function yre(n,e){var t=typeof e=="function"?e(n):e,r=t.fontFamily,i=r===void 0?ZB:r,s=t.fontSize,o=s===void 0?14:s,a=t.fontWeightLight,l=a===void 0?300:a,c=t.fontWeightRegular,u=c===void 0?400:c,d=t.fontWeightMedium,f=d===void 0?500:d,m=t.fontWeightBold,g=m===void 0?700:m,v=t.htmlFontSize,_=v===void 0?16:v,x=t.allVariants,w=t.pxToRem,S=op(t,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),E=o/14,A=w||function(T){return"".concat(T/_*E,"rem")},P=function(R,O,L,J,j){return Nt({fontFamily:i,fontWeight:R,fontSize:A(O),lineHeight:L},i===ZB?{letterSpacing:"".concat(WG(J/O),"em")}:{},j,x)},I={h1:P(l,96,1.167,-1.5),h2:P(l,60,1.2,-.5),h3:P(u,48,1.167,0),h4:P(u,34,1.235,.25),h5:P(u,24,1.334,0),h6:P(f,20,1.6,.15),subtitle1:P(u,16,1.75,.15),subtitle2:P(f,14,1.57,.1),body1:P(u,16,1.5,.15),body2:P(u,14,1.43,.15),button:P(f,14,1.75,.4,QB),caption:P(u,12,1.66,.4),overline:P(u,12,2.66,1,QB)};return Pf(Nt({htmlFontSize:_,pxToRem:A,round:vre,fontFamily:i,fontSize:o,fontWeightLight:l,fontWeightRegular:u,fontWeightMedium:f,fontWeightBold:g},I),S,{clone:!1})}var _re=.2,xre=.14,bre=.12;function Vn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(_re,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(xre,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(bre,")")].join(",")}var wre=["none",Vn(0,2,1,-1,0,1,1,0,0,1,3,0),Vn(0,3,1,-2,0,2,2,0,0,1,5,0),Vn(0,3,3,-2,0,3,4,0,0,1,8,0),Vn(0,2,4,-1,0,4,5,0,0,1,10,0),Vn(0,3,5,-1,0,5,8,0,0,1,14,0),Vn(0,3,5,-1,0,6,10,0,0,1,18,0),Vn(0,4,5,-2,0,7,10,1,0,2,16,1),Vn(0,5,5,-3,0,8,10,1,0,3,14,2),Vn(0,5,6,-3,0,9,12,1,0,3,16,2),Vn(0,6,6,-3,0,10,14,1,0,4,18,3),Vn(0,6,7,-4,0,11,15,1,0,4,20,3),Vn(0,7,8,-4,0,12,17,2,0,5,22,4),Vn(0,7,8,-4,0,13,19,2,0,5,24,4),Vn(0,7,9,-4,0,14,21,2,0,5,26,4),Vn(0,8,9,-5,0,15,22,2,0,6,28,5),Vn(0,8,10,-5,0,16,24,2,0,6,30,5),Vn(0,8,11,-5,0,17,26,2,0,6,32,5),Vn(0,9,11,-5,0,18,28,2,0,7,34,6),Vn(0,9,12,-6,0,19,29,2,0,7,36,6),Vn(0,10,13,-6,0,20,31,3,0,8,38,7),Vn(0,10,13,-6,0,21,33,3,0,8,40,7),Vn(0,10,14,-6,0,22,35,3,0,8,42,7),Vn(0,11,14,-7,0,23,36,3,0,9,44,8),Vn(0,11,15,-7,0,24,38,3,0,9,46,8)];const Sre=wre;var Ere={borderRadius:4};const Cre=Ere;function DM(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Are(n){if(Array.isArray(n))return DM(n)}function Mre(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Tre(n,e){if(n){if(typeof n=="string")return DM(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return DM(n,e)}}function Pre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rre(n){return Are(n)||Mre(n)||Tre(n)||Pre()}function Ire(n){var e=n.spacing||8;return typeof e=="number"?function(t){return e*t}:Array.isArray(e)?function(t){return e[t]}:typeof e=="function"?e:function(){}}function Nre(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(n.mui)return n;var e=Ire({spacing:n}),t=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return s.length===0?e(1):s.length===1?e(s[0]):s.map(function(a){if(typeof a=="string")return a;var l=e(a);return typeof l=="number"?"".concat(l,"px"):l}).join(" ")};return Object.defineProperty(t,"unit",{get:function(){return n}}),t.mui=!0,t}var eD={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},tD={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function nD(n){return"".concat(Math.round(n),"ms")}const kre={easing:eD,duration:tD,create:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.duration,i=r===void 0?tD.standard:r,s=t.easing,o=s===void 0?eD.easeInOut:s,a=t.delay,l=a===void 0?0:a;return op(t,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map(function(c){return"".concat(c," ").concat(typeof i=="string"?i:nD(i)," ").concat(o," ").concat(typeof l=="string"?l:nD(l))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round((4+15*Math.pow(t,.25)+t/5)*10)}};var Ore={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const Lre=Ore;function Bre(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.breakpoints,t=e===void 0?{}:e,r=n.mixins,i=r===void 0?{}:r,s=n.palette,o=s===void 0?{}:s,a=n.spacing,l=n.typography,c=l===void 0?{}:l,u=op(n,["breakpoints","mixins","palette","spacing","typography"]),d=gre(o),f=ore(t),m=Nre(a),g=Pf({breakpoints:f,direction:"ltr",mixins:are(f,m,i),overrides:{},palette:d,props:{},shadows:Sre,typography:yre(d,c),spacing:m,shape:Cre,transitions:kre,zIndex:Lre},u),v=arguments.length,_=new Array(v>1?v-1:0),x=1;x<v;x++)_[x-1]=arguments[x];return g=_.reduce(function(w,S){return Pf(w,S)},g),g}var Dre=typeof Symbol=="function"&&Symbol.for;const Fre=Dre?Symbol.for("mui.nested"):"__THEME_NESTED__";var zre=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function Ure(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.disableGlobal,t=e===void 0?!1:e,r=n.productionPrefix,i=r===void 0?"jss":r,s=n.seed,o=s===void 0?"":s,a=o===""?"":"".concat(o,"-"),l=0,c=function(){return l+=1,l};return function(u,d){var f=d.options.name;if(f&&f.indexOf("Mui")===0&&!d.options.link&&!t){if(zre.indexOf(u.key)!==-1)return"Mui-".concat(u.key);var m="".concat(a).concat(f,"-").concat(u.key);return!d.options.theme[Fre]||o!==""?m:"".concat(m,"-").concat(c())}return"".concat(a).concat(i).concat(c())}}var rD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qv=(typeof window>"u"?"undefined":rD(window))==="object"&&(typeof document>"u"?"undefined":rD(document))==="object"&&document.nodeType===9;function iD(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function jG(n,e,t){return e&&iD(n.prototype,e),t&&iD(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function FM(n,e){return FM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FM(n,e)}function $G(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,FM(n,e)}function sD(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var Gre={}.constructor;function zM(n){if(n==null||typeof n!="object")return n;if(Array.isArray(n))return n.map(zM);if(n.constructor!==Gre)return n;var e={};for(var t in n)e[t]=zM(n[t]);return e}function OI(n,e,t){n===void 0&&(n="unnamed");var r=t.jss,i=zM(e),s=r.plugins.onCreateRule(n,i,t);return s||(n[0],null)}var oD=function(e,t){for(var r="",i=0;i<e.length&&e[i]!=="!important";i++)r&&(r+=t),r+=e[i];return r},Ku=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)t&&(t+=", "),t+=oD(e[r]," ");else t=oD(e,", ");return e[e.length-1]==="!important"&&(t+=" !important"),t};function ap(n){return n&&n.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function lm(n,e){for(var t="",r=0;r<e;r++)t+="  ";return t+n}function nv(n,e,t){t===void 0&&(t={});var r="";if(!e)return r;var i=t,s=i.indent,o=s===void 0?0:s,a=e.fallbacks;t.format===!1&&(o=-1/0);var l=ap(t),c=l.linebreak,u=l.space;if(n&&o++,a)if(Array.isArray(a))for(var d=0;d<a.length;d++){var f=a[d];for(var m in f){var g=f[m];g!=null&&(r&&(r+=c),r+=lm(m+":"+u+Ku(g)+";",o))}}else for(var v in a){var _=a[v];_!=null&&(r&&(r+=c),r+=lm(v+":"+u+Ku(_)+";",o))}for(var x in e){var w=e[x];w!=null&&x!=="fallbacks"&&(r&&(r+=c),r+=lm(x+":"+u+Ku(w)+";",o))}return!r&&!t.allowEmpty||!n?r:(o--,r&&(r=""+c+r+c),lm(""+n+u+"{"+r,o)+lm("}",o))}var Hre=/([[\].#*$><+~=|^:(),"'`\s])/g,aD=typeof CSS<"u"&&CSS.escape,LI=function(n){return aD?aD(n):n.replace(Hre,"\\$1")},JG=function(){function n(t,r,i){this.type="style",this.isProcessed=!1;var s=i.sheet,o=i.Renderer;this.key=t,this.options=i,this.style=r,s?this.renderer=s.renderer:o&&(this.renderer=new o)}var e=n.prototype;return e.prop=function(r,i,s){if(i===void 0)return this.style[r];var o=s?s.force:!1;if(!o&&this.style[r]===i)return this;var a=i;(!s||s.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(i,r,this));var l=a==null||a===!1,c=r in this.style;if(l&&!c&&!o)return this;var u=l&&c;if(u?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var d=this.options.sheet;return d&&d.attached,this},n}(),UM=function(n){$G(e,n);function e(r,i,s){var o;o=n.call(this,r,i,s)||this;var a=s.selector,l=s.scoped,c=s.sheet,u=s.generateId;return a?o.selectorText=a:l!==!1&&(o.id=u(sD(sD(o)),c),o.selectorText="."+LI(o.id)),o}var t=e.prototype;return t.applyTo=function(i){var s=this.renderer;if(s){var o=this.toJSON();for(var a in o)s.setProperty(i,a,o[a])}return this},t.toJSON=function(){var i={};for(var s in this.style){var o=this.style[s];typeof o!="object"?i[s]=o:Array.isArray(o)&&(i[s]=Ku(o))}return i},t.toString=function(i){var s=this.options.sheet,o=s?s.options.link:!1,a=o?Nt({},i,{allowEmpty:!0}):i;return nv(this.selectorText,this.style,a)},jG(e,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var s=this.renderer,o=this.renderable;if(!(!o||!s)){var a=s.setSelector(o,i);a||s.replaceRule(o,this)}}},get:function(){return this.selectorText}}]),e}(JG),Vre={onCreateRule:function(e,t,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new UM(e,t,r)}},VE={indent:1,children:!0},Wre=/@([\w-]+)/,jre=function(){function n(t,r,i){this.type="conditional",this.isProcessed=!1,this.key=t;var s=t.match(Wre);this.at=s?s[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new Kw(Nt({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=n.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,i,s){var o=this.rules.add(r,i,s);return o?(this.options.jss.plugins.onProcessRule(o),o):null},e.replaceRule=function(r,i,s){var o=this.rules.replace(r,i,s);return o&&this.options.jss.plugins.onProcessRule(o),o},e.toString=function(r){r===void 0&&(r=VE);var i=ap(r),s=i.linebreak;if(r.indent==null&&(r.indent=VE.indent),r.children==null&&(r.children=VE.children),r.children===!1)return this.query+" {}";var o=this.rules.toString(r);return o?this.query+" {"+s+o+s+"}":""},n}(),$re=/@media|@supports\s+/,Jre={onCreateRule:function(e,t,r){return $re.test(e)?new jre(e,t,r):null}},WE={indent:1,children:!0},Kre=/@keyframes\s+([\w-]+)/,GM=function(){function n(t,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var s=t.match(Kre);s&&s[1]?this.name=s[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var o=i.scoped,a=i.sheet,l=i.generateId;this.id=o===!1?this.name:LI(l(this,a)),this.rules=new Kw(Nt({},i,{parent:this}));for(var c in r)this.rules.add(c,r[c],Nt({},i,{parent:this}));this.rules.process()}var e=n.prototype;return e.toString=function(r){r===void 0&&(r=WE);var i=ap(r),s=i.linebreak;if(r.indent==null&&(r.indent=WE.indent),r.children==null&&(r.children=WE.children),r.children===!1)return this.at+" "+this.id+" {}";var o=this.rules.toString(r);return o&&(o=""+s+o+s),this.at+" "+this.id+" {"+o+"}"},n}(),Xre=/@keyframes\s+/,Yre=/\$([\w-]+)/g,HM=function(e,t){return typeof e=="string"?e.replace(Yre,function(r,i){return i in t?t[i]:r}):e},lD=function(e,t,r){var i=e[t],s=HM(i,r);s!==i&&(e[t]=s)},qre={onCreateRule:function(e,t,r){return typeof e=="string"&&Xre.test(e)?new GM(e,t,r):null},onProcessStyle:function(e,t,r){return t.type!=="style"||!r||("animation-name"in e&&lD(e,"animation-name",r.keyframes),"animation"in e&&lD(e,"animation",r.keyframes)),e},onChangeValue:function(e,t,r){var i=r.options.sheet;if(!i)return e;switch(t){case"animation":return HM(e,i.keyframes);case"animation-name":return HM(e,i.keyframes);default:return e}}},Qre=function(n){$G(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.toString=function(i){var s=this.options.sheet,o=s?s.options.link:!1,a=o?Nt({},i,{allowEmpty:!0}):i;return nv(this.key,this.style,a)},e}(JG),Zre={onCreateRule:function(e,t,r){return r.parent&&r.parent.type==="keyframes"?new Qre(e,t,r):null}},eie=function(){function n(t,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=t,this.style=r,this.options=i}var e=n.prototype;return e.toString=function(r){var i=ap(r),s=i.linebreak;if(Array.isArray(this.style)){for(var o="",a=0;a<this.style.length;a++)o+=nv(this.at,this.style[a]),this.style[a+1]&&(o+=s);return o}return nv(this.at,this.style,r)},n}(),tie=/@font-face/,nie={onCreateRule:function(e,t,r){return tie.test(e)?new eie(e,t,r):null}},rie=function(){function n(t,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=t,this.style=r,this.options=i}var e=n.prototype;return e.toString=function(r){return nv(this.key,this.style,r)},n}(),iie={onCreateRule:function(e,t,r){return e==="@viewport"||e==="@-ms-viewport"?new rie(e,t,r):null}},sie=function(){function n(t,r,i){this.type="simple",this.isProcessed=!1,this.key=t,this.value=r,this.options=i}var e=n.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var i="",s=0;s<this.value.length;s++)i+=this.key+" "+this.value[s]+";",this.value[s+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},n}(),oie={"@charset":!0,"@import":!0,"@namespace":!0},aie={onCreateRule:function(e,t,r){return e in oie?new sie(e,t,r):null}},cD=[Vre,Jre,qre,Zre,nie,iie,aie],lie={process:!0},uD={force:!0,process:!0},Kw=function(){function n(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=n.prototype;return e.add=function(r,i,s){var o=this.options,a=o.parent,l=o.sheet,c=o.jss,u=o.Renderer,d=o.generateId,f=o.scoped,m=Nt({classes:this.classes,parent:a,sheet:l,jss:c,Renderer:u,generateId:d,scoped:f,name:r,keyframes:this.keyframes,selector:void 0},s),g=r;r in this.raw&&(g=r+"-d"+this.counter++),this.raw[g]=i,g in this.classes&&(m.selector="."+LI(this.classes[g]));var v=OI(g,i,m);if(!v)return null;this.register(v);var _=m.index===void 0?this.index.length:m.index;return this.index.splice(_,0,v),v},e.replace=function(r,i,s){var o=this.get(r),a=this.index.indexOf(o);o&&this.remove(o);var l=s;return a!==-1&&(l=Nt({},s,{index:a})),this.add(r,i,l)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof UM?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof GM&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof UM?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof GM&&delete this.keyframes[r.name]},e.update=function(){var r,i,s;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],s=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,s);else for(var o=0;o<this.index.length;o++)this.updateOne(this.index[o],i,s)},e.updateOne=function(r,i,s){s===void 0&&(s=lie);var o=this.options,a=o.jss.plugins,l=o.sheet;if(r.rules instanceof n){r.rules.update(i,s);return}var c=r.style;if(a.onUpdate(i,r,l,s),s.process&&c&&c!==r.style){a.onProcessStyle(r.style,r,l);for(var u in r.style){var d=r.style[u],f=c[u];d!==f&&r.prop(u,d,uD)}for(var m in c){var g=r.style[m],v=c[m];g==null&&g!==v&&r.prop(m,null,uD)}}},e.toString=function(r){for(var i="",s=this.options.sheet,o=s?s.options.link:!1,a=ap(r),l=a.linebreak,c=0;c<this.index.length;c++){var u=this.index[c],d=u.toString(r);!d&&!o||(i&&(i+=l),i+=d)}return i},n}(),KG=function(){function n(t,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Nt({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new Kw(this.options);for(var i in t)this.rules.add(i,t[i]);this.rules.process()}var e=n.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,i,s){var o=this.queue;this.attached&&!o&&(this.queue=[]);var a=this.rules.add(r,i,s);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(o?o.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},e.replaceRule=function(r,i,s){var o=this.rules.get(r);if(!o)return this.addRule(r,i,s);var a=this.rules.replace(r,i,s);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?o.renderable&&this.renderer.replaceRule(o.renderable,a):this.renderer.deleteRule(o)),a):(this.deployed=!1,a)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,i){var s=[];for(var o in r){var a=this.addRule(o,r[o],i);a&&s.push(a)}return s},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,i,s){return this.rules.updateOne(r,i,s),this},e.toString=function(r){return this.rules.toString(r)},n}(),cie=function(){function n(){this.plugins={internal:[],external:[]},this.registry={}}var e=n.prototype;return e.onCreateRule=function(r,i,s){for(var o=0;o<this.registry.onCreateRule.length;o++){var a=this.registry.onCreateRule[o](r,i,s);if(a)return a}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,s=0;s<this.registry.onProcessRule.length;s++)this.registry.onProcessRule[s](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},e.onProcessStyle=function(r,i,s){for(var o=0;o<this.registry.onProcessStyle.length;o++)i.style=this.registry.onProcessStyle[o](i.style,i,s)},e.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},e.onUpdate=function(r,i,s,o){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,i,s,o)},e.onChangeValue=function(r,i,s){for(var o=r,a=0;a<this.registry.onChangeValue.length;a++)o=this.registry.onChangeValue[a](o,i,s);return o},e.use=function(r,i){i===void 0&&(i={queue:"external"});var s=this.plugins[i.queue];s.indexOf(r)===-1&&(s.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(o,a){for(var l in a)l in o&&o[l].push(a[l]);return o},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},n}(),uie=function(){function n(){this.registry=[]}var e=n.prototype;return e.add=function(r){var i=this.registry,s=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||s>=this.index){i.push(r);return}for(var o=0;o<i.length;o++)if(i[o].options.index>s){i.splice(o,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},e.toString=function(r){for(var i=r===void 0?{}:r,s=i.attached,o=VG(i,["attached"]),a=ap(o),l=a.linebreak,c="",u=0;u<this.registry.length;u++){var d=this.registry[u];s!=null&&d.attached!==s||(c&&(c+=l),c+=d.toString(o))}return c},jG(n,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),n}(),hg=new uie,VM=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),WM="2f1acc6c3a606b082e5eef5e54414ffb";VM[WM]==null&&(VM[WM]=0);var dD=VM[WM]++,hD=function(e){e===void 0&&(e={});var t=0,r=function(s,o){t+=1;var a="",l="";return o&&(o.options.classNamePrefix&&(l=o.options.classNamePrefix),o.options.jss.id!=null&&(a=String(o.options.jss.id))),e.minify?""+(l||"c")+dD+a+t:l+s.key+"-"+dD+(a?"-"+a:"")+"-"+t};return r},XG=function(e){var t;return function(){return t||(t=e()),t}},die=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch{return""}},hie=function(e,t,r){try{var i=r;if(Array.isArray(r)&&(i=Ku(r)),e.attributeStyleMap)e.attributeStyleMap.set(t,i);else{var s=i?i.indexOf("!important"):-1,o=s>-1?i.substr(0,s-1):i;e.style.setProperty(t,o,s>-1?"important":"")}}catch{return!1}return!0},fie=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch{}},pie=function(e,t){return e.selectorText=t,e.selectorText===t},YG=XG(function(){return document.querySelector("head")});function mie(n,e){for(var t=0;t<n.length;t++){var r=n[t];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function gie(n,e){for(var t=n.length-1;t>=0;t--){var r=n[t];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function vie(n){for(var e=YG(),t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(r.nodeType===8&&r.nodeValue.trim()===n)return r}return null}function yie(n){var e=hg.registry;if(e.length>0){var t=mie(e,n);if(t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element};if(t=gie(e,n),t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element.nextSibling}}var r=n.insertionPoint;if(r&&typeof r=="string"){var i=vie(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function _ie(n,e){var t=e.insertionPoint,r=yie(e);if(r!==!1&&r.parent){r.parent.insertBefore(n,r.node);return}if(t&&typeof t.nodeType=="number"){var i=t,s=i.parentNode;s&&s.insertBefore(n,i.nextSibling);return}YG().appendChild(n)}var xie=XG(function(){var n=document.querySelector('meta[property="csp-nonce"]');return n?n.getAttribute("content"):null}),fD=function(e,t,r){try{"insertRule"in e?e.insertRule(t,r):"appendRule"in e&&e.appendRule(t)}catch{return!1}return e.cssRules[r]},pD=function(e,t){var r=e.cssRules.length;return t===void 0||t>r?r:t},bie=function(){var e=document.createElement("style");return e.textContent=`
`,e},wie=function(){function n(t){this.getPropertyValue=die,this.setProperty=hie,this.removeProperty=fie,this.setSelector=pie,this.hasInsertedRules=!1,this.cssRules=[],t&&hg.add(t),this.sheet=t;var r=this.sheet?this.sheet.options:{},i=r.media,s=r.meta,o=r.element;this.element=o||bie(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),s&&this.element.setAttribute("data-meta",s);var a=xie();a&&this.element.setAttribute("nonce",a)}var e=n.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){_ie(this.element,this.sheet.options);var r=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,i){for(var s=0;s<r.index.length;s++)this.insertRule(r.index[s],s,i)},e.insertRule=function(r,i,s){if(s===void 0&&(s=this.element.sheet),r.rules){var o=r,a=s;if(r.type==="conditional"||r.type==="keyframes"){var l=pD(s,i);if(a=fD(s,o.toString({children:!1}),l),a===!1)return!1;this.refCssRule(r,l,a)}return this.insertRules(o.rules,a),a}var c=r.toString();if(!c)return!1;var u=pD(s,i),d=fD(s,c,u);return d===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,u,d),d)},e.refCssRule=function(r,i,s){r.renderable=s,r.options.parent instanceof KG&&this.cssRules.splice(i,0,s)},e.deleteRule=function(r){var i=this.element.sheet,s=this.indexOf(r);return s===-1?!1:(i.deleteRule(s),this.cssRules.splice(s,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,i){var s=this.indexOf(r);return s===-1?!1:(this.element.sheet.deleteRule(s),this.cssRules.splice(s,1),this.insertRule(i,s))},e.getRules=function(){return this.element.sheet.cssRules},n}(),Sie=0,Eie=function(){function n(t){this.id=Sie++,this.version="10.9.2",this.plugins=new cie,this.options={id:{minify:!1},createGenerateId:hD,Renderer:Qv?wie:null,plugins:[]},this.generateId=hD({minify:!1});for(var r=0;r<cD.length;r++)this.plugins.use(cD[r],{queue:"internal"});this.setup(t)}var e=n.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=Nt({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,i){i===void 0&&(i={});var s=i,o=s.index;typeof o!="number"&&(o=hg.index===0?0:hg.index+1);var a=new KG(r,Nt({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:o}));return this.plugins.onProcessSheet(a),a},e.removeStyleSheet=function(r){return r.detach(),hg.remove(r),this},e.createRule=function(r,i,s){if(i===void 0&&(i={}),s===void 0&&(s={}),typeof r=="object")return this.createRule(void 0,r,i);var o=Nt({},s,{name:r,jss:this,Renderer:this.options.Renderer});o.generateId||(o.generateId=this.generateId),o.classes||(o.classes={}),o.keyframes||(o.keyframes={});var a=OI(r,i,o);return a&&this.plugins.onProcessRule(a),a},e.use=function(){for(var r=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return s.forEach(function(a){r.plugins.use(a)}),this},n}(),qG=function(e){return new Eie(e)},BI=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function QG(n){var e=null;for(var t in n){var r=n[t],i=typeof r;if(i==="function")e||(e={}),e[t]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var s=QG(r);s&&(e||(e={}),e[t]=s)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */qG();var ZG=Date.now(),jE="fnValues"+ZG,$E="fnStyle"+ ++ZG,Cie=function(){return{onCreateRule:function(t,r,i){if(typeof r!="function")return null;var s=OI(t,{},i);return s[$E]=r,s},onProcessStyle:function(t,r){if(jE in r||$E in r)return t;var i={};for(var s in t){var o=t[s];typeof o=="function"&&(delete t[s],i[s]=o)}return r[jE]=i,t},onUpdate:function(t,r,i,s){var o=r,a=o[$E];a&&(o.style=a(t)||{});var l=o[jE];if(l)for(var c in l)o.prop(c,l[c](t),s)}}};const Aie=Cie;var gc="@global",jM="@global ",Mie=function(){function n(t,r,i){this.type="global",this.at=gc,this.isProcessed=!1,this.key=t,this.options=i,this.rules=new Kw(Nt({},i,{parent:this}));for(var s in r)this.rules.add(s,r[s]);this.rules.process()}var e=n.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,i,s){var o=this.rules.add(r,i,s);return o&&this.options.jss.plugins.onProcessRule(o),o},e.replaceRule=function(r,i,s){var o=this.rules.replace(r,i,s);return o&&this.options.jss.plugins.onProcessRule(o),o},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},n}(),Tie=function(){function n(t,r,i){this.type="global",this.at=gc,this.isProcessed=!1,this.key=t,this.options=i;var s=t.substr(jM.length);this.rule=i.jss.createRule(s,r,Nt({},i,{parent:this}))}var e=n.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},n}(),Pie=/\s*,\s*/g;function eH(n,e){for(var t=n.split(Pie),r="",i=0;i<t.length;i++)r+=e+" "+t[i].trim(),t[i+1]&&(r+=", ");return r}function Rie(n,e){var t=n.options,r=n.style,i=r?r[gc]:null;if(i){for(var s in i)e.addRule(s,i[s],Nt({},t,{selector:eH(s,n.selector)}));delete r[gc]}}function Iie(n,e){var t=n.options,r=n.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,gc.length)!==gc)){var s=eH(i.substr(gc.length),n.selector);e.addRule(s,r[i],Nt({},t,{selector:s})),delete r[i]}}function Nie(){function n(t,r,i){if(!t)return null;if(t===gc)return new Mie(t,r,i);if(t[0]==="@"&&t.substr(0,jM.length)===jM)return new Tie(t,r,i);var s=i.parent;return s&&(s.type==="global"||s.options.parent&&s.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=t),null}function e(t,r){t.type!=="style"||!r||(Rie(t,r),Iie(t,r))}return{onCreateRule:n,onProcessRule:e}}var mD=/\s*,\s*/g,kie=/&/g,Oie=/\$([\w-]+)/g;function Lie(){function n(i,s){return function(o,a){var l=i.getRule(a)||s&&s.getRule(a);return l?l.selector:a}}function e(i,s){for(var o=s.split(mD),a=i.split(mD),l="",c=0;c<o.length;c++)for(var u=o[c],d=0;d<a.length;d++){var f=a[d];l&&(l+=", "),l+=f.indexOf("&")!==-1?f.replace(kie,u):u+" "+f}return l}function t(i,s,o){if(o)return Nt({},o,{index:o.index+1});var a=i.options.nestingLevel;a=a===void 0?1:a+1;var l=Nt({},i.options,{nestingLevel:a,index:s.indexOf(i)+1});return delete l.name,l}function r(i,s,o){if(s.type!=="style")return i;var a=s,l=a.options.parent,c,u;for(var d in i){var f=d.indexOf("&")!==-1,m=d[0]==="@";if(!(!f&&!m)){if(c=t(a,l,c),f){var g=e(d,a.selector);u||(u=n(l,o)),g=g.replace(Oie,u);var v=a.key+"-"+d;"replaceRule"in l?l.replaceRule(v,i[d],Nt({},c,{selector:g})):l.addRule(v,i[d],Nt({},c,{selector:g}))}else m&&l.addRule(d,{},c).addRule(a.key,i[d],{selector:a.selector});delete i[d]}}return i}return{onProcessStyle:r}}var Bie=/[A-Z]/g,Die=/^ms-/,JE={};function Fie(n){return"-"+n.toLowerCase()}function tH(n){if(JE.hasOwnProperty(n))return JE[n];var e=n.replace(Bie,Fie);return JE[n]=Die.test(e)?"-"+e:e}function ab(n){var e={};for(var t in n){var r=t.indexOf("--")===0?t:tH(t);e[r]=n[t]}return n.fallbacks&&(Array.isArray(n.fallbacks)?e.fallbacks=n.fallbacks.map(ab):e.fallbacks=ab(n.fallbacks)),e}function zie(){function n(t){if(Array.isArray(t)){for(var r=0;r<t.length;r++)t[r]=ab(t[r]);return t}return ab(t)}function e(t,r,i){if(r.indexOf("--")===0)return t;var s=tH(r);return r===s?t:(i.prop(s,t),null)}return{onProcessStyle:n,onChangeValue:e}}var we=BI&&CSS?CSS.px:"px",Yy=BI&&CSS?CSS.ms:"ms",Zd=BI&&CSS?CSS.percent:"%",Uie={"animation-delay":Yy,"animation-duration":Yy,"background-position":we,"background-position-x":we,"background-position-y":we,"background-size":we,border:we,"border-bottom":we,"border-bottom-left-radius":we,"border-bottom-right-radius":we,"border-bottom-width":we,"border-left":we,"border-left-width":we,"border-radius":we,"border-right":we,"border-right-width":we,"border-top":we,"border-top-left-radius":we,"border-top-right-radius":we,"border-top-width":we,"border-width":we,"border-block":we,"border-block-end":we,"border-block-end-width":we,"border-block-start":we,"border-block-start-width":we,"border-block-width":we,"border-inline":we,"border-inline-end":we,"border-inline-end-width":we,"border-inline-start":we,"border-inline-start-width":we,"border-inline-width":we,"border-start-start-radius":we,"border-start-end-radius":we,"border-end-start-radius":we,"border-end-end-radius":we,margin:we,"margin-bottom":we,"margin-left":we,"margin-right":we,"margin-top":we,"margin-block":we,"margin-block-end":we,"margin-block-start":we,"margin-inline":we,"margin-inline-end":we,"margin-inline-start":we,padding:we,"padding-bottom":we,"padding-left":we,"padding-right":we,"padding-top":we,"padding-block":we,"padding-block-end":we,"padding-block-start":we,"padding-inline":we,"padding-inline-end":we,"padding-inline-start":we,"mask-position-x":we,"mask-position-y":we,"mask-size":we,height:we,width:we,"min-height":we,"max-height":we,"min-width":we,"max-width":we,bottom:we,left:we,top:we,right:we,inset:we,"inset-block":we,"inset-block-end":we,"inset-block-start":we,"inset-inline":we,"inset-inline-end":we,"inset-inline-start":we,"box-shadow":we,"text-shadow":we,"column-gap":we,"column-rule":we,"column-rule-width":we,"column-width":we,"font-size":we,"font-size-delta":we,"letter-spacing":we,"text-decoration-thickness":we,"text-indent":we,"text-stroke":we,"text-stroke-width":we,"word-spacing":we,motion:we,"motion-offset":we,outline:we,"outline-offset":we,"outline-width":we,perspective:we,"perspective-origin-x":Zd,"perspective-origin-y":Zd,"transform-origin":Zd,"transform-origin-x":Zd,"transform-origin-y":Zd,"transform-origin-z":Zd,"transition-delay":Yy,"transition-duration":Yy,"vertical-align":we,"flex-basis":we,"shape-margin":we,size:we,gap:we,grid:we,"grid-gap":we,"row-gap":we,"grid-row-gap":we,"grid-column-gap":we,"grid-template-rows":we,"grid-template-columns":we,"grid-auto-rows":we,"grid-auto-columns":we,"box-shadow-x":we,"box-shadow-y":we,"box-shadow-blur":we,"box-shadow-spread":we,"font-line-height":we,"text-shadow-x":we,"text-shadow-y":we,"text-shadow-blur":we};function nH(n){var e=/(-[a-z])/g,t=function(o){return o[1].toUpperCase()},r={};for(var i in n)r[i]=n[i],r[i.replace(e,t)]=n[i];return r}var Gie=nH(Uie);function fg(n,e,t){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=fg(n,e[r],t);else if(typeof e=="object")if(n==="fallbacks")for(var i in e)e[i]=fg(i,e[i],t);else for(var s in e)e[s]=fg(n+"-"+s,e[s],t);else if(typeof e=="number"&&isNaN(e)===!1){var o=t[n]||Gie[n];return o&&!(e===0&&o===we)?typeof o=="function"?o(e).toString():""+e+o:e.toString()}return e}function Hie(n){n===void 0&&(n={});var e=nH(n);function t(i,s){if(s.type!=="style")return i;for(var o in i)i[o]=fg(o,i[o],e);return i}function r(i,s){return fg(s,i,e)}return{onProcessStyle:t,onChangeValue:r}}var jm="",$M="",rH="",iH="",Vie=Qv&&"ontouchstart"in document.documentElement;if(Qv){var KE={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Wie=document.createElement("p"),XE=Wie.style,jie="Transform";for(var YE in KE)if(YE+jie in XE){jm=YE,$M=KE[YE];break}jm==="Webkit"&&"msHyphens"in XE&&(jm="ms",$M=KE.ms,iH="edge"),jm==="Webkit"&&"-apple-trailing-word"in XE&&(rH="apple")}var Et={js:jm,css:$M,vendor:rH,browser:iH,isTouch:Vie};function $ie(n){return n[1]==="-"||Et.js==="ms"?n:"@"+Et.css+"keyframes"+n.substr(10)}var Jie={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:Et.js==="ms"?"-webkit-"+e:Et.css+e}},Kie={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:Et.js==="Webkit"?Et.css+"print-"+e:e}},Xie=/[-\s]+(.)?/g;function Yie(n,e){return e?e.toUpperCase():""}function DI(n){return n.replace(Xie,Yie)}function Cc(n){return DI("-"+n)}var qie={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if(Et.js==="Webkit"){var r="mask-image";if(DI(r)in t)return e;if(Et.js+Cc(r)in t)return Et.css+e}return e}},Qie={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:Et.vendor==="apple"&&!Et.isTouch?Et.css+e:e}},Zie={noPrefill:["transform"],supportedProperty:function(e,t,r){return e!=="transform"?!1:r.transform?e:Et.css+e}},ese={noPrefill:["transition"],supportedProperty:function(e,t,r){return e!=="transition"?!1:r.transition?e:Et.css+e}},tse={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:Et.js==="Webkit"||Et.js==="ms"&&Et.browser!=="edge"?Et.css+e:e}},nse={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:Et.js==="Moz"||Et.js==="ms"||Et.vendor==="apple"?Et.css+e:e}},rse={supportedProperty:function(e,t){if(!/^break-/.test(e))return!1;if(Et.js==="Webkit"){var r="WebkitColumn"+Cc(e);return r in t?Et.css+"column-"+e:!1}if(Et.js==="Moz"){var i="page"+Cc(e);return i in t?"page-"+e:!1}return!1}},ise={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(Et.js==="Moz")return e;var r=e.replace("-inline","");return Et.js+Cc(r)in t?Et.css+r:!1}},sse={supportedProperty:function(e,t){return DI(e)in t?e:!1}},ose={supportedProperty:function(e,t){var r=Cc(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:Et.js+r in t?Et.css+e:Et.js!=="Webkit"&&"Webkit"+r in t?"-webkit-"+e:!1}},ase={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:Et.js==="ms"?""+Et.css+e:e}},lse={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:Et.js==="ms"?Et.css+"scroll-chaining":e}},cse={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},use={supportedProperty:function(e,t){var r=cse[e];return r&&Et.js+Cc(r)in t?Et.css+r:!1}},sH={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},dse=Object.keys(sH),hse=function(e){return Et.css+e},fse={supportedProperty:function(e,t,r){var i=r.multiple;if(dse.indexOf(e)>-1){var s=sH[e];if(!Array.isArray(s))return Et.js+Cc(s)in t?Et.css+s:!1;if(!i)return!1;for(var o=0;o<s.length;o++)if(!(Et.js+Cc(s[0])in t))return!1;return s.map(hse)}return!1}},oH=[Jie,Kie,qie,Qie,Zie,ese,tse,nse,rse,ise,sse,ose,ase,lse,use,fse],gD=oH.filter(function(n){return n.supportedProperty}).map(function(n){return n.supportedProperty}),pse=oH.filter(function(n){return n.noPrefill}).reduce(function(n,e){return n.push.apply(n,Rre(e.noPrefill)),n},[]),$m,Iu={};if(Qv){$m=document.createElement("p");var qE=window.getComputedStyle(document.documentElement,"");for(var QE in qE)isNaN(QE)||(Iu[qE[QE]]=qE[QE]);pse.forEach(function(n){return delete Iu[n]})}function JM(n,e){if(e===void 0&&(e={}),!$m)return n;if(Iu[n]!=null)return Iu[n];(n==="transition"||n==="transform")&&(e[n]=n in $m.style);for(var t=0;t<gD.length&&(Iu[n]=gD[t](n,$m.style,e),!Iu[n]);t++);try{$m.style[n]=""}catch{return!1}return Iu[n]}var eh={},mse={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},gse=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Ul;function vse(n,e,t){if(e==="var")return"var";if(e==="all")return"all";if(t==="all")return", all";var r=e?JM(e):", "+JM(t);return r||e||t}Qv&&(Ul=document.createElement("p"));function vD(n,e){var t=e;if(!Ul||n==="content")return e;if(typeof t!="string"||!isNaN(parseInt(t,10)))return t;var r=n+t;if(eh[r]!=null)return eh[r];try{Ul.style[n]=t}catch{return eh[r]=!1,!1}if(mse[n])t=t.replace(gse,vse);else if(Ul.style[n]===""&&(t=Et.css+t,t==="-ms-flex"&&(Ul.style[n]="-ms-flexbox"),Ul.style[n]=t,Ul.style[n]===""))return eh[r]=!1,!1;return Ul.style[n]="",eh[r]=t,eh[r]}function yse(){function n(i){if(i.type==="keyframes"){var s=i;s.at=$ie(s.at)}}function e(i){for(var s in i){var o=i[s];if(s==="fallbacks"&&Array.isArray(o)){i[s]=o.map(e);continue}var a=!1,l=JM(s);l&&l!==s&&(a=!0);var c=!1,u=vD(l,Ku(o));u&&u!==o&&(c=!0),(a||c)&&(a&&delete i[s],i[l||s]=u||o)}return i}function t(i,s){return s.type!=="style"?i:e(i)}function r(i,s){return vD(s,Ku(i))||i}return{onProcessRule:n,onProcessStyle:t,onChangeValue:r}}function _se(){var n=function(t,r){return t.length===r.length?t>r?1:-1:t.length-r.length};return{onProcessStyle:function(t,r){if(r.type!=="style")return t;for(var i={},s=Object.keys(t).sort(n),o=0;o<s.length;o++)i[s[o]]=t[s[o]];return i}}}function xse(){return{plugins:[Aie(),Nie(),Lie(),zie(),Hie(),typeof window>"u"?null:yse(),_se()]}}function aH(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.baseClasses,t=n.newClasses;if(n.Component,!t)return e;var r=Nt({},e);return Object.keys(t).forEach(function(i){t[i]&&(r[i]="".concat(e[i]," ").concat(t[i]))}),r}var bse={set:function(e,t,r,i){var s=e.get(t);s||(s=new Map,e.set(t,s)),s.set(r,i)},get:function(e,t,r){var i=e.get(t);return i?i.get(r):void 0},delete:function(e,t,r){var i=e.get(t);i.delete(r)}};const zh=bse;var wse=mt.createContext(null);const Sse=wse;function Ese(){var n=mt.useContext(Sse);return n}var Cse=qG(xse()),Ase=Ure(),Mse=new Map,Tse={disableGeneration:!1,generateClassName:Ase,jss:Cse,sheetsCache:null,sheetsManager:Mse,sheetsRegistry:null},Pse=mt.createContext(Tse),yD=-1e9;function Rse(){return yD+=1,yD}var Ise={};const Nse=Ise;function kse(n){var e=typeof n=="function";return{create:function(r,i){var s;try{s=e?n(r):n}catch(l){throw l}if(!i||!r.overrides||!r.overrides[i])return s;var o=r.overrides[i],a=Nt({},s);return Object.keys(o).forEach(function(l){a[l]=Pf(a[l],o[l])}),a},options:{}}}function Ose(n,e,t){var r=n.state,i=n.stylesOptions;if(i.disableGeneration)return e||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var s=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,s=!0),e!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=e,s=!0),s&&(r.cacheClasses.value=aH({baseClasses:r.cacheClasses.lastJSS,newClasses:e,Component:t})),r.cacheClasses.value}function Lse(n,e){var t=n.state,r=n.theme,i=n.stylesOptions,s=n.stylesCreator,o=n.name;if(!i.disableGeneration){var a=zh.get(i.sheetsManager,s,r);a||(a={refs:0,staticSheet:null,dynamicStyles:null},zh.set(i.sheetsManager,s,r,a));var l=Nt({},s.options,i,{theme:r,flip:typeof i.flip=="boolean"?i.flip:r.direction==="rtl"});l.generateId=l.serverGenerateClassName||l.generateClassName;var c=i.sheetsRegistry;if(a.refs===0){var u;i.sheetsCache&&(u=zh.get(i.sheetsCache,s,r));var d=s.create(r,o);u||(u=i.jss.createStyleSheet(d,Nt({link:!1},l)),u.attach(),i.sheetsCache&&zh.set(i.sheetsCache,s,r,u)),c&&c.add(u),a.staticSheet=u,a.dynamicStyles=QG(d)}if(a.dynamicStyles){var f=i.jss.createStyleSheet(a.dynamicStyles,Nt({link:!0},l));f.update(e),f.attach(),t.dynamicSheet=f,t.classes=aH({baseClasses:a.staticSheet.classes,newClasses:f.classes}),c&&c.add(f)}else t.classes=a.staticSheet.classes;a.refs+=1}}function Bse(n,e){var t=n.state;t.dynamicSheet&&t.dynamicSheet.update(e)}function Dse(n){var e=n.state,t=n.theme,r=n.stylesOptions,i=n.stylesCreator;if(!r.disableGeneration){var s=zh.get(r.sheetsManager,i,t);s.refs-=1;var o=r.sheetsRegistry;s.refs===0&&(zh.delete(r.sheetsManager,i,t),r.jss.removeStyleSheet(s.staticSheet),o&&o.remove(s.staticSheet)),e.dynamicSheet&&(r.jss.removeStyleSheet(e.dynamicSheet),o&&o.remove(e.dynamicSheet))}}function Fse(n,e){var t=mt.useRef([]),r,i=mt.useMemo(function(){return{}},e);t.current!==i&&(t.current=i,r=n()),mt.useEffect(function(){return function(){r&&r()}},[i])}function zse(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.name,r=e.classNamePrefix,i=e.Component,s=e.defaultTheme,o=s===void 0?Nse:s,a=op(e,["name","classNamePrefix","Component","defaultTheme"]),l=kse(n),c=t||r||"makeStyles";l.options={index:Rse(),name:t,meta:c,classNamePrefix:c};var u=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=Ese()||o,g=Nt({},mt.useContext(Pse),a),v=mt.useRef(),_=mt.useRef();Fse(function(){var w={name:t,state:{},stylesCreator:l,stylesOptions:g,theme:m};return Lse(w,f),_.current=!1,v.current=w,function(){Dse(w)}},[m,l]),mt.useEffect(function(){_.current&&Bse(v.current,f),_.current=!0});var x=Ose(v.current,f.classes,i);return x};return u}var Use=Bre();const Gse=Use;function Zv(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return zse(n,Nt({defaultTheme:Gse},e))}const Hse=Zv({button:{width:"7vh",height:"7vh","&:hover":{backgroundColor:"#FDDE00",boxShadow:"0 0 10px rgba(249, 255, 65, 0.844)"}}}),th={card:{position:"relative",borderRadius:"3vh",height:"55vh",width:"40vh",boxShadow:"5px 5px 10px rgba(68, 1, 24,0.2)",backgroundImage:"linear-gradient(#ebdbb1, #e8d296)"},overlay:{position:"absolute",bottom:"0",marginLeft:"0",color:"#ffd52f",width:"100%",paddingLeft:"2vh",paddingBottom:"0vh",borderRadius:"0 0 8px 8px"},overlayp:{color:"rgba(255, 255, 255, 0.5)",paddingLeft:"0.rem",fontSize:"2.5vh",position:"relative"},overlayh1:{fontSize:"4vh",paddingTop:"3vh",marginBottom:"0vh",position:"relative"},media:{height:"55vh",width:"40vh"},flip:{position:"relative",width:""}};function Vse(){const n=Hse(),[e,t]=k.useState(!1),r=()=>t(!0);return y(Kv,{style:th.card,className:"ch-card",children:F("div",{className:"pokpok-container",children:[y(Xv,{component:"img",alt:"chapter something",height:"411",image:Lne,style:th.media,className:"pokpok"}),F("div",{style:th.overlay,className:"pokpok-overlay",children:[y("h1",{style:th.overlayh1,children:"Chapter 1"}),F("p",{style:th.overlayp,children:["The Peasantry",y(jn,{className:"ch-link ch-active",to:"/chapters-directory/chapter-1",children:y("div",{className:"flip-container",style:th.flipp,children:y(qv,{"aria-label":"flip",onClick:r,children:y(Yv,{sx:{bgcolor:aa[700]},className:n.button,children:y(sp,{className:"flip-icon",sx:{width:"5vh",height:"5vh"}})})})})})]})]})]})})}const Wse="/assets/chii-sample1-951d6c72.png",jse=Zv({button:{width:"7vh",height:"7vh","&:hover":{backgroundColor:"#FDDE00",boxShadow:"0 0 10px rgba(249, 255, 65, 0.844)"}}}),cm={card:{position:"relative",borderRadius:"3vh",height:"55vh",width:"40vh",boxShadow:"5px 5px 10px rgba(68, 1, 24,0.2)",backgroundImage:"linear-gradient(#ebdbb1, #e8d296)"},overlay:{position:"absolute",bottom:"0",marginLeft:"0",color:"#ffd52f",width:"100%",paddingLeft:"2vh",paddingBottom:"0vh",borderRadius:"0 0 8px 8px"},overlayp:{color:"rgba(255, 255, 255, 0.5)",paddingLeft:"0.rem",fontSize:"2.5vh",position:"relative"},overlayh1:{fontSize:"4vh",paddingTop:"3vh",marginBottom:"0vh",position:"relative"},media:{height:"55vh",width:"40vh"},flip:{position:"relative",width:""}};function $se(){const n=jse(),[e,t]=k.useState(!1),r=()=>t(!0);return y(Kv,{style:cm.card,className:"ch-card",children:F("div",{className:"pokpok-container",children:[y(Xv,{component:"img",alt:"chapter something",height:"411",image:Wse,style:cm.media,className:"pokpok"}),F("div",{style:cm.overlay,className:"pokpok-overlay",children:[y("h1",{style:cm.overlayh1,children:"Chapter 2"}),F("p",{style:cm.overlayp,children:["History of Struggle",y(jn,{className:"ch-link ch-active",to:"/chapters-directory/chapter-2",children:y("div",{className:"flip-container",children:y(qv,{"aria-label":"flip",onClick:r,children:y(Yv,{sx:{bgcolor:aa[700]},className:n.button,children:y(sp,{className:"flip-icon"})})})})})]})]})]})})}const Jse="/assets/chiii-sample1-36495a6f.png",Kse=Zv({button:{width:"7vh",height:"7vh","&:hover":{backgroundColor:"#FDDE00",boxShadow:"0 0 10px rgba(249, 255, 65, 0.844)"}}}),um={card:{position:"relative",borderRadius:"3vh",height:"55vh",width:"40vh",boxShadow:"5px 5px 10px rgba(68, 1, 24,0.2)",backgroundImage:"linear-gradient(#ebdbb1, #e8d296)"},overlay:{position:"absolute",bottom:"0",marginLeft:"0",color:"#ffd52f",width:"100%",paddingLeft:"2vh",paddingBottom:"0vh",borderRadius:"0 0 8px 8px"},overlayp:{color:"rgba(255, 255, 255, 0.5)",paddingLeft:"0.rem",fontSize:"2.5vh",position:"relative"},overlayh1:{fontSize:"4vh",paddingTop:"3vh",marginBottom:"0vh",position:"relative"},media:{height:"55vh",width:"40vh"},flip:{position:"relative",width:""}};function Xse(){const n=Kse(),[e,t]=k.useState(!1),r=()=>t(!0);return y(Kv,{style:um.card,className:"ch-card",children:F("div",{className:"pokpok-container",children:[y(Xv,{component:"img",alt:"chapter something",height:"411",image:Jse,style:um.media,className:"pokpok"}),F("div",{style:um.overlay,className:"pokpok-overlay",children:[y("h1",{style:um.overlayh1,children:"Chapter 3"}),F("p",{style:um.overlayp,children:["The Peasant Plight",y(jn,{className:"ch-link ch-active",to:"/chapters-directory/chapter-3",children:y("div",{className:"flip-container",children:y(qv,{"aria-label":"flip",onClick:r,children:y(Yv,{sx:{bgcolor:aa[700]},className:n.button,children:y(sp,{className:"flip-icon"})})})})})]})]})]})})}const Yse="/assets/chiv-sample1-928d1cbc.png",qse=Zv({button:{width:"7vh",height:"7vh","&:hover":{backgroundColor:"#FDDE00",boxShadow:"0 0 10px rgba(249, 255, 65, 0.844)"}}}),dm={card:{position:"relative",borderRadius:"3vh",height:"55vh",width:"40vh",boxShadow:"5px 5px 10px rgba(68, 1, 24,0.2)",backgroundImage:"linear-gradient(#ebdbb1, #e8d296)"},overlay:{position:"absolute",bottom:"0",marginLeft:"0",color:"#ffd52f",width:"100%",paddingLeft:"2vh",paddingBottom:"0vh",borderRadius:"0 0 8px 8px"},overlayp:{color:"rgba(255, 255, 255, 0.5)",paddingLeft:"0.rem",fontSize:"2.5vh",position:"relative"},overlayh1:{fontSize:"4vh",paddingTop:"3vh",marginBottom:"0vh",position:"relative"},media:{height:"55vh",width:"40vh"},flip:{position:"relative",width:""}};function Qse(){const n=qse(),[e,t]=k.useState(!1),r=()=>t(!0);return y(Kv,{style:dm.card,className:"ch-card",children:F("div",{className:"pokpok-container",children:[y(Xv,{component:"img",alt:"chapter something",height:"411",image:Yse,style:dm.media,className:"pokpok"}),F("div",{style:dm.overlay,className:"pokpok-overlay",children:[y("h1",{style:dm.overlayh1,children:"Chapter 4"}),F("p",{style:dm.overlayp,children:["Roots of the Problem",y(jn,{className:"ch-link ch-active",to:"/chapters-directory/chapter-4",children:y("div",{className:"flip-container",children:y(qv,{"aria-label":"flip",onClick:r,children:y(Yv,{sx:{bgcolor:aa[700]},className:n.button,children:y(sp,{className:"flip-icon"})})})})})]})]})]})})}const Zse="/assets/chv-sample1-3476eb0f.png",eoe=Zv({button:{width:"7vh",height:"7vh","&:hover":{backgroundColor:"#FDDE00",boxShadow:"0 0 10px rgba(249, 255, 65, 0.844)"}}}),hm={card:{position:"relative",borderRadius:"3vh",height:"55vh",width:"40vh",boxShadow:"5px 5px 10px rgba(68, 1, 24,0.2)",backgroundImage:"linear-gradient(#ebdbb1, #e8d296)"},overlay:{position:"absolute",bottom:"0",marginLeft:"0",color:"#ffd52f",width:"100%",paddingLeft:"2vh",paddingBottom:"0vh",borderRadius:"0 0 8px 8px"},overlayp:{color:"rgba(255, 255, 255, 0.5)",paddingLeft:"0.rem",fontSize:"2.5vh",position:"relative"},overlayh1:{fontSize:"4vh",paddingTop:"3vh",marginBottom:"0vh",position:"relative"},media:{height:"55vh",width:"40vh"},flip:{position:"relative",width:""}};function toe(){const n=eoe(),[e,t]=k.useState(!1),r=()=>t(!0);return y(Kv,{style:hm.card,className:"ch-card",children:F("div",{className:"pokpok-container",children:[y(Xv,{component:"img",alt:"chapter something",height:"411",image:Zse,style:hm.media,className:"pokpok"}),F("div",{style:hm.overlay,className:"pokpok-overlay",children:[y("h1",{style:hm.overlayh1,children:"Chapter 5"}),F("p",{style:hm.overlayp,children:["Solutions",y(jn,{className:"ch-link ch-active",to:"/chapters-directory/chapter-5",children:y("div",{className:"flip-container",children:y(qv,{"aria-label":"flip",onClick:r,children:y(Yv,{sx:{bgcolor:aa[700]},className:n.button,children:y(sp,{className:"flip-icon"})})})})})]})]})]})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function lH(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function noe(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function ZE(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(noe(arguments[e]));return n}var fm=function(n){return typeof n>"u"},KM=function(){function n(t,r){var i,s;if(this._canceled=!1,r)try{for(var o=lH(Object.keys(r)),a=o.next();!a.done;a=o.next()){var l=a.value;this[l]=r[l]}}catch(c){i={error:c}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}this.eventType=t}var e=n.prototype;return e.stop=function(){this._canceled=!0},e.isCanceled=function(){return this._canceled},n}(),Sd=function(){function n(){this._eventHandler={}}var e=n.prototype;return e.trigger=function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=t instanceof KM?t.eventType:t,o=ZE(this._eventHandler[s]||[]);return o.length<=0?this:(t instanceof KM?(t.currentTarget=this,o.forEach(function(a){a(t)})):o.forEach(function(a){a.apply(void 0,ZE(r))}),this)},e.once=function(t,r){var i=this;if(typeof t=="object"&&fm(r)){var s=t;for(var o in s)this.once(o,s[o]);return this}else if(typeof t=="string"&&typeof r=="function"){var a=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];r.apply(void 0,ZE(l)),i.off(t,a)};this.on(t,a)}return this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,r){if(typeof t=="object"&&fm(r)){var i=t;for(var s in i)this.on(s,i[s]);return this}else if(typeof t=="string"&&typeof r=="function"){var o=this._eventHandler[t];fm(o)&&(this._eventHandler[t]=[],o=this._eventHandler[t]),o.push(r)}return this},e.off=function(t,r){var i,s;if(fm(t))return this._eventHandler={},this;if(fm(r)){if(typeof t=="string")return delete this._eventHandler[t],this;var o=t;for(var a in o)this.off(a,o[a]);return this}var l=this._eventHandler[t];if(l){var c=0;try{for(var u=lH(l),d=u.next();!d.done;d=u.next()){var f=d.value;if(f===r){l.splice(c,1),l.length<=0&&delete this._eventHandler[t];break}c++}}catch(m){i={error:m}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}}return this},n.VERSION="3.0.2",n}(),Vt=KM,roe=function(){function n(){this.keys=[],this.values=[]}var e=n.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,r){var i=this.keys,s=this.values,o=i.indexOf(t),a=o===-1?i.length:o;i[a]=t,s[a]=r},n}(),ioe=function(){function n(){this.object={}}var e=n.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,r){this.object[t]=r},n}(),soe=typeof Map=="function",ooe=function(){function n(){}var e=n.prototype;return e.connect=function(t,r){this.prev=t,this.next=r,t&&(t.next=this),r&&(r.prev=this)},e.disconnect=function(){var t=this.prev,r=this.next;t&&(t.next=r),r&&(r.prev=t)},e.getIndex=function(){for(var t=this,r=-1;t;)t=t.prev,++r;return r},n}();function aoe(n,e){var t=[],r=[];return n.forEach(function(i){var s=i[0],o=i[1],a=new ooe;t[s]=a,r[o]=a}),t.forEach(function(i,s){i.connect(t[s-1])}),n.filter(function(i,s){return!e[s]}).map(function(i,s){var o=i[0],a=i[1];if(o===a)return[0,0];var l=t[o],c=r[a-1],u=l.getIndex();l.disconnect(),c?l.connect(c,c.next):l.connect(void 0,t[0]);var d=l.getIndex();return[u,d]})}var loe=function(){function n(t,r,i,s,o,a,l,c){this.prevList=t,this.list=r,this.added=i,this.removed=s,this.changed=o,this.maintained=a,this.changedBeforeAdded=l,this.fixed=c}var e=n.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t=aoe(this.changedBeforeAdded,this.fixed),r=this.changed,i=[];this.cacheOrdered=t.filter(function(s,o){var a=s[0],l=s[1],c=r[o],u=c[0],d=c[1];if(a!==l)return i.push([u,d]),!0}),this.cachePureChanged=i},n}();function cH(n,e,t){var r=soe?Map:t?ioe:roe,i=t||function(w){return w},s=[],o=[],a=[],l=n.map(i),c=e.map(i),u=new r,d=new r,f=[],m=[],g={},v=[],_=0,x=0;return l.forEach(function(w,S){u.set(w,S)}),c.forEach(function(w,S){d.set(w,S)}),l.forEach(function(w,S){var E=d.get(w);typeof E>"u"?(++x,o.push(S)):g[E]=x}),c.forEach(function(w,S){var E=u.get(w);typeof E>"u"?(s.push(S),++_):(a.push([E,S]),x=g[S]||0,f.push([E-x,S-_]),m.push(S===E),E!==S&&v.push([E,S]))}),o.reverse(),new loe(n,e,s,o,v,a,f,m)}var coe=function(){function n(t,r){t===void 0&&(t=[]),this.findKeyCallback=r,this.list=[].slice.call(t)}var e=n.prototype;return e.update=function(t){var r=[].slice.call(t),i=cH(this.list,r,this.findKeyCallback);return this.list=r,i},n}();const _D=coe;function FI(n,e){for(var t=n.length,r=0;r<t;++r)if(e(n[r],r))return!0;return!1}function uH(n,e){for(var t=n.length,r=0;r<t;++r)if(e(n[r],r))return n[r];return null}function dH(n){var e=n;if(typeof e>"u"){if(typeof navigator>"u"||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function zI(n,e){try{return new RegExp(n,"g").exec(e)}catch{return null}}function uoe(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var n=navigator.userAgentData,e=n.brands||n.uaList;return!!(e&&e.length)}function doe(n,e){var t=zI("("+n+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return t?t[3]:""}function XM(n){return n.replace(/_/g,".")}function Jm(n,e){var t=null,r="-1";return FI(n,function(i){var s=zI("("+i.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!s||i.brand?!1:(t=i,r=s[3]||"-1",i.versionAlias?r=i.versionAlias:i.versionTest&&(r=doe(i.versionTest.toLowerCase(),e)||r),r=XM(r),!0)}),{preset:t,version:r}}function pm(n,e){var t={brand:"",version:"-1"};return FI(n,function(r){var i=hH(e,r);return i?(t.brand=r.id,t.version=r.versionAlias||i.version,t.version!=="-1"):!1}),t}function hH(n,e){return uH(n,function(t){var r=t.brand;return zI(""+e.test,r.toLowerCase())})}var YM=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],fH=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],qM=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],pH=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],mH=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function gH(n){return!!Jm(pH,n).preset}function hoe(n){var e=dH(n),t=!!/mobi/g.exec(e),r={name:"unknown",version:"-1",majorVersion:-1,webview:gH(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},s=Jm(YM,e),o=s.preset,a=s.version,l=Jm(mH,e),c=l.preset,u=l.version,d=Jm(fH,e);if(r.chromium=!!d.preset,r.chromiumVersion=d.version,!r.chromium){var f=Jm(qM,e);r.webkit=!!f.preset,r.webkitVersion=f.version}return c&&(i.name=c.id,i.version=u,i.majorVersion=parseInt(u,10)),o&&(r.name=o.id,r.version=a,r.webview&&i.name==="ios"&&r.name!=="safari"&&(r.webview=!1)),r.majorVersion=parseInt(r.version,10),{browser:r,os:i,isMobile:t,isHints:!1}}function foe(n){var e=navigator.userAgentData,t=(e.uaList||e.brands).slice(),r=n&&n.fullVersionList,i=e.mobile||!1,s=t[0],o=(n&&n.platform||e.platform||navigator.platform).toLowerCase(),a={name:s.brand,version:s.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!pm(pH,t).brand||gH(dH())},l={name:"unknown",version:"-1",majorVersion:-1};a.webkit=!a.chromium&&FI(qM,function(g){return hH(t,g)});var c=pm(fH,t);if(a.chromium=!!c.brand,a.chromiumVersion=c.version,!a.chromium){var u=pm(qM,t);a.webkit=!!u.brand,a.webkitVersion=u.version}var d=uH(mH,function(g){return new RegExp(""+g.test,"g").exec(o)});if(l.name=d?d.id:"",n&&(l.version=n.platformVersion),r&&r.length){var f=pm(YM,r);a.name=f.brand||a.name,a.version=f.version||a.version}else{var m=pm(YM,t);a.name=m.brand||a.name,a.version=m.brand&&n?n.uaFullVersion:m.version}return a.webkit&&(l.name=i?"ios":"mac"),l.name==="ios"&&a.webview&&(a.version="-1"),l.version=XM(l.version),a.version=XM(a.version),l.majorVersion=parseInt(l.version,10),a.majorVersion=parseInt(a.version,10),{browser:a,os:l,isMobile:i,isHints:!0}}function poe(n){return typeof n>"u"&&uoe()?foe():hoe(n)}function moe(n){return Object.keys(n)}var eC="__observers__",goe=function(){function n(t){this._emitter=new Sd,this._current=t}var e=n.prototype;return Object.defineProperty(e,"current",{get:function(){return this._current},set:function(t){var r=t!==this._current;this._current=t,r&&this._emitter.trigger("update",t)},enumerable:!1,configurable:!0}),e.subscribe=function(t){this._emitter.on("update",t)},e.unsubscribe=function(t){this._emitter.off("update",t)},n}();function voe(n){return new goe(n)}function vH(n){return n[eC]||(n[eC]={}),n[eC]}function QM(n,e,t){var r=vH(n);return r[e]||(r[e]=voe(t)),r[e]}function yoe(n){n.subscribe=function(e,t){QM(this,e).subscribe(t)},n.unsubscribe=function(e,t){var r=this;if(!e){moe(vH(this)).forEach(function(i){r.unsubscribe(i)});return}e in this&&QM(this,e).unsubscribe(t)}}function _oe(n){var e=n.prototype;yoe(e)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ZM=function(n,e){return ZM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},ZM(n,e)};function lp(n,e){ZM(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var hr=function(){return hr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},hr.apply(this,arguments)};function xoe(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}var Ir;typeof window>"u"?Ir={navigator:{userAgent:""}}:Ir=window;var e0=1,boe=2,woe=4,If=6,Soe=8,Eoe=16,Nf=24,Xw=30,lb="left",eT="right",tT="middle",yH="any",Coe="none",Aoe="shift",Moe="ctrl",Toe="alt",Poe="meta",Roe=16,Ioe=30,xD="ontouchstart"in Ir&&poe().browser.name==="safari",Noe=function(){if(typeof document>"u")return"";for(var n=(document.head||document.getElementsByTagName("head")[0]).style,e=["transform","webkitTransform","msTransform","mozTransform"],t=0,r=e.length;t<r;t++)if(e[t]in n)return e[t];return""}(),nT={"-webkit-user-select":"none","-ms-user-select":"none","-moz-user-select":"none","user-select":"none","-webkit-user-drag":"none"},bD=function(n){for(var e=[],t=0,r=n.length;t<r;t++)e.push(n[t]);return e},_H=function(n,e){e===void 0&&(e=!1);var t;if(typeof n=="string"){var r=n.match(/^<([a-z]+)\s*([^>]*)>/);if(r){var i=document.createElement("div");i.innerHTML=n,t=bD(i.childNodes)}else t=bD(document.querySelectorAll(n));e||(t=t.length>=1?t[0]:void 0)}else n===Ir?t=n:"value"in n||"current"in n?t=n.value||n.current:n.nodeName&&(n.nodeType===1||n.nodeType===9)?t=n:"jQuery"in Ir&&n instanceof jQuery||n.constructor.prototype.jquery?t=e?n.toArray():n.get(0):Array.isArray(n)&&(t=n.map(function(s){return _H(s)}),e||(t=t.length>=1?t[0]:void 0));return t},Sh=Ir.requestAnimationFrame||Ir.webkitRequestAnimationFrame,Km=Ir.cancelAnimationFrame||Ir.webkitCancelAnimationFrame;if(Sh&&!Km){var tC={},koe=Sh;Sh=function(n){var e=function(r){tC[t]&&n(r)},t=koe(e);return tC[t]=!0,t},Km=function(n){delete tC[n]}}else Sh&&Km||(Sh=function(n){return Ir.setTimeout(function(){n(Ir.performance&&Ir.performance.now&&Ir.performance.now()||new Date().getTime())},16)},Km=Ir.clearTimeout);var Ooe=function(n){return Sh(n)},Loe=function(n){Km(n)},la=function(n,e){var t={};for(var r in n)r&&(t[r]=e(n[r],r));return t},xH=function(n,e){var t={};for(var r in n)r&&e(n[r],r)&&(t[r]=n[r]);return t},UI=function(n,e){for(var t in n)if(t&&!e(n[t],t))return!1;return!0},Xm=function(n,e){return UI(n,function(t,r){return t===e[r]})},nC={},bH=function(n,e){return nC[e]||(nC[e]=Doe(e)),nC[e](n)},wD=function(n,e){return!n||!e?n:la(n,function(t,r){return bH(t,typeof e=="number"?e:e[r])})},px=function(n){if(!isFinite(n))return 0;var e="".concat(n);if(e.indexOf("e")>=0){for(var t=0,r=1;Math.round(n*r)/r!==n;)r*=10,t++;return t}return e.indexOf(".")>=0?e.length-e.indexOf(".")-1:0},Boe=function(n){return 1/Math.pow(10,n)},Doe=function(n){var e=n<1?Math.pow(10,px(n)):1;return function(t){return n===0?0:Math.round(Math.round(t/n)*n*e)/e}},Foe=function(n,e){return Math.atan2(e,n)*180/Math.PI},zoe=function(n){var e=!0;return Object.keys(nT).forEach(function(t){(!n||n[t]!==nT[t])&&(e=!1)}),e},Uoe=function(n,e){return n&&e?Xw:n?If:e?Nf:e0},qy=function(n,e,t){return t?!!(e===Xw||e&n&&t&n):!!(e&n)},Goe=function(n,e,t){var r,i=(r={},r[e0]="auto",r[Xw]="none",r[Nf]="pan-x",r[If]="pan-y",r),s={};if(n&&n.style){var o=e.touchAction?e.touchAction:i[t],a=hr(hr({},nT),{"touch-action":n.style["touch-action"]==="none"?"none":o});Object.keys(a).forEach(function(l){s[l]=n.style[l],n.style[l]=a[l]})}return s},Hoe=function(n,e){n&&n.style&&e&&Object.keys(e).forEach(function(t){n.style[t]=e[t]})},Voe=function(){function n(t){this._axes=t}var e=n.prototype;return e.hold=function(t,r){var i=this._getRoundPos(t).roundPos;this._axes.trigger(new Vt("hold",{pos:i,input:r.input||null,inputEvent:r.event||null,isTrusted:!0}))},e.triggerRelease=function(t){var r=this._getRoundPos(t.destPos,t.depaPos),i=r.roundPos,s=r.roundDepa;t.destPos=i,t.depaPos=s,t.setTo=this._createUserControll(t.destPos,t.duration),this._axes.trigger(new Vt("release",hr(hr({},t),{bounceRatio:this._getBounceRatio(i)})))},e.triggerChange=function(t,r,i,s){var o=this;s===void 0&&(s=!1);var a=this.animationManager,l=a.axisManager,c=a.getEventInfo(),u=this._getRoundPos(t,r),d=u.roundPos,f=u.roundDepa,m=l.moveTo(d,f),g=(i==null?void 0:i.event)||(c==null?void 0:c.event)||null,v={pos:m.pos,delta:m.delta,bounceRatio:this._getBounceRatio(m.pos),holding:s,inputEvent:g,isTrusted:!!g,input:(i==null?void 0:i.input)||(c==null?void 0:c.input)||null,set:g?this._createUserControll(m.pos):function(){}},_=new Vt("change",v);return this._axes.trigger(_),Object.keys(m.pos).forEach(function(x){var w=m.pos[x];QM(o._axes,x,w).current=w}),g&&l.set(v.set().destPos),!_.isCanceled()},e.triggerAnimationStart=function(t){var r=this._getRoundPos(t.destPos,t.depaPos),i=r.roundPos,s=r.roundDepa;t.destPos=i,t.depaPos=s,t.setTo=this._createUserControll(t.destPos,t.duration);var o=new Vt("animationStart",t);return this._axes.trigger(o),!o.isCanceled()},e.triggerAnimationEnd=function(t){t===void 0&&(t=!1),this._axes.trigger(new Vt("animationEnd",{isTrusted:t}))},e.triggerFinish=function(t){t===void 0&&(t=!1),this._axes.trigger(new Vt("finish",{isTrusted:t}))},e.setAnimationManager=function(t){this.animationManager=t},e.destroy=function(){this._axes.off()},e._createUserControll=function(t,r){r===void 0&&(r=0);var i={destPos:hr({},t),duration:r};return function(s,o){return s&&(i.destPos=hr({},s)),o!==void 0&&(i.duration=o),i}},e._getRoundPos=function(t,r){var i=this._axes.options.round;return{roundPos:wD(t,i),roundDepa:wD(r,i)}},e._getBounceRatio=function(t){return this._axes.axisManager.map(t,function(r,i){return r<i.range[0]&&i.bounce[0]!==0?(i.range[0]-r)/i.bounce[0]:r>i.range[1]&&i.bounce[1]!==0?(r-i.range[1])/i.bounce[1]:0})},n}(),Woe=function(){function n(t){this._options=t,this._prevented=!1}var e=n.prototype;return e.isInterrupting=function(){return this._options.interruptable||this._prevented},e.isInterrupted=function(){return!this._options.interruptable&&this._prevented},e.setInterrupt=function(t){this._options.interruptable||(this._prevented=t)},n}(),wH=function(n,e,t,r){var i=n,s=[t[0]?e[0]:r?e[0]-r[0]:e[0],t[1]?e[1]:r?e[1]+r[1]:e[1]];return i=Math.max(s[0],i),i=Math.min(s[1],i),i},SH=function(n,e){return n<e[0]||n>e[1]},joe=function(n,e,t,r){return!r[0]&&n===e[0]-t[0]||!r[1]&&n===e[1]+t[1]},$oe=function(n,e){var t=Math.sqrt(n/e*2);return t<100?0:t},SD=function(n,e,t){return t[1]&&n>e[1]||t[0]&&n<e[0]},rv=function(n,e,t){var r=n,i=e[0],s=e[1],o=s-i;return t[1]&&n>s&&(r=(r-s)%o+i),t[0]&&n<i&&(r=(r-i)%o+s),r},Joe=function(){function n(t){var r=this;this._axis=t,this._complementOptions(),this._pos=Object.keys(this._axis).reduce(function(i,s){return i[s]=r._axis[s].startPos,i},{})}var e=n.prototype;return e.getDelta=function(t,r){var i=this.get(t);return la(this.get(r),function(s,o){return s-i[o]})},e.get=function(t){var r=this;return t&&Array.isArray(t)?t.reduce(function(i,s){return s&&s in r._pos&&(i[s]=r._pos[s]),i},{}):hr(hr({},this._pos),t||{})},e.moveTo=function(t,r){r===void 0&&(r=this._pos);var i=la(this._pos,function(s,o){return o in t&&o in r?t[o]-r[o]:0});return this.set(this.map(t,function(s,o){return o?rv(s,o.range,o.circular):0})),{pos:hr({},this._pos),delta:i}},e.set=function(t){for(var r in t)r&&r in this._pos&&(this._pos[r]=t[r])},e.every=function(t,r){var i=this._axis;return UI(t,function(s,o){return r(s,i[o],o)})},e.filter=function(t,r){var i=this._axis;return xH(t,function(s,o){return r(s,i[o],o)})},e.map=function(t,r){var i=this._axis;return la(t,function(s,o){return r(s,i[o],o)})},e.isOutside=function(t){return!this.every(t?this.get(t):this._pos,function(r,i){return!SH(r,i.range)})},e.getAxisOptions=function(t){return this._axis[t]},e.setAxis=function(t){var r=this;Object.keys(t).forEach(function(i){if(!r._axis[i])throw new Error("Axis ".concat(i," does not exist in Axes instance"));r._axis[i]=hr(hr({},r._axis[i]),t[i])}),this._complementOptions()},e._complementOptions=function(){var t=this;Object.keys(this._axis).forEach(function(r){t._axis[r]=hr({range:[0,100],startPos:t._axis[r].range[0],bounce:[0,0],circular:[!1,!1]},t._axis[r]),["bounce","circular"].forEach(function(i){var s=t._axis,o=s[r][i];/string|number|boolean/.test(typeof o)&&(s[r][i]=[o,o])})})},n}(),Koe="ontouchstart"in Ir,mx="PointerEvent"in Ir,Xoe="MSPointerEvent"in Ir,Yoe=mx||Xoe,qoe=function(n,e){return!!(!e||e.indexOf(yH)>-1||e.indexOf(Coe)>-1&&!n.shiftKey&&!n.ctrlKey&&!n.altKey&&!n.metaKey||e.indexOf(Aoe)>-1&&n.shiftKey||e.indexOf(Moe)>-1&&n.ctrlKey||e.indexOf(Toe)>-1&&n.altKey||e.indexOf(Poe)>-1&&n.metaKey)},Yw=function(){function n(){var t=this;this._stopContextMenu=function(r){r.preventDefault(),Ir.removeEventListener("contextmenu",t._stopContextMenu)}}var e=n.prototype;return e.extendEvent=function(t){var r,i=this.prevEvent,s=this._getCenter(t),o=i?this._getMovement(t):{x:0,y:0},a=i?this._getScale(t):1,l=i?Foe(s.x-i.center.x,s.y-i.center.y):0,c=i?i.deltaX+o.x:o.x,u=i?i.deltaY+o.y:o.y,d=o.x,f=o.y,m=this._latestInterval,g=Date.now(),v=m?g-m.timestamp:0,_=i?i.velocityX:0,x=i?i.velocityY:0;return(!m||v>=Roe)&&(m&&(r=[(c-m.deltaX)/v,(u-m.deltaY)/v],_=r[0],x=r[1]),this._latestInterval={timestamp:g,deltaX:c,deltaY:u}),{srcEvent:t,scale:a,angle:l,center:s,deltaX:c,deltaY:u,offsetX:d,offsetY:f,velocityX:_,velocityY:x,preventSystemEvent:!0}},e._getDistance=function(t,r){var i=r.clientX-t.clientX,s=r.clientY-t.clientY;return Math.sqrt(i*i+s*s)},e._getButton=function(t){var r={1:lb,2:eT,4:tT},i=this._isTouchEvent(t)?lb:r[t.buttons];return i||null},e._isTouchEvent=function(t){return t.type&&t.type.indexOf("touch")>-1},e._isValidButton=function(t,r){return r.indexOf(t)>-1},e._isValidEvent=function(t,r,i){return(!r||qoe(t,r))&&(!i||this._isValidButton(this._getButton(t),i))},e._preventMouseButton=function(t,r){r===eT?Ir.addEventListener("contextmenu",this._stopContextMenu):r===tT&&t.preventDefault()},n}(),Qoe=function(n){lp(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.start=["mousedown"],r.move=["mousemove"],r.end=["mouseup"],r}var t=e.prototype;return t.onEventStart=function(r,i,s){var o=this._getButton(r);return this._isValidEvent(r,i,s)?(this._preventMouseButton(r,o),this.extendEvent(r)):null},t.onEventMove=function(r,i,s){return this._isValidEvent(r,i,s)?this.extendEvent(r):null},t.onEventEnd=function(){},t.onRelease=function(){this.prevEvent=null},t.getTouches=function(r,i){if(i){var s={1:lb,2:tT,3:eT};return this._isValidButton(s[r.which],i)&&this.end.indexOf(r.type)===-1?1:0}return 0},t._getScale=function(){return 1},t._getCenter=function(r){return{x:r.clientX,y:r.clientY}},t._getMovement=function(r){var i=this.prevEvent.srcEvent;return{x:r.clientX-i.clientX,y:r.clientY-i.clientY}},e}(Yw),Zoe=function(n){lp(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.start=["touchstart"],r.move=["touchmove"],r.end=["touchend","touchcancel"],r}var t=e.prototype;return t.onEventStart=function(r,i){return this._baseTouches=r.touches,this._isValidEvent(r,i)?this.extendEvent(r):null},t.onEventMove=function(r,i){return this._isValidEvent(r,i)?this.extendEvent(r):null},t.onEventEnd=function(r){this._baseTouches=r.touches},t.onRelease=function(){this.prevEvent=null,this._baseTouches=null},t.getTouches=function(r){return r.touches.length},t._getScale=function(r){return r.touches.length!==2||this._baseTouches.length<2?null:this._getDistance(r.touches[0],r.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1])},t._getCenter=function(r){return{x:r.touches[0].clientX,y:r.touches[0].clientY}},t._getMovement=function(r){var i=this.prevEvent.srcEvent;return r.touches[0].identifier!==i.touches[0].identifier?{x:0,y:0}:{x:r.touches[0].clientX-i.touches[0].clientX,y:r.touches[0].clientY-i.touches[0].clientY}},e}(Yw),eae=function(n){lp(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.start=mx?["pointerdown"]:["MSPointerDown"],r.move=mx?["pointermove"]:["MSPointerMove"],r.end=mx?["pointerup","pointercancel"]:["MSPointerUp","MSPointerCancel"],r._firstInputs=[],r._recentInputs=[],r}var t=e.prototype;return t.onEventStart=function(r,i,s){var o=this._getButton(r);return this._isValidEvent(r,i,s)?(this._preventMouseButton(r,o),this._updatePointerEvent(r),this.extendEvent(r)):null},t.onEventMove=function(r,i,s){return this._isValidEvent(r,i,s)?(this._updatePointerEvent(r),this.extendEvent(r)):null},t.onEventEnd=function(r){this._removePointerEvent(r)},t.onRelease=function(){this.prevEvent=null,this._firstInputs=[],this._recentInputs=[]},t.getTouches=function(){return this._recentInputs.length},t._getScale=function(){return this._recentInputs.length!==2?null:this._getDistance(this._recentInputs[0],this._recentInputs[1])/this._getDistance(this._firstInputs[0],this._firstInputs[1])},t._getCenter=function(r){return{x:r.clientX,y:r.clientY}},t._getMovement=function(r){var i=this.prevEvent.srcEvent;return r.pointerId!==i.pointerId?{x:0,y:0}:{x:r.clientX-i.clientX,y:r.clientY-i.clientY}},t._updatePointerEvent=function(r){var i=this,s=!1;this._recentInputs.forEach(function(o,a){o.pointerId===r.pointerId&&(s=!0,i._recentInputs[a]=r)}),s||(this._firstInputs.push(r),this._recentInputs.push(r))},t._removePointerEvent=function(r){this._firstInputs=this._firstInputs.filter(function(i){return i.pointerId!==r.pointerId}),this._recentInputs=this._recentInputs.filter(function(i){return i.pointerId!==r.pointerId})},e}(Yw),tae=function(n){lp(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.start=["mousedown","touchstart"],r.move=["mousemove","touchmove"],r.end=["mouseup","touchend","touchcancel"],r}var t=e.prototype;return t.onEventStart=function(r,i,s){var o=this._getButton(r);return this._isTouchEvent(r)&&(this._baseTouches=r.touches),this._isValidEvent(r,i,s)?(this._preventMouseButton(r,o),this.extendEvent(r)):null},t.onEventMove=function(r,i,s){return this._isValidEvent(r,i,s)?this.extendEvent(r):null},t.onEventEnd=function(r){this._isTouchEvent(r)&&(this._baseTouches=r.touches)},t.onRelease=function(){this.prevEvent=null,this._baseTouches=null},t.getTouches=function(r){return this._isTouchEvent(r)?r.touches.length:0},t._getScale=function(r){return this._isTouchEvent(r)?r.touches.length!==2||this._baseTouches.length<2?1:this._getDistance(r.touches[0],r.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1]):this.prevEvent.scale},t._getCenter=function(r){return this._isTouchEvent(r)?{x:r.touches[0].clientX,y:r.touches[0].clientY}:{x:r.clientX,y:r.clientY}},t._getMovement=function(r){var i=this,s=this.prevEvent.srcEvent,o=[r,s].map(function(c){return i._isTouchEvent(c)?{id:c.touches[0].identifier,x:c.touches[0].clientX,y:c.touches[0].clientY}:{id:null,x:c.clientX,y:c.clientY}}),a=o[0],l=o[1];return a.id===l.id?{x:a.x-l.x,y:a.y-l.y}:{x:0,y:0}},e}(Yw),EH=function(n,e){return e.reduce(function(t,r,i){return n[i]&&(t[n[i]]=r),t},{})},nae=function(n){n===void 0&&(n=[]);var e=!1,t=!1,r=!1;return n.forEach(function(i){switch(i){case"mouse":t=!0;break;case"touch":e=Koe;break;case"pointer":r=Yoe}}),r?new eae:e&&t?new tae:e?new Zoe:t?new Qoe:null};function ED(n){return n.indexOf("touch")>-1?{passive:!1}:!1}var rae=function(){function n(t){var r=t.options,i=t.interruptManager,s=t.eventManager,o=t.axisManager,a=t.animationManager;this._isOutside=!1,this._moveDistance=null,this._isStopped=!1,this.options=r,this._interruptManager=i,this._eventManager=s,this._axisManager=o,this._animationManager=a}var e=n.prototype;return e.get=function(t){return this._axisManager.get(t.axes)},e.hold=function(t,r){if(!(this._interruptManager.isInterrupted()||!t.axes.length)){var i={input:t,event:r};this._isStopped=!1,this._interruptManager.setInterrupt(!0),this._animationManager.stopAnimation(i),this._moveDistance||this._eventManager.hold(this._axisManager.get(),i),this._isOutside=this._axisManager.isOutside(t.axes),this._moveDistance=this._axisManager.get(t.axes)}},e.change=function(t,r,i,s){if(!(this._isStopped||!this._interruptManager.isInterrupting()||this._axisManager.every(i,function(f){return f===0}))){var o=r.srcEvent?r.srcEvent:r;if(!o.__childrenAxesAlreadyChanged){var a=this._moveDistance||this._axisManager.get(t.axes),l;l=la(a,function(f,m){return f+(i[m]||0)}),this._moveDistance&&(this._moveDistance=this._axisManager.map(l,function(f,m){var g=m.circular,v=m.range;return g&&(g[0]||g[1])?rv(f,v,g):f})),this._isOutside&&this._axisManager.every(a,function(f,m){return!SH(f,m.range)})&&(this._isOutside=!1),a=this._atOutside(a),l=this._atOutside(l),(!this.options.nested||!this._isEndofAxis(i,a,l))&&(o.__childrenAxesAlreadyChanged=!0);var c={input:t,event:r};if(s){var u=this._animationManager.getDuration(l,a);this._animationManager.animateTo(l,u,c)}else{var d=!this._eventManager.triggerChange(l,a,c,!0);d&&(this._isStopped=!0,this._moveDistance=null,this._animationManager.finish(!1))}}}},e.release=function(t,r,i,s){if(!(this._isStopped||!this._interruptManager.isInterrupting()||!this._moveDistance)){var o=r.srcEvent?r.srcEvent:r;o.__childrenAxesAlreadyReleased&&(i=i.map(function(){return 0}));var a=this._axisManager.get(t.axes),l=this._axisManager.get(),c=this._animationManager.getDisplacement(i),u=EH(t.axes,c),d=this._axisManager.get(this._axisManager.map(u,function(x,w,S){return w.circular&&(w.circular[0]||w.circular[1])?a[S]+x:wH(a[S]+x,w.range,w.circular,w.bounce)}));o.__childrenAxesAlreadyReleased=!0;var f=this._animationManager.getDuration(d,a,s);f===0&&(d=hr({},l));var m={depaPos:l,destPos:d,duration:f,delta:this._axisManager.getDelta(l,d),inputEvent:r,input:t,isTrusted:!0};this._eventManager.triggerRelease(m),this._moveDistance=null;var g=this._animationManager.getUserControl(m),v=Xm(g.destPos,l),_={input:t,event:r};v||g.duration===0?(v||this._eventManager.triggerChange(g.destPos,l,_,!0),this._interruptManager.setInterrupt(!1),this._axisManager.isOutside()?this._animationManager.restore(_):this._eventManager.triggerFinish(!0)):this._animationManager.animateTo(g.destPos,g.duration,_)}},e._atOutside=function(t){var r=this;return this._isOutside?this._axisManager.map(t,function(i,s){var o=s.range[0]-s.bounce[0],a=s.range[1]+s.bounce[1];return i>a?a:i<o?o:i}):this._axisManager.map(t,function(i,s){var o=s.range[0],a=s.range[1],l=s.bounce,c=s.circular;return c[0]&&i<o||c[1]&&i>a?i:i<o?o-r._animationManager.interpolate(o-i,l[0]):i>a?a+r._animationManager.interpolate(i-a,l[1]):i})},e._isEndofAxis=function(t,r,i){return this._axisManager.every(r,function(s,o,a){return t[a]===0||r[a]===i[a]&&joe(s,o.range,o.bounce,o.circular)})},n}(),rC=function(n,e,t){return Math.max(Math.min(n,t),e)},iae=function(){function n(t){var r=t.options,i=t.interruptManager,s=t.eventManager,o=t.axisManager;this._options=r,this.interruptManager=i,this.eventManager=s,this.axisManager=o,this.animationEnd=this.animationEnd.bind(this)}var e=n.prototype;return e.getDuration=function(t,r,i){var s=this,o;if(typeof i<"u")o=i;else{var a=la(r,function(l,c){return $oe(Math.abs(l-t[c]),s._options.deceleration)});o=Object.keys(a).reduce(function(l,c){return Math.max(l,a[c])},-1/0)}return rC(o,this._options.minimumDuration,this._options.maximumDuration)},e.getDisplacement=function(t){var r=Math.pow(t.reduce(function(s,o){return s+o*o},0),1/t.length),i=Math.abs(r/-this._options.deceleration);return t.map(function(s){return s/2*i})},e.stopAnimation=function(t){if(this._animateParam){var r=this.axisManager.get(),i=this.axisManager.map(r,function(s,o){return rv(s,o.range,o.circular)});UI(i,function(s,o){return r[o]===s})||this.eventManager.triggerChange(i,r,t,!!t),this._animateParam=null,this._raf&&Loe(this._raf),this._raf=null,this.eventManager.triggerAnimationEnd(!!(t!=null&&t.event))}},e.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},e.restore=function(t){var r=this.axisManager.get(),i=this.axisManager.map(r,function(s,o){return Math.min(o.range[1],Math.max(o.range[0],s))});this.stopAnimation(),this.animateTo(i,this.getDuration(r,i),t)},e.animationEnd=function(){var t=this.getEventInfo();this._animateParam=null;var r=this.axisManager.filter(this.axisManager.get(),function(i,s){return SD(i,s.range,s.circular)});Object.keys(r).length>0&&this.setTo(this.axisManager.map(r,function(i,s){return rv(i,s.range,s.circular)})),this.interruptManager.setInterrupt(!1),this.eventManager.triggerAnimationEnd(!!t),this.axisManager.isOutside()?this.restore(t):this.finish(!!t)},e.finish=function(t){this._animateParam=null,this.interruptManager.setInterrupt(!1),this.eventManager.triggerFinish(t)},e.getUserControl=function(t){var r=t.setTo();return r.destPos=this.axisManager.get(r.destPos),r.duration=rC(r.duration,this._options.minimumDuration,this._options.maximumDuration),r},e.animateTo=function(t,r,i){var s=this;this.stopAnimation();var o=this._createAnimationParam(t,r,i),a=hr({},o.depaPos),l=this.eventManager.triggerAnimationStart(o),c=this.getUserControl(o);if(!l&&this.axisManager.every(c.destPos,function(d,f){return SD(d,f.range,f.circular)})&&console.warn("You can't stop the 'animation' event when 'circular' is true."),l&&!Xm(c.destPos,a)){var u=(i==null?void 0:i.event)||null;this._animateLoop({depaPos:a,destPos:c.destPos,duration:c.duration,delta:this.axisManager.getDelta(a,c.destPos),isTrusted:!!u,inputEvent:u,input:(i==null?void 0:i.input)||null},function(){return s.animationEnd()})}},e.setTo=function(t,r){r===void 0&&(r=0);var i=Object.keys(t),s=this.axisManager.get(i);if(Xm(t,s))return this;this.interruptManager.setInterrupt(!0);var o=xH(t,function(a,l){return s[l]!==a});return Object.keys(o).length?(o=this.axisManager.map(o,function(a,l){var c=l.range,u=l.circular;return u&&(u[0]||u[1])?a:wH(a,c,u)}),Xm(o,s)?this:(r>0?this.animateTo(o,r):(this.stopAnimation(),this.eventManager.triggerChange(o),this.finish(!1)),this)):this},e.setBy=function(t,r){return r===void 0&&(r=0),this.setTo(la(this.axisManager.get(Object.keys(t)),function(i,s){return i+t[s]}),r)},e._createAnimationParam=function(t,r,i){var s=this.axisManager.get(),o=t,a=(i==null?void 0:i.event)||null;return{depaPos:s,destPos:o,duration:rC(r,this._options.minimumDuration,this._options.maximumDuration),delta:this.axisManager.getDelta(s,o),inputEvent:a,input:(i==null?void 0:i.input)||null,isTrusted:!!a,done:this.animationEnd}},e._animateLoop=function(t,r){var i=this;if(t.duration){this._animateParam=hr(hr({},t),{startTime:new Date().getTime()});var s=la(t.destPos,function(l){return l}),o=this._initState(this._animateParam),a=function(){i._raf=null;var l=i._animateParam,c=i._getNextState(o),u=!i.eventManager.triggerChange(c.pos,o.pos);if(o=c,c.finished){l.destPos=i._getFinalPos(l.destPos,s),Xm(l.destPos,i.axisManager.get(Object.keys(l.destPos)))||i.eventManager.triggerChange(l.destPos,c.pos),r();return}else u?i.finish(!1):i._raf=Ooe(a)};a()}else this.eventManager.triggerChange(t.destPos),r()},e._getFinalPos=function(t,r){var i=this,s=1e-6,o=la(t,function(a,l){if(a>=r[l]-s&&a<=r[l]+s)return r[l];var c=i._getRoundUnit(a,l),u=bH(a,c);return u});return o},e._getRoundUnit=function(t,r){var i=this._options.round,s=null;if(!i){var o=this.axisManager.getAxisOptions(r);s=Boe(Math.max(px(o.range[0]),px(o.range[1]),px(t)))}return s||i},n}(),sae=function(n){lp(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r._useDuration=!0,r}var t=e.prototype;return t.interpolate=function(r,i){var s=this._easing(1e-5)/1e-5;return this._easing(r/(i*s))*i},t.updateAnimation=function(r){var i,s=this._animateParam;if(s){var o=new Date().getTime()-s.startTime,a=(r==null?void 0:r.destPos)||s.destPos,l=(i=r==null?void 0:r.duration)!==null&&i!==void 0?i:s.duration;if(r!=null&&r.restart||l<=o){this.setTo(a,l-o);return}if(r!=null&&r.destPos){var c=this.axisManager.get();this._initialEasingPer=this._prevEasingPer,s.delta=this.axisManager.getDelta(c,a),s.destPos=a}if(r!=null&&r.duration){var u=(o+this._durationOffset)/s.duration;this._durationOffset=u*l-o,s.duration=l}}},t._initState=function(r){return this._initialEasingPer=0,this._prevEasingPer=0,this._durationOffset=0,{pos:r.depaPos,easingPer:0,finished:!1}},t._getNextState=function(r){var i=this,s=this._animateParam,o=r.pos,a=s.destPos,l=la(o,function(m,g){return m<=a[g]?1:-1}),c=new Date().getTime()-s.startTime,u=(c+this._durationOffset)/s.duration,d=this._easing(u),f=this.axisManager.map(o,function(m,g,v){var _=u>=1?a[v]:m+s.delta[v]*(d-i._prevEasingPer)/(1-i._initialEasingPer),x=rv(_,g.range,g.circular);if(_!==x){var w=l[v]*(g.range[1]-g.range[0]);a[v]-=w,o[v]-=w}return x});return this._prevEasingPer=d,{pos:f,easingPer:d,finished:d>=1}},t._easing=function(r){return r>1?1:this._options.easing(r)},e}(iae),oae=function(n){lp(e,n);function e(r,i,s){r===void 0&&(r={}),i===void 0&&(i={}),s===void 0&&(s={});var o=n.call(this)||this;return o.axis=r,o._inputs=[],o.options=hr({easing:function(a){return 1-Math.pow(1-a,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4,round:null,nested:!1},i),Object.keys(s).forEach(function(a){o.axis[a].startPos=s[a]}),o.interruptManager=new Woe(o.options),o.axisManager=new Joe(o.axis),o.eventManager=new Voe(o),o.animationManager=new sae(o),o.inputObserver=new rae(o),o.eventManager.setAnimationManager(o.animationManager),o.eventManager.triggerChange(o.axisManager.get()),o}var t=e.prototype;return t.connect=function(r,i){var s;return typeof r=="string"?s=r.split(" "):s=r.concat(),~this._inputs.indexOf(i)&&this.disconnect(i),i.mapAxes(s),i.connect(this.inputObserver),this._inputs.push(i),this},t.disconnect=function(r){if(r){var i=this._inputs.indexOf(r);i>=0&&(this._inputs[i].disconnect(),this._inputs.splice(i,1))}else this._inputs.forEach(function(s){return s.disconnect()}),this._inputs=[];return this},t.get=function(r){return this.axisManager.get(r)},t.setTo=function(r,i){return i===void 0&&(i=0),this.animationManager.setTo(r,i),this},t.setBy=function(r,i){return i===void 0&&(i=0),this.animationManager.setBy(r,i),this},t.setOptions=function(r){return this.options=hr(hr({},this.options),r),this},t.setAxis=function(r){return this.axisManager.setAxis(r),this},t.stopAnimation=function(){return this.animationManager.stopAnimation(),this.animationManager.finish(!1),this},t.updateAnimation=function(r){return this.animationManager.updateAnimation(r),this},t.isBounceArea=function(r){return this.axisManager.isOutside(r)},t.destroy=function(){this.disconnect(),this.eventManager.destroy()},e.VERSION="3.8.4",e.TRANSFORM=Noe,e.DIRECTION_NONE=e0,e.DIRECTION_LEFT=boe,e.DIRECTION_RIGHT=woe,e.DIRECTION_UP=Soe,e.DIRECTION_DOWN=Eoe,e.DIRECTION_HORIZONTAL=If,e.DIRECTION_VERTICAL=Nf,e.DIRECTION_ALL=Xw,e=xoe([_oe],e),e}(Sd),aae=function(n,e){if(e<0||e>90)return e0;var t=Math.abs(n);return t>e&&t<180-e?Nf:If},lae=function(){function n(t,r){var i=this;this.axes=[],this.element=null,this._enabled=!1,this._activeEvent=null,this._atRightEdge=!1,this._rightEdgeTimer=0,this._dragged=!1,this._isOverThreshold=!1,this._preventClickWhenDragged=function(s){i._dragged&&(s.preventDefault(),s.stopPropagation()),i._dragged=!1},this._voidFunction=function(){},this.element=_H(t),this.options=hr({inputType:["touch","mouse","pointer"],inputKey:[yH],inputButton:[lb],scale:[1,1],thresholdAngle:45,threshold:0,preventClickOnDrag:!1,iOSEdgeSwipeThreshold:Ioe,releaseOnScroll:!1,touchAction:null},r),this._onPanstart=this._onPanstart.bind(this),this._onPanmove=this._onPanmove.bind(this),this._onPanend=this._onPanend.bind(this)}var e=n.prototype;return e.mapAxes=function(t){this._direction=Uoe(!!t[0],!!t[1]),this.axes=t},e.connect=function(t){return this._activeEvent&&(this._detachElementEvent(),this._detachWindowEvent(this._activeEvent)),this._attachElementEvent(t),this._originalCssProps=Goe(this.element,this.options,this._direction),this},e.disconnect=function(){return this._detachElementEvent(),this._detachWindowEvent(this._activeEvent),zoe(this._originalCssProps)||Hoe(this.element,this._originalCssProps),this._direction=e0,this},e.destroy=function(){this.disconnect(),this.element=null},e.enable=function(){return this._enabled=!0,this},e.disable=function(){return this._enabled=!1,this},e.isEnabled=function(){return this._enabled},e.release=function(){var t=this._activeEvent,r=t.prevEvent;return t.onRelease(),this._observer.release(this,r,[0,0]),this._detachWindowEvent(t),this},e._onPanstart=function(t){var r=this.options,i=r.inputKey,s=r.inputButton,o=this._activeEvent,a=o.onEventStart(t,i,s);if(!(!a||!this._enabled||o.getTouches(t,s)>1)&&a.srcEvent.cancelable!==!1){var l=this.options.iOSEdgeSwipeThreshold;this._dragged=!1,this._isOverThreshold=!1,this._observer.hold(this,a),this._atRightEdge=xD&&a.center.x>window.innerWidth-l,this._attachWindowEvent(o),o.prevEvent=a}},e._onPanmove=function(t){var r=this,i=this.options,s=i.iOSEdgeSwipeThreshold,o=i.preventClickOnDrag,a=i.releaseOnScroll,l=i.inputKey,c=i.inputButton,u=i.threshold,d=i.thresholdAngle,f=this._activeEvent,m=f.onEventMove(t,l,c),g=f.getTouches(t,c);if(g===0||a&&m&&!m.srcEvent.cancelable){this._onPanend(t);return}if(!(!m||!this._enabled||g>1)){var v=aae(m.angle,d),_=qy(If,this._direction,v),x=qy(Nf,this._direction,v);if(f.prevEvent&&xD){var w=m.center.x<0;if(w){this.release();return}else if(this._atRightEdge){clearTimeout(this._rightEdgeTimer);var S=m.deltaX<-s;S?this._atRightEdge=!1:this._rightEdgeTimer=window.setTimeout(function(){return r.release()},100)}}var E=this._getDistance([m.deltaX,m.deltaY],[_,x]),A=this._getOffset([m.offsetX,m.offsetY],[_,x]),P=A.some(function(I){return I!==0});P&&(m.srcEvent.cancelable!==!1&&m.srcEvent.preventDefault(),m.srcEvent.stopPropagation()),m.preventSystemEvent=P,P&&(this._isOverThreshold||E>=u)&&(this._dragged=o,this._isOverThreshold=!0,this._observer.change(this,m,EH(this.axes,A))),f.prevEvent=m}},e._onPanend=function(t){var r=this.options.inputButton,i=this._activeEvent;if(i.onEventEnd(t),!(!this._enabled||i.getTouches(t,r)!==0)){this._detachWindowEvent(i),clearTimeout(this._rightEdgeTimer);var s=i.prevEvent,o=this._isOverThreshold?this._getOffset([Math.abs(s.velocityX)*(s.offsetX<0?-1:1),Math.abs(s.velocityY)*(s.offsetY<0?-1:1)],[qy(If,this._direction),qy(Nf,this._direction)]):[0,0];i.onRelease(),this._observer.release(this,s,o)}},e._attachWindowEvent=function(t){var r=this;t==null||t.move.forEach(function(i){window.addEventListener(i,r._onPanmove,ED(i))}),t==null||t.end.forEach(function(i){window.addEventListener(i,r._onPanend,ED(i))})},e._detachWindowEvent=function(t){var r=this;t==null||t.move.forEach(function(i){window.removeEventListener(i,r._onPanmove)}),t==null||t.end.forEach(function(i){window.removeEventListener(i,r._onPanend)})},e._getOffset=function(t,r){var i=this.options.scale;return[r[0]?t[0]*i[0]:0,r[1]?t[1]*i[1]:0]},e._getDistance=function(t,r){return Math.sqrt(Number(r[0])*Math.pow(t[0],2)+Number(r[1])*Math.pow(t[1],2))},e._attachElementEvent=function(t){var r=this,i=nae(this.options.inputType),s=this.element;if(i){if(!s)throw new Error("Element to connect input does not exist.");this._observer=t,this._enabled=!0,this._activeEvent=i,s.addEventListener("click",this._preventClickWhenDragged,!0),i.start.forEach(function(o){s.addEventListener(o,r._onPanstart)}),i.move.forEach(function(o){s.addEventListener(o,r._voidFunction)})}},e._detachElementEvent=function(){var t=this,r=this._activeEvent,i=this.element;i&&(i.removeEventListener("click",this._preventClickWhenDragged,!0),r==null||r.start.forEach(function(s){i.removeEventListener(s,t._onPanstart)}),r==null||r.move.forEach(function(s){i.removeEventListener(s,t._voidFunction)})),this._enabled=!1,this._observer=null},n}();const cae=oae;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rT=function(n,e){return rT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},rT(n,e)};function cp(n,e){rT(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var kf=function(){return kf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},kf.apply(this,arguments)};function uae(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var GI=typeof window<"u",dae=GI?window.navigator.userAgent:"",hae=GI?"getComputedStyle"in window:!1,fae=/MSIE|Trident|Windows Phone|Edge/.test(dae),pae=GI?"addEventListener"in document:!1,iT="width",pg="height";function gx(n,e){return n.getAttribute(e)||""}function cb(n){return[].slice.call(n)}function mae(n,e){return e===void 0&&(e="data-"),!!n.getAttribute(e+"width")}function CH(n,e){return e===void 0&&(e="data-"),"loading"in n&&n.getAttribute("loading")==="lazy"||!!n.getAttribute(e+"lazy")}function gae(n,e){return e===void 0&&(e="data-"),!!n.getAttribute(e+"skip")}function AH(n,e,t){pae?n.addEventListener(e,t,!1):n.attachEvent?n.attachEvent("on"+e,t):n["on"+e]=t}function MH(n,e,t){n.removeEventListener?n.removeEventListener(e,t,!1):n.detachEvent?n.detachEvent("on"+e,t):n["on"+e]=null}function vae(n){return TH(n,"Width")}function yae(n){return TH(n,"Height")}function _ae(n){return(hae?window.getComputedStyle(n):n.currentStyle)||{}}function TH(n,e){var t=n["client"+e]||n["offset"+e];return parseFloat(t||_ae(n)[e.toLowerCase()])||0}function xae(n,e,t){var r=cb(n.querySelectorAll(uae(["["+t+"skip] ["+t+"width]"],e.map(function(i){return["["+t+"skip] "+i,i+"["+t+"skip]","["+t+"width] "+i].join(", ")})).join(", ")));return cb(n.querySelectorAll("["+t+"width], "+e.join(", "))).filter(function(i){return r.indexOf(i)===-1})}var nf=[];function PH(n,e){!nf.length&&AH(window,"resize",IH),n.__PREFIX__=e,nf.push(n),RH(n)}function bae(n,e){var t=nf.indexOf(n);if(!(t<0)){var r=gx(n,e+"fixed");delete n.__PREFIX__,n.style[r===pg?iT:pg]="",nf.splice(t,1),!nf.length&&MH(window,"resize",IH)}}function RH(n,e){e===void 0&&(e="data-");var t=n.__PREFIX__||e,r=parseInt(gx(n,""+t+iT),10)||0,i=parseInt(gx(n,""+t+pg),10)||0,s=gx(n,t+"fixed");if(s===pg){var o=yae(n)||i;n.style[iT]=r/i*o+"px"}else{var o=vae(n)||r;n.style[pg]=i/r*o+"px"}}function IH(){nf.forEach(function(n){RH(n)})}var HI=function(n){cp(e,n);function e(r,i){i===void 0&&(i={});var s=n.call(this)||this;s.isReady=!1,s.isPreReady=!1,s.hasDataSize=!1,s.hasLoading=!1,s.isSkip=!1,s.onCheck=function(a){if(s.clear(),a&&a.type==="error"&&s.onError(s.element),!(s.hasLoading&&s.checkElement())){var l=!s.hasDataSize&&!s.hasLoading;s.onReady(l)}},s.options=kf({prefix:"data-"},i),s.element=r;var o=s.options.prefix;return s.hasDataSize=mae(r,o),s.isSkip=gae(r,o),s.hasLoading=CH(r,o),s}var t=e.prototype;return t.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&PH(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},t.addEvents=function(){var r=this,i=this.element;this.constructor.EVENTS.forEach(function(s){AH(i,s,r.onCheck)})},t.clear=function(){var r=this,i=this.element;this.constructor.EVENTS.forEach(function(s){MH(i,s,r.onCheck)}),this.removeAutoSizer()},t.destroy=function(){this.clear(),this.off()},t.removeAutoSizer=function(){if(this.hasDataSize){var r=this.options.prefix;bae(this.element,r)}},t.onError=function(r){this.trigger("error",{element:this.element,target:r})},t.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},t.onReady=function(r){this.isReady||(r=!this.isPreReady&&r,r&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:r,hasLoading:this.hasLoading,isSkip:this.isSkip}))},t.onAlreadyError=function(r){var i=this;setTimeout(function(){i.onError(r)})},t.onAlreadyPreReady=function(){var r=this;setTimeout(function(){r.onPreReady()})},t.onAlreadyReady=function(r){var i=this;setTimeout(function(){i.onReady(r)})},e.EVENTS=[],e}(Sd),wae=function(n){cp(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t.setHasLoading=function(r){this.hasLoading=r},t.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(PH(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},t.checkElement=function(){return!0},t.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},t.onAlreadyPreReady=function(){n.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},e.EVENTS=[],e}(HI),Sae=function(n){cp(e,n);function e(r){r===void 0&&(r={});var i=n.call(this)||this;return i.readyCount=0,i.preReadyCount=0,i.totalCount=0,i.totalErrorCount=0,i.isPreReadyOver=!0,i.elementInfos=[],i.options=kf({loaders:{},prefix:"data-"},r),i}var t=e.prototype;return t.check=function(r){var i=this,s=this.options.prefix;this.clear(),this.elementInfos=cb(r).map(function(a,l){var c=i.getLoader(a,{prefix:s});return c.check(),c.on("error",function(u){i.onError(l,u.target)}).on("preReady",function(u){var d=i.elementInfos[l];d.hasLoading=u.hasLoading,d.isSkip=u.isSkip;var f=i.checkPreReady(l);i.onPreReadyElement(l),f&&i.onPreReady()}).on("ready",function(u){var d=u.withPreReady,f=u.hasLoading,m=u.isSkip,g=i.elementInfos[l];g.hasLoading=f,g.isSkip=m;var v=d&&i.checkPreReady(l),_=i.checkReady(l);d&&i.onPreReadyElement(l),i.onReadyElement(l),v&&i.onPreReady(),_&&i.onReady()}),{loader:c,element:a,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}});var o=this.elementInfos.length;return this.totalCount=o,o||setTimeout(function(){i.onPreReady(),i.onReady()}),this},t.getTotalCount=function(){return this.totalCount},t.isPreReady=function(){return this.elementInfos.every(function(r){return r.isPreReady})},t.isReady=function(){return this.elementInfos.every(function(r){return r.isReady})},t.hasError=function(){return this.totalErrorCount>0},t.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach(function(r){r.loader&&r.loader.destroy()}),this.elementInfos=[]},t.destroy=function(){this.clear(),this.off()},t.getLoader=function(r,i){var s=this,o=r.tagName.toLowerCase(),a=this.options.loaders,l=i.prefix,c=Object.keys(a);if(a[o])return new a[o](r,i);var u=new wae(r,i),d=cb(r.querySelectorAll(c.join(", ")));u.setHasLoading(d.some(function(g){return CH(g,l)}));var f=!1,m=this.clone().on("error",function(g){u.onError(g.target)}).on("ready",function(){u.onReady(f)});return u.on("requestChildren",function(){var g=xae(r,c,s.options.prefix);m.check(g).on("preReady",function(v){f=v.isReady,f||u.onPreReady()})}).on("reqeustReadyChildren",function(){m.check(d)}).on("requestDestroy",function(){m.destroy()}),u},t.clone=function(){return new e(kf({},this.options))},t.checkPreReady=function(r){return this.elementInfos[r].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},t.checkReady=function(r){return this.elementInfos[r].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},t.onError=function(r,i){var s=this.elementInfos[r];s.hasError=!0,this.trigger(new Vt("error",{element:s.element,index:r,target:i,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount}))},t.onPreReadyElement=function(r){var i=this.elementInfos[r];this.trigger(new Vt("preReadyElement",{element:i.element,index:r,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:i.hasLoading,isSkip:i.isSkip}))},t.onPreReady=function(){this.isPreReadyOver=!0,this.trigger(new Vt("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()}))},t.onReadyElement=function(r){var i=this.elementInfos[r];this.trigger(new Vt("readyElement",{index:r,element:i.element,hasError:i.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:i.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:i.isSkip}))},t.onReady=function(){this.trigger(new Vt("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount}))},t.getErrorCount=function(){return this.elementInfos.filter(function(r){return r.hasError}).length},t.hasLoading=function(){return this.elementInfos.some(function(r){return r.hasLoading})},e}(Sd),Eae=function(n){cp(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t.checkElement=function(){var r=this.element,i=r.getAttribute("src");if(r.complete){if(i)return r.naturalWidth||this.onAlreadyError(r),!1;this.onAlreadyPreReady()}return this.addEvents(),fae&&r.setAttribute("src",i),!0},e.EVENTS=["load","error"],e}(HI),Cae=function(n){cp(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t.checkElement=function(){var r=this.element;return r.readyState>=1?!1:r.error?(this.onAlreadyError(r),!1):(this.addEvents(),!0)},e.EVENTS=["loadedmetadata","error"],e}(HI),Aae=function(n){cp(e,n);function e(t){return t===void 0&&(t={}),n.call(this,kf({loaders:{img:Eae,video:Cae}},t))||this}return e}(Sae);const Mae=Aae;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sT=function(n,e){return sT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},sT(n,e)};function Ri(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");sT(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var zi=function(){return zi=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},zi.apply(this,arguments)};function rf(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function sf(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function qw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function VI(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function Cr(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(VI(arguments[e]));return n}var Sn={WRONG_TYPE:0,ELEMENT_NOT_FOUND:1,VAL_MUST_NOT_NULL:2,NOT_ATTACHED_TO_FLICKING:3,WRONG_OPTION:4,INDEX_OUT_OF_RANGE:5,POSITION_NOT_REACHABLE:6,TRANSFORM_NOT_SUPPORTED:7,STOP_CALLED_BY_USER:8,ANIMATION_INTERRUPTED:9,ANIMATION_ALREADY_PLAYING:10,NOT_ALLOWED_IN_FRAMEWORK:11,NOT_INITIALIZED:12,NO_ACTIVE:13,NOT_ALLOWED_IN_VIRTUAL:14},Mn={WRONG_TYPE:function(n,e){return n+"("+typeof n+") is not a "+e.map(function(t){return'"'+t+'"'}).join(" or ")+"."},ELEMENT_NOT_FOUND:function(n){return'Element with selector "'+n+'" not found.'},VAL_MUST_NOT_NULL:function(n,e){return e+" should be provided. Given: "+n},NOT_ATTACHED_TO_FLICKING:'This module is not attached to the Flicking instance. "init()" should be called first.',WRONG_OPTION:function(n,e){return'Option "'+n+'" is not in correct format, given: '+e},INDEX_OUT_OF_RANGE:function(n,e,t){return'Index "'+n+'" is out of range: should be between '+e+" and "+t+"."},POSITION_NOT_REACHABLE:function(n){return'Position "'+n+'" is not reachable.'},TRANSFORM_NOT_SUPPORTED:"Browser does not support CSS transform.",STOP_CALLED_BY_USER:"Event stop() is called by user.",ANIMATION_INTERRUPTED:"Animation is interrupted by user input.",ANIMATION_ALREADY_PLAYING:"Animation is already playing.",NOT_ALLOWED_IN_FRAMEWORK:"This behavior is not allowed in the frameworks like React, Vue, or Angular.",NOT_INITIALIZED:"Flicking is not initialized yet, call init() first.",NO_ACTIVE:"There's no active panel that Flicking has selected. This may be due to the absence of any panels.",NOT_ALLOWED_IN_VIRTUAL:"This behavior is not allowed when the virtual option is enabled"},St={READY:"ready",BEFORE_RESIZE:"beforeResize",AFTER_RESIZE:"afterResize",HOLD_START:"holdStart",HOLD_END:"holdEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",WILL_CHANGE:"willChange",CHANGED:"changed",WILL_RESTORE:"willRestore",RESTORED:"restored",SELECT:"select",NEED_PANEL:"needPanel",VISIBLE_CHANGE:"visibleChange",REACH_EDGE:"reachEdge",PANEL_CHANGE:"panelChange"},fa={PREV:"prev",CENTER:"center",NEXT:"next"},Ht={PREV:"PREV",NEXT:"NEXT",NONE:null},nh={SNAP:"snap",FREE_SCROLL:"freeScroll",STRICT:"strict"},Tae={VERTICAL:"vertical",HIDDEN:"flicking-hidden",DEFAULT_VIRTUAL:"flicking-panel"},NH={LINEAR:"linear",BOUND:"bound"},Pae=function(n,e){var t=null;if(dd(n)){var r=e||document,i=r.querySelector(n);if(!i)throw new _n(Mn.ELEMENT_NOT_FOUND(n),Sn.ELEMENT_NOT_FOUND);t=i}else n&&n.nodeType===Node.ELEMENT_NODE&&(t=n);if(!t)throw new _n(Mn.WRONG_TYPE(n,["HTMLElement","string"]),Sn.WRONG_TYPE);return t},Rae=function(n,e){if(n==null)throw new _n(Mn.VAL_MUST_NOT_NULL(n,e),Sn.VAL_MUST_NOT_NULL)},Xu=function(n,e,t){return Math.max(Math.min(n,t),e)},pt=function(n){if(!n)throw new _n(Mn.NOT_ATTACHED_TO_FLICKING,Sn.NOT_ATTACHED_TO_FLICKING);return n},WI=function(n){return[].slice.call(n)},jI=function(n,e){var t;if(dd(n))switch(n){case fa.PREV:t=0;break;case fa.CENTER:t=.5*e;break;case fa.NEXT:t=e;break;default:if(t=oT(n,e),t==null)throw new _n(Mn.WRONG_OPTION("align",n),Sn.WRONG_OPTION)}else t=n;return t},Iae=function(n,e){var t;if(Array.isArray(n))t=n.map(function(i){return oT(i,e)});else{var r=oT(n,e);t=[r,r]}return t.map(function(i){if(i==null)throw new _n(Mn.WRONG_OPTION("bounce",n),Sn.WRONG_OPTION);return i})},oT=function(n,e){var t=kH(n);return t==null?null:t.percentage*e+t.absolute},kH=function(n){var e=/(?:(\+|\-)\s*)?(\d+(?:\.\d+)?(%|px)?)/g;if(typeof n=="number")return{percentage:0,absolute:n};for(var t={percentage:0,absolute:0},r=0,i=e.exec(n);i!=null;){var s=i[1],o=i[2],a=i[3],l=parseFloat(o);if(r<=0&&(s=s||"+"),!s)return null;var c=s==="+"?1:-1;a==="%"?t.percentage+=c*(l/100):t.absolute+=c*l,++r,i=e.exec(n)}return r===0?null:t},ub=function(n){return typeof n=="object"?n.panel:n},ud=function(n,e){return n===e?Ht.NONE:n<e?Ht.NEXT:Ht.PREV},CD=function(n){Array.isArray(n)||(n=[n]);var e=[];return n.forEach(function(t){if(dd(t)){var r=document.createElement("div");for(r.innerHTML=t,e.push.apply(e,Cr(WI(r.children)));r.firstChild;)r.removeChild(r.firstChild)}else if(t&&t.nodeType===Node.ELEMENT_NODE)e.push(t);else throw new _n(Mn.WRONG_TYPE(t,["HTMLElement","string"]),Sn.WRONG_TYPE)}),e},db=function(n,e){return n<0?Xu(n+e,0,e):Xu(n,0,e)},hb=function(n,e){var t,r;try{for(var i=qw(n),s=i.next();!s.done;s=i.next()){var o=s.value;if(o===e)return!0}}catch(a){t={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return!1},dd=function(n){return typeof n=="string"},$I=function(n,e,t){var r=t-e;if(n<e){var i=(e-n)%r;n=t-i}else if(n>t){var i=(n-t)%r;n=e+i}return n},Nae=function(n,e){var t,r;try{for(var i=qw(n),s=i.next();!s.done;s=i.next()){var o=s.value;if(e(o))return o}}catch(a){t={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null},kae=function(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t;return-1},fb=function(n,e,t){return(n-e)/(t-e)},aT=function(n){return window.getComputedStyle(n)||n.currentStyle},OH=function(n,e){var t=e.width,r=e.height;t!=null&&(dd(t)?n.style.width=t:n.style.width=t+"px"),r!=null&&(dd(r)?n.style.height=r:n.style.height=r+"px")},iC=function(n,e,t){return n>=e&&n<=t},LH=function(n,e){return n>=e?n%e:n<0?db((n+1)%e-1,e):n},Of=function(n){for(var e=new Array(n),t=0;t<n;t++)e[t]=t;return e},mg=function(n){var e=n.el,t=n.horizontal,r=n.useFractionalSize,i=n.useOffset,s=n.style;if(r){var o=parseFloat(t?s.width:s.height),a=s.boxSizing==="border-box",l=t?parseFloat(s.borderLeftWidth||"0")+parseFloat(s.borderRightWidth||"0"):parseFloat(s.borderTopWidth||"0")+parseFloat(s.borderBottomWidth||"0");if(a)return i?o:o-l;var c=t?parseFloat(s.paddingLeft||"0")+parseFloat(s.paddingRight||"0"):parseFloat(s.paddingTop||"0")+parseFloat(s.paddingBottom||"0");return i?o+c+l:o+c}else{var u=t?"Width":"Height";return i?e["offset"+u]:e["client"+u]}},Oae=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},_n=function(n){Ri(e,n);function e(t,r){var i=n.call(this,t)||this;return Oae(i,e.prototype),i.name="FlickingError",i.code=r,i}return e}(Error),Lae=function(){function n(t,r){this._flicking=t,this._el=r,this._width=0,this._height=0,this._padding={left:0,right:0,top:0,bottom:0},this._isBorderBoxSizing=!1}var e=n.prototype;return Object.defineProperty(e,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(e,"width",{get:function(){return this._width-this._padding.left-this._padding.right},enumerable:!1,configurable:!0}),Object.defineProperty(e,"height",{get:function(){return this._height-this._padding.top-this._padding.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(e,"padding",{get:function(){return this._padding},enumerable:!1,configurable:!0}),e.setSize=function(t){var r=t.width,i=t.height,s=this._el,o=this._padding,a=this._isBorderBoxSizing;if(r!=null)if(dd(r))s.style.width=r;else{var l=a?r+o.left+o.right:r;s.style.width=l+"px"}if(i!=null)if(dd(i))s.style.height=i;else{var c=a?i+o.top+o.bottom:i;s.style.height=c+"px"}this.resize()},e.resize=function(){var t=this._el,r=aT(t),i=this._flicking.useFractionalSize;this._width=mg({el:t,horizontal:!0,useFractionalSize:i,useOffset:!1,style:r}),this._height=mg({el:t,horizontal:!1,useFractionalSize:i,useOffset:!1,style:r}),this._padding={left:r.paddingLeft?parseFloat(r.paddingLeft):0,right:r.paddingRight?parseFloat(r.paddingRight):0,top:r.paddingTop?parseFloat(r.paddingTop):0,bottom:r.paddingBottom?parseFloat(r.paddingBottom):0},this._isBorderBoxSizing=r.boxSizing==="border-box"},n}(),Bae=function(){function n(t){var r=this;this._onResize=function(){var i=r._flicking,s=i.resizeDebounce,o=i.maxResizeDebounce;s<=0?i.resize():(r._maxResizeDebounceTimer<=0&&o>0&&o>=s&&(r._maxResizeDebounceTimer=window.setTimeout(r._doScheduledResize,o)),r._resizeTimer>0&&(clearTimeout(r._resizeTimer),r._resizeTimer=0),r._resizeTimer=window.setTimeout(r._doScheduledResize,s))},this._doScheduledResize=function(){clearTimeout(r._resizeTimer),clearTimeout(r._maxResizeDebounceTimer),r._maxResizeDebounceTimer=-1,r._resizeTimer=-1,r._flicking.resize()},this._skipFirstResize=function(){var i=!0;return function(){if(i){i=!1;return}r._onResize()}}(),this._flicking=t,this._enabled=!1,this._resizeObserver=null,this._resizeTimer=-1,this._maxResizeDebounceTimer=-1}var e=n.prototype;return Object.defineProperty(e,"enabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),e.enable=function(){var t=this._flicking,r=t.viewport;if(this._enabled&&this.disable(),t.useResizeObserver&&window.ResizeObserver){var i=r.width!==0||r.height!==0,s=i?new ResizeObserver(this._skipFirstResize):new ResizeObserver(this._onResize);s.observe(t.viewport.element),this._resizeObserver=s}else window.addEventListener("resize",this._onResize);return this._enabled=!0,this},e.disable=function(){if(!this._enabled)return this;var t=this._resizeObserver;return t?(t.disconnect(),this._resizeObserver=null):window.removeEventListener("resize",this._onResize),this._enabled=!1,this},n}(),Dae=function(){function n(t){this._element=t,this._rendered=!0}var e=n.prototype;return Object.defineProperty(e,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),e.show=function(t){var r=this.element,i=t.camera.element;r.parentElement!==i&&(i.appendChild(r),this._rendered=!0)},e.hide=function(t){var r=this.element,i=t.camera.element;r.parentElement===i&&(i.removeChild(r),this._rendered=!1)},n}(),AD=function(){function n(t){this._flicking=t}var e=n.prototype;return Object.defineProperty(e,"element",{get:function(){return this._virtualElement.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rendered",{get:function(){return this._virtualElement.visible},enumerable:!1,configurable:!0}),Object.defineProperty(e,"_virtualElement",{get:function(){var t=this._flicking,r=this._panel.elementIndex,i=t.virtual.elements;return i[r]},enumerable:!1,configurable:!0}),e.init=function(t){this._panel=t},e.show=function(){},e.hide=function(){},n}(),Fae=function(){function n(t,r){var i,s,o,a;this._flicking=t,this._renderPanel=(i=r==null?void 0:r.renderPanel)!==null&&i!==void 0?i:function(){return""},this._initialPanelCount=(s=r==null?void 0:r.initialPanelCount)!==null&&s!==void 0?s:-1,this._cache=(o=r==null?void 0:r.cache)!==null&&o!==void 0?o:!1,this._panelClass=(a=r==null?void 0:r.panelClass)!==null&&a!==void 0?a:Tae.DEFAULT_VIRTUAL,this._elements=[]}var e=n.prototype;return Object.defineProperty(e,"elements",{get:function(){return this._elements},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderPanel",{get:function(){return this._renderPanel},set:function(t){this._renderPanel=t,this._flicking.renderer.panels.forEach(function(r){return r.uncacheRenderResult()})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"initialPanelCount",{get:function(){return this._initialPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cache",{get:function(){return this._cache},set:function(t){this._cache=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panelClass",{get:function(){return this._panelClass},set:function(t){this._panelClass=t},enumerable:!1,configurable:!0}),e.init=function(){var t=this._flicking;if(t.virtualEnabled){!t.externalRenderer&&!t.renderExternal&&this._initVirtualElements();var r=t.camera.children;this._elements=r.map(function(i){return{nativeElement:i,visible:!0}})}},e.show=function(t){var r=this._elements[t],i=r.nativeElement;r.visible=!0,i.style.display&&(i.style.display="")},e.hide=function(t){var r=this._elements[t],i=r.nativeElement;r.visible=!1,i.style.display="none"},e.append=function(t){t===void 0&&(t=1);var r=this._flicking;return this.insert(r.panels.length,t)},e.prepend=function(t){return t===void 0&&(t=1),this.insert(0,t)},e.insert=function(t,r){if(r===void 0&&(r=1),r<=0)return[];var i=this._flicking;return i.renderer.batchInsert({index:t,elements:Of(r),hasDOMInElements:!1})},e.remove=function(t,r){if(r<=0)return[];var i=this._flicking;return i.renderer.batchRemove({index:t,deleteCount:r,hasDOMInElements:!1})},e._initVirtualElements=function(){var t=this,r=this._flicking,i=r.camera.element,s=r.panelsPerView,o=document.createDocumentFragment(),a=Of(s+1).map(function(l){var c=document.createElement("div");return c.className=t._panelClass,c.dataset.elementIndex=l.toString(),c});a.forEach(function(l){o.appendChild(l)}),i.appendChild(o)},n}(),Si={HOLD:"hold",CHANGE:"change",RELEASE:"release",ANIMATION_END:"animationEnd",FINISH:"finish"},On="flick",Rn;(function(n){n[n.IDLE=0]="IDLE",n[n.HOLDING=1]="HOLDING",n[n.DRAGGING=2]="DRAGGING",n[n.ANIMATING=3]="ANIMATING",n[n.DISABLED=4]="DISABLED"})(Rn||(Rn={}));var t0=function(){function n(){this._delta=0,this._targetPanel=null}var e=n.prototype;return Object.defineProperty(e,"delta",{get:function(){return this._delta},enumerable:!1,configurable:!0}),Object.defineProperty(e,"targetPanel",{get:function(){return this._targetPanel},set:function(t){this._targetPanel=t},enumerable:!1,configurable:!0}),e.onEnter=function(t){this._delta=t._delta,this._targetPanel=t._targetPanel},e.onHold=function(t){},e.onChange=function(t){},e.onRelease=function(t){},e.onAnimationEnd=function(t){},e.onFinish=function(t){},e._moveToChangedPosition=function(t){var r=t.flicking,i=t.axesEvent,s=t.transitTo,o=i.delta[On];if(o){this._delta+=o;var a=r.camera,l=a.position,c=i.pos[On],u=r.circularEnabled?$I(c,a.range.min,a.range.max):c;a.lookAt(u);var d=new Vt(St.MOVE,{isTrusted:i.isTrusted,holding:this.holding,direction:ud(0,i.delta[On]),axesEvent:i});r.trigger(d),d.isCanceled()&&(a.lookAt(l),s(Rn.DISABLED))}},n}(),MD=function(n){Ri(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.holding=!1,r.animating=!1,r}var t=e.prototype;return t.onEnter=function(){this._delta=0,this._targetPanel=null},t.onHold=function(r){var i=r.flicking,s=r.axesEvent,o=r.transitTo;if(i.renderer.panelCount<=0){o(Rn.DISABLED);return}var a=new Vt(St.HOLD_START,{axesEvent:s});i.trigger(a),a.isCanceled()?o(Rn.DISABLED):o(Rn.HOLDING)},t.onChange=function(r){var i=r.flicking,s=r.axesEvent,o=r.transitTo,a=i.control.controller,l=a.animatingContext,c=new Vt(St.MOVE_START,{isTrusted:s.isTrusted,holding:this.holding,direction:ud(l.start,l.end),axesEvent:s});i.trigger(c),c.isCanceled()?o(Rn.DISABLED):o(Rn.ANIMATING).onChange(r)},e}(t0),zae=function(n){Ri(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.holding=!0,r.animating=!1,r._releaseEvent=null,r}var t=e.prototype;return t.onChange=function(r){var i=r.flicking,s=r.axesEvent,o=r.transitTo,a=s.inputEvent,l=i.horizontal?a.offsetX:a.offsetY,c=new Vt(St.MOVE_START,{isTrusted:s.isTrusted,holding:this.holding,direction:ud(0,-l),axesEvent:s});i.trigger(c),c.isCanceled()?o(Rn.DISABLED):o(Rn.DRAGGING).onChange(r)},t.onRelease=function(r){var i=r.flicking,s=r.axesEvent,o=r.transitTo;if(i.trigger(new Vt(St.HOLD_END,{axesEvent:s})),s.delta.flick!==0){s.setTo({flick:i.camera.position},0),o(Rn.IDLE);return}this._releaseEvent=s},t.onFinish=function(r){var i,s,o=r.flicking,a=r.transitTo;if(a(Rn.IDLE),!!this._releaseEvent){var l=this._releaseEvent,c=l.inputEvent.srcEvent,u;if(c.type==="touchend"){var d=c,f=d.changedTouches[0];u=document.elementFromPoint(f.clientX,f.clientY)}else u=c.target;var m=o.renderer.panels,g=null;try{for(var v=qw(m),_=v.next();!_.done;_=v.next()){var x=_.value;if(x.contains(u)){g=x;break}}}catch(E){i={error:E}}finally{try{_&&!_.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}if(g){var w=o.camera.position,S=g.position;o.trigger(new Vt(St.SELECT,{index:g.index,panel:g,direction:ud(w,S)}))}}},e}(t0),Uae=function(n){Ri(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.holding=!0,r.animating=!0,r}var t=e.prototype;return t.onChange=function(r){this._moveToChangedPosition(r)},t.onRelease=function(r){var i,s=r.flicking,o=r.axesEvent,a=r.transitTo;if(s.trigger(new Vt(St.HOLD_END,{axesEvent:o})),s.renderer.panelCount<=0){a(Rn.IDLE);return}a(Rn.ANIMATING);var l=s.control,c=o.destPos[On],u=Math.max(o.duration,s.duration);try{l.moveToPosition(c,u,o)}catch{a(Rn.IDLE),o.setTo((i={},i[On]=s.camera.position,i),0)}},e}(t0),Gae=function(n){Ri(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.holding=!1,r.animating=!0,r}var t=e.prototype;return t.onHold=function(r){var i=r.flicking,s=r.axesEvent,o=r.transitTo,a=this._targetPanel,l=i.control;this._delta=0,i.control.updateInput(),i.changeOnHold&&a&&l.setActive(a,l.activePanel,s.isTrusted);var c=new Vt(St.HOLD_START,{axesEvent:s});i.trigger(c),c.isCanceled()?o(Rn.DISABLED):o(Rn.DRAGGING)},t.onChange=function(r){this._moveToChangedPosition(r)},t.onFinish=function(r){var i=r.flicking,s=r.axesEvent,o=r.transitTo,a=i.control,l=a.controller,c=l.animatingContext;o(Rn.IDLE),i.trigger(new Vt(St.MOVE_END,{isTrusted:s.isTrusted,direction:ud(c.start,c.end),axesEvent:s}));var u=this._targetPanel;u&&a.setActive(u,a.activePanel,s.isTrusted)},e}(t0),Hae=function(n){Ri(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r.holding=!1,r.animating=!0,r}var t=e.prototype;return t.onAnimationEnd=function(r){var i=r.transitTo;i(Rn.IDLE)},t.onChange=function(r){var i=r.axesEvent,s=r.transitTo;i.stop(),s(Rn.IDLE)},t.onRelease=function(r){var i=r.axesEvent,s=r.transitTo;i.delta.flick===0&&s(Rn.IDLE)},e}(t0),Vae=function(){function n(){var t=this;this.transitTo=function(r){var i;switch(r){case Rn.IDLE:i=new MD;break;case Rn.HOLDING:i=new zae;break;case Rn.DRAGGING:i=new Uae;break;case Rn.ANIMATING:i=new Gae;break;case Rn.DISABLED:i=new Hae;break}return i.onEnter(t._state),t._state=i,t._state},this._state=new MD}var e=n.prototype;return Object.defineProperty(e,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.fire=function(t,r){var i=this._state,s=zi(zi({},r),{transitTo:this.transitTo});switch(t){case Si.HOLD:i.onHold(s);break;case Si.CHANGE:i.onChange(s);break;case Si.RELEASE:i.onRelease(s);break;case Si.ANIMATION_END:i.onAnimationEnd(s);break;case Si.FINISH:i.onFinish(s);break}},n}(),Wae=function(){function n(){var t=this;this._onAxesHold=function(){t._dragged=!1},this._onAxesChange=function(){var r;t._dragged=!!(!((r=t._panInput)===null||r===void 0)&&r.isEnabled())},this._preventClickWhenDragged=function(r){t._dragged&&(r.preventDefault(),r.stopPropagation()),t._dragged=!1},this._resetInternalValues(),this._stateMachine=new Vae}var e=n.prototype;return Object.defineProperty(e,"axes",{get:function(){return this._axes},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panInput",{get:function(){return this._panInput},enumerable:!1,configurable:!0}),Object.defineProperty(e,"stateMachine",{get:function(){return this._stateMachine},enumerable:!1,configurable:!0}),Object.defineProperty(e,"state",{get:function(){return this._stateMachine.state},enumerable:!1,configurable:!0}),Object.defineProperty(e,"animatingContext",{get:function(){return this._animatingContext},enumerable:!1,configurable:!0}),Object.defineProperty(e,"controlParams",{get:function(){var t=this._axes;if(!t)return{range:{min:0,max:0},position:0,circular:!1};var r=t.axis[On];return{range:{min:r.range[0],max:r.range[1]},circular:r.circular[0],position:this.position}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enabled",{get:function(){var t,r;return(r=(t=this._panInput)===null||t===void 0?void 0:t.isEnabled())!==null&&r!==void 0?r:!1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"position",{get:function(){var t,r;return(r=(t=this._axes)===null||t===void 0?void 0:t.get([On])[On])!==null&&r!==void 0?r:0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"range",{get:function(){var t,r;return(r=(t=this._axes)===null||t===void 0?void 0:t.axis[On].range)!==null&&r!==void 0?r:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"bounce",{get:function(){var t;return(t=this._axes)===null||t===void 0?void 0:t.axis[On].bounce},enumerable:!1,configurable:!0}),e.init=function(t){var r,i=this;this._flicking=t,this._axes=new cae((r={},r[On]={range:[0,0],circular:!1,bounce:[0,0]},r),{deceleration:t.deceleration,interruptable:t.interruptable,nested:t.nested,easing:t.easing}),this._panInput=new lae(t.viewport.element,{inputType:t.inputType,threshold:1,iOSEdgeSwipeThreshold:t.iOSEdgeSwipeThreshold,scale:t.horizontal?[-1,0]:[0,-1],releaseOnScroll:!0});var s=this._axes;s.connect(t.horizontal?[On,""]:["",On],this._panInput);var o=function(l){var c=Si[l];s.on(c,function(u){i._stateMachine.fire(c,{flicking:t,axesEvent:u})})};for(var a in Si)o(a);return this},e.destroy=function(){var t;this._axes&&(this.removePreventClickHandler(),this._axes.destroy()),(t=this._panInput)===null||t===void 0||t.destroy(),this._resetInternalValues()},e.enable=function(){var t;return(t=this._panInput)===null||t===void 0||t.enable(),this},e.disable=function(){var t;return(t=this._panInput)===null||t===void 0||t.disable(),this},e.release=function(){var t;return(t=this._panInput)===null||t===void 0||t.release(),this},e.updateAnimation=function(t,r){var i,s;return this._animatingContext=zi(zi({},this._animatingContext),{end:t}),(s=this._axes)===null||s===void 0||s.updateAnimation({destPos:(i={},i[On]=t,i),duration:r}),this},e.stopAnimation=function(){var t;return(t=this._axes)===null||t===void 0||t.stopAnimation(),this},e.update=function(t){var r,i=pt(this._flicking),s=i.camera,o=this._axes,a=o.axis[On];return a.circular=[t.circular,t.circular],a.range=[t.range.min,t.range.max],a.bounce=Iae(i.bounce,s.size),o.axisManager.set((r={},r[On]=t.position,r)),this},e.addPreventClickHandler=function(){var t=pt(this._flicking),r=this._axes,i=t.camera.element;return r.on(Si.HOLD,this._onAxesHold),r.on(Si.CHANGE,this._onAxesChange),i.addEventListener("click",this._preventClickWhenDragged,!0),this},e.removePreventClickHandler=function(){var t=pt(this._flicking),r=this._axes,i=t.camera.element;return r.off(Si.HOLD,this._onAxesHold),r.off(Si.CHANGE,this._onAxesChange),i.removeEventListener("click",this._preventClickWhenDragged,!0),this},e.animateTo=function(t,r,i){var s,o=this,a,l=this._axes,c=this._stateMachine.state;if(!l)return Promise.reject(new _n(Mn.NOT_ATTACHED_TO_FLICKING,Sn.NOT_ATTACHED_TO_FLICKING));var u=l.get([On])[On];if(u===t){var d=pt(this._flicking);return d.camera.lookAt(t),c.targetPanel&&d.control.setActive(c.targetPanel,d.control.activePanel,(a=i==null?void 0:i.isTrusted)!==null&&a!==void 0?a:!1),Promise.resolve()}this._animatingContext={start:u,end:t,offset:0};var f=function(){var v,_,x=function(){o._animatingContext={start:0,end:0,offset:0}};l.once(Si.FINISH,x),i?i.setTo((v={},v[On]=t,v),r):l.setTo((_={},_[On]=t,_),r)};if(r===0){var d=pt(this._flicking),m=d.camera;f();var g=d.circularEnabled?$I(t,m.range.min,m.range.max):t;return l.axisManager.set((s={},s[On]=g,s)),Promise.resolve()}else return new Promise(function(v,_){var x=function(){l.off(Si.HOLD,w),v()},w=function(){l.off(Si.FINISH,x),_(new _n(Mn.ANIMATION_INTERRUPTED,Sn.ANIMATION_INTERRUPTED))};l.once(Si.FINISH,x),l.once(Si.HOLD,w),f()})},e.updateDirection=function(){var t=pt(this._flicking),r=this._axes,i=this._panInput;r.disconnect(i),r.connect(t.horizontal?[On,""]:["",On],i),i.options.scale=t.horizontal?[-1,0]:[0,-1]},e._resetInternalValues=function(){this._flicking=null,this._axes=null,this._panInput=null,this._animatingContext={start:0,end:0,offset:0},this._dragged=!1},n}(),JI=function(){function n(){this._flicking=null,this._controller=new Wae,this._activePanel=null}var e=n.prototype;return Object.defineProperty(e,"controller",{get:function(){return this._controller},enumerable:!1,configurable:!0}),Object.defineProperty(e,"activeIndex",{get:function(){var t,r;return(r=(t=this._activePanel)===null||t===void 0?void 0:t.index)!==null&&r!==void 0?r:-1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"activePanel",{get:function(){return this._activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(e,"animating",{get:function(){return this._controller.state.animating},enumerable:!1,configurable:!0}),Object.defineProperty(e,"holding",{get:function(){return this._controller.state.holding},enumerable:!1,configurable:!0}),e.init=function(t){return this._flicking=t,this._controller.init(t),this},e.destroy=function(){this._controller.destroy(),this._flicking=null,this._activePanel=null},e.enable=function(){return this._controller.enable(),this},e.disable=function(){return this._controller.disable(),this},e.release=function(){return this._controller.release(),this},e.updateAnimation=function(t,r,i){var s=this._controller.state,o=this._getPosition(t,i??Ht.NONE);return s.targetPanel=t,this._controller.updateAnimation(o,r),this},e.stopAnimation=function(){var t=this._controller.state;return t.targetPanel=null,this._controller.stopAnimation(),this},e.updatePosition=function(t){var r=pt(this._flicking),i=r.camera,s=this._activePanel;s&&i.lookAt(i.clampToReachablePosition(s.position))},e.updateInput=function(){var t=pt(this._flicking),r=t.camera;return this._controller.update(r.controlParams),this},e.resetActive=function(){return this._activePanel=null,this},e.moveToPanel=function(t,r){var i=r.duration,s=r.direction,o=s===void 0?Ht.NONE:s,a=r.axesEvent;return rf(this,void 0,void 0,function(){var l;return sf(this,function(c){return l=this._getPosition(t,o),this._triggerIndexChangeEvent(t,t.position,a),[2,this._animateToPosition({position:l,duration:i,newActivePanel:t,axesEvent:a})]})})},e.setActive=function(t,r,i){var s,o=pt(this._flicking);this._activePanel=t,o.camera.updateAdaptiveHeight(),t!==r?o.trigger(new Vt(St.CHANGED,{index:t.index,panel:t,prevIndex:(s=r==null?void 0:r.index)!==null&&s!==void 0?s:-1,prevPanel:r,isTrusted:i,direction:r?ud(r.position,t.position):Ht.NONE})):o.trigger(new Vt(St.RESTORED,{isTrusted:i}))},e.copy=function(t){this._flicking=t._flicking,this._activePanel=t._activePanel,this._controller=t._controller},e._triggerIndexChangeEvent=function(t,r,i){var s,o=pt(this._flicking),a=t!==this._activePanel?St.WILL_CHANGE:St.WILL_RESTORE,l=o.camera,c=this._activePanel,u=new Vt(a,{index:t.index,panel:t,isTrusted:(i==null?void 0:i.isTrusted)||!1,direction:ud((s=c==null?void 0:c.position)!==null&&s!==void 0?s:l.position,r)});if(o.trigger(u),u.isCanceled())throw new _n(Mn.STOP_CALLED_BY_USER,Sn.STOP_CALLED_BY_USER)},e._animateToPosition=function(t){var r=t.position,i=t.duration,s=t.newActivePanel,o=t.axesEvent;return rf(this,void 0,void 0,function(){var a,l,c,u=this;return sf(this,function(d){return a=pt(this._flicking),l=function(){return u._controller.animateTo(r,i,o)},c=this._controller.state,c.targetPanel=s,i<=0?[2,l()]:[2,l().then(function(){return rf(u,void 0,void 0,function(){return sf(this,function(f){switch(f.label){case 0:return[4,a.renderer.render()];case 1:return f.sent(),[2]}})})}).catch(function(f){if(!(o&&f instanceof _n&&f.code===Sn.ANIMATION_INTERRUPTED))throw f})]})})},e._getPosition=function(t,r){r===void 0&&(r=Ht.NONE);var i=pt(this._flicking),s=i.camera,o=t.position,a=s.findNearestAnchor(o);if(t.removed||!a)throw new _n(Mn.POSITION_NOT_REACHABLE(t.position),Sn.POSITION_NOT_REACHABLE);if(!s.canReach(t))o=a.position,t=a.panel;else if(i.circularEnabled){var l=this._controller.position,c=s.rangeDiff,u=[o,o+c,o-c].filter(function(d){return r===Ht.NONE?!0:r===Ht.PREV?d<=l:d>=l});o=u.reduce(function(d,f){return Math.abs(l-f)<Math.abs(l-d)?f:d},1/0)}return o},n}(),Ci=function(){function n(t){var r=t.index,i=t.position,s=t.panel;this._index=r,this._pos=i,this._panel=s}var e=n.prototype;return Object.defineProperty(e,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(e,"position",{get:function(){return this._pos},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panel",{get:function(){return this._panel},enumerable:!1,configurable:!0}),n}(),jae=function(n){Ri(e,n);function e(r){var i=(r===void 0?{}:r).count,s=i===void 0?1/0:i,o=n.call(this)||this;return o._count=s,o}var t=e.prototype;return Object.defineProperty(t,"count",{get:function(){return this._count},set:function(r){this._count=r},enumerable:!1,configurable:!0}),t.moveToPosition=function(r,i,s){var o=pt(this._flicking),a=o.camera,l=a.findActiveAnchor(),c=a.findNearestAnchor(a.position),u=this._controller.state;if(!l||!c)return Promise.reject(new _n(Mn.POSITION_NOT_REACHABLE(r),Sn.POSITION_NOT_REACHABLE));var d=this._calcSnapThreshold(r,l),f=o.animating?u.delta:r-a.position,m=Math.abs(f),g=s&&s.delta[On]!==0?Math.abs(s.delta[On]):m,v;if(g>=d&&g>0)v=this._findSnappedAnchor(r,c);else if(m>=o.threshold&&m>0)v=this._findAdjacentAnchor(r,f,c);else return this.moveToPanel(c.panel,{duration:i,axesEvent:s});return this._triggerIndexChangeEvent(v.panel,r,s),this._animateToPosition({position:a.clampToReachablePosition(v.position),duration:i,newActivePanel:v.panel,axesEvent:s})},t._findSnappedAnchor=function(r,i){var s=pt(this._flicking),o=s.camera,a=this._count,l=o.position,c=o.clampToReachablePosition(r),u=o.findAnchorIncludePosition(c);if(!i||!u)throw new _n(Mn.POSITION_NOT_REACHABLE(r),Sn.POSITION_NOT_REACHABLE);if(!isFinite(a))return u;var d=s.panelCount,f=o.anchorPoints,m=Math.sign(r-l)*Math.floor(Math.abs(r-l)/o.rangeDiff);r>l&&u.index<i.index||u.position>i.position&&u.index===i.index?m+=1:(r<l&&u.index>i.index||u.position<i.position&&u.index===i.index)&&(m-=1);var g=m*d,v=u.index+g;if(Math.abs(v-i.index)<=a){var _=f[u.index];return new Ci({index:_.index,position:_.position+m*o.rangeDiff,panel:_.panel})}if(s.circularEnabled){var x=f[LH(i.index+Math.sign(r-l)*a,d)],w=Math.floor(a/d);return r>l&&x.index<i.index?w+=1:r<l&&x.index>i.index&&(w-=1),new Ci({index:x.index,position:x.position+w*o.rangeDiff,panel:x.panel})}else return f[Xu(i.index+Math.sign(r-l)*a,0,f.length-1)]},t._findAdjacentAnchor=function(r,i,s){var o,a=pt(this._flicking),l=a.camera;if(l.circularEnabled){var c=l.findAnchorIncludePosition(r);if(c&&c.position!==s.position)return c}var u=(o=i>0?l.getNextAnchor(s):l.getPrevAnchor(s))!==null&&o!==void 0?o:s;return u},t._calcSnapThreshold=function(r,i){var s=r>i.position,o=i.panel,a=o.size,l=o.alignPosition;return s?a-l+o.margin.next:l+o.margin.prev},e}(JI),$ae=function(n){Ri(e,n);function e(r){var i=(r===void 0?{}:r).stopAtEdge,s=i===void 0?!0:i,o=n.call(this)||this;return o._stopAtEdge=s,o}var t=e.prototype;return Object.defineProperty(t,"stopAtEdge",{get:function(){return this._stopAtEdge},set:function(r){this._stopAtEdge=r},enumerable:!1,configurable:!0}),t.updatePosition=function(r){var i=pt(this._flicking),s=i.camera,o=this._activePanel;if(o){var a=o.range,l=a.min+(a.max-a.min)*r;s.lookAt(s.clampToReachablePosition(l))}},t.moveToPosition=function(r,i,s){var o=pt(this._flicking),a=o.camera,l=a.clampToReachablePosition(r),c=a.findAnchorIncludePosition(l);if(!c)return Promise.reject(new _n(Mn.POSITION_NOT_REACHABLE(r),Sn.POSITION_NOT_REACHABLE));var u=c.panel;return u!==this._activePanel&&this._triggerIndexChangeEvent(u,r,s),this._animateToPosition({position:this._stopAtEdge?l:r,duration:i,newActivePanel:u,axesEvent:s})},e}(JI),Jae=function(n){Ri(e,n);function e(r){var i=(r===void 0?{}:r).count,s=i===void 0?1:i,o=n.call(this)||this;return o.setActive=function(a,l,c){n.prototype.setActive.call(o,a,l,c),o.updateInput()},o._count=s,o._resetIndexRange(),o}var t=e.prototype;return Object.defineProperty(t,"count",{get:function(){return this._count},set:function(r){this._count=r},enumerable:!1,configurable:!0}),t.destroy=function(){n.prototype.destroy.call(this),this._resetIndexRange()},t.updateInput=function(){var r,i=pt(this._flicking),s=i.camera,o=i.renderer,a=this._controller,l=s.controlParams,c=this._count,u=a.state.animating?(r=s.findNearestAnchor(s.position))===null||r===void 0?void 0:r.panel:this._activePanel;if(!u)return a.update(l),this._resetIndexRange(),this;var d=l.range,f=u.position,m=u.index,g=o.panelCount,v=m-c,_=m+c;v<0&&(v=i.circularEnabled?db((v+1)%g-1,g):Xu(v,0,g-1)),_>=g&&(_=i.circularEnabled?_%g:Xu(_,0,g-1));var x=o.panels[v],w=o.panels[_],S=Math.max(x.position,d.min),E=Math.min(w.position,d.max);return S>f&&(S-=s.rangeDiff),E<f&&(E+=s.rangeDiff),l.range={min:S,max:E},l.circular&&(l.position<S&&(l.position+=s.rangeDiff),l.position>E&&(l.position-=s.rangeDiff)),l.circular=!1,a.update(l),this._indexRange={min:x.index,max:w.index},this},t.moveToPanel=function(r,i){return rf(this,void 0,void 0,function(){var s,o,a;return sf(this,function(l){return s=pt(this._flicking),o=s.camera,a=this._controller,a.update(o.controlParams),[2,n.prototype.moveToPanel.call(this,r,i)]})})},t.moveToPosition=function(r,i,s){var o=pt(this._flicking),a=o.camera,l=this._activePanel,c=this._controller.range,u=this._indexRange,d=a.range,f=this._controller.state,m=Xu(a.clampToReachablePosition(r),c[0],c[1]),g=a.findAnchorIncludePosition(m);if(!g||!l)return Promise.reject(new _n(Mn.POSITION_NOT_REACHABLE(r),Sn.POSITION_NOT_REACHABLE));var v=l.position,_=o.animating?f.delta:r-a.position,x=Math.abs(_)>=o.threshold,w=r>v?a.getNextAnchor(g):a.getPrevAnchor(g),S,E,A=a.anchorPoints,P=A[0],I=A[A.length-1],T=r<=d.min&&iC(P.panel.index,u.min,u.max),R=r>=d.max&&iC(I.panel.index,u.min,u.max),O=w&&(u.min<=u.max?iC(w.index,u.min,u.max):w.index>=u.min||w.index<=u.max);if(T||R){var L=r<d.min?P:I;E=L.panel,S=L.position}else if(x&&g.position!==l.position)E=g.panel,S=g.position;else if(x&&O)E=w.panel,S=w.position;else{var J=a.findNearestAnchor(a.position);return J?this.moveToPanel(J.panel,{duration:i,axesEvent:s}):Promise.reject(new _n(Mn.POSITION_NOT_REACHABLE(r),Sn.POSITION_NOT_REACHABLE))}return this._triggerIndexChangeEvent(E,r,s),this._animateToPosition({position:S,duration:i,newActivePanel:E,axesEvent:s})},t._resetIndexRange=function(){this._indexRange={min:0,max:0}},e}(JI),KI=function(){function n(t){this._flicking=t}var e=n.prototype;return e.getAnchors=function(){var t=this._flicking.renderer.panels;return t.map(function(r,i){return new Ci({index:i,position:r.position,panel:r})})},e.findAnchorIncludePosition=function(t){var r=this._flicking.camera.anchorPoints,i=r.filter(function(s){return s.panel.includePosition(t,!0)});return i.reduce(function(s,o){return s&&Math.abs(s.position-t)<Math.abs(o.position-t)?s:o},null)},e.findNearestAnchor=function(t){var r=this._flicking.camera.anchorPoints;if(r.length<=0)return null;for(var i=1/0,s=0;s<r.length;s++){var o=r[s],a=Math.abs(o.position-t);if(a>i)return r[s-1];i=a}return r[r.length-1]},e.clampToReachablePosition=function(t){var r=this._flicking.camera,i=r.range;return Xu(t,i.min,i.max)},e.getCircularOffset=function(){return 0},e.canReach=function(t){var r=this._flicking.camera,i=r.range;if(t.removed)return!1;var s=t.position;return s>=i.min&&s<=i.max},e.canSee=function(t){var r=this._flicking.camera,i=r.visibleRange;return t.isVisibleOnRange(i.min,i.max)},n}(),TD=function(n){Ri(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t.checkAvailability=function(){return!0},t.getRange=function(){var r,i,s=this._flicking.renderer,o=s.getPanel(0),a=s.getPanel(s.panelCount-1);return{min:(r=o==null?void 0:o.position)!==null&&r!==void 0?r:0,max:(i=a==null?void 0:a.position)!==null&&i!==void 0?i:0}},e}(KI),Kae=function(n){Ri(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t.checkAvailability=function(){var r=this._flicking,i=r.renderer,s=i.panels;if(s.length<=0)return!1;var o=s[0],a=s[s.length-1],l=o.range.min-o.margin.prev,c=a.range.max+a.margin.next,u=r.camera.size,d=c-l,f=s.every(function(m){return d-m.size>=u});return f},t.getRange=function(){var r=this._flicking,i=r.renderer.panels;if(i.length<=0)return{min:0,max:0};var s=i[0],o=i[i.length-1],a=s.range.min-s.margin.prev,l=o.range.max+o.margin.next;return{min:a,max:l}},t.getAnchors=function(){var r=this._flicking,i=r.renderer.panels;return i.map(function(s,o){return new Ci({index:o,position:s.position,panel:s})})},t.findNearestAnchor=function(r){var i=this._flicking.camera,s=i.anchorPoints;if(s.length<=0)return null;for(var o=i.range,a=1/0,l=-1,c=0;c<s.length;c++){var u=s[c],d=Math.min(Math.abs(u.position-r),Math.abs(u.position-o.min+o.max-r),Math.abs(r-o.min+o.max-u.position));d<a&&(a=d,l=c)}return s[l]},t.findAnchorIncludePosition=function(r){var i=this._flicking.camera,s=i.range,o=i.anchorPoints,a=i.rangeDiff,l=o.length,c=$I(r,s.min,s.max),u=n.prototype.findAnchorIncludePosition.call(this,c);if(l>0&&(r===s.min||r===s.max)){var d=[u,new Ci({index:0,position:o[0].position+a,panel:o[0].panel}),new Ci({index:l-1,position:o[l-1].position-a,panel:o[l-1].panel})].filter(function(m){return!!m});u=d.reduce(function(m,g){return m&&Math.abs(m.position-r)<Math.abs(g.position-r)?m:g},null)}if(!u)return null;if(r<s.min){var f=-Math.floor((s.min-r)/a)-1;return new Ci({index:u.index,position:u.position+a*f,panel:u.panel})}else if(r>s.max){var f=Math.floor((r-s.max)/a)+1;return new Ci({index:u.index,position:u.position+a*f,panel:u.panel})}return u},t.getCircularOffset=function(){var r=this._flicking,i=r.camera;if(!i.circularEnabled)return 0;var s=r.panels.filter(function(l){return l.toggled}),o=s.filter(function(l){return l.toggleDirection===Ht.PREV}),a=s.filter(function(l){return l.toggleDirection===Ht.NEXT});return this._calcPanelAreaSum(o)-this._calcPanelAreaSum(a)},t.clampToReachablePosition=function(r){return r},t.canReach=function(r){return!r.removed},t.canSee=function(r){var i=this._flicking.camera,s=i.range,o=i.rangeDiff,a=i.visibleRange,l=n.prototype.canSee.call(this,r);return a.min<s.min?l||r.isVisibleOnRange(a.min+o,a.max+o):a.max>s.max?l||r.isVisibleOnRange(a.min-o,a.max-o):l},t._calcPanelAreaSum=function(r){return r.reduce(function(i,s){return i+s.sizeIncludingMargin},0)},e}(KI),PD=function(n){Ri(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t.checkAvailability=function(){var r=this._flicking,i=r.renderer,s=i.getPanel(0),o=i.getPanel(i.panelCount-1);if(!s||!o)return!1;var a=r.camera.size,l=s.range.min,c=o.range.max,u=c-l,d=a<u;return d},t.getRange=function(){var r=this._flicking,i=r.renderer,s=r.camera.alignPosition,o=i.getPanel(0),a=i.getPanel(i.panelCount-1);if(!o||!a)return{min:0,max:0};var l=r.camera.size,c=o.range.min,u=a.range.max,d=u-c,f=l<d,m=c+s,g=u-l+s;if(f)return{min:m,max:g};var v=r.camera.align,_=typeof v=="object"?v.camera:v,x=m+jI(_,g-m);return{min:x,max:x}},t.getAnchors=function(){var r=this._flicking,i=r.camera,s=r.renderer.panels;if(s.length<=0)return[];var o=r.camera.range,a=s.filter(function(v){return i.canReach(v)});if(a.length>0){var l=a[0].position!==o.min,c=a[a.length-1].position!==o.max,u=l?1:0,d=a.map(function(v,_){return new Ci({index:_+u,position:v.position,panel:v})});return l&&d.splice(0,0,new Ci({index:0,position:o.min,panel:s[a[0].index-1]})),c&&d.push(new Ci({index:d.length,position:o.max,panel:s[a[a.length-1].index+1]})),d}else if(o.min!==o.max){var f=this._findNearestPanel(o.min,s),m=f.index===s.length-1?f.prev():f,g=m.next();return[new Ci({index:0,position:o.min,panel:m}),new Ci({index:1,position:o.max,panel:g})]}else return[new Ci({index:0,position:o.min,panel:this._findNearestPanel(o.min,s)})]},t.findAnchorIncludePosition=function(r){var i=this._flicking.camera,s=i.range,o=i.anchorPoints;return o.length<=0?null:r<=s.min?o[0]:r>=s.max?o[o.length-1]:n.prototype.findAnchorIncludePosition.call(this,r)},t._findNearestPanel=function(r,i){for(var s=1/0,o=0;o<i.length;o++){var a=i[o],l=Math.abs(a.position-r);if(l>s)return i[o-1];s=l}return i[i.length-1]},e}(KI),Xae=function(){function n(t,r){var i=this,s=(r===void 0?{}:r).align,o=s===void 0?fa.CENTER:s;this._checkTranslateSupport=function(){var a,l,c=["webkitTransform","msTransform","MozTransform","OTransform","transform"],u=document.documentElement.style,d="";try{for(var f=qw(c),m=f.next();!m.done;m=f.next()){var g=m.value;g in u&&(d=g)}}catch(v){a={error:v}}finally{try{m&&!m.done&&(l=f.return)&&l.call(f)}finally{if(a)throw a.error}}if(!d)throw new _n(Mn.TRANSFORM_NOT_SUPPORTED,Sn.TRANSFORM_NOT_SUPPORTED);i._transform=d},this._flicking=t,this._resetInternalValues(),this._align=o}var e=n.prototype;return Object.defineProperty(e,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(e,"children",{get:function(){return WI(this._el.children)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(e,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(e,"offset",{get:function(){return this._offset-this._circularOffset},enumerable:!1,configurable:!0}),Object.defineProperty(e,"circularEnabled",{get:function(){return this._circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e,"mode",{get:function(){return this._mode},enumerable:!1,configurable:!0}),Object.defineProperty(e,"range",{get:function(){return this._range},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rangeDiff",{get:function(){return this._range.max-this._range.min},enumerable:!1,configurable:!0}),Object.defineProperty(e,"visiblePanels",{get:function(){return this._visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(e,"visibleRange",{get:function(){return{min:this._position-this._alignPos,max:this._position-this._alignPos+this.size}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"anchorPoints",{get:function(){return this._anchors},enumerable:!1,configurable:!0}),Object.defineProperty(e,"controlParams",{get:function(){return{range:this._range,position:this._position,circular:this._circularEnabled}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"atEdge",{get:function(){return this._position<=this._range.min||this._position>=this._range.max},enumerable:!1,configurable:!0}),Object.defineProperty(e,"size",{get:function(){var t=this._flicking;return t?t.horizontal?t.viewport.width:t.viewport.height:0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"progress",{get:function(){var t=this._flicking,r=this._position+this._offset,i=this.findNearestAnchor(this._position);if(!t||!i)return NaN;var s=i.panel,o=s.position+s.offset,a=t.control.controller.bounce,l=this.range,c=l.min,u=l.max,d=this.rangeDiff;if(r===o)return s.index;if(r<o){var f=s.prev(),m=f?f.position+f.offset:c-a[0];return m>o&&(m-=d),s.index-1+fb(r,m,o)}else{var g=s.next(),v=g?g.position+g.offset:u+a[1];return v<o&&(v+=d),s.index+fb(r,o,v)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"align",{get:function(){return this._align},set:function(t){this._align=t},enumerable:!1,configurable:!0}),e.init=function(){var t=this._flicking.viewport.element;return Rae(t.firstElementChild,"First element child of the viewport element"),this._el=t.firstElementChild,this._checkTranslateSupport(),this._updateMode(),this},e.destroy=function(){return this._resetInternalValues(),this},e.lookAt=function(t){var r=this,i=pt(this._flicking),s=this._position;this._position=t;var o=this._togglePanels(s,t);this._refreshVisiblePanels(),this._checkNeedPanel(),this._checkReachEnd(s,t),o?i.renderer.render().then(function(){r.updateOffset()}):this.applyTransform()},e.getPrevAnchor=function(t){if(!this._circularEnabled||t.index!==0)return this._anchors[t.index-1]||null;var r=this._anchors,i=this.rangeDiff,s=r[r.length-1];return new Ci({index:s.index,position:s.position-i,panel:s.panel})},e.getNextAnchor=function(t){var r=this._anchors;if(!this._circularEnabled||t.index!==r.length-1)return r[t.index+1]||null;var i=this.rangeDiff,s=r[0];return new Ci({index:s.index,position:s.position+i,panel:s.panel})},e.getProgressInPanel=function(t){var r=t.range;return(this._position-r.min)/(r.max-r.min)},e.findAnchorIncludePosition=function(t){return this._mode.findAnchorIncludePosition(t)},e.findNearestAnchor=function(t){return this._mode.findNearestAnchor(t)},e.findActiveAnchor=function(){var t=pt(this._flicking),r=t.control.activeIndex;return Nae(this._anchors,function(i){return i.panel.index===r})},e.clampToReachablePosition=function(t){return this._mode.clampToReachablePosition(t)},e.canReach=function(t){return this._mode.canReach(t)},e.canSee=function(t){return this._mode.canSee(t)},e.updateRange=function(){var t=pt(this._flicking),r=t.renderer,i=r.panels;return this._updateMode(),this._range=this._mode.getRange(),i.forEach(function(s){return s.updateCircularToggleDirection()}),this},e.updateAlignPos=function(){var t=this._align,r=typeof t=="object"?t.camera:t;return this._alignPos=jI(r,this.size),this},e.updateAnchors=function(){return this._anchors=this._mode.getAnchors(),this},e.updateAdaptiveHeight=function(){var t=pt(this._flicking),r=t.control.activePanel;!t.horizontal||!t.adaptive||!r||t.viewport.setSize({height:r.height})},e.updateOffset=function(){var t=pt(this._flicking),r=this._position,i=t.panels.filter(function(s){return!s.rendered});return this._offset=i.filter(function(s){return s.position+s.offset<r}).reduce(function(s,o){return s+o.sizeIncludingMargin},0),this._circularOffset=this._mode.getCircularOffset(),this.applyTransform(),this},e.resetNeedPanelHistory=function(){return this._needPanelTriggered={prev:!1,next:!1},this},e.applyTransform=function(){var t=this._el,r=pt(this._flicking),i=r.renderer;if(i.rendering)return this;var s=this._position-this._alignPos-this._offset+this._circularOffset;return t.style[this._transform]=r.horizontal?"translate("+-s+"px)":"translate(0, "+-s+"px)",this},e._resetInternalValues=function(){this._position=0,this._alignPos=0,this._offset=0,this._circularOffset=0,this._circularEnabled=!1,this._range={min:0,max:0},this._visiblePanels=[],this._anchors=[],this._needPanelTriggered={prev:!1,next:!1}},e._refreshVisiblePanels=function(){var t=this,r=pt(this._flicking),i=r.renderer.panels,s=i.filter(function(c){return t.canSee(c)}),o=this._visiblePanels;this._visiblePanels=s;var a=s.filter(function(c){return!hb(o,c)}),l=o.filter(function(c){return!hb(s,c)});(a.length>0||l.length>0)&&r.renderer.render().then(function(){r.trigger(new Vt(St.VISIBLE_CHANGE,{added:a,removed:l,visiblePanels:s}))})},e._checkNeedPanel=function(){var t=this._needPanelTriggered;if(!(t.prev&&t.next)){var r=pt(this._flicking),i=r.renderer.panels;if(i.length<=0){t.prev||(r.trigger(new Vt(St.NEED_PANEL,{direction:Ht.PREV})),t.prev=!0),t.next||(r.trigger(new Vt(St.NEED_PANEL,{direction:Ht.NEXT})),t.next=!0);return}var s=this._position,o=this.size,a=this._range,l=r.needPanelThreshold,c=s-this._alignPos,u=c+o,d=i[0],f=i[i.length-1];if(!t.prev){var m=d.range.min;(c<=m+l||s<=a.min+l)&&(r.trigger(new Vt(St.NEED_PANEL,{direction:Ht.PREV})),t.prev=!0)}if(!t.next){var g=f.range.max;(u>=g-l||s>=a.max-l)&&(r.trigger(new Vt(St.NEED_PANEL,{direction:Ht.NEXT})),t.next=!0)}}},e._checkReachEnd=function(t,r){var i=pt(this._flicking),s=this._range,o=t>s.min&&t<s.max,a=r>s.min&&r<s.max;if(!(!o||a)){var l=r<=s.min?Ht.PREV:Ht.NEXT;i.trigger(new Vt(St.REACH_EDGE,{direction:l}))}},e._updateMode=function(){var t=pt(this._flicking);if(t.circular){var r=new Kae(t),i=r.checkAvailability();if(i)this._mode=r;else{var s=t.circularFallback;this._mode=s===NH.BOUND?new PD(t):new TD(t)}this._circularEnabled=i}else this._mode=t.bound?new PD(t):new TD(t),this._circularEnabled=!1},e._togglePanels=function(t,r){if(r===t)return!1;var i=pt(this._flicking),s=i.renderer.panels,o=s.map(function(a){return a.toggle(t,r)});return o.some(function(a){return a})},n}(),BH=function(){function n(t){var r=t.align,i=r===void 0?fa.CENTER:r,s=t.strategy;this._flicking=null,this._panels=[],this._rendering=!1,this._align=i,this._strategy=s}var e=n.prototype;return Object.defineProperty(e,"panels",{get:function(){return this._panels},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rendering",{get:function(){return this._rendering},enumerable:!1,configurable:!0}),Object.defineProperty(e,"panelCount",{get:function(){return this._panels.length},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strategy",{get:function(){return this._strategy},enumerable:!1,configurable:!0}),Object.defineProperty(e,"align",{get:function(){return this._align},set:function(t){this._align=t;var r=ub(t);this._panels.forEach(function(i){i.align=r})},enumerable:!1,configurable:!0}),e.init=function(t){return this._flicking=t,this._collectPanels(),this},e.destroy=function(){this._flicking=null,this._panels=[]},e.getPanel=function(t){return this._panels[t]||null},e.forceRenderAllPanels=function(){return this._panels.forEach(function(t){return t.markForShow()}),Promise.resolve()},e.updatePanelSize=function(){var t=pt(this._flicking),r=this._panels;if(r.length<=0)return this;if(t.panelsPerView>0){var i=r[0];i.resize(),this._updatePanelSizeByGrid(i,r)}else t.panels.forEach(function(s){return s.resize()});return this},e.batchInsert=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=this.batchInsertDefer.apply(this,Cr(t));return i.length<=0?[]:(this.updateAfterPanelChange(i,[]),i)},e.batchInsertDefer=function(){for(var t=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=this._panels,o=pt(this._flicking),a=s[0],l=ub(this._align),c=r.reduce(function(u,d){var f,m=db(d.index,s.length),g=s.slice(m),v=d.elements.map(function(x,w){return t._createPanel(x,{index:m+w,align:l,flicking:o})});if(s.splice.apply(s,Cr([m,0],v)),d.hasDOMInElements&&t._insertPanelElements(v,(f=g[0])!==null&&f!==void 0?f:null),o.panelsPerView>0){var _=a||v[0].resize();t._updatePanelSizeByGrid(_,v)}else v.forEach(function(x){return x.resize()});return g.forEach(function(x){x.increaseIndex(v.length),x.updatePosition()}),Cr(u,v)},[]);return c},e.batchRemove=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=this.batchRemoveDefer.apply(this,Cr(t));return i.length<=0?[]:(this.updateAfterPanelChange([],i),i)},e.batchRemoveDefer=function(){for(var t=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=this._panels,o=pt(this._flicking),a=o.control,l=a.activePanel,c=r.reduce(function(u,d){var f=d.index,m=d.deleteCount,g=db(f,s.length),v=s.slice(g+m),_=s.splice(g,m);return _.length<=0?[]:(v.forEach(function(x){x.decreaseIndex(_.length),x.updatePosition()}),d.hasDOMInElements&&t._removePanelElements(_),_.forEach(function(x){return x.destroy()}),hb(_,l)&&a.resetActive(),Cr(u,_))},[]);return c},e.updateAfterPanelChange=function(t,r){var i,s=pt(this._flicking),o=s.camera,a=s.control,l=this._panels,c=a.activePanel;if(this._updateCameraAndControl(),this.render(),!s.animating)if(!c||c.removed)if(l.length<=0)o.lookAt(0);else{var u=(i=c==null?void 0:c.index)!==null&&i!==void 0?i:0;u>l.length-1&&(u=l.length-1),a.moveToPanel(l[u],{duration:0}).catch(function(){})}else a.moveToPanel(c,{duration:0}).catch(function(){});s.camera.updateOffset(),(t.length>0||r.length>0)&&(s.trigger(new Vt(St.PANEL_CHANGE,{added:t,removed:r})),this.checkPanelContentsReady(Cr(t,r)))},e.checkPanelContentsReady=function(t){var r=this,i=pt(this._flicking),s=i.resizeOnContentsReady,o=this._panels;if(!(!s||i.virtualEnabled)){var a=function(c){return c.element&&!!c.element.querySelector("img, video")};if(t=t.filter(function(c){return a(c)}),!(t.length<=0)){var l=new Mae;t.forEach(function(c){c.loading=!0}),l.on("readyElement",function(c){if(!r._flicking){l.destroy();return}var u=t[c.index],d=i.camera,f=i.control,m=f.activePanel?d.getProgressInPanel(f.activePanel):0;u.loading=!1,u.resize(),o.slice(u.index+1).forEach(function(g){return g.updatePosition()}),i.initialized&&(d.updateRange(),d.updateOffset(),d.updateAnchors(),f.animating||(f.updatePosition(m),f.updateInput()))}),l.on("preReady",function(c){r._flicking&&r.render(),c.readyCount===c.totalCount&&l.destroy()}),l.on("ready",function(){r._flicking&&r.render(),l.destroy()}),l.check(t.map(function(c){return c.element}))}}},e._updateCameraAndControl=function(){var t=pt(this._flicking),r=t.camera,i=t.control;r.updateRange(),r.updateOffset(),r.updateAnchors(),r.resetNeedPanelHistory(),i.updateInput()},e._showOnlyVisiblePanels=function(t){var r=t.renderer.panels,i=t.camera,s=i.visiblePanels.reduce(function(o,a){return o[a.index]=!0,o},{});r.forEach(function(o){o.index in s||o.loading?o.markForShow():t.holding||o.markForHide()})},e._updatePanelSizeByGrid=function(t,r){var i=pt(this._flicking),s=i.panelsPerView;if(s<=0)throw new _n(Mn.WRONG_OPTION("panelsPerView",s),Sn.WRONG_OPTION);if(!(r.length<=0)){var o=i.camera.size,a=t.margin.prev+t.margin.next,l=(o-a*(s-1))/s,c=i.horizontal?{width:l}:{height:l},u=zi({size:l,margin:t.margin},!i.horizontal&&{height:t.height});i.noPanelStyleOverride||this._strategy.updatePanelSizes(i,c),i.panels.forEach(function(d){return d.resize(u)})}},e._removeAllChildsFromCamera=function(){for(var t=pt(this._flicking),r=t.camera.element;r.firstChild;)r.removeChild(r.firstChild)},e._insertPanelElements=function(t,r){r===void 0&&(r=null);var i=pt(this._flicking),s=i.camera,o=s.element,a=(r==null?void 0:r.element)||null,l=document.createDocumentFragment();t.forEach(function(c){return l.appendChild(c.element)}),o.insertBefore(l,a)},e._removePanelElements=function(t){var r=pt(this._flicking),i=r.camera.element;t.forEach(function(s){i.removeChild(s.element)})},n}(),Yae=function(n){Ri(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t.render=function(){return rf(this,void 0,void 0,function(){var r,i;return sf(this,function(s){return r=pt(this._flicking),i=this._strategy,i.updateRenderingPanels(r),i.renderPanels(r),this._resetPanelElementOrder(),[2]})})},t._collectPanels=function(){var r=pt(this._flicking),i=r.camera;this._removeAllTextNodes(),this._panels=this._strategy.collectPanels(r,i.children)},t._createPanel=function(r,i){return this._strategy.createPanel(r,i)},t._resetPanelElementOrder=function(){var r=pt(this._flicking),i=r.camera.element,s=this._strategy.getRenderingElementsByOrder(r).reverse();s.forEach(function(o,a){var l=s[a-1]?s[a-1]:null;o.nextElementSibling!==l&&i.insertBefore(o,l)})},t._removeAllTextNodes=function(){var r=pt(this._flicking),i=r.camera.element;WI(i.childNodes).forEach(function(s){s.nodeType===Node.TEXT_NODE&&i.removeChild(s)})},e}(BH),qae=function(n){Ri(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t._removePanelElements=function(r){},t._removeAllChildsFromCamera=function(){},e}(BH),lT=function(){function n(t){var r=t.index,i=t.align,s=t.flicking,o=t.elementProvider;this._index=r,this._flicking=s,this._elProvider=o,this._align=i,this._removed=!1,this._rendered=!0,this._loading=!1,this._resetInternalStates()}var e=n.prototype;return Object.defineProperty(e,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(e,"elementProvider",{get:function(){return this._elProvider},enumerable:!1,configurable:!0}),Object.defineProperty(e,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(e,"position",{get:function(){return this._pos+this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(e,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e,"sizeIncludingMargin",{get:function(){return this._size+this._margin.prev+this._margin.next},enumerable:!1,configurable:!0}),Object.defineProperty(e,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(e,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(e,"removed",{get:function(){return this._removed},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),Object.defineProperty(e,"loading",{get:function(){return this._loading},set:function(t){this._loading=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"range",{get:function(){return{min:this._pos,max:this._pos+this._size}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"toggled",{get:function(){return this._toggled},enumerable:!1,configurable:!0}),Object.defineProperty(e,"toggleDirection",{get:function(){return this._toggleDirection},enumerable:!1,configurable:!0}),Object.defineProperty(e,"offset",{get:function(){var t=this._toggleDirection,r=this._flicking.camera.rangeDiff;return t===Ht.NONE||!this._toggled?0:t===Ht.PREV?-r:r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"progress",{get:function(){var t=this._flicking;return this.index-t.camera.progress},enumerable:!1,configurable:!0}),Object.defineProperty(e,"outsetProgress",{get:function(){var t=this.position+this.offset,r=this._alignPos,i=this._flicking.camera,s=i.position;if(s===t)return 0;if(s<t){var o=t+(i.size-i.alignPosition)+r;return-fb(s,t,o)}else{var a=t-(i.alignPosition+this._size-r);return 1-fb(s,a,t)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"visibleRatio",{get:function(){var t=this.range,r=this._size,i=this.offset,s=this._flicking.camera.visibleRange,o={min:t.min+i,max:t.max+i};if(o.max<=s.min||o.min>=s.max)return 0;var a=r;return s.min>o.min&&(a-=s.min-o.min),s.max<o.max&&(a-=o.max-s.max),a/r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"align",{get:function(){return this._align},set:function(t){this._align=t,this._updateAlignPos()},enumerable:!1,configurable:!0}),e.markForShow=function(){this._rendered=!0,this._elProvider.show(this._flicking)},e.markForHide=function(){this._rendered=!1,this._elProvider.hide(this._flicking)},e.resize=function(t){var r,i=this.element,s=this._flicking,o=s.horizontal,a=s.useFractionalSize;if(t)this._size=t.size,this._margin=zi({},t.margin),this._height=(r=t.height)!==null&&r!==void 0?r:mg({el:i,horizontal:!1,useFractionalSize:a,useOffset:!0,style:aT(i)});else{var l=aT(i);this._size=mg({el:i,horizontal:o,useFractionalSize:a,useOffset:!0,style:l}),this._margin=o?{prev:parseFloat(l.marginLeft||"0"),next:parseFloat(l.marginRight||"0")}:{prev:parseFloat(l.marginTop||"0"),next:parseFloat(l.marginBottom||"0")},this._height=o?mg({el:i,horizontal:!1,useFractionalSize:a,useOffset:!0,style:l}):this._size}return this.updatePosition(),this._updateAlignPos(),this},e.setSize=function(t){return OH(this.element,t),this},e.contains=function(t){var r;return!!(!((r=this.element)===null||r===void 0)&&r.contains(t))},e.destroy=function(){this._resetInternalStates(),this._removed=!0},e.includePosition=function(t,r){return r===void 0&&(r=!1),this.includeRange(t,t,r)},e.includeRange=function(t,r,i){i===void 0&&(i=!1);var s=this._margin,o=this.range;return i&&(o.min-=s.prev,o.max+=s.next),r>=o.min&&t<=o.max},e.isVisibleOnRange=function(t,r){var i=this.range;return r>i.min&&t<i.max},e.focus=function(t){return this._flicking.moveTo(this._index,t)},e.prev=function(){var t=this._index,r=this._flicking,i=r.renderer,s=i.panelCount;return s===1?null:r.circularEnabled?i.getPanel(t===0?s-1:t-1):i.getPanel(t-1)},e.next=function(){var t=this._index,r=this._flicking,i=r.renderer,s=i.panelCount;return s===1?null:r.circularEnabled?i.getPanel(t===s-1?0:t+1):i.getPanel(t+1)},e.increaseIndex=function(t){return this._index+=Math.max(t,0),this},e.decreaseIndex=function(t){return this._index-=Math.max(t,0),this},e.updatePosition=function(){var t=this._flicking.renderer.panels[this._index-1];return this._pos=t?t.range.max+t.margin.next+this._margin.prev:this._margin.prev,this},e.toggle=function(t,r){var i=this._toggleDirection,s=this._togglePosition;if(i===Ht.NONE||r===t)return!1;var o=this._toggled;return r>t?s>=t&&s<=r&&(this._toggled=i===Ht.NEXT):s<=t&&s>=r&&(this._toggled=i!==Ht.NEXT),o!==this._toggled},e.updateCircularToggleDirection=function(){var t=this._flicking;if(!t.circularEnabled)return this._toggleDirection=Ht.NONE,this._togglePosition=0,this._toggled=!1,this;var r=t.camera,i=r.range,s=r.alignPosition,o=r.visibleRange,a=o.max-o.min,l=i.min-s,c=i.max-s+a,u=this.includeRange(c-a,c,!1),d=this.includeRange(l,l+a,!1);return this._toggled=!1,u?(this._toggleDirection=Ht.PREV,this._togglePosition=this.range.max+i.min-i.max+s,this.toggle(1/0,r.position)):d?(this._toggleDirection=Ht.NEXT,this._togglePosition=this.range.min+i.max-a+s,this.toggle(-1/0,r.position)):(this._toggleDirection=Ht.NONE,this._togglePosition=0),this},e._updateAlignPos=function(){this._alignPos=jI(this._align,this._size)},e._resetInternalStates=function(){this._size=0,this._pos=0,this._margin={prev:0,next:0},this._height=0,this._alignPos=0,this._toggled=!1,this._togglePosition=0,this._toggleDirection=Ht.NONE},n}(),DH=function(){function n(t){var r=t.providerCtor;this._providerCtor=r}var e=n.prototype;return e.renderPanels=function(){},e.getRenderingIndexesByOrder=function(t){var r=t.renderer.panels.filter(function(a){return a.rendered}),i=r.filter(function(a){return a.toggled&&a.toggleDirection===Ht.PREV}),s=r.filter(function(a){return a.toggled&&a.toggleDirection===Ht.NEXT}),o=r.filter(function(a){return!a.toggled});return Cr(i,o,s).map(function(a){return a.index})},e.getRenderingElementsByOrder=function(t){var r=t.panels;return this.getRenderingIndexesByOrder(t).map(function(i){return r[i].element})},e.updateRenderingPanels=function(t){t.renderOnlyVisible?this._showOnlyVisiblePanels(t):t.panels.forEach(function(r){return r.markForShow()})},e.collectPanels=function(t,r){var i=this,s=ub(t.renderer.align);return r.map(function(o,a){return new lT({index:a,elementProvider:new i._providerCtor(o),align:s,flicking:t})})},e.createPanel=function(t,r){return new lT(zi(zi({},r),{elementProvider:new this._providerCtor(t)}))},e.updatePanelSizes=function(t,r){t.panels.forEach(function(i){return i.setSize(r)})},e._showOnlyVisiblePanels=function(t){var r=t.renderer.panels,i=t.camera,s=i.visiblePanels.reduce(function(o,a){return o[a.index]=!0,o},{});r.forEach(function(o){o.index in s||o.loading?o.markForShow():t.holding||o.markForHide()}),i.updateOffset()},n}(),RD=function(n){Ri(e,n);function e(r){var i=n.call(this,r)||this;return r.elementProvider.init(i),i._elProvider=r.elementProvider,i._cachedInnerHTML=null,i}var t=e.prototype;return Object.defineProperty(t,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cachedInnerHTML",{get:function(){return this._cachedInnerHTML},enumerable:!1,configurable:!0}),Object.defineProperty(t,"elementIndex",{get:function(){var r=this._flicking,i=r.panelsPerView+1,s=r.panelCount,o=this._index;return this._toggled&&(o=this._toggleDirection===Ht.NEXT?o+s:o-s),LH(o,i)},enumerable:!1,configurable:!0}),t.cacheRenderResult=function(r){this._cachedInnerHTML=r},t.uncacheRenderResult=function(){this._cachedInnerHTML=null},t.render=function(){var r=this._flicking,i=r.virtual,s=i.renderPanel,o=i.cache,a=this._elProvider.element,l=this._cachedInnerHTML||s(this,this._index);l!==a.innerHTML&&(a.innerHTML=l,o&&this.cacheRenderResult(l))},t.increaseIndex=function(r){return this.uncacheRenderResult(),n.prototype.increaseIndex.call(this,r)},t.decreaseIndex=function(r){return this.uncacheRenderResult(),n.prototype.decreaseIndex.call(this,r)},e}(lT),FH=function(){function n(){}var e=n.prototype;return e.renderPanels=function(t){var r=t.virtual,i=t.visiblePanels,s=Of(t.panelsPerView+1);i.forEach(function(o){var a=o.elementIndex;o.render(),r.show(a),s[a]=-1}),s.filter(function(o){return o>=0}).forEach(function(o){r.hide(o)})},e.getRenderingIndexesByOrder=function(t){var r=t.virtual,i=Cr(t.visiblePanels).filter(function(a){return a.rendered}).sort(function(a,l){return a.position+a.offset-(l.position+l.offset)});if(i.length<=0)return r.elements.map(function(a,l){return l});var s=i.map(function(a){return a.elementIndex}),o=r.elements.map(function(a,l){return zi(zi({},a),{idx:l})}).filter(function(a){return!a.visible}).map(function(a){return a.idx});return Cr(s,o)},e.getRenderingElementsByOrder=function(t){var r=t.virtual,i=r.elements;return this.getRenderingIndexesByOrder(t).map(function(s){return i[s].nativeElement})},e.updateRenderingPanels=function(t){var r=t.renderer.panels,i=t.camera,s=i.visiblePanels.reduce(function(o,a){return o[a.index]=!0,o},{});r.forEach(function(o){o.index in s||o.loading?o.markForShow():o.markForHide()}),i.updateOffset()},e.collectPanels=function(t){var r=ub(t.renderer.align);return Of(t.virtual.initialPanelCount).map(function(i){return new RD({index:i,elementProvider:new AD(t),align:r,flicking:t})})},e.createPanel=function(t,r){return new RD(zi(zi({},r),{elementProvider:new AD(r.flicking)}))},e.updatePanelSizes=function(t,r){t.virtual.elements.forEach(function(i){OH(i.nativeElement,r)}),t.panels.forEach(function(i){return i.setSize(r)})},n}(),cT=function(n){Ri(e,n);function e(r,i){var s=i===void 0?{}:i,o=s.align,a=o===void 0?fa.CENTER:o,l=s.defaultIndex,c=l===void 0?0:l,u=s.horizontal,d=u===void 0?!0:u,f=s.circular,m=f===void 0?!1:f,g=s.circularFallback,v=g===void 0?NH.LINEAR:g,_=s.bound,x=_===void 0?!1:_,w=s.adaptive,S=w===void 0?!1:w,E=s.panelsPerView,A=E===void 0?-1:E,P=s.noPanelStyleOverride,I=P===void 0?!1:P,T=s.resizeOnContentsReady,R=T===void 0?!1:T,O=s.nested,L=O===void 0?!1:O,J=s.needPanelThreshold,j=J===void 0?0:J,V=s.preventEventsBeforeInit,K=V===void 0?!0:V,Q=s.deceleration,te=Q===void 0?.0075:Q,D=s.duration,$=D===void 0?500:D,X=s.easing,ue=X===void 0?function(Pe){return 1-Math.pow(1-Pe,3)}:X,Y=s.inputType,pe=Y===void 0?["mouse","touch"]:Y,ye=s.moveType,ne=ye===void 0?"snap":ye,fe=s.threshold,Ee=fe===void 0?40:fe,Re=s.interruptable,Me=Re===void 0?!0:Re,Ue=s.bounce,Ge=Ue===void 0?"20%":Ue,me=s.iOSEdgeSwipeThreshold,_e=me===void 0?30:me,ke=s.preventClickOnDrag,$e=ke===void 0?!0:ke,Fe=s.disableOnInit,Ye=Fe===void 0?!1:Fe,Xe=s.changeOnHold,et=Xe===void 0?!1:Xe,at=s.renderOnlyVisible,it=at===void 0?!1:at,G=s.virtual,B=G===void 0?null:G,ae=s.autoInit,Te=ae===void 0?!0:ae,Ie=s.autoResize,De=Ie===void 0?!0:Ie,xe=s.useResizeObserver,ie=xe===void 0?!0:xe,oe=s.resizeDebounce,Ne=oe===void 0?0:oe,W=s.maxResizeDebounce,de=W===void 0?100:W,Ae=s.useFractionalSize,Oe=Ae===void 0?!1:Ae,nt=s.externalRenderer,bt=nt===void 0?null:nt,un=s.renderExternal,q=un===void 0?null:un,ee=n.call(this)||this;return ee._initialized=!1,ee._plugins=[],ee._align=a,ee._defaultIndex=c,ee._horizontal=d,ee._circular=m,ee._circularFallback=v,ee._bound=x,ee._adaptive=S,ee._panelsPerView=A,ee._noPanelStyleOverride=I,ee._resizeOnContentsReady=R,ee._nested=L,ee._virtual=B,ee._needPanelThreshold=j,ee._preventEventsBeforeInit=K,ee._deceleration=te,ee._duration=$,ee._easing=ue,ee._inputType=pe,ee._moveType=ne,ee._threshold=Ee,ee._interruptable=Me,ee._bounce=Ge,ee._iOSEdgeSwipeThreshold=_e,ee._preventClickOnDrag=$e,ee._disableOnInit=Ye,ee._changeOnHold=et,ee._renderOnlyVisible=it,ee._autoInit=Te,ee._autoResize=De,ee._useResizeObserver=ie,ee._resizeDebounce=Ne,ee._maxResizeDebounce=de,ee._useFractionalSize=Oe,ee._externalRenderer=bt,ee._renderExternal=q,ee._viewport=new Lae(ee,Pae(r)),ee._autoResizer=new Bae(ee),ee._renderer=ee._createRenderer(),ee._camera=ee._createCamera(),ee._control=ee._createControl(),ee._virtualManager=new Fae(ee,B),ee._autoInit&&ee.init(),ee}var t=e.prototype;return Object.defineProperty(t,"control",{get:function(){return this._control},enumerable:!1,configurable:!0}),Object.defineProperty(t,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),Object.defineProperty(t,"renderer",{get:function(){return this._renderer},enumerable:!1,configurable:!0}),Object.defineProperty(t,"viewport",{get:function(){return this._viewport},enumerable:!1,configurable:!0}),Object.defineProperty(t,"initialized",{get:function(){return this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(t,"circularEnabled",{get:function(){return this._camera.circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t,"virtualEnabled",{get:function(){return this._panelsPerView>0&&this._virtual!=null},enumerable:!1,configurable:!0}),Object.defineProperty(t,"index",{get:function(){return this._control.activeIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t,"element",{get:function(){return this._viewport.element},enumerable:!1,configurable:!0}),Object.defineProperty(t,"currentPanel",{get:function(){return this._control.activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(t,"panels",{get:function(){return this._renderer.panels},enumerable:!1,configurable:!0}),Object.defineProperty(t,"panelCount",{get:function(){return this._renderer.panelCount},enumerable:!1,configurable:!0}),Object.defineProperty(t,"visiblePanels",{get:function(){return this._camera.visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(t,"animating",{get:function(){return this._control.animating},enumerable:!1,configurable:!0}),Object.defineProperty(t,"holding",{get:function(){return this._control.holding},enumerable:!1,configurable:!0}),Object.defineProperty(t,"activePlugins",{get:function(){return this._plugins},enumerable:!1,configurable:!0}),Object.defineProperty(t,"align",{get:function(){return this._align},set:function(r){this._align=r,this._renderer.align=r,this._camera.align=r,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultIndex",{get:function(){return this._defaultIndex},set:function(r){this._defaultIndex=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"horizontal",{get:function(){return this._horizontal},set:function(r){this._horizontal=r,this._control.controller.updateDirection(),this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"circular",{get:function(){return this._circular},set:function(r){this._circular=r,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"circularFallback",{get:function(){return this._circularFallback},enumerable:!1,configurable:!0}),Object.defineProperty(t,"bound",{get:function(){return this._bound},set:function(r){this._bound=r,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"adaptive",{get:function(){return this._adaptive},set:function(r){this._adaptive=r,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"panelsPerView",{get:function(){return this._panelsPerView},set:function(r){this._panelsPerView=r,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"noPanelStyleOverride",{get:function(){return this._noPanelStyleOverride},set:function(r){this._noPanelStyleOverride=r,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"resizeOnContentsReady",{get:function(){return this._resizeOnContentsReady},set:function(r){this._resizeOnContentsReady=r,r&&this._renderer.checkPanelContentsReady(this._renderer.panels)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"nested",{get:function(){return this._nested},set:function(r){this._nested=r;var i=this._control.controller.axes;i&&(i.options.nested=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"needPanelThreshold",{get:function(){return this._needPanelThreshold},set:function(r){this._needPanelThreshold=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"preventEventsBeforeInit",{get:function(){return this._preventEventsBeforeInit},set:function(r){this._preventEventsBeforeInit=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"deceleration",{get:function(){return this._deceleration},set:function(r){this._deceleration=r;var i=this._control.controller.axes;i&&(i.options.deceleration=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"easing",{get:function(){return this._easing},set:function(r){this._easing=r;var i=this._control.controller.axes;i&&(i.options.easing=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"duration",{get:function(){return this._duration},set:function(r){this._duration=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"inputType",{get:function(){return this._inputType},set:function(r){this._inputType=r;var i=this._control.controller.panInput;i&&(i.options.inputType=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"moveType",{get:function(){return this._moveType},set:function(r){this._moveType=r;var i=this._control,s=this._createControl(),o=i.activePanel;s.copy(i);var a=o?this._camera.getProgressInPanel(o):0;this._control=s,this._control.updatePosition(a),this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"threshold",{get:function(){return this._threshold},set:function(r){this._threshold=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"interruptable",{get:function(){return this._interruptable},set:function(r){this._interruptable=r;var i=this._control.controller.axes;i&&(i.options.interruptable=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"bounce",{get:function(){return this._bounce},set:function(r){this._bounce=r,this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"iOSEdgeSwipeThreshold",{get:function(){return this._iOSEdgeSwipeThreshold},set:function(r){this._iOSEdgeSwipeThreshold=r;var i=this._control.controller.panInput;i&&(i.options.iOSEdgeSwipeThreshold=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"preventClickOnDrag",{get:function(){return this._preventClickOnDrag},set:function(r){var i=this._preventClickOnDrag;if(r!==i){var s=this._control.controller;r?s.addPreventClickHandler():s.removePreventClickHandler(),this._preventClickOnDrag=r}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"disableOnInit",{get:function(){return this._disableOnInit},set:function(r){this._disableOnInit=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"changeOnHold",{get:function(){return this._changeOnHold},set:function(r){this._changeOnHold=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"renderOnlyVisible",{get:function(){return this._renderOnlyVisible},set:function(r){this._renderOnlyVisible=r,this._renderer.render()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"virtual",{get:function(){return this._virtualManager},enumerable:!1,configurable:!0}),Object.defineProperty(t,"autoInit",{get:function(){return this._autoInit},enumerable:!1,configurable:!0}),Object.defineProperty(t,"autoResize",{get:function(){return this._autoResize},set:function(r){this._autoResize=r,r?this._autoResizer.enable():this._autoResizer.disable()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"useResizeObserver",{get:function(){return this._useResizeObserver},set:function(r){this._useResizeObserver=r,this._autoResize&&this._autoResizer.enable()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"resizeDebounce",{get:function(){return this._resizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(t,"maxResizeDebounce",{get:function(){return this._maxResizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(t,"useFractionalSize",{get:function(){return this._useFractionalSize},enumerable:!1,configurable:!0}),Object.defineProperty(t,"externalRenderer",{get:function(){return this._externalRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(t,"renderExternal",{get:function(){return this._renderExternal},enumerable:!1,configurable:!0}),t.init=function(){var r=this;if(this._initialized)return Promise.resolve();var i=this._camera,s=this._renderer,o=this._control,a=this._virtualManager,l=this.trigger,c=this._preventEventsBeforeInit;return i.init(),a.init(),s.init(this),o.init(this),c&&(this.trigger=function(){return r}),this._initialResize(),this._moveToInitialPanel(),this._autoResize&&this._autoResizer.enable(),this._preventClickOnDrag&&o.controller.addPreventClickHandler(),this._disableOnInit&&this.disableInput(),s.checkPanelContentsReady(s.panels),s.render().then(function(){r._plugins.forEach(function(u){return u.init(r)}),r._initialized=!0,c&&(r.trigger=l),r.trigger(new Vt(St.READY))})},t.destroy=function(){this.off(),this._autoResizer.disable(),this._control.destroy(),this._camera.destroy(),this._renderer.destroy(),this._plugins.forEach(function(r){return r.destroy()}),this._initialized=!1},t.prev=function(r){var i,s,o;return r===void 0&&(r=this._duration),this.moveTo((o=(s=(i=this._control.activePanel)===null||i===void 0?void 0:i.prev())===null||s===void 0?void 0:s.index)!==null&&o!==void 0?o:-1,r,Ht.PREV)},t.next=function(r){var i,s,o;return r===void 0&&(r=this._duration),this.moveTo((o=(s=(i=this._control.activePanel)===null||i===void 0?void 0:i.next())===null||s===void 0?void 0:s.index)!==null&&o!==void 0?o:this._renderer.panelCount,r,Ht.NEXT)},t.moveTo=function(r,i,s){i===void 0&&(i=this._duration),s===void 0&&(s=Ht.NONE);var o=this._renderer,a=o.panelCount,l=o.getPanel(r);return l?this._control.animating?Promise.reject(new _n(Mn.ANIMATION_ALREADY_PLAYING,Sn.ANIMATION_ALREADY_PLAYING)):(this._control.holding&&this._control.controller.release(),this._control.moveToPanel(l,{duration:i,direction:s})):Promise.reject(new _n(Mn.INDEX_OUT_OF_RANGE(r,0,a-1),Sn.INDEX_OUT_OF_RANGE))},t.updateAnimation=function(r,i,s){if(this._control.animating){var o=this._renderer,a=o.panelCount,l=o.getPanel(r);if(!l)throw new _n(Mn.INDEX_OUT_OF_RANGE(r,0,a-1),Sn.INDEX_OUT_OF_RANGE);this._control.updateAnimation(l,i,s)}},t.stopAnimation=function(){this._control.animating&&this._control.stopAnimation()},t.getPanel=function(r){return this._renderer.getPanel(r)},t.enableInput=function(){return this._control.enable(),this},t.disableInput=function(){return this._control.disable(),this},t.getStatus=function(r){var i,s,o=r===void 0?{}:r,a=o.index,l=a===void 0?!0:a,c=o.position,u=c===void 0?!0:c,d=o.includePanelHTML,f=d===void 0?!1:d,m=o.visiblePanelsOnly,g=m===void 0?!1:m,v=this._camera,_=g?this.visiblePanels:this.panels,x={panels:_.map(function(E){var A={index:E.index};return f&&(A.html=E.element.outerHTML),A})};if(l&&(x.index=this.index),u){var w=v.findNearestAnchor(v.position);w&&(x.position={panel:w.panel.index,progressInPanel:v.getProgressInPanel(w.panel)})}if(g){var S=this.visiblePanels;x.visibleOffset=(s=(i=S[0])===null||i===void 0?void 0:i.index)!==null&&s!==void 0?s:0}return x},t.setStatus=function(r){var i;if(!this._initialized)throw new _n(Mn.NOT_INITIALIZED,Sn.NOT_INITIALIZED);var s=r.index,o=r.position,a=r.visibleOffset,l=r.panels,c=this._renderer,u=this._control;if(!((i=l[0])===null||i===void 0)&&i.html&&!this._renderExternal&&(c.batchRemove({index:0,deleteCount:this.panels.length,hasDOMInElements:!0}),c.batchInsert({index:0,elements:CD(l.map(function(_){return _.html})),hasDOMInElements:!0})),s){var d=a?s-a:s;this.moveTo(d,0).catch(function(){})}if(o&&this._moveType===nh.FREE_SCROLL){var f=o.panel,m=o.progressInPanel,d=a?f-a:f,g=c.panels[d].range,v=g.min+(g.max-g.min)*m;u.moveToPosition(v,0).catch(function(){})}},t.addPlugins=function(){for(var r,i=this,s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return this._initialized&&s.forEach(function(a){return a.init(i)}),(r=this._plugins).push.apply(r,Cr(s)),this},t.removePlugins=function(){for(var r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return i.forEach(function(o){var a=kae(r._plugins,function(l){return l===o});a>=0&&(o.destroy(),r._plugins.splice(a,1))}),this},t.resize=function(){return rf(this,void 0,void 0,function(){var r,i,s,o,a,l,c,u,d,f,m;return sf(this,function(g){switch(g.label){case 0:return r=this._viewport,i=this._renderer,s=this._camera,o=this._control,a=o.activePanel,l=r.width,c=r.height,u=a?s.getProgressInPanel(a):0,this.trigger(new Vt(St.BEFORE_RESIZE,{width:l,height:c,element:r.element})),r.resize(),[4,i.forceRenderAllPanels()];case 1:return g.sent(),i.updatePanelSize(),s.updateAlignPos(),s.updateRange(),s.updateAnchors(),s.updateAdaptiveHeight(),s.updateOffset(),[4,i.render()];case 2:return g.sent(),o.animating||(o.updatePosition(u),o.updateInput()),d=r.width,f=r.height,m=d!==l||f!==c,this.trigger(new Vt(St.AFTER_RESIZE,{width:r.width,height:r.height,prev:{width:l,height:c},sizeChanged:m,element:r.element})),[2]}})})},t.append=function(r){return this.insert(this._renderer.panelCount,r)},t.prepend=function(r){return this.insert(0,r)},t.insert=function(r,i){if(this._renderExternal)throw new _n(Mn.NOT_ALLOWED_IN_FRAMEWORK,Sn.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchInsert({index:r,elements:CD(i),hasDOMInElements:!0})},t.remove=function(r,i){if(i===void 0&&(i=1),this._renderExternal)throw new _n(Mn.NOT_ALLOWED_IN_FRAMEWORK,Sn.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchRemove({index:r,deleteCount:i,hasDOMInElements:!0})},t._createControl=function(){var r,i=this._moveType,s=Object.keys(nh).map(function(l){return nh[l]}),o=Array.isArray(i)?i[0]:i,a=Array.isArray(i)?(r=i[1])!==null&&r!==void 0?r:{}:{};if(!hb(s,o))throw new _n(Mn.WRONG_OPTION("moveType",JSON.stringify(i)),Sn.WRONG_OPTION);switch(o){case nh.SNAP:return new jae(a);case nh.FREE_SCROLL:return new $ae(a);case nh.STRICT:return new Jae(a)}},t._createCamera=function(){return this._circular&&this._bound&&console.warn('"circular" and "bound" option cannot be used together, ignoring bound.'),new Xae(this,{align:this._align})},t._createRenderer=function(){var r=this._externalRenderer;return this._virtual&&this._panelsPerView<=0&&console.warn('"virtual" and "panelsPerView" option should be used together, ignoring virtual.'),r||(this._renderExternal?this._createExternalRenderer():this._createVanillaRenderer())},t._createExternalRenderer=function(){var r=this._renderExternal,i=r.renderer,s=r.rendererOptions;return new i(zi({align:this._align},s))},t._createVanillaRenderer=function(){var r=this.virtualEnabled;return new Yae({align:this._align,strategy:r?new FH:new DH({providerCtor:Dae})})},t._moveToInitialPanel=function(){var r=this._renderer,i=this._control,s=this._camera,o=r.getPanel(this._defaultIndex)||r.getPanel(0);if(o){var a=s.findNearestAnchor(o.position),l=a&&o.index!==a.panel.index?a.panel:o;if(i.setActive(l,null,!1),!a)throw new _n(Mn.POSITION_NOT_REACHABLE(l.position),Sn.POSITION_NOT_REACHABLE);var c=l.position;s.canReach(l)||(c=a.position),s.lookAt(c),i.updateInput(),s.updateOffset()}},t._initialResize=function(){var r=this._viewport,i=this._renderer,s=this._camera,o=this._control;this.trigger(new Vt(St.BEFORE_RESIZE,{width:0,height:0,element:r.element})),r.resize(),i.updatePanelSize(),s.updateAlignPos(),s.updateRange(),s.updateAnchors(),s.updateOffset(),o.updateInput();var a=r.width,l=r.height,c=a!==0||l!==0;this.trigger(new Vt(St.AFTER_RESIZE,{width:r.width,height:r.height,prev:{width:0,height:0},sizeChanged:c,element:r.element}))},e.VERSION="4.10.5",e}(Sd),Qae=function(n,e){[Sd.prototype,cT.prototype].forEach(function(t){Object.getOwnPropertyNames(t).filter(function(r){return!n[r]&&r.indexOf("_")!==0&&r!=="constructor"}).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);if(i.value)Object.defineProperty(n,r,{value:function(){for(var o,a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return(o=i.value).call.apply(o,Cr([this[e]],a))}});else{var s={};i.get&&(s.get=function(){var o,a=this[e];return a&&((o=i.get)===null||o===void 0?void 0:o.call(a))}),i.set&&(s.set=function(){for(var o,a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return(o=i.set)===null||o===void 0?void 0:o.call.apply(o,Cr([this[e]],a))}),Object.defineProperty(n,r,s)}})})},Zae=function(n,e,t){var r=n.renderer,i=r.panels,s=Cr(e.prevList),o=[],a=[];if(e.removed.length>0){var l=-1,c=-1;e.removed.forEach(function(m){l<0&&(l=m),c>=0&&m!==c-1&&(a.push.apply(a,Cr(ND(r,c,l+1))),l=m),c=m,s.splice(m,1)}),a.push.apply(a,Cr(ND(r,c,l+1)))}if(e.ordered.forEach(function(m){var g=VI(m,2),v=g[0],_=g[1],x=i.splice(v,1)[0];i.splice(_,0,x)}),e.ordered.length>0&&(i.forEach(function(m,g){var v=g-m.index;v>0?m.increaseIndex(v):m.decreaseIndex(-v)}),i.sort(function(m,g){return m.index-g.index}),i.forEach(function(m){m.updatePosition()})),e.added.length>0){var u=-1,d=-1,f=t.slice(s.length);e.added.forEach(function(m,g){u<0&&(u=g),d>=0&&m!==d+1?(o.push.apply(o,Cr(ID(r,e,f,u,g+1))),u=-1,d=-1):d=m}),u>=0&&o.push.apply(o,Cr(ID(r,e,f,u)))}(e.added.length>0||e.removed.length>0)&&r.updateAfterPanelChange(o,a)},ID=function(n,e,t,r,i){return n.batchInsertDefer.apply(n,Cr(e.added.slice(r,i).map(function(s,o){return{index:s,elements:[t[o]],hasDOMInElements:!1}})))},ND=function(n,e,t){var r=n.panels.slice(e,t);return n.batchRemoveDefer({index:e,deleteCount:r.length,hasDOMInElements:!1})},kD=function(n,e){var t=e.removed.reduce(function(i,s){return i[s]=!0,i},{}),r=e.maintained.reduce(function(i,s){var o=VI(s,2),a=o[0],l=o[1];return i[a]=l,i},{});return Cr(n.panels.filter(function(i){return!t[i.index]}).sort(function(i,s){return i.position+i.offset-(s.position+s.offset)}).map(function(i){return e.list[r[i.index]]}),e.added.map(function(i){return e.list[i]}))},ele=function(n,e,t){n===void 0&&(n=fa.CENTER),e===void 0&&(e=!0);var r=tle(n),i=nle(n);if(i==null)return"";var s="calc("+r+" - ("+(t||"0px")+" * "+i.percentage+") - "+i.absolute+"px)";return e?"translate("+s+")":"translate(0, "+s+")"},tle=function(n){var e=typeof n=="object"?n.camera:n;return zH(e)},nle=function(n){var e=typeof n=="object"?n.panel:n;return kH(zH(e))},zH=function(n){if(typeof n=="number")return n+"px";switch(n){case fa.CENTER:return"50%";case fa.NEXT:return"100%";case fa.PREV:return"0%";default:return n}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uT=function(n,e){return uT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},uT(n,e)};function Qw(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");uT(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Uh=function(){return Uh=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Uh.apply(this,arguments)};function OD(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function rle(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function LD(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function BD(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Qy(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var DD={viewportTag:"div",cameraTag:"div",cameraClass:"",renderOnSameKey:!1,plugins:[],useFindDOMNode:!1,hideBeforeInit:!1,onReady:function(n){},onBeforeResize:function(n){},onAfterResize:function(n){},onHoldStart:function(n){},onHoldEnd:function(n){},onMoveStart:function(n){},onMove:function(n){},onMoveEnd:function(n){},onWillChange:function(n){},onChanged:function(n){},onWillRestore:function(n){},onRestored:function(n){},onSelect:function(n){},onNeedPanel:function(n){},onVisibleChange:function(n){},onReachEdge:function(n){},onPanelChange:function(n){}},ile=function(n){Qw(e,n);function e(r){var i=n.call(this,r)||this;return i._reactFlicking=r.reactFlicking,i}var t=e.prototype;return t.render=function(){return LD(this,void 0,void 0,function(){var r,i,s,o=this;return BD(this,function(a){return r=pt(this._flicking),i=this._reactFlicking,s=this._strategy,this._rendering=!0,s.updateRenderingPanels(r),s.renderPanels(r),[2,new Promise(function(l){i.renderEmitter.once("render",function(){o._rendering=!1,l()}),i.forceUpdate()})]})})},t.forceRenderAllPanels=function(){return LD(this,void 0,void 0,function(){var r,i=this;return BD(this,function(s){switch(s.label){case 0:return r=this._reactFlicking,this._rendering=!0,[4,n.prototype.forceRenderAllPanels.call(this)];case 1:return s.sent(),[2,new Promise(function(o){r.renderEmitter.once("render",function(){i._rendering=!1,o()}),r.forceUpdate()})]}})})},t._collectPanels=function(){var r=pt(this._flicking),i=this._reactFlicking,s=i.reactPanels;this._panels=this._strategy.collectPanels(r,s)},t._createPanel=function(r,i){return this._strategy.createPanel(r,i)},e}(qae),sle=function(n){Qw(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r._hide=!1,r._elRef=k.createRef(),r}var t=e.prototype;return Object.defineProperty(t,"nativeElement",{get:function(){return this._elRef.current},enumerable:!1,configurable:!0}),Object.defineProperty(t,"rendered",{get:function(){return!this._hide},enumerable:!1,configurable:!0}),t.render=function(){return this._hide?k.createElement(k.Fragment,null):this._getElement()},t.show=function(){this._hide=!1},t.hide=function(){this._hide=!0},t._getElement=function(){return k.cloneElement(k.Children.only(this.props.children),{ref:this._elRef})},e}(k.Component),ole=function(n){Qw(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r._hide=!1,r}var t=e.prototype;return Object.defineProperty(t,"nativeElement",{get:function(){return ff.findDOMNode(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"rendered",{get:function(){return!this._hide},enumerable:!1,configurable:!0}),t.render=function(){return this._hide?k.createElement(k.Fragment,null):this.props.children},t.show=function(){this._hide=!1},t.hide=function(){this._hide=!0},e}(k.Component),dT=mt.memo(function(n){return mt.createElement(mt.Fragment,null,n.children)}),ale=function(){function n(t){this._el=t}var e=n.prototype;return Object.defineProperty(e,"element",{get:function(){return this._el.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rendered",{get:function(){return this._el.rendered},enumerable:!1,configurable:!0}),e.show=function(){this._el.show()},e.hide=function(){this._el.hide()},n}(),lle=function(n){Qw(e,n);function e(r){var i=n.call(this,r)||this;i._panels=[],i._renderEmitter=new Sd;var s=i._getChildren();return i._panels=i._createPanelRefs(r,s),i._prevChildren=s,i}var t=e.prototype;return Object.defineProperty(t,"reactPanels",{get:function(){return this._panels.map(function(r){return r.current})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"renderEmitter",{get:function(){return this._renderEmitter},enumerable:!1,configurable:!0}),t.componentDidMount=function(){var r=this.props,i={reactFlicking:this,align:r.align,strategy:r.virtual&&r.panelsPerView>0?new FH:new DH({providerCtor:ale})},s=new cT(this._viewportElement,Uh(Uh({},r),{externalRenderer:new ile(i)}));this._vanillaFlicking=s;var o=this._getChildren();this._jsxDiffer=new _D(o,function(a){return a.key}),this._pluginsDiffer=new _D,this._prevChildren=o,this._bindEvents(),this._checkPlugins(),r.status&&s.setStatus(r.status)},t.componentWillUnmount=function(){var r;(r=this._vanillaFlicking)===null||r===void 0||r.destroy()},t.shouldComponentUpdate=function(r){var i=this._vanillaFlicking,s=this.props;if(!i||!i.initialized)return!1;var o=r.children,a=OD(r,["children"]);for(var l in a)if(s[l]!==r[l])return!0;var c=this._prevChildren,u=this._getChildren(o);return!!(r.renderOnSameKey||!this._hasSameChildren(c,u))},t.beforeRender=function(){var r=this._vanillaFlicking,i=this.props,s=this._prevChildren;if(!(!r||!r.initialized||this._diffResult)){var o=this._getChildren(i.children);(i.renderOnSameKey||!this._hasSameChildren(s,o))&&(this._panels=this._createPanelRefs(i,o),this._diffResult=this._jsxDiffer.update(o),this._prevChildren=o)}},t.componentDidUpdate=function(){var r=this._vanillaFlicking,i=this._renderEmitter,s=this._diffResult;this._checkPlugins(),i.trigger("render"),r.camera.updateOffset();var o=this.props;o.virtual;var a=OD(o,["virtual"]);for(var l in a)l in r&&r[l]!==a[l]&&(r[l]=a[l]);!s||!r.initialized||(Zae(r,s,this.reactPanels),this._diffResult=null)},t.render=function(){var r=this,i,s,o=this.props,a=o.viewportTag,l=o.cameraTag,c={},u=this._vanillaFlicking;this.beforeRender();for(var d in o)!(d in DD)&&!(d in cT.prototype)&&(c[d]=o[d]);var f=u&&u.initialized,m=["flicking-viewport"],g=["flicking-camera"],v=u?u.horizontal:(i=o.horizontal)!==null&&i!==void 0?i:!0;v||m.push("vertical"),o.hideBeforeInit&&!f&&m.push("flicking-hidden"),c.className&&m.push(c.className),o.cameraClass&&g.push(o.cameraClass);var _=!f&&o.firstPanelSize?{style:{transform:ele(this.props.align,this.props.horizontal,this.props.firstPanelSize)}}:{},x=o.virtual&&((s=o.panelsPerView)!==null&&s!==void 0?s:-1)>0?this._getVirtualPanels():this._getPanels();return k.createElement(a,Uh({},c,{className:m.join(" "),ref:function(w){w&&(r._viewportElement=w)}}),k.createElement(l,Uh({className:g.join(" ")},_),x),this._getViewportSlot())},t._createPanelRefs=function(r,i){var s,o=(s=r.panelsPerView)!==null&&s!==void 0?s:-1;return o>0&&r.virtual?Of(o+1).map(function(){return k.createRef()}):i.map(function(){return k.createRef()})},t._bindEvents=function(){var r=this,i=this._vanillaFlicking;Object.keys(St).forEach(function(s){var o=St[s],a="on".concat(o.charAt(0).toUpperCase()+o.slice(1));i.on(o,function(l){l.currentTarget=r;var c=r.props[a];c(l)})}),i.once(St.READY,function(){r.forceUpdate()})},t._checkPlugins=function(){var r=this._vanillaFlicking,i=this._pluginsDiffer.update(this.props.plugins),s=i.list,o=i.added,a=i.removed,l=i.prevList;r.addPlugins.apply(r,o.map(function(c){return s[c]})),r.removePlugins.apply(r,a.map(function(c){return l[c]}))},t._hasSameChildren=function(r,i){if(r.length!==i.length||r.length===0)return!1;var s=r.every(function(o,a){var l=i[a];return o.key&&l.key?o.key===l.key:o===l});return s},t._getChildren=function(r){var i=this;return r===void 0&&(r=this.props.children),k.Children.toArray(r).filter(function(s){return s.type!==dT}).reduce(function(s,o){return Qy(Qy([],s,!0),i._unpackFragment(o),!0)},[])},t._getViewportSlot=function(){return k.Children.toArray(this.props.children).filter(function(r){return r.type===dT})},t._unpackFragment=function(r){var i=this;return this._isFragment(r)?k.Children.toArray(r.props.children).reduce(function(s,o){return Qy(Qy([],s,!0),i._unpackFragment(o),!0)},[]):[r]},t._getVirtualPanels=function(){var r=this,i=this.props.virtual.panelClass,s=i===void 0?"flicking-panel":i,o=this.props.panelsPerView,a=this._vanillaFlicking,l=a&&a.initialized,c=l?a.renderer.strategy.getRenderingIndexesByOrder(a):Of(o+1),u=a&&a.panels[0],d=u?a.horizontal?{width:u.size}:{height:u.size}:{};return c.map(function(f){return k.createElement("div",{key:f,"data-element-index":f,ref:r._panels[f],className:s,style:d})})},t._getPanels=function(){var r=this,i=this._getChildren(),s=this._vanillaFlicking,o=this._diffResult,a=s&&s.initialized?o?kD(s,o):kD(s,cH(i,i)):i;return this.props.useFindDOMNode?a.map(function(l,c){return k.createElement(ole,{key:l.key,ref:r._panels[c]},l)}):a.map(function(l,c){return k.createElement(sle,{key:l.key,ref:r._panels[c]},l)})},t._isFragment=function(r){return r.type?r.type===k.Fragment:r===k.Fragment},e.defaultProps=DD,rle([Qae],e.prototype,"_vanillaFlicking",void 0),e}(k.Component),cle=function(){function n(t,r){var i=this;t===void 0&&(t=""),r===void 0&&(r=1),this.update=function(){i._onMove()},this._onMove=function(){var s=i._flicking,o=i._selector,a=i._scale;if(s){var l=s.visiblePanels;l.forEach(function(c){var u=c.outsetProgress,d=c.element,f=o?d.querySelector(o):d;if(f){var m=Math.min(1,Math.max(0,1-Math.abs(u*a)));f.style.opacity=""+m}})}},this._flicking=null,this._selector=t,this._scale=r}var e=n.prototype;return Object.defineProperty(e,"selector",{get:function(){return this._selector},set:function(t){this._selector=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scale",{get:function(){return this._scale},set:function(t){this._scale=t},enumerable:!1,configurable:!0}),e.init=function(t){this._flicking&&this.destroy(),this._flicking=t,t.on(St.MOVE,this._onMove),t.on(St.AFTER_RESIZE,this.update),this._onMove()},e.destroy=function(){this._flicking&&(this._flicking.off(St.MOVE,this._onMove),this._flicking.off(St.AFTER_RESIZE,this.update),this._flicking=null)},n}(),sC={CLICK:"click",MOUSE_DOWN:"mousedown",TOUCH_START:"touchstart"},ur={SELECTOR:".flicking-pagination",PREFIX:"flicking-pagination",BULLET_WRAPPER_SUFFIX:"bullets",BULLET_SUFFIX:"bullet",BULLET_ACTIVE_SUFFIX:"bullet-active",FRACTION_WRAPPER_SUFFIX:"fraction",FRACTION_CURRENT_SUFFIX:"fraction-current",FRACTION_TOTAL_SUFFIX:"fraction-total",SCROLL_UNINIT_SUFFIX:"uninitialized",SCROLL_WRAPPER_SUFFIX:"scroll",SCROLL_SLIDER_SUFFIX:"slider",SCROLL_PREV_SUFFIX:"bullet-prev",SCROLL_NEXT_SUFFIX:"bullet-next",TYPE:{BULLET:"bullet",FRACTION:"fraction",SCROLL:"scroll"}},ia=function(n,e){if(n)if(n.classList)n.classList.add(e);else{var t=n.className.split(" ");t.indexOf(e)<0&&(n.className=n.className+" "+e)}},hT=function(n,e){if(n)if(n.classList)n.classList.remove(e);else{var t=new RegExp("( |^)"+e+"( |$)","g");n.className.replace(t," ")}},ule=function(){function n(t){var r=this,i=t===void 0?{}:t,s=i.selector,o=s===void 0?"":s,a=i.scale,l=a===void 0?1:a,c=i.rotate,u=c===void 0?1:c,d=i.perspective,f=d===void 0?1e3:d;this.update=function(){r._onMove()},this._onMove=function(){var m=r._flicking,g=r._selector,v=r._scale,_=r._rotate,x=r._perspective;if(m){var w=m.horizontal,S=m.visiblePanels;S.forEach(function(E){var A=E.outsetProgress,P=E.element,I=g?P.querySelector(g):P,T=1/(Math.abs(A*v)+1),R=A>0?Math.min(90,A*100*_):Math.max(-90,A*100*_),O=w?[0,R]:[R,0],L=O[0],J=O[1];I.style.transform="perspective("+x+"px) rotateX("+L+"deg) rotateY("+J+"deg) scale("+T+")"})}},this._flicking=null,this._selector=o,this._scale=l,this._rotate=u,this._perspective=f}var e=n.prototype;return Object.defineProperty(e,"selector",{get:function(){return this._selector},set:function(t){this._selector=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scale",{get:function(){return this._scale},set:function(t){this._scale=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"perspective",{get:function(){return this._perspective},set:function(t){this._perspective=t},enumerable:!1,configurable:!0}),e.init=function(t){this._flicking&&this.destroy(),this._flicking=t,t.on(St.MOVE,this._onMove),t.on(St.AFTER_RESIZE,this.update),this._onMove()},e.destroy=function(){this._flicking&&(this._flicking.off(St.MOVE,this._onMove),this._flicking.off(St.AFTER_RESIZE,this.update),this._flicking=null)},n}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fT=function(n,e){return fT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},fT(n,e)};function XI(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");fT(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function dle(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||e)}var YI=function(){function n(t){var r=t.flicking,i=t.pagination,s=t.wrapper;this._flicking=r,this._pagination=i,this._wrapper=s}var e=n.prototype;return e._createBulletFromString=function(t,r){var i=document.createRange(),s=i.createContextualFragment(t),o=s.firstChild;return this._addBulletEvents(o,r),o},e._addBulletEvents=function(t,r){var i=this,s=this._flicking.camera.anchorPoints,o=s[r].panel.index;t.addEventListener(sC.MOUSE_DOWN,function(a){a.stopPropagation()}),t.addEventListener(sC.TOUCH_START,function(a){a.stopPropagation()},{passive:!0}),t.addEventListener(sC.CLICK,function(){i._flicking.moveTo(o).catch(function(a){if(!(a instanceof _n))throw a})})},n}(),hle=function(n){XI(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r._bullets=[],r._prevIndex=-1,r}var t=e.prototype;return Object.defineProperty(t,"_bulletClass",{get:function(){var r=this._pagination;return r.classPrefix+"-"+ur.BULLET_SUFFIX},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_activeClass",{get:function(){var r=this._pagination;return r.classPrefix+"-"+ur.BULLET_ACTIVE_SUFFIX},enumerable:!1,configurable:!0}),t.destroy=function(){this._bullets=[],this._prevIndex=-1},t.render=function(){var r=this,i=this._flicking,s=this._pagination,o=this._wrapper,a=this._bulletClass,l=this._activeClass,c=s.renderBullet,u=s.renderActiveBullet,d=s.classPrefix+"-"+ur.BULLET_WRAPPER_SUFFIX,f=i.camera.anchorPoints;ia(o,d),o.innerHTML=f.map(function(g,v){return u&&g.panel.index===i.index?u(a,v):c(a,v)}).join(`
`);var m=[].slice.call(o.children);m.forEach(function(g,v){var _=f[v];_.panel.index===i.index&&(ia(g,l),r._prevIndex=v),r._addBulletEvents(g,v)}),this._bullets=m},t.update=function(r){var i=this._flicking,s=this._pagination,o=this._wrapper,a=this._bullets,l=this._bulletClass,c=this._activeClass,u=this._prevIndex,d=i.camera.anchorPoints,f=s.renderBullet,m=s.renderActiveBullet;if(!(d.length<=0)){var g=d[0].panel.index,v=r-g;if(u!==v){if(m){var _=a[u];if(_){var x=this._createBulletFromString(f(l,u),u);_.parentElement.replaceChild(x,_),a[u]=x}var w=a[v],S=this._createBulletFromString(m(l+" "+c,v),v);o.replaceChild(S,w),a[v]=S}else{var w=a[v],_=a[u];_&&hT(_,c),ia(w,c)}this._prevIndex=v}}},e}(YI),fle=function(n){XI(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r._prevIndex=-1,r._prevTotal=-1,r}var t=e.prototype;return t.destroy=function(){this._prevIndex=-1,this._prevTotal=-1},t.render=function(){var r=this._flicking,i=this._wrapper,s=this._pagination,o=s.classPrefix+"-"+ur.FRACTION_WRAPPER_SUFFIX,a=s.classPrefix+"-"+ur.FRACTION_CURRENT_SUFFIX,l=s.classPrefix+"-"+ur.FRACTION_TOTAL_SUFFIX;ia(i,o),i.innerHTML=s.renderFraction(a,l),this.update(r.index)},t.update=function(r){var i=this._flicking,s=this._wrapper,o=this._pagination,a=i.camera.anchorPoints,l=a.length>0?r-a[0].panel.index+1:0,c=a.length;if(!(l===this._prevIndex&&c===this._prevTotal)){var u="."+o.classPrefix+"-"+ur.FRACTION_CURRENT_SUFFIX,d="."+o.classPrefix+"-"+ur.FRACTION_TOTAL_SUFFIX,f=s.querySelector(u),m=s.querySelector(d);f.innerHTML=o.fractionCurrentFormat(l),m.innerHTML=o.fractionTotalFormat(c),this._prevIndex=l,this._prevTotal=c}},e}(YI),ple=function(n){XI(e,n);function e(){var r=n!==null&&n.apply(this,arguments)||this;return r._bullets=[],r._bulletSize=0,r._previousIndex=-1,r._sliderIndex=-1,r.moveTo=function(i){var s=r._pagination,o=r._wrapper.firstElementChild,a=r._bulletSize,l=a*s.bulletCount;o.style.transform="translate("+(l/2-(i+.5)*a)+"px)",r._sliderIndex=i},r}var t=e.prototype;return t.destroy=function(){this._bullets=[],this._bulletSize=0,this._previousIndex=-1,this._sliderIndex=-1},t.render=function(){var r=this,i=this._wrapper,s=this._flicking,o=this._pagination,a=o.renderBullet,l=s.camera.anchorPoints,c=o.classPrefix+"-"+ur.SCROLL_WRAPPER_SUFFIX,u=o.classPrefix+"-"+ur.BULLET_SUFFIX,d=o.classPrefix+"-"+ur.SCROLL_SLIDER_SUFFIX,f=o.classPrefix+"-"+ur.SCROLL_UNINIT_SUFFIX,m=document.createElement("div");ia(m,d),ia(i,f),ia(i,c),i.appendChild(m),m.innerHTML=l.map(function(x,w){return a(u,w)}).join(`
`);var g=[].slice.call(m.children);if(g.forEach(function(x,w){r._addBulletEvents(x,w)}),!(g.length<=0)){var v=getComputedStyle(g[0]),_=g[0].clientWidth+parseFloat(v.marginLeft)+parseFloat(v.marginRight);i.style.width=_*o.bulletCount+"px",this._bullets=g,this._bulletSize=_,this._previousIndex=-1,this.update(this._flicking.index),window.requestAnimationFrame(function(){hT(i,f)})}},t.update=function(r){var i=this._pagination,s=this._flicking,o=this._bullets,a=this._previousIndex,l=i.renderBullet,c=i.renderActiveBullet,u=s.camera.anchorPoints,d=u[0].panel.index,f=r-d;if(!(u.length<=0)){var m=i.classPrefix+"-"+ur.BULLET_SUFFIX,g=i.classPrefix+"-"+ur.BULLET_ACTIVE_SUFFIX,v=i.classPrefix+"-"+ur.SCROLL_PREV_SUFFIX,_=i.classPrefix+"-"+ur.SCROLL_NEXT_SUFFIX,x=function(R){return""+v+(R>1?R:"")},w=function(R){return""+_+(R>1?R:"")},S=new RegExp("^"+v),E=new RegExp("^"+_);if(c){var A=o[a];if(A){var P=this._createBulletFromString(l(m,a),a);A.parentElement.replaceChild(P,A),o[a]=P}var I=o[f];if(I){var T=this._createBulletFromString(c(m,f),f);I.parentElement.replaceChild(T,I),o[f]=T}}o.forEach(function(R,O){for(var L=O-f,J=R.className.split(" "),j=0,V=J;j<V.length;j++){var K=V[j];(K===g||S.test(K)||E.test(K))&&hT(R,K)}L===0?ia(R,g):L>0?ia(R,w(Math.abs(L))):ia(R,x(Math.abs(L)))}),i.scrollOnChange(f,{total:o.length,prevIndex:a,sliderIndex:this._sliderIndex,direction:f>a?Ht.NEXT:Ht.PREV,bullets:dle([],o),moveTo:this.moveTo}),this._previousIndex=f}},e}(YI),mle=function(){function n(t){var r=this,i=t===void 0?{}:t,s=i.parentEl,o=s===void 0?null:s,a=i.selector,l=a===void 0?ur.SELECTOR:a,c=i.type,u=c===void 0?ur.TYPE.BULLET:c,d=i.classPrefix,f=d===void 0?ur.PREFIX:d,m=i.bulletCount,g=m===void 0?5:m,v=i.renderBullet,_=v===void 0?function(L){return'<span class="'+L+'"></span>'}:v,x=i.renderActiveBullet,w=x===void 0?null:x,S=i.renderFraction,E=S===void 0?function(L,J){return'<span class="'+L+'"></span>/<span class="'+J+'"></span>'}:S,A=i.fractionCurrentFormat,P=A===void 0?function(L){return L.toString()}:A,I=i.fractionTotalFormat,T=I===void 0?function(L){return L.toString()}:I,R=i.scrollOnChange,O=R===void 0?function(L,J){return J.moveTo(L)}:R;this._flicking=null,this.update=function(){r._removeAllChilds(),r._renderer.render()},this._onIndexChange=function(L){r._renderer.update(L.index)},this._parentEl=o,this._selector=l,this._type=u,this._classPrefix=f,this._bulletCount=g,this._renderBullet=_,this._renderActiveBullet=w,this._renderFraction=E,this._fractionCurrentFormat=P,this._fractionTotalFormat=T,this._scrollOnChange=O}var e=n.prototype;return Object.defineProperty(e,"parentEl",{get:function(){return this._parentEl},set:function(t){this._parentEl=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"selector",{get:function(){return this._selector},set:function(t){this._selector=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"type",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"classPrefix",{get:function(){return this._classPrefix},enumerable:!1,configurable:!0}),Object.defineProperty(e,"bulletCount",{get:function(){return this._bulletCount},set:function(t){this._bulletCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderBullet",{get:function(){return this._renderBullet},set:function(t){this._renderBullet=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderActiveBullet",{get:function(){return this._renderActiveBullet},set:function(t){this._renderActiveBullet=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renderFraction",{get:function(){return this._renderFraction},set:function(t){this._renderFraction=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"fractionCurrentFormat",{get:function(){return this._fractionCurrentFormat},set:function(t){this._fractionCurrentFormat=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"fractionTotalFormat",{get:function(){return this._fractionTotalFormat},set:function(t){this._fractionTotalFormat=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scrollOnChange",{get:function(){return this._scrollOnChange},set:function(t){this._scrollOnChange=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"bulletWrapperclassPrefixClass",{set:function(t){this._classPrefix=t},enumerable:!1,configurable:!0}),e.init=function(t){this._flicking&&this.destroy(),this._flicking=t;var r=this._type,i=this._selector,s=this._parentEl?this._parentEl:t.element,o=s.querySelector(i);if(!o)throw new Error("[Flicking-Pagination] Couldn't find element with the given selector: "+i);this._wrapper=o,this._renderer=this._createRenderer(r),t.on(St.WILL_CHANGE,this._onIndexChange),t.on(St.WILL_RESTORE,this._onIndexChange),t.on(St.PANEL_CHANGE,this.update),this.update()},e.destroy=function(){var t=this._flicking;t&&(t.off(St.WILL_CHANGE,this._onIndexChange),t.off(St.WILL_RESTORE,this._onIndexChange),t.off(St.PANEL_CHANGE,this.update),this._renderer.destroy(),this._removeAllChilds(),this._flicking=null)},e._createRenderer=function(t){var r={flicking:this._flicking,pagination:this,wrapper:this._wrapper};switch(t){case ur.TYPE.BULLET:return new hle(r);case ur.TYPE.FRACTION:return new fle(r);case ur.TYPE.SCROLL:return new ple(r);default:throw new Error('[Flicking-Pagination] type "'+t+'" is not supported.')}},e._removeAllChilds=function(){for(var t=this._wrapper;t.firstChild;)t.removeChild(t.firstChild)},n}();const qI=k.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Zw=k.createContext({});function gle(){return k.useContext(Zw).visualElement}const e1=k.createContext(null),t1=typeof document<"u",FD=t1?k.useLayoutEffect:k.useEffect,UH=k.createContext({strict:!1});function vle(n,e,t,r){const i=gle(),s=k.useContext(UH),o=k.useContext(e1),a=k.useContext(qI).reducedMotion,l=k.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceId:o?o.id:void 0,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return FD(()=>{c&&c.render()}),(window.HandoffAppearAnimations?FD:k.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function Gh(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function yle(n,e,t){return k.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Gh(t)&&(t.current=r))},[e])}function iv(n){return typeof n=="string"||Array.isArray(n)}function n1(n){return typeof n=="object"&&typeof n.start=="function"}const _le=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function r1(n){return n1(n.animate)||_le.some(e=>iv(n[e]))}function GH(n){return Boolean(r1(n)||n.variants)}function xle(n,e){if(r1(n)){const{initial:t,animate:r}=n;return{initial:t===!1||iv(t)?t:void 0,animate:iv(r)?r:void 0}}return n.inherit!==!1?e:{}}function ble(n){const{initial:e,animate:t}=xle(n,k.useContext(Zw));return k.useMemo(()=>({initial:e,animate:t}),[zD(e),zD(t)])}function zD(n){return Array.isArray(n)?n.join(" "):n}const Ba=n=>({isEnabled:e=>n.some(t=>!!e[t])}),sv={measureLayout:Ba(["layout","layoutId","drag"]),animation:Ba(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Ba(["exit"]),drag:Ba(["drag","dragControls"]),focus:Ba(["whileFocus"]),hover:Ba(["whileHover","onHoverStart","onHoverEnd"]),tap:Ba(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Ba(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Ba(["whileInView","onViewportEnter","onViewportLeave"])};function wle(n){for(const e in n)e==="projectionNodeConstructor"?sv.projectionNodeConstructor=n[e]:sv[e].Component=n[e]}function QI(n){const e=k.useRef(null);return e.current===null&&(e.current=n()),e.current}const gg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Sle=1;function Ele(){return QI(()=>{if(gg.hasEverUpdated)return Sle++})}const HH=k.createContext({});class Cle extends mt.Component{getSnapshotBeforeUpdate(){const{visualElement:e,props:t}=this.props;return e&&e.setProps(t),null}componentDidUpdate(){}render(){return this.props.children}}const VH=k.createContext({}),Ale=Symbol.for("motionComponentSymbol");function Mle({preloadedFeatures:n,createVisualElement:e,projectionNodeConstructor:t,useRender:r,useVisualState:i,Component:s}){n&&wle(n);function o(l,c){const u={...k.useContext(qI),...l,layoutId:Tle(l)},{isStatic:d}=u;let f=null;const m=ble(l),g=d?void 0:Ele(),v=i(l,d);if(!d&&t1){m.visualElement=vle(s,v,u,e);const _=k.useContext(VH);m.visualElement&&(f=m.visualElement.loadFeatures(u,k.useContext(UH).strict,n,g,t||sv.projectionNodeConstructor,_))}return k.createElement(Cle,{visualElement:m.visualElement,props:u},f,k.createElement(Zw.Provider,{value:m},r(s,l,g,yle(v,m.visualElement,c),v,d,m.visualElement)))}const a=k.forwardRef(o);return a[Ale]=s,a}function Tle({layoutId:n}){const e=k.useContext(HH).id;return e&&n!==void 0?e+"-"+n:n}function Ple(n){function e(r,i={}){return Mle(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const Rle=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ZI(n){return typeof n!="string"||n.includes("-")?!1:!!(Rle.indexOf(n)>-1||/[A-Z]/.test(n))}const pb={};function Ile(n){Object.assign(pb,n)}const mb=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],up=new Set(mb);function WH(n,{layout:e,layoutId:t}){return up.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!pb[n]||n==="opacity")}const cs=n=>!!(n!=null&&n.getVelocity),Nle={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kle=(n,e)=>mb.indexOf(n)-mb.indexOf(e);function Ole({transform:n,transformKeys:e},{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},i,s){let o="";e.sort(kle);for(const a of e)o+=`${Nle[a]||a}(${n[a]}) `;return t&&!n.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(n,i?"":o):r&&i&&(o="none"),o}function jH(n){return n.startsWith("--")}const Lle=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Lf=(n,e,t)=>Math.min(Math.max(t,n),e),Ed={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},vg={...Ed,transform:n=>Lf(0,1,n)},Zy={...Ed,default:1},yg=n=>Math.round(n*1e5)/1e5,ov=/(-)?([\d]*\.?[\d])+/g,pT=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ble=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function n0(n){return typeof n=="string"}const r0=n=>({test:e=>n0(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Gl=r0("deg"),pa=r0("%"),dt=r0("px"),Dle=r0("vh"),Fle=r0("vw"),UD={...pa,parse:n=>pa.parse(n)/100,transform:n=>pa.transform(n*100)},GD={...Ed,transform:Math.round},$H={borderWidth:dt,borderTopWidth:dt,borderRightWidth:dt,borderBottomWidth:dt,borderLeftWidth:dt,borderRadius:dt,radius:dt,borderTopLeftRadius:dt,borderTopRightRadius:dt,borderBottomRightRadius:dt,borderBottomLeftRadius:dt,width:dt,maxWidth:dt,height:dt,maxHeight:dt,size:dt,top:dt,right:dt,bottom:dt,left:dt,padding:dt,paddingTop:dt,paddingRight:dt,paddingBottom:dt,paddingLeft:dt,margin:dt,marginTop:dt,marginRight:dt,marginBottom:dt,marginLeft:dt,rotate:Gl,rotateX:Gl,rotateY:Gl,rotateZ:Gl,scale:Zy,scaleX:Zy,scaleY:Zy,scaleZ:Zy,skew:Gl,skewX:Gl,skewY:Gl,distance:dt,translateX:dt,translateY:dt,translateZ:dt,x:dt,y:dt,z:dt,perspective:dt,transformPerspective:dt,opacity:vg,originX:UD,originY:UD,originZ:dt,zIndex:GD,fillOpacity:vg,strokeOpacity:vg,numOctaves:GD};function e2(n,e,t,r){const{style:i,vars:s,transform:o,transformKeys:a,transformOrigin:l}=n;a.length=0;let c=!1,u=!1,d=!0;for(const f in e){const m=e[f];if(jH(f)){s[f]=m;continue}const g=$H[f],v=Lle(m,g);if(up.has(f)){if(c=!0,o[f]=v,a.push(f),!d)continue;m!==(g.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=v):i[f]=v}if(e.transform||(c||r?i.transform=Ole(n,t,d,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:g=0}=l;i.transformOrigin=`${f} ${m} ${g}`}}const t2=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function JH(n,e,t){for(const r in e)!cs(e[r])&&!WH(r,t)&&(n[r]=e[r])}function zle({transformTemplate:n},e,t){return k.useMemo(()=>{const r=t2();return e2(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function Ule(n,e,t){const r=n.style||{},i={};return JH(i,r,n),Object.assign(i,zle(n,e,t)),n.transformValues?n.transformValues(i):i}function Gle(n,e,t){const r={},i=Ule(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const Hle=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function gb(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||Hle.has(n)}let KH=n=>!gb(n);function Vle(n){n&&(KH=e=>e.startsWith("on")?!gb(e):n(e))}try{Vle(require("@emotion/is-prop-valid").default)}catch{}function Wle(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(KH(i)||t===!0&&gb(i)||!e&&!gb(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function HD(n,e,t){return typeof n=="string"?n:dt.transform(e+t*n)}function jle(n,e,t){const r=HD(e,n.x,n.width),i=HD(t,n.y,n.height);return`${r} ${i}`}const $le={offset:"stroke-dashoffset",array:"stroke-dasharray"},Jle={offset:"strokeDashoffset",array:"strokeDasharray"};function Kle(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?$le:Jle;n[s.offset]=dt.transform(-r);const o=dt.transform(e),a=dt.transform(t);n[s.array]=`${o} ${a}`}function n2(n,{attrX:e,attrY:t,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},c,u,d){if(e2(n,l,c,d),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:f,style:m,dimensions:g}=n;f.transform&&(g&&(m.transform=f.transform),delete f.transform),g&&(r!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=jle(g,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),t!==void 0&&(f.y=t),s!==void 0&&Kle(f,s,o,a,!1)}const XH=()=>({...t2(),attrs:{}}),r2=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Xle(n,e,t,r){const i=k.useMemo(()=>{const s=XH();return n2(s,e,{enableHardwareAcceleration:!1},r2(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};JH(s,n.style,n),i.style={...s,...i.style}}return i}function Yle(n=!1){return(t,r,i,s,{latestValues:o},a)=>{const c=(ZI(t)?Xle:Gle)(r,o,a,t),d={...Wle(r,typeof t=="string",n),...c,ref:s},{children:f}=r,m=k.useMemo(()=>cs(f)?f.get():f,[f]);return i&&(d["data-projection-id"]=i),k.createElement(t,{...d,children:m})}}const i2=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function YH(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const qH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QH(n,e,t,r){YH(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(qH.has(i)?i:i2(i),e.attrs[i])}function s2(n,e){const{style:t}=n,r={};for(const i in t)(cs(t[i])||e.style&&cs(e.style[i])||WH(i,n))&&(r[i]=t[i]);return r}function ZH(n,e){const t=s2(n,e);for(const r in n)if(cs(n[r])||cs(e[r])){const i=r==="x"||r==="y"?"attr"+r.toUpperCase():r;t[i]=n[r]}return t}function o2(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}const vb=n=>Array.isArray(n),qle=n=>Boolean(n&&typeof n=="object"&&n.mix&&n.toValue),Qle=n=>vb(n)?n[n.length-1]||0:n;function vx(n){const e=cs(n)?n.get():n;return qle(e)?e.toValue():e}function Zle({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:ece(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const eV=n=>(e,t)=>{const r=k.useContext(Zw),i=k.useContext(e1),s=()=>Zle(n,e,r,i);return t?s():QI(s)};function ece(n,e,t,r){const i={},s=r(n,{});for(const f in s)i[f]=vx(s[f]);let{initial:o,animate:a}=n;const l=r1(n),c=GH(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!n1(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const g=o2(n,m);if(!g)return;const{transitionEnd:v,transition:_,...x}=g;for(const w in x){let S=x[w];if(Array.isArray(S)){const E=u?S.length-1:0;S=S[E]}S!==null&&(i[w]=S)}for(const w in v)i[w]=v[w]}),i}const tce={useVisualState:eV({scrapeMotionValuesFromProps:ZH,createRenderState:XH,onMount:(n,e,{renderState:t,latestValues:r})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}n2(t,r,{enableHardwareAcceleration:!1},r2(e.tagName),n.transformTemplate),QH(e,t)}})},nce={useVisualState:eV({scrapeMotionValuesFromProps:s2,createRenderState:t2})};function rce(n,{forwardMotionProps:e=!1},t,r,i){return{...ZI(n)?tce:nce,preloadedFeatures:t,useRender:Yle(e),createVisualElement:r,projectionNodeConstructor:i,Component:n}}var Tn;(function(n){n.Animate="animate",n.Hover="whileHover",n.Tap="whileTap",n.Drag="whileDrag",n.Focus="whileFocus",n.InView="whileInView",n.Exit="exit"})(Tn||(Tn={}));function Yu(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function yb(n,e,t,r){k.useEffect(()=>{const i=n.current;if(t&&i)return Yu(i,e,t,r)},[n,e,t,r])}function ice({whileFocus:n,visualElement:e}){const t=k.useRef(!1),{animationState:r}=e,i=k.useCallback(()=>{let o=!1;try{o=e.current.matches(":focus-visible")}catch{o=!0}!o||!r||(r.setActive(Tn.Focus,!0),t.current=!0)},[r]),s=k.useCallback(()=>{!t.current||!r||(r.setActive(Tn.Focus,!1),t.current=!1)},[r]);yb(e,"focus",n?i:void 0),yb(e,"blur",n?s:void 0)}const tV=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function i1(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const nV=n=>e=>tV(e)&&n(e,i1(e));function of(n,e,t,r){return Yu(n,e,nV(t),r)}function _b(n,e,t,r){return yb(n,e,t&&nV(t),r)}function rV(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const VD=rV("dragHorizontal"),WD=rV("dragVertical");function iV(n){let e=!1;if(n==="y")e=WD();else if(n==="x")e=VD();else{const t=VD(),r=WD();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function sV(){const n=iV(!0);return n?(n(),!1):!0}function jD(n,e,t,r){return(i,s)=>{i.type==="touch"||sV()||(t&&n.animationState&&n.animationState.setActive(Tn.Hover,e),r&&r(i,s))}}function sce({onHoverStart:n,onHoverEnd:e,whileHover:t,visualElement:r}){_b(r,"pointerenter",k.useMemo(()=>n||t?jD(r,!0,Boolean(t),n):void 0,[n,Boolean(t),r]),{passive:!n}),_b(r,"pointerleave",k.useMemo(()=>e||t?jD(r,!1,Boolean(t),e):void 0,[n,Boolean(t),r]),{passive:!e})}const oV=(n,e)=>e?n===e?!0:oV(n,e.parentElement):!1;function aV(n){return k.useEffect(()=>()=>n(),[])}const oce=(n,e)=>t=>e(n(t)),s1=(...n)=>n.reduce(oce);function oC(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,i1(t))}function ace({onTap:n,onTapStart:e,onTapCancel:t,whileTap:r,visualElement:i,...s}){const o=n||e||t||r,a=k.useRef(!1),l=k.useRef(null),c={passive:!(e||n||t||s.onPointerDown)};function u(){l.current&&l.current(),l.current=null}function d(){return u(),a.current=!1,i.getProps().whileTap&&i.animationState&&i.animationState.setActive(Tn.Tap,!1),!sV()}function f(w,S){var E,A,P,I;d()&&(oV(i.current,w.target)?(I=(P=i.getProps()).onTap)===null||I===void 0||I.call(P,w,S):(A=(E=i.getProps()).onTapCancel)===null||A===void 0||A.call(E,w,S))}function m(w,S){var E,A;d()&&((A=(E=i.getProps()).onTapCancel)===null||A===void 0||A.call(E,w,S))}function g(w,S){var E;const A=i.getProps();A.whileTap&&i.animationState&&i.animationState.setActive(Tn.Tap,!0),(E=A.onTapStart)===null||E===void 0||E.call(A,w,S)}const v=[Boolean(e),Boolean(n),Boolean(r),i],_=k.useCallback((w,S)=>{u(),!a.current&&(a.current=!0,l.current=s1(of(window,"pointerup",f,c),of(window,"pointercancel",m,c)),g(w,S))},v);_b(i,"pointerdown",o?_:void 0,c);const x=k.useCallback(()=>{const w=Yu(i.current,"keydown",E=>{E.key!=="Enter"||a.current||(a.current=!0,l.current=Yu(i.current,"keyup",()=>{E.key!=="Enter"||!d()||oC("up",i.getProps().onTap)},c),oC("down",g))}),S=Yu(i.current,"blur",()=>{w(),S(),a.current&&oC("cancel",m)})},v);yb(i,"focus",o?x:void 0),aV(u)}const mT=new WeakMap,aC=new WeakMap,lce=n=>{const e=mT.get(n.target);e&&e(n)},cce=n=>{n.forEach(lce)};function uce({root:n,...e}){const t=n||document;aC.has(t)||aC.set(t,{});const r=aC.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(cce,{root:n,...e})),r[i]}function dce(n,e,t){const r=uce(e);return mT.set(n,t),r.observe(n),()=>{mT.delete(n),r.unobserve(n)}}function hce({visualElement:n,whileInView:e,onViewportEnter:t,onViewportLeave:r,viewport:i={}}){const s=k.useRef({hasEnteredView:!1,isInView:!1});let o=Boolean(e||t||r);i.once&&s.current.hasEnteredView&&(o=!1),(typeof IntersectionObserver>"u"?mce:pce)(o,s.current,n,i)}const fce={some:0,all:1};function pce(n,e,t,{root:r,margin:i,amount:s="some",once:o}){k.useEffect(()=>{if(!n||!t.current)return;const a={root:r==null?void 0:r.current,rootMargin:i,threshold:typeof s=="number"?s:fce[s]},l=c=>{const{isIntersecting:u}=c;if(e.isInView===u||(e.isInView=u,o&&!u&&e.hasEnteredView))return;u&&(e.hasEnteredView=!0),t.animationState&&t.animationState.setActive(Tn.InView,u);const d=t.getProps(),f=u?d.onViewportEnter:d.onViewportLeave;f&&f(c)};return dce(t.current,a,l)},[n,r,i,s])}function mce(n,e,t,{fallback:r=!0}){k.useEffect(()=>{!n||!r||requestAnimationFrame(()=>{e.hasEnteredView=!0;const{onViewportEnter:i}=t.getProps();i&&i(null),t.animationState&&t.animationState.setActive(Tn.InView,!0)})},[n])}const ec=n=>e=>(n(e),null),gce={inView:ec(hce),tap:ec(ace),focus:ec(ice),hover:ec(sce)};function lV(){const n=k.useContext(e1);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=k.useId();return k.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}function cV(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const vce=n=>/^\-?\d*\.?\d+$/.test(n),yce=n=>/^0[^.\s]+$/.test(n),rl={delta:0,timestamp:0},uV=1/60*1e3,_ce=typeof performance<"u"?()=>performance.now():()=>Date.now(),dV=typeof window<"u"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(_ce()),uV);function xce(n){let e=[],t=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&i,f=d?e:t;return c&&o.add(l),f.indexOf(l)===-1&&(f.push(l),d&&i&&(r=e.length)),l},cancel:l=>{const c=t.indexOf(l);c!==-1&&t.splice(c,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let c=0;c<r;c++){const u=e[c];u(l),o.has(u)&&(a.schedule(u),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const bce=40;let gT=!0,av=!1,vT=!1;const i0=["read","update","preRender","render","postRender"],o1=i0.reduce((n,e)=>(n[e]=xce(()=>av=!0),n),{}),Hi=i0.reduce((n,e)=>{const t=o1[e];return n[e]=(r,i=!1,s=!1)=>(av||Sce(),t.schedule(r,i,s)),n},{}),Ac=i0.reduce((n,e)=>(n[e]=o1[e].cancel,n),{}),lC=i0.reduce((n,e)=>(n[e]=()=>o1[e].process(rl),n),{}),wce=n=>o1[n].process(rl),hV=n=>{av=!1,rl.delta=gT?uV:Math.max(Math.min(n-rl.timestamp,bce),1),rl.timestamp=n,vT=!0,i0.forEach(wce),vT=!1,av&&(gT=!1,dV(hV))},Sce=()=>{av=!0,gT=!0,vT||dV(hV)};function a2(n,e){n.indexOf(e)===-1&&n.push(e)}function l2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class c2{constructor(){this.subscriptions=[]}add(e){return a2(this.subscriptions,e),()=>l2(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function u2(n,e){return e?n*(1e3/e):0}const Ece=n=>!isNaN(parseFloat(n));class Cce{constructor(e,t={}){this.version="9.0.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=rl;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Hi.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Hi.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Ece(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new c2);const r=this.events[e].add(t);return e==="change"?()=>{r(),Hi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?u2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bf(n,e){return new Cce(n,e)}const d2=(n,e)=>t=>Boolean(n0(t)&&Ble.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),fV=(n,e,t)=>r=>{if(!n0(r))return r;const[i,s,o,a]=r.match(ov);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Ace=n=>Lf(0,255,n),cC={...Ed,transform:n=>Math.round(Ace(n))},Fu={test:d2("rgb","red"),parse:fV("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+cC.transform(n)+", "+cC.transform(e)+", "+cC.transform(t)+", "+yg(vg.transform(r))+")"};function Mce(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const yT={test:d2("#"),parse:Mce,transform:Fu.transform},Hh={test:d2("hsl","hue"),parse:fV("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+pa.transform(yg(e))+", "+pa.transform(yg(t))+", "+yg(vg.transform(r))+")"},Di={test:n=>Fu.test(n)||yT.test(n)||Hh.test(n),parse:n=>Fu.test(n)?Fu.parse(n):Hh.test(n)?Hh.parse(n):yT.parse(n),transform:n=>n0(n)?n:n.hasOwnProperty("red")?Fu.transform(n):Hh.transform(n)},pV="${c}",mV="${n}";function Tce(n){var e,t;return isNaN(n)&&n0(n)&&(((e=n.match(ov))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(pT))===null||t===void 0?void 0:t.length)||0)>0}function xb(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0,r=0;const i=n.match(pT);i&&(t=i.length,n=n.replace(pT,pV),e.push(...i.map(Di.parse)));const s=n.match(ov);return s&&(r=s.length,n=n.replace(ov,mV),e.push(...s.map(Ed.parse))),{values:e,numColors:t,numNumbers:r,tokenised:n}}function gV(n){return xb(n).values}function vV(n){const{values:e,numColors:t,tokenised:r}=xb(n),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<t?pV:mV,a<t?Di.transform(s[a]):yg(s[a]));return o}}const Pce=n=>typeof n=="number"?0:n;function Rce(n){const e=gV(n);return vV(n)(e.map(Pce))}const Mc={test:Tce,parse:gV,createTransformer:vV,getAnimatableNone:Rce},Ice=new Set(["brightness","contrast","saturate","opacity"]);function Nce(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(ov)||[];if(!r)return n;const i=t.replace(r,"");let s=Ice.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const kce=/([a-z-]*)\(.*?\)/g,_T={...Mc,getAnimatableNone:n=>{const e=n.match(kce);return e?e.map(Nce).join(" "):n}},Oce={...$H,color:Di,backgroundColor:Di,outlineColor:Di,fill:Di,stroke:Di,borderColor:Di,borderTopColor:Di,borderRightColor:Di,borderBottomColor:Di,borderLeftColor:Di,filter:_T,WebkitFilter:_T},h2=n=>Oce[n];function f2(n,e){var t;let r=h2(n);return r!==_T&&(r=Mc),(t=r.getAnimatableNone)===null||t===void 0?void 0:t.call(r,e)}const yV=n=>e=>e.test(n),Lce={test:n=>n==="auto",parse:n=>n},_V=[Ed,dt,pa,Gl,Fle,Dle,Lce],mm=n=>_V.find(yV(n)),Bce=[..._V,Di,Mc],Dce=n=>Bce.find(yV(n));function Fce(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function zce(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function a1(n,e,t){const r=n.getProps();return o2(r,e,t!==void 0?t:r.custom,Fce(n),zce(n))}function Uce(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Bf(t))}function Gce(n,e){const t=a1(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=Qle(s[o]);Uce(n,o,a)}}function Hce(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(vce(u)||yce(u))?u=parseFloat(u):!Dce(u)&&Mc.test(c)&&(u=f2(l,c)),n.addValue(l,Bf(u,{owner:n})),t[l]===void 0&&(t[l]=u),u!==null&&n.setBaseTarget(l,u))}}function Vce(n,e){return e?(e[n]||e.default||e).from:void 0}function Wce(n,e,t){var r;const i={};for(const s in n){const o=Vce(s,e);i[s]=o!==void 0?o:(r=t.getValue(s))===null||r===void 0?void 0:r.get()}return i}function bb(n){return Boolean(cs(n)&&n.add)}const jce="framerAppearId",$ce="data-"+i2(jce);var Jce=function(){},wb=function(){};const yx=n=>n*1e3,Kce={current:!1},p2=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,m2=n=>e=>1-n(1-e),g2=n=>n*n,Xce=m2(g2),v2=p2(g2),fr=(n,e,t)=>-t*n+t*e+n;function uC(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Yce({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=uC(l,a,n+1/3),s=uC(l,a,n),o=uC(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const dC=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},qce=[yT,Fu,Hh],Qce=n=>qce.find(e=>e.test(n));function $D(n){const e=Qce(n);let t=e.parse(n);return e===Hh&&(t=Yce(t)),t}const xV=(n,e)=>{const t=$D(n),r=$D(e),i={...t};return s=>(i.red=dC(t.red,r.red,s),i.green=dC(t.green,r.green,s),i.blue=dC(t.blue,r.blue,s),i.alpha=fr(t.alpha,r.alpha,s),Fu.transform(i))};function bV(n,e){return typeof n=="number"?t=>fr(n,e,t):Di.test(n)?xV(n,e):SV(n,e)}const wV=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>bV(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},Zce=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=bV(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},SV=(n,e)=>{const t=Mc.createTransformer(e),r=xb(n),i=xb(e);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?s1(wV(r.values,i.values),t):o=>`${o>0?e:n}`},Sb=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},JD=(n,e)=>t=>fr(n,e,t);function eue(n){return typeof n=="number"?JD:typeof n=="string"?Di.test(n)?xV:SV:Array.isArray(n)?wV:typeof n=="object"?Zce:JD}function tue(n,e,t){const r=[],i=t||eue(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=s1(l,a)}r.push(a)}return r}function EV(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;wb(s===e.length),wb(!r||!Array.isArray(r)||r.length===s-1),n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=tue(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<n.length-2&&!(c<n[u+1]);u++);const d=Sb(n[u],n[u+1],c);return o[u](d)};return t?c=>l(Lf(n[0],n[s-1],c)):l}const y2=n=>n,CV=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,nue=1e-7,rue=12;function iue(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=CV(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>nue&&++a<rue);return o}function AV(n,e,t,r){if(n===e&&t===r)return y2;const i=s=>iue(s,0,1,n,t);return s=>s===0||s===1?s:CV(i(s),e,r)}const MV=n=>1-Math.sin(Math.acos(n)),_2=m2(MV),sue=p2(_2),TV=AV(.33,1.53,.69,.99),x2=m2(TV),oue=p2(x2),aue=n=>(n*=2)<1?.5*x2(n):.5*(2-Math.pow(2,-10*(n-1))),lue={linear:y2,easeIn:g2,easeInOut:v2,easeOut:Xce,circIn:MV,circInOut:sue,circOut:_2,backIn:x2,backInOut:oue,backOut:TV,anticipate:aue},KD=n=>{if(Array.isArray(n)){wb(n.length===4);const[e,t,r,i]=n;return AV(e,t,r,i)}else if(typeof n=="string")return lue[n];return n},cue=n=>Array.isArray(n)&&typeof n[0]!="number";function uue(n,e){return n.map(()=>e||v2).splice(0,n.length-1)}function due(n){const e=n.length;return n.map((t,r)=>r!==0?r/(e-1):0)}function hue(n,e){return n.map(t=>t*e)}function xT({keyframes:n,ease:e=v2,times:t,duration:r=300}){n=[...n];const i=cue(e)?e.map(KD):KD(e),s={done:!1,value:n[0]},o=hue(t&&t.length===n.length?t:due(n),r);function a(){return EV(o,n,{ease:Array.isArray(i)?i:uue(n,i)})}let l=a();return{next:c=>(s.value=l(c),s.done=c>=r,s),flipTarget:()=>{n.reverse(),l=a()}}}const hC=.001,fue=.01,XD=10,pue=.05,mue=1;function gue({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;Jce(n<=XD*1e3);let o=1-e;o=Lf(pue,mue,o),n=Lf(fue,XD,n/1e3),o<1?(i=c=>{const u=c*o,d=u*n,f=u-t,m=bT(c,o),g=Math.exp(-d);return hC-f/m*g},s=c=>{const d=c*o*n,f=d*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,g=Math.exp(-d),v=bT(Math.pow(c,2),o);return(-i(c)+hC>0?-1:1)*((f-m)*g)/v}):(i=c=>{const u=Math.exp(-c*n),d=(c-t)*n+1;return-hC+u*d},s=c=>{const u=Math.exp(-c*n),d=(t-c)*(n*n);return u*d});const a=5/n,l=yue(i,s,a);if(n=n*1e3,isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const vue=12;function yue(n,e,t){let r=t;for(let i=1;i<vue;i++)r=r-n(r)/e(r);return r}function bT(n,e){return n*Math.sqrt(1-e*e)}const _ue=["duration","bounce"],xue=["stiffness","damping","mass"];function YD(n,e){return e.some(t=>n[t]!==void 0)}function bue(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!YD(n,xue)&&YD(n,_ue)){const t=gue(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const wue=5;function PV({keyframes:n,restDelta:e,restSpeed:t,...r}){let i=n[0],s=n[n.length-1];const o={done:!1,value:i},{stiffness:a,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:f}=bue(r);let m=Sue,g=u?-(u/1e3):0;const v=l/(2*Math.sqrt(a*c));function _(){const x=s-i,w=Math.sqrt(a/c)/1e3,S=Math.abs(x)<5;if(t||(t=S?.01:2),e||(e=S?.005:.5),v<1){const E=bT(w,v);m=A=>{const P=Math.exp(-v*w*A);return s-P*((g+v*w*x)/E*Math.sin(E*A)+x*Math.cos(E*A))}}else if(v===1)m=E=>s-Math.exp(-w*E)*(x+(g+w*x)*E);else{const E=w*Math.sqrt(v*v-1);m=A=>{const P=Math.exp(-v*w*A),I=Math.min(E*A,300);return s-P*((g+v*w*x)*Math.sinh(I)+E*x*Math.cosh(I))/E}}}return _(),{next:x=>{const w=m(x);if(f)o.done=x>=d;else{let S=g;if(x!==0)if(v<1){const P=Math.max(0,x-wue);S=u2(w-m(P),x-P)}else S=0;const E=Math.abs(S)<=t,A=Math.abs(s-w)<=e;o.done=E&&A}return o.value=o.done?s:w,o},flipTarget:()=>{g=-g,[i,s]=[s,i],_()}}}PV.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const Sue=n=>0;function Eue({keyframes:n=[0],velocity:e=0,power:t=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:s}){const o=n[0],a={done:!1,value:o};let l=t*e;const c=o+l,u=s===void 0?c:s(c);return u!==c&&(l=u-o),{next:d=>{const f=-l*Math.exp(-d/r);return a.done=!(f>i||f<-i),a.value=a.done?u:u+f,a},flipTarget:()=>{}}}const Cue={decay:Eue,keyframes:xT,tween:xT,spring:PV};function RV(n,e,t=0){return n-e-t}function Aue(n,e=0,t=0,r=!0){return r?RV(e+-n,e,t):e-(n-e)+t}function Mue(n,e,t,r){return r?n>=e+t:n<=-t}const Tue=n=>{const e=({delta:t})=>n(t);return{start:()=>Hi.update(e,!0),stop:()=>Ac.update(e)}};function Eb({duration:n,driver:e=Tue,elapsed:t=0,repeat:r=0,repeatType:i="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:l,onStop:c,onComplete:u,onRepeat:d,onUpdate:f,type:m="keyframes",...g}){var v,_;const x=t;let w,S=0,E=n,A=!1,P=!0,I;const T=Cue[o.length>2?"keyframes":m]||xT,R=o[0],O=o[o.length-1];let L={done:!1,value:R};!((_=(v=T).needsInterpolation)===null||_===void 0)&&_.call(v,R,O)&&(I=EV([0,100],[R,O],{clamp:!1}),o=[0,100]);const J=T({...g,duration:n,keyframes:o});function j(){S++,i==="reverse"?(P=S%2===0,t=Aue(t,E,s,P)):(t=RV(t,E,s),i==="mirror"&&J.flipTarget()),A=!1,d&&d()}function V(){w&&w.stop(),u&&u()}function K(te){P||(te=-te),t+=te,A||(L=J.next(Math.max(0,t)),I&&(L.value=I(L.value)),A=P?L.done:t<=0),f&&f(L.value),A&&(S===0&&(E=E!==void 0?E:t),S<r?Mue(t,E,s,P)&&j():V())}function Q(){l&&l(),w=e(K),w.start()}return a&&Q(),{stop:()=>{c&&c(),w&&w.stop()},set currentTime(te){t=x,K(te)},sample:te=>{t=x;const D=n&&typeof n=="number"?Math.max(n*.5,50):50;let $=0;for(K(0);$<=te;){const X=te-$;K(Math.min(X,D)),$+=D}return L}}}function Pue(n){return!n||Array.isArray(n)||typeof n=="string"&&IV[n]}const Ym=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,IV={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ym([0,.65,.55,1]),circOut:Ym([.55,0,1,.45]),backIn:Ym([.31,.01,.66,-.59]),backOut:Ym([.33,1.53,.69,.99])};function Rue(n){if(n)return Array.isArray(n)?Ym(n):IV[n]}function Iue(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){return n.animate({[e]:t,offset:l},{delay:r,duration:i,easing:Rue(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const qD={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},fC={},NV={};for(const n in qD)NV[n]=()=>(fC[n]===void 0&&(fC[n]=qD[n]()),fC[n]);function Nue(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const kue=new Set(["opacity"]),e_=10;function Oue(n,e,{onUpdate:t,onComplete:r,...i}){if(!(NV.waapi()&&kue.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0))return!1;let{keyframes:o,duration:a=300,elapsed:l=0,ease:c}=i;if(i.type==="spring"||!Pue(i.ease)){if(i.repeat===1/0)return;const d=Eb({...i,elapsed:0});let f={done:!1,value:o[0]};const m=[];let g=0;for(;!f.done&&g<2e4;)f=d.sample(g),m.push(f.value),g+=e_;o=m,a=g-e_,c="linear"}const u=Iue(n.owner.current,e,o,{...i,delay:-l,duration:a,ease:c});return u.onfinish=()=>{n.set(Nue(o,i)),Hi.update(()=>u.cancel()),r&&r()},{get currentTime(){return u.currentTime||0},set currentTime(d){u.currentTime=d},stop:()=>{const{currentTime:d}=u;if(d){const f=Eb({...i,autoplay:!1});n.setWithVelocity(f.sample(d-e_).value,f.sample(d).value,e_)}Hi.update(()=>u.cancel())}}}function kV(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Ac.read(r),n(s-e))};return Hi.read(r,!0),()=>Ac.read(r)}function Lue({keyframes:n,elapsed:e,onUpdate:t,onComplete:r}){const i=()=>{t&&t(n[n.length-1]),r&&r()};return e?{stop:kV(i,-e)}:i()}function Bue({keyframes:n,velocity:e=0,min:t,max:r,power:i=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:c,driver:u,onUpdate:d,onComplete:f,onStop:m}){const g=n[0];let v;function _(E){return t!==void 0&&E<t||r!==void 0&&E>r}function x(E){return t===void 0?r:r===void 0||Math.abs(t-E)<Math.abs(r-E)?t:r}function w(E){v==null||v.stop(),v=Eb({keyframes:[0,1],velocity:0,...E,driver:u,onUpdate:A=>{var P;d==null||d(A),(P=E.onUpdate)===null||P===void 0||P.call(E,A)},onComplete:f,onStop:m})}function S(E){w({type:"spring",stiffness:o,damping:a,restDelta:l,...E})}if(_(g))S({velocity:e,keyframes:[g,x(g)]});else{let E=i*e+g;typeof c<"u"&&(E=c(E));const A=x(E),P=A===t?-1:1;let I,T;const R=O=>{I=T,T=O,e=u2(O-I,rl.delta),(P===1&&O>A||P===-1&&O<A)&&S({keyframes:[O,A],velocity:e})};w({type:"decay",keyframes:[g,0],velocity:e,timeConstant:s,power:i,restDelta:l,modifyTarget:c,onUpdate:_(E)?R:void 0})}return{stop:()=>v==null?void 0:v.stop()}}const au=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),t_=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),pC=()=>({type:"keyframes",ease:"linear",duration:.3}),Due={type:"keyframes",duration:.8},QD={x:au,y:au,z:au,rotate:au,rotateX:au,rotateY:au,rotateZ:au,scaleX:t_,scaleY:t_,scale:t_,opacity:pC,backgroundColor:pC,color:pC,default:t_},Fue=(n,{keyframes:e})=>e.length>2?Due:(QD[n]||QD.default)(e[1]),wT=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Mc.test(e)&&!e.startsWith("url("));function zue({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function ZD(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function e3(n){return typeof n=="number"?0:f2("",n)}function OV(n,e){return n[e]||n.default||n}function Uue(n,e,t,r){const i=wT(e,t);let s=r.from!==void 0?r.from:n.get();return s==="none"&&i&&typeof t=="string"?s=f2(e,t):ZD(s)&&typeof t=="string"?s=e3(t):!Array.isArray(t)&&ZD(t)&&typeof s=="string"&&(t=e3(s)),Array.isArray(t)?(t[0]===null&&(t[0]=s),t):[s,t]}const b2=(n,e,t,r={})=>i=>{const s=OV(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-yx(o);const l=Uue(e,n,t,s),c=l[0],u=l[l.length-1],d=wT(n,c),f=wT(n,u);let m={keyframes:l,velocity:e.getVelocity(),...s,elapsed:a,onUpdate:_=>{e.set(_),s.onUpdate&&s.onUpdate(_)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(!d||!f||Kce.current||s.type===!1)return Lue(m);if(s.type==="inertia")return Bue(m);zue(s)||(m={...m,...Fue(n,m)}),m.duration&&(m.duration=yx(m.duration)),m.repeatDelay&&(m.repeatDelay=yx(m.repeatDelay));const g=e.owner,v=g&&g.current;if(g&&v instanceof HTMLElement&&!(g!=null&&g.getProps().onUpdate)){const _=Oue(e,n,m);if(_)return _}return Eb(m)};function Gue(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>ST(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=ST(n,e,t);else{const i=typeof e=="function"?a1(n,e,t.custom):e;r=LV(n,i,t)}return r.then(()=>n.notify("AnimationComplete",e))}function ST(n,e,t={}){var r;const i=a1(n,e,t.custom);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const o=i?()=>LV(n,i,t):()=>Promise.resolve(),a=!((r=n.variantChildren)===null||r===void 0)&&r.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return Hue(n,e,u+c,d,f,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(u)}else return Promise.all([o(),a(t.delay)])}function LV(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var s;let{transition:o=n.getDefaultTransition(),transitionEnd:a,...l}=n.makeTargetAnimatable(e);const c=n.getValue("willChange");r&&(o=r);const u=[],d=i&&((s=n.animationState)===null||s===void 0?void 0:s.getState()[i]);for(const f in l){const m=n.getValue(f),g=l[f];if(!m||g===void 0||d&&Wue(d,f))continue;const v={delay:t,elapsed:0,...o};if(window.HandoffAppearAnimations&&!m.hasAnimated){const x=n.getProps()[$ce];x&&(v.elapsed=window.HandoffAppearAnimations(x,f,m,Hi))}let _=m.start(b2(f,m,g,n.shouldReduceMotion&&up.has(f)?{type:!1}:v));bb(c)&&(c.add(f),_=_.then(()=>c.remove(f))),u.push(_)}return Promise.all(u).then(()=>{a&&Gce(n,a)})}function Hue(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(Vue).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(ST(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Vue(n,e){return n.sortNodePosition(e)}function Wue({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}const w2=[Tn.Animate,Tn.InView,Tn.Focus,Tn.Hover,Tn.Tap,Tn.Drag,Tn.Exit],jue=[...w2].reverse(),$ue=w2.length;function Jue(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Gue(n,t,r)))}function Kue(n){let e=Jue(n);const t=Yue();let r=!0;const i=(l,c)=>{const u=a1(n,c);if(u){const{transition:d,transitionEnd:f,...m}=u;l={...l,...m,...f}}return l};function s(l){e=l(n)}function o(l,c){const u=n.getProps(),d=n.getVariantContext(!0)||{},f=[],m=new Set;let g={},v=1/0;for(let x=0;x<$ue;x++){const w=jue[x],S=t[w],E=u[w]!==void 0?u[w]:d[w],A=iv(E),P=w===c?S.isActive:null;P===!1&&(v=x);let I=E===d[w]&&E!==u[w]&&A;if(I&&r&&n.manuallyAnimateOnMount&&(I=!1),S.protectedKeys={...g},!S.isActive&&P===null||!E&&!S.prevProp||n1(E)||typeof E=="boolean")continue;const T=Xue(S.prevProp,E);let R=T||w===c&&S.isActive&&!I&&A||x>v&&A;const O=Array.isArray(E)?E:[E];let L=O.reduce(i,{});P===!1&&(L={});const{prevResolvedValues:J={}}=S,j={...J,...L},V=K=>{R=!0,m.delete(K),S.needsAnimating[K]=!0};for(const K in j){const Q=L[K],te=J[K];g.hasOwnProperty(K)||(Q!==te?vb(Q)&&vb(te)?!cV(Q,te)||T?V(K):S.protectedKeys[K]=!0:Q!==void 0?V(K):m.add(K):Q!==void 0&&m.has(K)?V(K):S.protectedKeys[K]=!0)}S.prevProp=E,S.prevResolvedValues=L,S.isActive&&(g={...g,...L}),r&&n.blockInitialAnimation&&(R=!1),R&&!I&&f.push(...O.map(K=>({animation:K,options:{type:w,...l}})))}if(m.size){const x={};m.forEach(w=>{const S=n.getBaseTarget(w);S!==void 0&&(x[w]=S)}),f.push({animation:x})}let _=Boolean(f.length);return r&&u.initial===!1&&!n.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(f):Promise.resolve()}function a(l,c,u){var d;if(t[l].isActive===c)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),t[l].isActive=c;const f=o(u,l);for(const m in t)t[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function Xue(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!cV(e,n):!1}function lu(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Yue(){return{[Tn.Animate]:lu(!0),[Tn.InView]:lu(),[Tn.Hover]:lu(),[Tn.Tap]:lu(),[Tn.Drag]:lu(),[Tn.Focus]:lu(),[Tn.Exit]:lu()}}const que={animation:ec(({visualElement:n,animate:e})=>{n.animationState||(n.animationState=Kue(n)),n1(e)&&k.useEffect(()=>e.subscribe(n),[e])}),exit:ec(n=>{const{custom:e,visualElement:t}=n,[r,i]=lV(),s=k.useContext(e1);k.useEffect(()=>{t.isPresent=r;const o=t.animationState&&t.animationState.setActive(Tn.Exit,!r,{custom:s&&s.custom||e});o&&!r&&o.then(i)},[r])})},t3=(n,e)=>Math.abs(n-e);function Que(n,e){const t=t3(n.x,e.x),r=t3(n.y,e.y);return Math.sqrt(t**2+r**2)}class BV{constructor(e,t,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=gC(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,d=Que(c.offset,{x:0,y:0})>=3;if(!u&&!d)return;const{point:f}=c,{timestamp:m}=rl;this.history.push({...f,timestamp:m});const{onStart:g,onMove:v}=this.handlers;u||(g&&g(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=mC(u,this.transformPagePoint),Hi.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:f}=this.handlers,m=gC(c.type==="pointercancel"?this.lastMoveEventInfo:mC(u,this.transformPagePoint),this.history);this.startEvent&&d&&d(c,m),f&&f(c,m)},!tV(e))return;this.handlers=t,this.transformPagePoint=r;const i=i1(e),s=mC(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=rl;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,gC(s,this.history)),this.removeListeners=s1(of(window,"pointermove",this.handlePointerMove),of(window,"pointerup",this.handlePointerUp),of(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ac.update(this.updatePoint)}}function mC(n,e){return e?{point:e(n.point)}:n}function n3(n,e){return{x:n.x-e.x,y:n.y-e.y}}function gC({point:n},e){return{point:n,delta:n3(n,DV(e)),offset:n3(n,Zue(e)),velocity:ede(e,.1)}}function Zue(n){return n[0]}function DV(n){return n[n.length-1]}function ede(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=DV(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>yx(e)));)t--;if(!r)return{x:0,y:0};const s=(i.timestamp-r.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ts(n){return n.max-n.min}function ET(n,e=0,t=.01){return Math.abs(n-e)<=t}function r3(n,e,t,r=.5){n.origin=r,n.originPoint=fr(e.min,e.max,n.origin),n.scale=Ts(t)/Ts(e),(ET(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=fr(t.min,t.max,n.origin)-n.originPoint,(ET(n.translate)||isNaN(n.translate))&&(n.translate=0)}function _g(n,e,t,r){r3(n.x,e.x,t.x,r==null?void 0:r.originX),r3(n.y,e.y,t.y,r==null?void 0:r.originY)}function i3(n,e,t){n.min=t.min+e.min,n.max=n.min+Ts(e)}function tde(n,e,t){i3(n.x,e.x,t.x),i3(n.y,e.y,t.y)}function s3(n,e,t){n.min=e.min-t.min,n.max=n.min+Ts(e)}function xg(n,e,t){s3(n.x,e.x,t.x),s3(n.y,e.y,t.y)}function nde(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?fr(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?fr(t,n,r.max):Math.min(n,t)),n}function o3(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function rde(n,{top:e,left:t,bottom:r,right:i}){return{x:o3(n.x,t,i),y:o3(n.y,e,r)}}function a3(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function ide(n,e){return{x:a3(n.x,e.x),y:a3(n.y,e.y)}}function sde(n,e){let t=.5;const r=Ts(n),i=Ts(e);return i>r?t=Sb(e.min,e.max-r,n.min):r>i&&(t=Sb(n.min,n.max-i,e.min)),Lf(0,1,t)}function ode(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const CT=.35;function ade(n=CT){return n===!1?n=0:n===!0&&(n=CT),{x:l3(n,"left","right"),y:l3(n,"top","bottom")}}function l3(n,e,t){return{min:c3(n,e),max:c3(n,t)}}function c3(n,e){return typeof n=="number"?n:n[e]||0}const u3=()=>({translate:0,scale:1,origin:0,originPoint:0}),bg=()=>({x:u3(),y:u3()}),d3=()=>({min:0,max:0}),Pr=()=>({x:d3(),y:d3()});function ta(n){return[n("x"),n("y")]}function FV({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function lde({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function cde(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function vC(n){return n===void 0||n===1}function AT({scale:n,scaleX:e,scaleY:t}){return!vC(n)||!vC(e)||!vC(t)}function Su(n){return AT(n)||zV(n)||n.z||n.rotate||n.rotateX||n.rotateY}function zV(n){return h3(n.x)||h3(n.y)}function h3(n){return n&&n!=="0%"}function Cb(n,e,t){const r=n-t,i=e*r;return t+i}function f3(n,e,t,r,i){return i!==void 0&&(n=Cb(n,i,r)),Cb(n,t,r)+e}function MT(n,e=0,t=1,r,i){n.min=f3(n.min,e,t,r,i),n.max=f3(n.max,e,t,r,i)}function UV(n,{x:e,y:t}){MT(n.x,e.translate,e.scale,e.originPoint),MT(n.y,t.translate,t.scale,t.originPoint)}function ude(n,e,t,r=!1){var i,s;const o=t.length;if(!o)return;e.x=e.y=1;let a,l;for(let c=0;c<o;c++)a=t[c],l=a.projectionDelta,((s=(i=a.instance)===null||i===void 0?void 0:i.style)===null||s===void 0?void 0:s.display)!=="contents"&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Vh(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,UV(n,l)),r&&Su(a.latestValues)&&Vh(n,a.latestValues));e.x=p3(e.x),e.y=p3(e.y)}function p3(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Jl(n,e){n.min=n.min+e,n.max=n.max+e}function m3(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=fr(n.min,n.max,s);MT(n,e[t],e[r],o,e.scale)}const dde=["x","scaleX","originX"],hde=["y","scaleY","originY"];function Vh(n,e){m3(n.x,e,dde),m3(n.y,e,hde)}function GV(n,e){return FV(cde(n.getBoundingClientRect(),e))}function fde(n,e,t){const r=GV(n,t),{scroll:i}=e;return i&&(Jl(r.x,i.offset.x),Jl(r.y,i.offset.y)),r}const pde=new WeakMap;class mde{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pr(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){if(this.visualElement.isPresent===!1)return;const r=a=>{this.stopAnimation(),t&&this.snapToCursor(i1(a,"page").point)},i=(a,l)=>{var c;const{drag:u,dragPropagation:d,onDragStart:f}=this.getProps();u&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=iV(u),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ta(m=>{var g,v;let _=this.getAxisMotionValue(m).get()||0;if(pa.test(_)){const x=(v=(g=this.visualElement.projection)===null||g===void 0?void 0:g.layout)===null||v===void 0?void 0:v.layoutBox[m];x&&(_=Ts(x)*(parseFloat(_)/100))}this.originPoint[m]=_}),f==null||f(a,l),(c=this.visualElement.animationState)===null||c===void 0||c.setActive(Tn.Drag,!0))},s=(a,l)=>{const{dragPropagation:c,dragDirectionLock:u,onDirectionLock:d,onDrag:f}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:m}=l;if(u&&this.currentDirection===null){this.currentDirection=gde(m),this.currentDirection!==null&&(d==null||d(this.currentDirection));return}this.updateAxis("x",l.point,m),this.updateAxis("y",l.point,m),this.visualElement.render(),f==null||f(a,l)},o=(a,l)=>this.stop(a,l);this.panSession=new BV(e,{onSessionStart:r,onStart:i,onMove:s,onSessionEnd:o},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s==null||s(e,t)}cancel(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(t=this.visualElement.animationState)===null||t===void 0||t.setActive(Tn.Drag,!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!n_(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=nde(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Gh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=rde(r.layoutBox,e):this.constraints=!1,this.elastic=ade(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ta(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=ode(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Gh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=fde(r,i.root,this.visualElement.getTransformPagePoint());let o=ide(i.layout.layoutBox,s);if(t){const a=t(lde(o));this.hasMutatedConstraints=!!a,a&&(o=FV(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ta(u=>{if(!n_(u,t,this.currentDirection))return;let d=(l==null?void 0:l[u])||{};o&&(d={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(b2(e,r,0,t))}stopAnimation(){ta(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){var t;const r="_drag"+e.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(e,((t=this.visualElement.getProps().initial)===null||t===void 0?void 0:t[e])||0)}snapToCursor(e){ta(t=>{const{drag:r}=this.getProps();if(!n_(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-fr(o,a,.5))}})}scalePositionWithinConstraints(){var e;if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!Gh(r)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ta(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=sde({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",(e=i.root)===null||e===void 0||e.updateScroll(),i.updateLayout(),this.resolveConstraints(),ta(a=>{if(!n_(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(fr(c,u,s[a]))})}addListeners(){var e;if(!this.visualElement.current)return;pde.set(this.visualElement,this);const t=this.visualElement.current,r=of(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();Gh(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&((e=s.root)===null||e===void 0||e.updateScroll(),s.updateLayout()),i();const a=Yu(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ta(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),o(),l==null||l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=CT,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function n_(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function gde(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}function vde(n){const{dragControls:e,visualElement:t}=n,r=QI(()=>new mde(t));k.useEffect(()=>e&&e.subscribe(r),[r,e]),k.useEffect(()=>r.addListeners(),[r])}function yde({onPan:n,onPanStart:e,onPanEnd:t,onPanSessionStart:r,visualElement:i}){const s=n||e||t||r,o=k.useRef(null),{transformPagePoint:a}=k.useContext(qI),l={onSessionStart:r,onStart:e,onMove:n,onEnd:(u,d)=>{o.current=null,t&&t(u,d)}};k.useEffect(()=>{o.current!==null&&o.current.updateHandlers(l)});function c(u){o.current=new BV(u,l,{transformPagePoint:a})}_b(i,"pointerdown",s&&c),aV(()=>o.current&&o.current.end())}const _de={pan:ec(yde),drag:ec(vde)};function TT(n){return typeof n=="string"&&n.startsWith("var(--")}const HV=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function xde(n){const e=HV.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function PT(n,e,t=1){const[r,i]=xde(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():TT(i)?PT(i,e,t+1):i}function bde(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!TT(s))return;const o=PT(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!TT(s))continue;const o=PT(s,r);o&&(e[i]=o,t&&t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const wde=new Set(["width","height","top","left","right","bottom","x","y"]),VV=n=>wde.has(n),Sde=n=>Object.keys(n).some(VV),g3=n=>n===Ed||n===dt;var v3;(function(n){n.width="width",n.height="height",n.left="left",n.right="right",n.top="top",n.bottom="bottom"})(v3||(v3={}));const y3=(n,e)=>parseFloat(n.split(", ")[e]),_3=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return y3(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?y3(s[1],n):0}},Ede=new Set(["x","y","z"]),Cde=mb.filter(n=>!Ede.has(n));function Ade(n){const e=[];return Cde.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const x3={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:_3(4,13),y:_3(5,14)},Mde=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=x3[c](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),n[c]=x3[c](l,s)}),n},Tde=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(VV);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let u=t[l],d=mm(u);const f=e[l];let m;if(vb(f)){const g=f.length,v=f[0]===null?1:0;u=f[v],d=mm(u);for(let _=v;_<g;_++)m?wb(mm(f[_])===m):m=mm(f[_])}else m=mm(f);if(d!==m)if(g3(d)&&g3(m)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&m===dt&&(e[l]=f.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(u===0||f===0)?u===0?c.set(m.transform(u)):e[l]=d.transform(f):(o||(s=Ade(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Mde(e,n,a);return s.length&&s.forEach(([u,d])=>{n.getValue(u).set(d)}),n.render(),t1&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Pde(n,e,t,r){return Sde(e)?Tde(n,e,t,r):{target:e,transitionEnd:r}}const Rde=(n,e,t,r)=>{const i=bde(n,e,r);return e=i.target,r=i.transitionEnd,Pde(n,e,t,r)},RT={current:null},WV={current:!1};function Ide(){if(WV.current=!0,!!t1)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>RT.current=n.matches;n.addListener(e),e()}else RT.current=!1}function Nde(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(cs(s))n.addValue(i,s),bb(r)&&r.add(i);else if(cs(o))n.addValue(i,Bf(s,{owner:n})),bb(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,Bf(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const jV=Object.keys(sv),kde=jV.length,b3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ode{constructor({parent:e,props:t,reducedMotionConfig:r,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Hi.render(this.render,!1,!0);const{latestValues:o,renderState:a}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=a,this.parent=e,this.props=t,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.isControllingVariants=r1(t),this.isVariantNode=GH(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:l,...c}=this.scrapeMotionValuesFromProps(t,{});for(const u in c){const d=c[u];o[u]!==void 0&&cs(d)&&(d.set(o[u],!1),bb(l)&&l.add(u))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){var t;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(t=this.parent)===null||t===void 0?void 0:t.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),WV.current||Ide(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:RT.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var e,t,r;(e=this.projection)===null||e===void 0||e.unmount(),Ac.update(this.notifyUpdate),Ac.render(this.render),this.valueSubscriptions.forEach(i=>i()),(t=this.removeFromVariantTree)===null||t===void 0||t.call(this),(r=this.parent)===null||r===void 0||r.children.delete(this);for(const i in this.events)this.events[i].clear();this.current=null}bindToMotionValue(e,t){const r=up.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Hi.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s,o,a){const l=[];for(let c=0;c<kde;c++){const u=jV[c],{isEnabled:d,Component:f}=sv[u];d(t)&&f&&l.push(k.createElement(f,{key:u,...t,visualElement:this}))}if(!this.projection&&o){this.projection=new o(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:m,layoutRoot:g}=t;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:Boolean(d)||f&&Gh(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:m,layoutRoot:g})}return l}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}setProps(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender();const t=this.props;this.props=e;for(let r=0;r<b3.length;r++){const i=b3[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Nde(this,this.scrapeMotionValuesFromProps(e,t),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){var t;return(t=this.props.variants)===null||t===void 0?void 0:t[e]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var e;return this.isVariantNode?this:(e=this.parent)===null||e===void 0?void 0:e.getClosestVariantNode()}getVariantContext(e=!1){var t,r;if(e)return(t=this.parent)===null||t===void 0?void 0:t.getVariantContext();if(!this.isControllingVariants){const s=((r=this.parent)===null||r===void 0?void 0:r.getVariantContext())||{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const i={};for(let s=0;s<Lde;s++){const o=$V[s],a=this.props[o];(iv(a)||a===!1)&&(i[o]=a)}return i}addVariantChild(e){var t;const r=this.getClosestVariantNode();if(r)return(t=r.variantChildren)===null||t===void 0||t.add(e),()=>r.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){var t;this.values.delete(e),(t=this.valueSubscriptions.get(e))===null||t===void 0||t(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Bf(t,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=o2(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!cs(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new c2),this.events[e].add(t)}notify(e,...t){var r;(r=this.events[e])===null||r===void 0||r.notify(...t)}}const $V=["initial",...w2],Lde=$V.length;class JV extends Ode{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){var r;return(r=e.style)===null||r===void 0?void 0:r[t]}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=Wce(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){Hce(this,r,o);const a=Rde(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function Bde(n){return window.getComputedStyle(n)}class Dde extends JV{readValueFromInstance(e,t){if(up.has(t)){const r=h2(t);return r&&r.default||0}else{const r=Bde(e),i=(jH(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return GV(e,t)}build(e,t,r,i){e2(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return s2(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){YH(e,t,r,i)}}class Fde extends JV{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){var r;return up.has(t)?((r=h2(t))===null||r===void 0?void 0:r.default)||0:(t=qH.has(t)?t:i2(t),e.getAttribute(t))}measureInstanceViewportBox(){return Pr()}scrapeMotionValuesFromProps(e,t){return ZH(e,t)}build(e,t,r,i){n2(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){QH(e,t,r,i)}mount(e){this.isSVGTag=r2(e.tagName),super.mount(e)}}const zde=(n,e)=>ZI(n)?new Fde(e,{enableHardwareAcceleration:!1}):new Dde(e,{enableHardwareAcceleration:!0});function w3(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const gm={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(dt.test(n))n=parseFloat(n);else return n;const t=w3(n,e.target.x),r=w3(n,e.target.y);return`${t}% ${r}%`}},S3="_$css",Ude={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=n.includes("var("),s=[];i&&(n=n.replace(HV,m=>(s.push(m),S3)));const o=Mc.parse(n);if(o.length>5)return r;const a=Mc.createTransformer(n),l=typeof o[0]!="number"?1:0,c=t.x.scale*e.x,u=t.y.scale*e.y;o[0+l]/=c,o[1+l]/=u;const d=fr(c,u,.5);typeof o[2+l]=="number"&&(o[2+l]/=d),typeof o[3+l]=="number"&&(o[3+l]/=d);let f=a(o);if(i){let m=0;f=f.replace(S3,()=>{const g=s[m];return m++,g})}return f}};class Gde extends mt.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Ile(Vde),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),gg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Hi.postRender(()=>{var a;!((a=o.getStack())===null||a===void 0)&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t!=null&&t.group&&t.group.remove(i),r!=null&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e==null||e()}render(){return null}}function Hde(n){const[e,t]=lV(),r=k.useContext(HH);return mt.createElement(Gde,{...n,layoutGroup:r,switchLayoutGroup:k.useContext(VH),isPresent:e,safeToRemove:t})}const Vde={borderRadius:{...gm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gm,borderTopRightRadius:gm,borderBottomLeftRadius:gm,borderBottomRightRadius:gm,boxShadow:Ude},Wde={measureLayout:Hde};function jde(n,e,t={}){const r=cs(n)?n:Bf(n);return r.start(b2("",r,e,t)),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}const KV=["TopLeft","TopRight","BottomLeft","BottomRight"],$de=KV.length,E3=n=>typeof n=="string"?parseFloat(n):n,C3=n=>typeof n=="number"||dt.test(n);function Jde(n,e,t,r,i,s){i?(n.opacity=fr(0,t.opacity!==void 0?t.opacity:1,Kde(r)),n.opacityExit=fr(e.opacity!==void 0?e.opacity:1,0,Xde(r))):s&&(n.opacity=fr(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<$de;o++){const a=`border${KV[o]}Radius`;let l=A3(e,a),c=A3(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||C3(l)===C3(c)?(n[a]=Math.max(fr(E3(l),E3(c),r),0),(pa.test(c)||pa.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=fr(e.rotate||0,t.rotate||0,r))}function A3(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Kde=XV(0,.5,_2),Xde=XV(.5,.95,y2);function XV(n,e,t){return r=>r<n?0:r>e?1:t(Sb(n,e,r))}function M3(n,e){n.min=e.min,n.max=e.max}function vo(n,e){M3(n.x,e.x),M3(n.y,e.y)}function T3(n,e,t,r,i){return n-=e,n=Cb(n,1/t,r),i!==void 0&&(n=Cb(n,1/i,r)),n}function Yde(n,e=0,t=1,r=.5,i,s=n,o=n){if(pa.test(e)&&(e=parseFloat(e),e=fr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=fr(s.min,s.max,r);n===s&&(a-=e),n.min=T3(n.min,e,t,a,i),n.max=T3(n.max,e,t,a,i)}function P3(n,e,[t,r,i],s,o){Yde(n,e[t],e[r],e[i],e.scale,s,o)}const qde=["x","scaleX","originX"],Qde=["y","scaleY","originY"];function R3(n,e,t,r){P3(n.x,e,qde,t==null?void 0:t.x,r==null?void 0:r.x),P3(n.y,e,Qde,t==null?void 0:t.y,r==null?void 0:r.y)}function I3(n){return n.translate===0&&n.scale===1}function YV(n){return I3(n.x)&&I3(n.y)}function qV(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function N3(n){return Ts(n.x)/Ts(n.y)}class Zde{constructor(){this.members=[]}add(e){a2(this.members,e),e.scheduleRender()}remove(e){if(l2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){var r;const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),!((r=e.root)===null||r===void 0)&&r.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{var t,r,i,s,o;(r=(t=e.options).onExitComplete)===null||r===void 0||r.call(t),(o=(i=e.resumingFrom)===null||i===void 0?void 0:(s=i.options).onExitComplete)===null||o===void 0||o.call(s)})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function k3(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:u}=t;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const ehe=(n,e)=>n.depth-e.depth;class the{constructor(){this.children=[],this.isDirty=!1}add(e){a2(this.children,e),this.isDirty=!0}remove(e){l2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ehe),this.isDirty=!1,this.children.forEach(e)}}const O3=["","X","Y","Z"],L3=1e3;let nhe=0;function QV({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=nhe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(she),this.nodes.forEach(lhe),this.nodes.forEach(che)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new the)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new c2),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l==null||l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){var l;if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),(l=this.parent)===null||l===void 0||l.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||c)&&(this.isLayoutDirty=!0),n){let f;const m=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=kV(m,250),gg.hasAnimatedSinceResize&&(gg.hasAnimatedSinceResize=!1,this.nodes.forEach(D3))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:v})=>{var _,x,w,S,E;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=(x=(_=this.options.transition)!==null&&_!==void 0?_:d.getDefaultTransition())!==null&&x!==void 0?x:phe,{onLayoutAnimationStart:P,onLayoutAnimationComplete:I}=d.getProps(),T=!this.targetLayout||!qV(this.targetLayout,v)||g,R=!m&&g;if(this.options.layoutRoot||!((w=this.resumeFrom)===null||w===void 0)&&w.instance||R||m&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,R);const O={...OV(A,"layout"),onPlay:P,onComplete:I};(d.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else!m&&this.animationProgress===0&&D3(this),this.isLead()&&((E=(S=this.options).onExitComplete)===null||E===void 0||E.call(S));this.targetLayout=v})}unmount(){var o,a;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(o=this.getStack())===null||o===void 0||o.remove(this),(a=this.parent)===null||a===void 0||a.children.delete(this),this.instance=void 0,Ac.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var o;return this.isAnimationBlocked||((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimationBlocked())||!1}startUpdate(){var o;this.isUpdateBlocked()||(this.isUpdating=!0,(o=this.nodes)===null||o===void 0||o.forEach(uhe),this.animationId++)}getTransformTemplate(){var o;return(o=this.options.visualElement)===null||o===void 0?void 0:o.getProps().transformTemplate}willUpdate(o=!0){var a,l,c;if(this.root.isUpdateBlocked()){(l=(a=this.options).onExitComplete)===null||l===void 0||l.call(a);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;u===void 0&&!d||(this.prevTransformTemplateValue=(c=this.getTransformTemplate())===null||c===void 0?void 0:c(this.latestValues,""),this.updateSnapshot(),o&&this.notifyListeners("willUpdate"))}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(B3);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(mhe),this.potentialNodes.clear()),this.nodes.forEach(ahe),this.nodes.forEach(rhe),this.nodes.forEach(ihe),this.clearAllSnapshots(),lC.update(),lC.preRender(),lC.render())}clearAllSnapshots(){this.nodes.forEach(ohe),this.sharedNodes.forEach(dhe)}scheduleUpdateProjection(){Hi.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Hi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var o;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(o=this.options.visualElement)===null||o===void 0||o.notify("LayoutMeasure",this.layout.layoutBox,a==null?void 0:a.layoutBox)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){var o;if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!YV(this.projectionDelta),c=(o=this.getTransformTemplate())===null||o===void 0?void 0:o(this.latestValues,""),u=c!==this.prevTransformTemplateValue;a&&(l||Su(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),ghe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Pr();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Jl(a.x,l.offset.x),Jl(a.y,l.offset.y)),a}removeElementScroll(o){const a=Pr();vo(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){vo(a,o);const{scroll:f}=this.root;f&&(Jl(a.x,-f.offset.x),Jl(a.y,-f.offset.y))}Jl(a.x,u.offset.x),Jl(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Pr();vo(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Vh(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Su(u.latestValues)&&Vh(l,u.latestValues)}return Su(this.latestValues)&&Vh(l,this.latestValues),l}removeTransform(o){var a;const l=Pr();vo(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Su(u.latestValues))continue;AT(u.latestValues)&&u.updateSnapshot();const d=Pr(),f=u.measurePageBox();vo(d,f),R3(l,u.latestValues,(a=u.snapshot)===null||a===void 0?void 0:a.layoutBox,d)}return Su(this.latestValues)&&R3(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:l,layoutId:c}=this.options;if(!(!this.layout||!(l||c))){if(!this.targetDelta&&!this.relativeTarget){const u=this.getClosestProjectingParent();u&&u.layout?(this.relativeParent=u,this.relativeTarget=Pr(),this.relativeTargetOrigin=Pr(),xg(this.relativeTargetOrigin,this.layout.layoutBox,u.layout.layoutBox),vo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pr(),this.targetWithTransforms=Pr()),this.relativeTarget&&this.relativeTargetOrigin&&(!((o=this.relativeParent)===null||o===void 0)&&o.target)?tde(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):vo(this.target,this.layout.layoutBox),UV(this.target,this.targetDelta)):vo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const u=this.getClosestProjectingParent();u&&Boolean(u.resumingFrom)===Boolean(this.resumingFrom)&&!u.options.layoutScroll&&u.target?(this.relativeParent=u,this.relativeTarget=Pr(),this.relativeTargetOrigin=Pr(),xg(this.relativeTargetOrigin,this.target,u.target),vo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||AT(this.parent.latestValues)||zV(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta||this.parent.options.layoutRoot)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var o;const{isProjectionDirty:a,isTransformDirty:l}=this;this.isProjectionDirty=this.isTransformDirty=!1;const c=this.getLead(),u=Boolean(this.resumingFrom)||this!==c;let d=!0;if(a&&(d=!1),u&&l&&(d=!1),d)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=Boolean(((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;vo(this.layoutCorrected,this.layout.layoutBox),ude(this.layoutCorrected,this.treeScale,this.path,u);const{target:g}=c;if(!g)return;this.projectionDelta||(this.projectionDelta=bg(),this.projectionDeltaWithTransform=bg());const v=this.treeScale.x,_=this.treeScale.y,x=this.projectionTransform;_g(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=k3(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==v||this.treeScale.y!==_)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a,l,c;(l=(a=this.options).scheduleRender)===null||l===void 0||l.call(a),o&&((c=this.getStack())===null||c===void 0||c.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){var l,c;const u=this.snapshot,d=(u==null?void 0:u.latestValues)||{},f={...this.latestValues},m=bg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Pr(),v=(u==null?void 0:u.source)!==((l=this.layout)===null||l===void 0?void 0:l.source),_=(((c=this.getStack())===null||c===void 0?void 0:c.members.length)||0)<=1,x=Boolean(v&&!_&&this.options.crossfade===!0&&!this.path.some(fhe));this.animationProgress=0,this.mixTargetDelta=w=>{var S;const E=w/1e3;F3(m.x,o.x,E),F3(m.y,o.y,E),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((S=this.relativeParent)===null||S===void 0)&&S.layout)&&(xg(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hhe(this.relativeTarget,this.relativeTargetOrigin,g,E)),v&&(this.animationValues=f,Jde(f,d,this.latestValues,E,x,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)===null||a===void 0||a.stop(),this.resumingFrom&&((l=this.resumingFrom.currentAnimation)===null||l===void 0||l.stop()),this.pendingAnimation&&(Ac.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Hi.update(()=>{gg.hasAnimatedSinceResize=!0,this.currentAnimation=jde(0,L3,{...o,onUpdate:c=>{var u;this.mixTargetDelta(c),(u=o.onUpdate)===null||u===void 0||u.call(o,c)},onComplete:()=>{var c;(c=o.onComplete)===null||c===void 0||c.call(o),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var o;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(o=this.getStack())===null||o===void 0||o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var o;this.currentAnimation&&((o=this.mixTargetDelta)===null||o===void 0||o.call(this,L3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&ZV(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Pr();const d=Ts(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Ts(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}vo(a,l),Vh(a,u),_g(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){var l,c,u;this.sharedNodes.has(o)||this.sharedNodes.set(o,new Zde),this.sharedNodes.get(o).add(a),a.promote({transition:(l=a.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(u=(c=a.options.initialPromotionConfig)===null||c===void 0?void 0:c.shouldPreserveFollowOpacity)===null||u===void 0?void 0:u.call(c,a)})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<O3.length;u++){const d="rotate"+O3[u];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o==null||o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=vx(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=vx(o.pointerEvents)||""),this.hasProjected&&!Su(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=k3(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:m,y:g}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in pb){if(f[v]===void 0)continue;const{correct:_,applyTo:x}=pb[v],w=c.transform==="none"?f[v]:_(f[v],d);if(x){const S=x.length;for(let E=0;E<S;E++)c[x[E]]=w}else c[v]=w}return this.options.layoutId&&(c.pointerEvents=d===this?vx(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(B3),this.root.sharedNodes.clear()}}}function rhe(n){n.updateLayout()}function ihe(n){var e,t,r;const i=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&i&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=n.layout,{animationType:a}=n.options,l=i.source!==n.layout.source;a==="size"?ta(m=>{const g=l?i.measuredBox[m]:i.layoutBox[m],v=Ts(g);g.min=s[m].min,g.max=g.min+v}):ZV(a,i.layoutBox,s)&&ta(m=>{const g=l?i.measuredBox[m]:i.layoutBox[m],v=Ts(s[m]);g.max=g.min+v});const c=bg();_g(c,s,i.layoutBox);const u=bg();l?_g(u,n.applyTransform(o,!0),i.measuredBox):_g(u,s,i.layoutBox);const d=!YV(c);let f=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:v}=m;if(g&&v){const _=Pr();xg(_,i.layoutBox,g.layoutBox);const x=Pr();xg(x,s,v.layoutBox),qV(_,x)||(f=!0),m.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=_,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:i,delta:u,layoutDelta:c,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else n.isLead()&&((r=(t=n.options).onExitComplete)===null||r===void 0||r.call(t));n.options.transition=void 0}function she(n){n.isProjectionDirty||(n.isProjectionDirty=Boolean(n.parent&&n.parent.isProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=Boolean(n.parent&&n.parent.isTransformDirty))}function ohe(n){n.clearSnapshot()}function B3(n){n.clearMeasurements()}function ahe(n){const{visualElement:e}=n.options;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function D3(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function lhe(n){n.resolveTargetDelta()}function che(n){n.calcProjection()}function uhe(n){n.resetRotation()}function dhe(n){n.removeLeadSnapshot()}function F3(n,e,t){n.translate=fr(e.translate,0,t),n.scale=fr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function z3(n,e,t,r){n.min=fr(e.min,t.min,r),n.max=fr(e.max,t.max,r)}function hhe(n,e,t,r){z3(n.x,e.x,t.x,r),z3(n.y,e.y,t.y,r)}function fhe(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const phe={duration:.45,ease:[.4,0,.1,1]};function mhe(n,e){let t=n.root;for(let s=n.path.length-1;s>=0;s--)if(Boolean(n.path[s].instance)){t=n.path[s];break}const i=(t&&t!==n.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&n.mount(i,!0)}function U3(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function ghe(n){U3(n.x),U3(n.y)}function ZV(n,e,t){return n==="position"||n==="preserve-aspect"&&!ET(N3(e),N3(t),.2)}const vhe=QV({attachResizeListener:(n,e)=>Yu(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yC={current:void 0},yhe=QV({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!yC.current){const n=new vhe(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),yC.current=n}return yC.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>Boolean(window.getComputedStyle(n).position==="fixed")}),_he={...que,...gce,..._de,...Wde},cu=Ple((n,e)=>rce(n,e,_he,zde,yhe)),xhe={hidden:{opacity:0},show:{opacity:1}},bhe=[new mle,new cle,new ule({rotate:-.5,scale:.5,perspective:600})],e6=()=>y("div",{children:y(cu.div,{variants:xhe,initial:"hidden",animate:"show",className:"chd-container",children:F(lle,{className:"chd-slides",plugins:bhe,bounce:30,circular:!0,children:[y(cu.div,{className:"chd-slide",children:y(Vse,{})}),y(cu.div,{className:"chd-slide",children:y($se,{})}),y(cu.div,{className:"chd-slide",children:y(Xse,{})}),y(cu.div,{className:"chd-slide",children:y(Qse,{})}),y(cu.div,{className:"chd-slide",children:y(toe,{})}),y(dT,{className:"chd-pagination",children:y(cu.div,{className:"flicking-pagination"})})]})})}),whe={position:"fixed",overflow:"hidden",justifyContent:"space-between",display:"flex",bottom:0,marginBottom:"1rem",marginLeft:0,zIndex:1e3},She={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3};function Ehe({open:n,onClose:e}){return n?ws.createPortal(F(Fo,{children:[y("div",{style:She,onClick:e}),F("div",{style:whe,children:[y("button",{className:"chapters-btn",onClick:e,children:"Chapters"}),y(e6,{})]})]}),document.getElementById("portal")):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be=function(n,e){if(!n)throw dp(e)},dp=function(n){return new Error("Firebase Database ("+t6.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Che=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},S2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(t[u],t[d],t[f],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(n6(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Che(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new Ahe;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ahe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r6=function(n){const e=n6(n);return S2.encodeByteArray(e,!0)},Ab=function(n){return r6(n).replace(/\./g,"")},IT=function(n){try{return S2.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mhe(n){return lv(void 0,n)}function lv(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!The(t)||(n[t]=lv(n[t],e[t]));return n}function The(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Phe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rhe=()=>Phe().__FIREBASE_DEFAULTS__,Ihe=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Nhe=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&IT(n[1]);return e&&JSON.parse(e)},khe=()=>{try{return Rhe()||Ihe()||Nhe()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ohe=()=>{var n;return(n=khe())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lhe(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n),a="";return[Ab(JSON.stringify(t)),Ab(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bhe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bhe())}function Dhe(){return typeof self=="object"&&self.self===self}function Fhe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s6(){return t6.NODE_ADMIN===!0}function zhe(){try{return typeof indexedDB=="object"}catch{return!1}}function Uhe(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ghe="FirebaseError";class hp extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Ghe,Object.setPrototypeOf(this,hp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l1.prototype.create)}}class l1{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Hhe(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new hp(i,a,r)}}function Hhe(n,e){return n.replace(Vhe,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Vhe=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(n){return JSON.parse(n)}function Nr(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=cv(IT(s[0])||""),t=cv(IT(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},Whe=function(n){const e=o6(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},jhe=function(n){const e=o6(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function hd(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function NT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Mb(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function kT(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(G3(s)&&G3(o)){if(!kT(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function G3(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $he(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jhe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Khe(n,e){const t=new Xhe(n,e);return t.subscribe.bind(t)}class Xhe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Yhe(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=_C),i.error===void 0&&(i.error=_C),i.complete===void 0&&(i.complete=_C);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yhe(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _C(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht=function(n,e,t,r){let i;if(r<e?i="at least "+e:r>t&&(i=t===0?"none":"no more than "+t),i){const s=n+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function os(n,e){return`${n} failed: ${e} argument `}function Wr(n,e,t,r){if(!(r&&!t)&&typeof t!="function")throw new Error(os(n,e)+"must be a valid function.")}function H3(n,e,t,r){if(!(r&&!t)&&(typeof t!="object"||t===null))throw new Error(os(n,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qhe=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Be(r<n.length,"Surrogate pair missing trail surrogate.");const o=n.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},c1=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(n){return n&&n._delegate?n._delegate:n}class Tc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a6=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new qi;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zhe(e))try{this.getOrInitializeService({instanceIdentifier:Eu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Eu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Eu){return this.instances.has(e)}getOptions(e=Eu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Qhe(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Eu){return this.component?this.component.multipleInstances?e:Eu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Qhe(n){return n===Eu?void 0:n}function Zhe(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=[];var wn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(wn||(wn={}));const c6={debug:wn.DEBUG,verbose:wn.VERBOSE,info:wn.INFO,warn:wn.WARN,error:wn.ERROR,silent:wn.SILENT},efe=wn.INFO,tfe={[wn.DEBUG]:"log",[wn.VERBOSE]:"log",[wn.INFO]:"info",[wn.WARN]:"warn",[wn.ERROR]:"error"},nfe=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=tfe[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u1{constructor(e){this.name=e,this._logLevel=efe,this._logHandler=nfe,this._userLogHandler=null,E2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wn.DEBUG,...e),this._logHandler(this,wn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wn.VERBOSE,...e),this._logHandler(this,wn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wn.INFO,...e),this._logHandler(this,wn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wn.WARN,...e),this._logHandler(this,wn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wn.ERROR,...e),this._logHandler(this,wn.ERROR,...e)}}function rfe(n){E2.forEach(e=>{e.setLogLevel(n)})}function ife(n,e){for(const t of E2){let r=null;e&&e.level&&(r=c6[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&n({level:wn[s].toLowerCase(),message:a,args:o,type:i.name})}}}const sfe=(n,e)=>e.some(t=>n instanceof t);let V3,W3;function ofe(){return V3||(V3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function afe(){return W3||(W3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u6=new WeakMap,OT=new WeakMap,d6=new WeakMap,xC=new WeakMap,C2=new WeakMap;function lfe(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(vc(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&u6.set(t,n)}).catch(()=>{}),C2.set(e,n),e}function cfe(n){if(OT.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});OT.set(n,e)}let LT={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return OT.get(n);if(e==="objectStoreNames")return n.objectStoreNames||d6.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ufe(n){LT=n(LT)}function dfe(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(bC(this),e,...t);return d6.set(r,e.sort?e.sort():[e]),vc(r)}:afe().includes(n)?function(...e){return n.apply(bC(this),e),vc(u6.get(this))}:function(...e){return vc(n.apply(bC(this),e))}}function hfe(n){return typeof n=="function"?dfe(n):(n instanceof IDBTransaction&&cfe(n),sfe(n,ofe())?new Proxy(n,LT):n)}function vc(n){if(n instanceof IDBRequest)return lfe(n);if(xC.has(n))return xC.get(n);const e=hfe(n);return e!==n&&(xC.set(n,e),C2.set(e,n)),e}const bC=n=>C2.get(n);function ffe(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=vc(o);return r&&o.addEventListener("upgradeneeded",l=>{r(vc(o.result),l.oldVersion,l.newVersion,vc(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const pfe=["get","getKey","getAll","getAllKeys","count"],mfe=["put","add","delete","clear"],wC=new Map;function j3(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wC.get(e))return wC.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=mfe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pfe.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return wC.set(e,s),s}ufe(n=>({...n,get:(e,t,r)=>j3(e,t)||n.get(e,t,r),has:(e,t)=>!!j3(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gfe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vfe(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function vfe(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const BT="@firebase/app",$3="0.9.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new u1("@firebase/app"),yfe="@firebase/app-compat",_fe="@firebase/analytics-compat",xfe="@firebase/analytics",bfe="@firebase/app-check-compat",wfe="@firebase/app-check",Sfe="@firebase/auth",Efe="@firebase/auth-compat",Cfe="@firebase/database",Afe="@firebase/database-compat",Mfe="@firebase/functions",Tfe="@firebase/functions-compat",Pfe="@firebase/installations",Rfe="@firebase/installations-compat",Ife="@firebase/messaging",Nfe="@firebase/messaging-compat",kfe="@firebase/performance",Ofe="@firebase/performance-compat",Lfe="@firebase/remote-config",Bfe="@firebase/remote-config-compat",Dfe="@firebase/storage",Ffe="@firebase/storage-compat",zfe="@firebase/firestore",Ufe="@firebase/firestore-compat",Gfe="firebase",Hfe="9.18.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc="[DEFAULT]",Vfe={[BT]:"fire-core",[yfe]:"fire-core-compat",[xfe]:"fire-analytics",[_fe]:"fire-analytics-compat",[wfe]:"fire-app-check",[bfe]:"fire-app-check-compat",[Sfe]:"fire-auth",[Efe]:"fire-auth-compat",[Cfe]:"fire-rtdb",[Afe]:"fire-rtdb-compat",[Mfe]:"fire-fn",[Tfe]:"fire-fn-compat",[Pfe]:"fire-iid",[Rfe]:"fire-iid-compat",[Ife]:"fire-fcm",[Nfe]:"fire-fcm-compat",[kfe]:"fire-perf",[Ofe]:"fire-perf-compat",[Lfe]:"fire-rc",[Bfe]:"fire-rc-compat",[Dfe]:"fire-gcs",[Ffe]:"fire-gcs-compat",[zfe]:"fire-fst",[Ufe]:"fire-fst-compat","fire-js":"fire-js",[Gfe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new Map,uv=new Map;function Tb(n,e){try{n.container.addComponent(e)}catch(t){fd.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function h6(n,e){n.container.addOrOverwriteComponent(e)}function Df(n){const e=n.name;if(uv.has(e))return fd.debug(`There were multiple attempts to register component ${e}.`),!1;uv.set(e,n);for(const t of Rc.values())Tb(t,n);return!0}function f6(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Wfe(n,e,t=Pc){f6(n,e).clearInstance(t)}function jfe(){uv.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $fe={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},il=new l1("app","Firebase",$fe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jfe=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw il.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=Hfe;function M2(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw il.create("bad-app-name",{appName:String(i)});if(t||(t=Ohe()),!t)throw il.create("no-options");const s=Rc.get(i);if(s){if(kT(t,s.options)&&kT(r,s.config))return s;throw il.create("duplicate-app",{appName:i})}const o=new l6(i);for(const l of uv.values())o.addComponent(l);const a=new Jfe(t,r,o);return Rc.set(i,a),a}function Kfe(n=Pc){const e=Rc.get(n);if(!e&&n===Pc)return M2();if(!e)throw il.create("no-app",{appName:n});return e}function Xfe(){return Array.from(Rc.values())}async function p6(n){const e=n.name;Rc.has(e)&&(Rc.delete(e),await Promise.all(n.container.getProviders().map(t=>t.delete())),n.isDeleted=!0)}function yc(n,e,t){var r;let i=(r=Vfe[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fd.warn(a.join(" "));return}Df(new Tc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function m6(n,e){if(n!==null&&typeof n!="function")throw il.create("invalid-log-argument");ife(n,e)}function g6(n){rfe(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yfe="firebase-heartbeat-database",qfe=1,dv="firebase-heartbeat-store";let SC=null;function v6(){return SC||(SC=ffe(Yfe,qfe,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(dv)}}}).catch(n=>{throw il.create("idb-open",{originalErrorMessage:n.message})})),SC}async function Qfe(n){try{return(await v6()).transaction(dv).objectStore(dv).get(y6(n))}catch(e){if(e instanceof hp)fd.warn(e.message);else{const t=il.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fd.warn(t.message)}}}async function J3(n,e){try{const r=(await v6()).transaction(dv,"readwrite");return await r.objectStore(dv).put(e,y6(n)),r.done}catch(t){if(t instanceof hp)fd.warn(t.message);else{const r=il.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fd.warn(r.message)}}}function y6(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zfe=1024,epe=30*24*60*60*1e3;class tpe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rpe(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=K3();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=epe}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=K3(),{heartbeatsToSend:t,unsentEntries:r}=npe(this._heartbeatsCache.heartbeats),i=Ab(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function K3(){return new Date().toISOString().substring(0,10)}function npe(n,e=Zfe){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),X3(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),X3(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class rpe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zhe()?Uhe().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Qfe(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return J3(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return J3(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function X3(n){return Ab(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ipe(n){Df(new Tc("platform-logger",e=>new gfe(e),"PRIVATE")),Df(new Tc("heartbeat",e=>new tpe(e),"PRIVATE")),yc(BT,$3,n),yc(BT,$3,"esm2017"),yc("fire-js","")}ipe("");const spe=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:hp,SDK_VERSION:A2,_DEFAULT_ENTRY_NAME:Pc,_addComponent:Tb,_addOrOverwriteComponent:h6,_apps:Rc,_clearComponents:jfe,_components:uv,_getProvider:f6,_registerComponent:Df,_removeServiceInstance:Wfe,deleteApp:p6,getApp:Kfe,getApps:Xfe,initializeApp:M2,onLog:m6,registerVersion:yc,setLogLevel:g6},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ope{constructor(e,t){this._delegate=e,this.firebase=t,Tb(e,new Tc("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),p6(this._delegate)))}_getService(e,t=Pc){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Pc){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Tb(this._delegate,e)}_addOrOverwriteComponent(e){h6(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ape={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},Y3=new l1("app-compat","Firebase",ape);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lpe(n){const e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:yc,setLogLevel:g6,onLog:m6,apps:null,SDK_VERSION:A2,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:spe}};t.default=t,Object.defineProperty(t,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||Pc,!Ps(e,c))throw Y3.create("no-app",{appName:c});return e[c]}i.App=n;function s(c,u={}){const d=M2(c,u);if(Ps(e,d.name))return e[d.name];const f=new n(d,t);return e[d.name]=f,f}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const u=c.name,d=u.replace("-compat","");if(Df(c)&&c.type==="PUBLIC"){const f=(m=i())=>{if(typeof m[d]!="function")throw Y3.create("invalid-app-argument",{appName:u});return m[d]()};c.serviceProps!==void 0&&lv(f,c.serviceProps),t[d]=f,n.prototype[d]=function(...m){return this._getService.bind(this,u).apply(this,c.multipleInstances?m:[])}}return c.type==="PUBLIC"?t[d]:null}function l(c,u){return u==="serverAuth"?null:u}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(){const n=lpe(ope);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:_6,extendNamespace:e,createSubscribe:Khe,ErrorFactory:l1,deepExtend:lv});function e(t){lv(n,t)}return n}const cpe=_6();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=new u1("@firebase/app-compat"),upe="@firebase/app-compat",dpe="0.2.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hpe(n){yc(upe,dpe,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Dhe()&&self.firebase!==void 0){q3.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&q3.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const d1=cpe;hpe();var fpe="firebase",ppe="9.18.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */d1.registerVersion(fpe,ppe,"app-compat");const Q3="@firebase/database",Z3="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x6="";function b6(n){x6=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mpe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Nr(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:cv(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gpe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ps(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new mpe(e)}}catch{}return new gpe},zu=w6("localStorage"),DT=w6("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new u1("@firebase/database"),S6=function(){let n=1;return function(){return n++}}(),E6=function(n){const e=qhe(n),t=new Jhe;t.update(e);const r=t.digest();return S2.encodeByteArray(r)},s0=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=s0.apply(null,r):typeof r=="object"?e+=Nr(r):e+=r,e+=" "}return e};let qu=null,eF=!0;const C6=function(n,e){Be(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(af.logLevel=wn.VERBOSE,qu=af.log.bind(af),e&&DT.set("logging_enabled",!0)):typeof n=="function"?qu=n:(qu=null,DT.remove("logging_enabled"))},$r=function(...n){if(eF===!0&&(eF=!1,qu===null&&DT.get("logging_enabled")===!0&&C6(!0)),qu){const e=s0.apply(null,n);qu(e)}},o0=function(n){return function(...e){$r(n,...e)}},FT=function(...n){const e="FIREBASE INTERNAL ERROR: "+s0(...n);af.error(e)},ba=function(...n){const e=`FIREBASE FATAL ERROR: ${s0(...n)}`;throw af.error(e),new Error(e)},Ti=function(...n){const e="FIREBASE WARNING: "+s0(...n);af.warn(e)},vpe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ti("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},h1=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ype=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Ic="[MIN_NAME]",pl="[MAX_NAME]",Cd=function(n,e){if(n===e)return 0;if(n===Ic||e===pl)return-1;if(e===Ic||n===pl)return 1;{const t=tF(n),r=tF(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},_pe=function(n,e){return n===e?0:n<e?-1:1},vm=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Nr(e))},T2=function(n){if(typeof n!="object"||n===null)return Nr(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Nr(e[r]),t+=":",t+=T2(n[e[r]]);return t+="}",t},A6=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function Kr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const M6=function(n){Be(!h1(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,s,o,a,l;n===0?(s=0,o=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(s=0,o=Math.round(n/Math.pow(2,1-r-t))));const c=[];for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},xpe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},bpe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function wpe(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}const Spe=new RegExp("^-?(0*)\\d{1,10}$"),Epe=-2147483648,Cpe=2147483647,tF=function(n){if(Spe.test(n)){const e=Number(n);if(e>=Epe&&e<=Cpe)return e}return null},fp=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Ti("Exception was thrown by user callback.",t),e},Math.floor(0))}},Ape=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},wg=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mpe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ti(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tpe{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?($r("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ti(e)}}class lf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}lf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="5",T6="v",P6="s",R6="r",I6="f",N6=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,k6="ls",O6="p",zT="ac",L6="websocket",B6="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,t,r,i,s=!1,o="",a=!1,l=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zu.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&zu.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Ppe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function F6(n,e,t){Be(typeof e=="string","typeof type must == string"),Be(typeof t=="object","typeof params must == object");let r;if(e===L6)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===B6)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Ppe(n)&&(t.ns=n.namespace);const i=[];return Kr(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rpe{constructor(){this.counters_={}}incrementCounter(e,t=1){Ps(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Mhe(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={},CC={};function R2(n){const e=n.toString();return EC[e]||(EC[e]=new Rpe),EC[e]}function Ipe(n,e){const t=n.toString();return CC[t]||(CC[t]=e()),CC[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Npe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&fp(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF="start",kpe="close",Ope="pLPCommand",Lpe="pRTLPCB",z6="id",U6="pw",G6="ser",Bpe="cb",Dpe="seg",Fpe="ts",zpe="d",Upe="dframe",H6=1870,V6=30,Gpe=H6-V6,Hpe=25e3,Vpe=3e4;class tc{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=o0(e),this.stats_=R2(t),this.urlFn=l=>(this.appCheckToken&&(l[zT]=this.appCheckToken),F6(t,B6,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Npe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Vpe)),ype(()=>{if(this.isClosed_)return;this.scriptTagHolder=new I2((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===nF)this.id=a,this.password=l;else if(o===kpe)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[nF]="t",r[G6]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Bpe]=this.scriptTagHolder.uniqueCallbackIdentifier),r[T6]=P2,this.transportSessionId&&(r[P6]=this.transportSessionId),this.lastSessionId&&(r[k6]=this.lastSessionId),this.applicationId&&(r[O6]=this.applicationId),this.appCheckToken&&(r[zT]=this.appCheckToken),typeof location<"u"&&location.hostname&&N6.test(location.hostname)&&(r[R6]=I6);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){tc.forceAllow_=!0}static forceDisallow(){tc.forceDisallow_=!0}static isAvailable(){return tc.forceAllow_?!0:!tc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!xpe()&&!bpe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Nr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=r6(t),i=A6(r,Gpe);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[Upe]="t",r[z6]=e,r[U6]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Nr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class I2{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=S6(),window[Ope+this.uniqueCallbackIdentifier]=e,window[Lpe+this.uniqueCallbackIdentifier]=t,this.myIFrame=I2.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){$r("frame writing exception"),a.stack&&$r(a.stack),$r(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||$r("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[z6]=this.myID,e[U6]=this.myPW,e[G6]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+V6+r.length<=H6;){const o=this.pendingSegs.shift();r=r+"&"+Dpe+i+"="+o.seg+"&"+Fpe+i+"="+o.ts+"&"+zpe+i+"="+o.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(Hpe)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{$r("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wpe=16384,jpe=45e3;let Pb=null;typeof MozWebSocket<"u"?Pb=MozWebSocket:typeof WebSocket<"u"&&(Pb=WebSocket);class Ys{constructor(e,t,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=o0(this.connId),this.stats_=R2(t),this.connURL=Ys.connectionURL_(t,o,a,i,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i,s){const o={};return o[T6]=P2,typeof location<"u"&&location.hostname&&N6.test(location.hostname)&&(o[R6]=I6),t&&(o[P6]=t),r&&(o[k6]=r),i&&(o[zT]=i),s&&(o[O6]=s),F6(e,L6,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zu.set("previous_websocket_failure",!0);try{let r;s6(),this.mySock=new Pb(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ys.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Pb!==null&&!Ys.forceDisallow_}static previouslyFailed(){return zu.isInMemoryStorage||zu.get("previous_websocket_failure")===!0}markConnectionHealthy(){zu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=cv(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Be(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=Nr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=A6(t,Wpe);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jpe))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ys.responsesRequiredToBeHealthy=2;Ys.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[tc,Ys]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Ys&&Ys.isAvailable();let r=t&&!Ys.previouslyFailed();if(e.webSocketOnly&&(t||Ti("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ys];else{const i=this.transports_=[];for(const s of Ff.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ff.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ff.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $pe=6e4,Jpe=5e3,Kpe=10*1024,Xpe=100*1024,AC="t",rF="d",Ype="s",iF="r",qpe="e",sF="o",oF="a",aF="n",lF="p",Qpe="h";class Zpe{constructor(e,t,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=o0("c:"+this.id+":"),this.transportManager_=new Ff(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=wg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Xpe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Kpe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(AC in e){const t=e[AC];t===oF?this.upgradeIfSecondaryHealthy_():t===iF?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===sF&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=vm("t",e),r=vm("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:lF,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:oF,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:aF,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=vm("t",e),r=vm("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=vm(AC,e);if(rF in e){const r=e[rF];if(t===Qpe){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===aF){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Ype?this.onConnectionShutdown_(r):t===iF?this.onReset_(r):t===qpe?FT("Server Error: "+r):t===sF?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):FT("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),P2!==r&&Ti("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),wg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($pe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Jpe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:lF,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.allowedEvents_=e,this.listeners_={},Be(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Be(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb extends j6{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!i6()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Rb}getInitialEvent(e){return Be(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=32,uF=768;let fn=class{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}};function rn(){return new fn("")}function Rt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Nc(n){return n.pieces_.length-n.pieceNum_}function En(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new fn(n.pieces_,e)}function N2(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function eme(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function hv(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function $6(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new fn(e,0)}function $n(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof fn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new fn(t,0)}function It(n){return n.pieceNum_>=n.pieces_.length}function Ui(n,e){const t=Rt(n),r=Rt(e);if(t===null)return e;if(t===r)return Ui(En(n),En(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function tme(n,e){const t=hv(n,0),r=hv(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=Cd(t[i],r[i]);if(s!==0)return s}return t.length===r.length?0:t.length<r.length?-1:1}function k2(n,e){if(Nc(n)!==Nc(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Zs(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Nc(n)>Nc(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class nme{constructor(e,t){this.errorPrefix_=t,this.parts_=hv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=c1(this.parts_[r]);J6(this)}}function rme(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=c1(e),J6(n)}function ime(n){const e=n.parts_.pop();n.byteLength_-=c1(e),n.parts_.length>0&&(n.byteLength_-=1)}function J6(n){if(n.byteLength_>uF)throw new Error(n.errorPrefix_+"has a key path longer than "+uF+" bytes ("+n.byteLength_+").");if(n.parts_.length>cF)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+cF+") or object contains a cycle "+Cu(n))}function Cu(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2 extends j6{constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new O2}getInitialEvent(e){return Be(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=1e3,sme=60*5*1e3,dF=30*1e3,ome=1.3,ame=3e4,lme="server_kill",hF=3;class sl extends W6{constructor(e,t,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=sl.nextPersistentConnectionId_++,this.log_=o0("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ym,this.maxReconnectDelay_=sme,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!s6())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");O2.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Rb.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,s={r:i,a:e,b:t};this.log_(Nr(s)),Be(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new qi,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?t.resolve(a):t.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),t.promise}listen(e,t,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Be(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Be(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;sl.warnOnListenWarnings_(l,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Ps(e,"w")){const r=hd(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',s=t._path.toString();Ti(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||jhe(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=dF)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=Whe(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Be(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const s={p:t,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,s){this.initConnection_();const o={p:t,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,s=>{this.log_(t+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Nr(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):FT("Unrecognized action received from server: "+Nr(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Be(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ym,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ym,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ame&&(this.reconnectDelay_=ym),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ome)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+sl.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){Be(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?$r("getToken() completed but was canceled"):($r("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new Zpe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,m=>{Ti(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(lme)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ti(d),l())}}}interrupt(e){$r("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){$r("Resuming connection for reason: "+e),delete this.interruptReasons_[e],NT(this.interruptReasons_)&&(this.reconnectDelay_=ym,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(s=>T2(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new fn(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(t),s.delete(t),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){$r("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=hF&&(this.reconnectDelay_=dF,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){$r("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=hF&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+x6.replace(/\./g,"-")]=1,i6()?e["framework.cordova"]=1:Fhe()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Rb.getInstance().currentlyOnline();return NT(this.interruptReasons_)&&e}}sl.nextPersistentConnectionId_=0;sl.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Lt(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Lt(Ic,e),i=new Lt(Ic,t);return this.compare(r,i)!==0}minPost(){return Lt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r_;class K6 extends f1{static get __EMPTY_NODE(){return r_}static set __EMPTY_NODE(e){r_=e}compare(e,t){return Cd(e.name,t.name)}isDefinedOn(e){throw dp("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Lt.MIN}maxPost(){return new Lt(pl,r_)}makePost(e,t){return Be(typeof e=="string","KeyIndex indexValue must always be a string."),new Lt(e,r_)}toString(){return".key"}}const ma=new K6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class jr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??jr.RED,this.left=i??es.EMPTY_NODE,this.right=s??es.EMPTY_NODE}copy(e,t,r,i,s){return new jr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return es.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return es.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}jr.RED=!0;jr.BLACK=!1;class cme{copy(e,t,r,i,s){return this}insert(e,t,r){return new jr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class es{constructor(e,t=es.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new es(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,jr.BLACK,null,null))}remove(e){return new es(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,jr.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new i_(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new i_(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new i_(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new i_(this.root_,null,this.comparator_,!0,e)}}es.EMPTY_NODE=new cme;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ume(n,e){return Cd(n.name,e.name)}function L2(n,e){return Cd(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UT;function dme(n){UT=n}const X6=function(n){return typeof n=="number"?"number:"+M6(n):"string:"+n},Y6=function(n){if(n.isLeafNode()){const e=n.val();Be(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ps(e,".sv"),"Priority must be a string or number.")}else Be(n===UT||n.isEmpty(),"priority of unexpected type.");Be(n===UT||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fF;class Hr{constructor(e,t=Hr.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Be(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Y6(this.priorityNode_)}static set __childrenNodeConstructor(e){fF=e}static get __childrenNodeConstructor(){return fF}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Hr(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Hr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return It(e)?this:Rt(e)===".priority"?this.priorityNode_:Hr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Hr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=Rt(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(Be(r!==".priority"||Nc(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Hr.__childrenNodeConstructor.EMPTY_NODE.updateChild(En(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+X6(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=M6(this.value_):e+=this.value_,this.lazyHash_=E6(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Hr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Hr.__childrenNodeConstructor?-1:(Be(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=Hr.VALUE_TYPE_ORDER.indexOf(t),s=Hr.VALUE_TYPE_ORDER.indexOf(r);return Be(i>=0,"Unknown leaf type: "+t),Be(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Hr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q6,Q6;function hme(n){q6=n}function fme(n){Q6=n}class pme extends f1{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return s===0?Cd(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Lt.MIN}maxPost(){return new Lt(pl,new Hr("[PRIORITY-POST]",Q6))}makePost(e,t){const r=q6(e);return new Lt(t,new Hr("[PRIORITY-POST]",r))}toString(){return".priority"}}const In=new pme;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mme=Math.log(2);class gme{constructor(e){const t=s=>parseInt(Math.log(s)/mme,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ib=function(n,e,t,r){n.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=n[l],f=t?t(d):d,new jr(f,d.node,jr.BLACK,null,null);{const m=parseInt(u/2,10)+l,g=i(l,m),v=i(m+1,c);return d=n[m],f=t?t(d):d,new jr(f,d.node,jr.BLACK,g,v)}},s=function(l){let c=null,u=null,d=n.length;const f=function(g,v){const _=d-g,x=d;d-=g;const w=i(_+1,x),S=n[_],E=t?t(S):S;m(new jr(E,S.node,v,null,w))},m=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const v=l.nextBitIsOne(),_=Math.pow(2,l.count-(g+1));v?f(_,jr.BLACK):(f(_,jr.BLACK),f(_,jr.RED))}return u},o=new gme(n.length),a=s(o);return new es(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MC;const rh={};class qa{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Be(rh&&In,"ChildrenNode.ts has not been loaded"),MC=MC||new qa({".priority":rh},{".priority":In}),MC}get(e){const t=hd(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof es?t:null}hasIndex(e){return Ps(this.indexSet_,e.toString())}addIndex(e,t){Be(e!==ma,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(Lt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Ib(r,e.getCompare()):a=rh;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new qa(u,c)}addToIndexes(e,t){const r=Mb(this.indexes_,(i,s)=>{const o=hd(this.indexSet_,s);if(Be(o,"Missing index implementation for "+s),i===rh)if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(Lt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Ib(a,o.getCompare())}else return rh;else{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new Lt(e.name,a))),l.insert(e,e.node)}});return new qa(r,this.indexSet_)}removeFromIndexes(e,t){const r=Mb(this.indexes_,i=>{if(i===rh)return i;{const s=t.get(e.name);return s?i.remove(new Lt(e.name,s)):i}});return new qa(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m;class ut{constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Y6(this.priorityNode_),this.children_.isEmpty()&&Be(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _m||(_m=new ut(new es(L2),null,qa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_m}updatePriority(e){return this.children_.isEmpty()?this:new ut(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?_m:t}}getChild(e){const t=Rt(e);return t===null?this:this.getImmediateChild(t).getChild(En(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(Be(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new Lt(e,t);let i,s;t.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?_m:this.priorityNode_;return new ut(i,o,s)}}updateChild(e,t){const r=Rt(e);if(r===null)return t;{Be(Rt(e)!==".priority"||Nc(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(En(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,s=!0;if(this.forEachChild(In,(o,a)=>{t[o]=a.val(e),r++,s&&ut.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in t)o[a]=t[a];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+X6(this.getPriority().val())+":"),this.forEachChild(In,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":E6(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Lt(e,t));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Lt(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Lt(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Lt.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Lt.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===a0?-1:0}withIndex(e){if(e===ma||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new ut(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===ma||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(In),i=t.getIterator(In);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===ma?null:this.indexMap_.get(e.toString())}}ut.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vme extends ut{constructor(){super(new es(L2),ut.EMPTY_NODE,qa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ut.EMPTY_NODE}isEmpty(){return!1}}const a0=new vme;Object.defineProperties(Lt,{MIN:{value:new Lt(Ic,ut.EMPTY_NODE)},MAX:{value:new Lt(pl,a0)}});K6.__EMPTY_NODE=ut.EMPTY_NODE;Hr.__childrenNodeConstructor=ut;dme(a0);fme(a0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yme=!0;function Qn(n,e=null){if(n===null)return ut.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),Be(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Hr(t,Qn(e))}if(!(n instanceof Array)&&yme){const t=[];let r=!1;if(Kr(n,(o,a)=>{if(o.substring(0,1)!=="."){const l=Qn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new Lt(o,l)))}}),t.length===0)return ut.EMPTY_NODE;const s=Ib(t,ume,o=>o.name,L2);if(r){const o=Ib(t,In.getCompare());return new ut(s,Qn(e),new qa({".priority":o},{".priority":In}))}else return new ut(s,Qn(e),qa.Default)}else{let t=ut.EMPTY_NODE;return Kr(n,(r,i)=>{if(Ps(n,r)&&r.substring(0,1)!=="."){const s=Qn(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Qn(e))}}hme(Qn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2 extends f1{constructor(e){super(),this.indexPath_=e,Be(!It(e)&&Rt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return s===0?Cd(e.name,t.name):s}makePost(e,t){const r=Qn(e),i=ut.EMPTY_NODE.updateChild(this.indexPath_,r);return new Lt(t,i)}maxPost(){const e=ut.EMPTY_NODE.updateChild(this.indexPath_,a0);return new Lt(pl,e)}toString(){return hv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _me extends f1{compare(e,t){const r=e.node.compareTo(t.node);return r===0?Cd(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Lt.MIN}maxPost(){return Lt.MAX}makePost(e,t){const r=Qn(e);return new Lt(t,r)}toString(){return".value"}}const D2=new _me;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(n){return{type:"value",snapshotNode:n}}function zf(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function fv(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function pv(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function xme(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.index_=e}updateChild(e,t,r,i,s,o){Be(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(fv(t,a)):Be(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(zf(t,r)):o.trackChildChange(pv(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return r!=null&&(e.isLeafNode()||e.forEachChild(In,(i,s)=>{t.hasChild(i)||r.trackChildChange(fv(i,s))}),t.isLeafNode()||t.forEachChild(In,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(pv(i,s,o))}else r.trackChildChange(zf(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ut.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this.indexedFilter_=new F2(e.getIndex()),this.index_=e.getIndex(),this.startPost_=mv.getStartPost_(e),this.endPost_=mv.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,o){return this.matches(new Lt(t,r))||(r=ut.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=ut.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(ut.EMPTY_NODE);const s=this;return t.forEachChild(In,(o,a)=>{s.matches(new Lt(o,a))||(i=i.updateImmediateChild(o,ut.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bme{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new mv(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,o){return this.rangedFilter_.matches(new Lt(t,r))||(r=ut.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,o):this.fullLimitUpdateChild_(e,t,r,s,o)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=ut.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){i=ut.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=t.withIndex(this.index_),i=i.updatePriority(ut.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,ut.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,m)=>d(m,f)}else o=this.index_.getCompare();const a=e;Be(a.numChildren()===this.limit_,"");const l=new Lt(t,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){const d=a.getImmediateChild(t);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===t||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const m=f==null?1:o(f,l);if(u&&!r.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(pv(t,r,d)),a.updateImmediateChild(t,r);{s!=null&&s.trackChildChange(fv(t,d));const v=a.updateImmediateChild(t,ut.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(zf(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(fv(c.name,c.node)),s.trackChildChange(zf(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(c.name,ut.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=In}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Be(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Be(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ic}hasEnd(){return this.endSet_}getIndexEndValue(){return Be(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Be(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Be(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===In}copy(){const e=new p1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function wme(n){return n.loadsAllData()?new F2(n.getIndex()):n.hasLimit()?new bme(n):new mv(n)}function Sme(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}function Eme(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}function GT(n,e,t){const r=n.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,t!=null?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function Cme(n,e,t){let r;return n.index_===ma||t?r=GT(n,e,t):r=GT(n,e,pl),r.startAfterSet_=!0,r}function HT(n,e,t){const r=n.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,t!==void 0?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ame(n,e,t){let r;return n.index_===ma||t?r=HT(n,e,t):r=HT(n,e,Ic),r.endBeforeSet_=!0,r}function m1(n,e){const t=n.copy();return t.index_=e,t}function pF(n){const e={};if(n.isDefault())return e;let t;if(n.index_===In?t="$priority":n.index_===D2?t="$value":n.index_===ma?t="$key":(Be(n.index_ instanceof B2,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Nr(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Nr(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Nr(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Nr(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Nr(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function mF(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==In&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb extends W6{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=o0("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(Be(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Nb.getListenId_(e,r),a={};this.listens_[o]=a;const l=pF(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),hd(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,t){const r=Nb.getListenId_(e,t);delete this.listens_[r]}get(e){const t=pF(e._queryParams),r=e._path.toString(),i=new qi;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+$he(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=cv(a.responseText)}catch{Ti("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ti("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mme{constructor(){this.rootNode_=ut.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){return{value:null,children:new Map}}function pp(n,e,t){if(It(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=Rt(e);n.children.has(r)||n.children.set(r,kb());const i=n.children.get(r);e=En(e),pp(i,e,t)}}function VT(n,e){if(It(e))return n.value=null,n.children.clear(),!0;if(n.value!==null){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(In,(r,i)=>{pp(n,new fn(r),i)}),VT(n,e)}}else if(n.children.size>0){const t=Rt(e);return e=En(e),n.children.has(t)&&VT(n.children.get(t),e)&&n.children.delete(t),n.children.size===0}else return!0}function WT(n,e,t){n.value!==null?t(e,n.value):Tme(n,(r,i)=>{const s=new fn(e.toString()+"/"+r);WT(i,s,t)})}function Tme(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pme{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Kr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=10*1e3,Rme=30*1e3,Ime=5*60*1e3;class Nme{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Pme(e);const r=gF+(Rme-gF)*Math.random();wg(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Kr(e,(i,s)=>{s>0&&Ps(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),wg(this.reportStats_.bind(this),Math.floor(Math.random()*2*Ime))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mo||(Mo={}));function z2(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function U2(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function G2(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Mo.ACK_USER_WRITE,this.source=z2()}operationForChild(e){if(It(this.path)){if(this.affectedTree.value!=null)return Be(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new fn(e));return new Ob(rn(),t,this.revert)}}else return Be(Rt(this.path)===e,"operationForChild called for unrelated child."),new Ob(En(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t){this.source=e,this.path=t,this.type=Mo.LISTEN_COMPLETE}operationForChild(e){return It(this.path)?new gv(this.source,rn()):new gv(this.source,En(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Mo.OVERWRITE}operationForChild(e){return It(this.path)?new pd(this.source,rn(),this.snap.getImmediateChild(e)):new pd(this.source,En(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Mo.MERGE}operationForChild(e){if(It(this.path)){const t=this.children.subtree(new fn(e));return t.isEmpty()?null:t.value?new pd(this.source,rn(),t.value):new Uf(this.source,rn(),t)}else return Be(Rt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Uf(this.source,En(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(It(e))return this.isFullyInitialized()&&!this.filtered_;const t=Rt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kme{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Ome(n,e,t,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(xme(o.childName,o.snapshotNode))}),xm(n,i,"child_removed",e,r,t),xm(n,i,"child_added",e,r,t),xm(n,i,"child_moved",s,r,t),xm(n,i,"child_changed",e,r,t),xm(n,i,"value",e,r,t),i}function xm(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,l)=>Bme(n,a,l)),o.forEach(a=>{const l=Lme(n,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function Lme(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function Bme(n,e,t){if(e.childName==null||t.childName==null)throw dp("Should only compare child_ events.");const r=new Lt(e.childName,e.snapshotNode),i=new Lt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(n,e){return{eventCache:n,serverCache:e}}function Sg(n,e,t,r){return g1(new kc(e,t,r),n.serverCache)}function e8(n,e,t,r){return g1(n.eventCache,new kc(e,t,r))}function Lb(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function md(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TC;const Dme=()=>(TC||(TC=new es(_pe)),TC);class An{constructor(e,t=Dme()){this.value=e,this.children=t}static fromObject(e){let t=new An(null);return Kr(e,(r,i)=>{t=t.set(new fn(r),i)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:rn(),value:this.value};if(It(e))return null;{const r=Rt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(En(e),t);return s!=null?{path:$n(new fn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(It(e))return this;{const t=Rt(e),r=this.children.get(t);return r!==null?r.subtree(En(e)):new An(null)}}set(e,t){if(It(e))return new An(t,this.children);{const r=Rt(e),s=(this.children.get(r)||new An(null)).set(En(e),t),o=this.children.insert(r,s);return new An(this.value,o)}}remove(e){if(It(e))return this.children.isEmpty()?new An(null):new An(null,this.children);{const t=Rt(e),r=this.children.get(t);if(r){const i=r.remove(En(e));let s;return i.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,i),this.value===null&&s.isEmpty()?new An(null):new An(this.value,s)}else return this}}get(e){if(It(e))return this.value;{const t=Rt(e),r=this.children.get(t);return r?r.get(En(e)):null}}setTree(e,t){if(It(e))return t;{const r=Rt(e),s=(this.children.get(r)||new An(null)).setTree(En(e),t);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new An(this.value,o)}}fold(e){return this.fold_(rn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_($n(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,rn(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if(It(e))return null;{const s=Rt(e),o=this.children.get(s);return o?o.findOnPath_(En(e),$n(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,rn(),t)}foreachOnPath_(e,t,r){if(It(e))return this;{this.value&&r(t,this.value);const i=Rt(e),s=this.children.get(i);return s?s.foreachOnPath_(En(e),$n(t,i),r):new An(null)}}foreach(e){this.foreach_(rn(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_($n(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.writeTree_=e}static empty(){return new No(new An(null))}}function Eg(n,e,t){if(It(e))return new No(new An(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Ui(i,e);return s=s.updateChild(o,t),new No(n.writeTree_.set(i,s))}else{const i=new An(t),s=n.writeTree_.setTree(e,i);return new No(s)}}}function jT(n,e,t){let r=n;return Kr(t,(i,s)=>{r=Eg(r,$n(e,i),s)}),r}function vF(n,e){if(It(e))return No.empty();{const t=n.writeTree_.setTree(e,new An(null));return new No(t)}}function $T(n,e){return Ad(n,e)!=null}function Ad(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Ui(t.path,e)):null}function yF(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(In,(r,i)=>{e.push(new Lt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Lt(r,i.value))}),e}function _c(n,e){if(It(e))return n;{const t=Ad(n,e);return t!=null?new No(new An(t)):new No(n.writeTree_.subtree(e))}}function JT(n){return n.writeTree_.isEmpty()}function Gf(n,e){return t8(rn(),n.writeTree_,e)}function t8(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Be(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):t=t8($n(n,i),s,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild($n(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(n,e){return s8(e,n)}function Fme(n,e,t,r,i){Be(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Eg(n.visibleWrites,e,t)),n.lastWriteId=r}function zme(n,e,t,r){Be(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=jT(n.visibleWrites,e,t),n.lastWriteId=r}function Ume(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function Gme(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);Be(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&Hme(a,r.path)?i=!1:Zs(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return Vme(n),!0;if(r.snap)n.visibleWrites=vF(n.visibleWrites,r.path);else{const a=r.children;Kr(a,l=>{n.visibleWrites=vF(n.visibleWrites,$n(r.path,l))})}return!0}else return!1}function Hme(n,e){if(n.snap)return Zs(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Zs($n(n.path,t),e))return!0;return!1}function Vme(n){n.visibleWrites=n8(n.allWrites,Wme,rn()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function Wme(n){return n.visible}function n8(n,e,t){let r=No.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)Zs(t,o)?(a=Ui(t,o),r=Eg(r,a,s.snap)):Zs(o,t)&&(a=Ui(o,t),r=Eg(r,rn(),s.snap.getChild(a)));else if(s.children){if(Zs(t,o))a=Ui(t,o),r=jT(r,a,s.children);else if(Zs(o,t))if(a=Ui(o,t),It(a))r=jT(r,rn(),s.children);else{const l=hd(s.children,Rt(a));if(l){const c=l.getChild(En(a));r=Eg(r,rn(),c)}}}else throw dp("WriteRecord should have .snap or .children")}}return r}function r8(n,e,t,r,i){if(!r&&!i){const s=Ad(n.visibleWrites,e);if(s!=null)return s;{const o=_c(n.visibleWrites,e);if(JT(o))return t;if(t==null&&!$T(o,rn()))return null;{const a=t||ut.EMPTY_NODE;return Gf(o,a)}}}else{const s=_c(n.visibleWrites,e);if(!i&&JT(s))return t;if(!i&&t==null&&!$T(s,rn()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Zs(c.path,e)||Zs(e,c.path))},a=n8(n.allWrites,o,e),l=t||ut.EMPTY_NODE;return Gf(a,l)}}}function jme(n,e,t){let r=ut.EMPTY_NODE;const i=Ad(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(In,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=_c(n.visibleWrites,e);return t.forEachChild(In,(o,a)=>{const l=Gf(_c(s,new fn(o)),a);r=r.updateImmediateChild(o,l)}),yF(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=_c(n.visibleWrites,e);return yF(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function $me(n,e,t,r,i){Be(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=$n(e,t);if($T(n.visibleWrites,s))return null;{const o=_c(n.visibleWrites,s);return JT(o)?i.getChild(t):Gf(o,i.getChild(t))}}function Jme(n,e,t,r){const i=$n(e,t),s=Ad(n.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(t)){const o=_c(n.visibleWrites,i);return Gf(o,r.getNode().getImmediateChild(t))}else return null}function Kme(n,e){return Ad(n.visibleWrites,e)}function Xme(n,e,t,r,i,s,o){let a;const l=_c(n.visibleWrites,e),c=Ad(l,rn());if(c!=null)a=c;else if(t!=null)a=Gf(l,t);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let m=f.getNext();for(;m&&u.length<i;)d(m,r)!==0&&u.push(m),m=f.getNext();return u}else return[]}function Yme(){return{visibleWrites:No.empty(),allWrites:[],lastWriteId:-1}}function Bb(n,e,t,r){return r8(n.writeTree,n.treePath,e,t,r)}function H2(n,e){return jme(n.writeTree,n.treePath,e)}function _F(n,e,t,r){return $me(n.writeTree,n.treePath,e,t,r)}function Db(n,e){return Kme(n.writeTree,$n(n.treePath,e))}function qme(n,e,t,r,i,s){return Xme(n.writeTree,n.treePath,e,t,r,i,s)}function V2(n,e,t){return Jme(n.writeTree,n.treePath,e,t)}function i8(n,e){return s8($n(n.treePath,e),n.writeTree)}function s8(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qme{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;Be(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),Be(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(r,pv(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(r,fv(r,i.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(r,zf(r,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(r,pv(r,e.snapshotNode,i.oldSnap));else throw dp("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zme{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const o8=new Zme;class W2{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new kc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return V2(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:md(this.viewCache_),s=qme(this.writes_,i,t,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ege(n){return{filter:n}}function tge(n,e){Be(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Be(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function nge(n,e,t,r,i){const s=new Qme;let o,a;if(t.type===Mo.OVERWRITE){const c=t;c.source.fromUser?o=KT(n,e,c.path,c.snap,r,i,s):(Be(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!It(c.path),o=Fb(n,e,c.path,c.snap,r,i,a,s))}else if(t.type===Mo.MERGE){const c=t;c.source.fromUser?o=ige(n,e,c.path,c.children,r,i,s):(Be(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=XT(n,e,c.path,c.children,r,i,a,s))}else if(t.type===Mo.ACK_USER_WRITE){const c=t;c.revert?o=age(n,e,c.path,r,i,s):o=sge(n,e,c.path,c.affectedTree,r,i,s)}else if(t.type===Mo.LISTEN_COMPLETE)o=oge(n,e,t.path,r,s);else throw dp("Unknown operation type: "+t.type);const l=s.getChanges();return rge(e,o,l),{viewCache:o,changes:l}}function rge(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Lb(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(Z6(Lb(e)))}}function a8(n,e,t,r,i,s){const o=e.eventCache;if(Db(r,t)!=null)return e;{let a,l;if(It(t))if(Be(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=md(e),u=c instanceof ut?c:ut.EMPTY_NODE,d=H2(r,u);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Bb(r,md(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Rt(t);if(c===".priority"){Be(Nc(t)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=_F(r,t,u,l);d!=null?a=n.filter.updatePriority(u,d):a=o.getNode()}else{const u=En(t);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=_F(r,t,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=V2(r,c,e.serverCache);d!=null?a=n.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return Sg(e,a,o.isFullyInitialized()||It(t),n.filter.filtersNodes())}}function Fb(n,e,t,r,i,s,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(It(t))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(t,r);c=u.updateFullNode(l.getNode(),m,null)}else{const m=Rt(t);if(!l.isCompleteForPath(t)&&Nc(t)>1)return e;const g=En(t),_=l.getNode().getImmediateChild(m).updateChild(g,r);m===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),m,_,g,o8,null)}const d=e8(e,c,l.isFullyInitialized()||It(t),u.filtersNodes()),f=new W2(i,d,s);return a8(n,d,t,i,f,a)}function KT(n,e,t,r,i,s,o){const a=e.eventCache;let l,c;const u=new W2(i,e,s);if(It(t))c=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Sg(e,c,!0,n.filter.filtersNodes());else{const d=Rt(t);if(d===".priority")c=n.filter.updatePriority(e.eventCache.getNode(),r),l=Sg(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=En(t),m=a.getNode().getImmediateChild(d);let g;if(It(f))g=r;else{const v=u.getCompleteChild(d);v!=null?N2(f)===".priority"&&v.getChild($6(f)).isEmpty()?g=v:g=v.updateChild(f,r):g=ut.EMPTY_NODE}if(m.equals(g))l=e;else{const v=n.filter.updateChild(a.getNode(),d,g,f,u,o);l=Sg(e,v,a.isFullyInitialized(),n.filter.filtersNodes())}}}return l}function xF(n,e){return n.eventCache.isCompleteForChild(e)}function ige(n,e,t,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=$n(t,l);xF(e,Rt(u))&&(a=KT(n,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=$n(t,l);xF(e,Rt(u))||(a=KT(n,a,u,c,i,s,o))}),a}function bF(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function XT(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;It(t)?c=r:c=new An(null).setTree(t,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const m=e.serverCache.getNode().getImmediateChild(d),g=bF(n,m,f);l=Fb(n,l,new fn(d),g,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const m=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!m){const g=e.serverCache.getNode().getImmediateChild(d),v=bF(n,g,f);l=Fb(n,l,new fn(d),v,i,s,o,a)}}),l}function sge(n,e,t,r,i,s,o){if(Db(i,t)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(It(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return Fb(n,e,t,l.getNode().getChild(t),i,s,a,o);if(It(t)){let c=new An(null);return l.getNode().forEachChild(ma,(u,d)=>{c=c.set(new fn(u),d)}),XT(n,e,t,c,i,s,a,o)}else return e}else{let c=new An(null);return r.foreach((u,d)=>{const f=$n(t,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),XT(n,e,t,c,i,s,a,o)}}function oge(n,e,t,r,i){const s=e.serverCache,o=e8(e,s.getNode(),s.isFullyInitialized()||It(t),s.isFiltered());return a8(n,o,t,r,o8,i)}function age(n,e,t,r,i,s){let o;if(Db(r,t)!=null)return e;{const a=new W2(r,e,i),l=e.eventCache.getNode();let c;if(It(t)||Rt(t)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Bb(r,md(e));else{const d=e.serverCache.getNode();Be(d instanceof ut,"serverChildren would be complete if leaf node"),u=H2(r,d)}u=u,c=n.filter.updateFullNode(l,u,s)}else{const u=Rt(t);let d=V2(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=n.filter.updateChild(l,u,d,En(t),a,s):e.eventCache.getNode().hasChild(u)?c=n.filter.updateChild(l,u,ut.EMPTY_NODE,En(t),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Bb(r,md(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Db(r,rn())!=null,Sg(e,c,o,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lge{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new F2(r.getIndex()),s=wme(r);this.processor_=ege(s);const o=t.serverCache,a=t.eventCache,l=i.updateFullNode(ut.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(ut.EMPTY_NODE,a.getNode(),null),u=new kc(l,o.isFullyInitialized(),i.filtersNodes()),d=new kc(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=g1(d,u),this.eventGenerator_=new kme(this.query_)}get query(){return this.query_}}function cge(n){return n.viewCache_.serverCache.getNode()}function uge(n){return Lb(n.viewCache_)}function dge(n,e){const t=md(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!It(e)&&!t.getImmediateChild(Rt(e)).isEmpty())?t.getChild(e):null}function wF(n){return n.eventRegistrations_.length===0}function hge(n,e){n.eventRegistrations_.push(e)}function SF(n,e,t){const r=[];if(t){Be(e==null,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function EF(n,e,t,r){e.type===Mo.MERGE&&e.source.queryId!==null&&(Be(md(n.viewCache_),"We should always have a full cache before handling merges"),Be(Lb(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=nge(n.processor_,i,e,t,r);return tge(n.processor_,s.viewCache),Be(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,l8(n,s.changes,s.viewCache.eventCache.getNode(),null)}function fge(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(In,(s,o)=>{r.push(zf(s,o))}),t.isFullyInitialized()&&r.push(Z6(t.getNode())),l8(n,r,t.getNode(),e)}function l8(n,e,t,r){const i=r?[r]:n.eventRegistrations_;return Ome(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zb;class c8{constructor(){this.views=new Map}}function pge(n){Be(!zb,"__referenceConstructor has already been defined"),zb=n}function mge(){return Be(zb,"Reference.ts has not been loaded"),zb}function gge(n){return n.views.size===0}function j2(n,e,t,r){const i=e.source.queryId;if(i!==null){const s=n.views.get(i);return Be(s!=null,"SyncTree gave us an op for an invalid query."),EF(s,e,t,r)}else{let s=[];for(const o of n.views.values())s=s.concat(EF(o,e,t,r));return s}}function u8(n,e,t,r,i){const s=e._queryIdentifier,o=n.views.get(s);if(!o){let a=Bb(t,i?r:null),l=!1;a?l=!0:r instanceof ut?(a=H2(t,r),l=!1):(a=ut.EMPTY_NODE,l=!1);const c=g1(new kc(a,l,!1),new kc(r,i,!1));return new lge(e,c)}return o}function vge(n,e,t,r,i,s){const o=u8(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),hge(o,t),fge(o,t)}function yge(n,e,t,r){const i=e._queryIdentifier,s=[];let o=[];const a=Oc(n);if(i==="default")for(const[l,c]of n.views.entries())o=o.concat(SF(c,t,r)),wF(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=n.views.get(i);l&&(o=o.concat(SF(l,t,r)),wF(l)&&(n.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Oc(n)&&s.push(new(mge())(e._repo,e._path)),{removed:s,events:o}}function d8(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function xc(n,e){let t=null;for(const r of n.views.values())t=t||dge(r,e);return t}function h8(n,e){if(e._queryParams.loadsAllData())return y1(n);{const r=e._queryIdentifier;return n.views.get(r)}}function f8(n,e){return h8(n,e)!=null}function Oc(n){return y1(n)!=null}function y1(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ub;function _ge(n){Be(!Ub,"__referenceConstructor has already been defined"),Ub=n}function xge(){return Be(Ub,"Reference.ts has not been loaded"),Ub}let bge=1;class CF{constructor(e){this.listenProvider_=e,this.syncPointTree_=new An(null),this.pendingWriteTree_=Yme(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $2(n,e,t,r,i){return Fme(n.pendingWriteTree_,e,t,r,i),i?mp(n,new pd(z2(),e,t)):[]}function wge(n,e,t,r){zme(n.pendingWriteTree_,e,t,r);const i=An.fromObject(t);return mp(n,new Uf(z2(),e,i))}function nc(n,e,t=!1){const r=Ume(n.pendingWriteTree_,e);if(Gme(n.pendingWriteTree_,e)){let s=new An(null);return r.snap!=null?s=s.set(rn(),!0):Kr(r.children,o=>{s=s.set(new fn(o),!0)}),mp(n,new Ob(r.path,s,t))}else return[]}function l0(n,e,t){return mp(n,new pd(U2(),e,t))}function Sge(n,e,t){const r=An.fromObject(t);return mp(n,new Uf(U2(),e,r))}function Ege(n,e){return mp(n,new gv(U2(),e))}function Cge(n,e,t){const r=J2(n,t);if(r){const i=K2(r),s=i.path,o=i.queryId,a=Ui(s,e),l=new gv(G2(o),a);return X2(n,s,l)}else return[]}function Gb(n,e,t,r,i=!1){const s=e._path,o=n.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||f8(o,e))){const l=yge(o,e,t,r);gge(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=n.syncPointTree_.findOnPath(s,(f,m)=>Oc(m));if(u&&!d){const f=n.syncPointTree_.subtree(s);if(!f.isEmpty()){const m=Tge(f);for(let g=0;g<m.length;++g){const v=m[g],_=v.query,x=v8(n,v);n.listenProvider_.startListening(Cg(_),vv(n,_),x.hashFn,x.onComplete)}}}!d&&c.length>0&&!r&&(u?n.listenProvider_.stopListening(Cg(e),null):c.forEach(f=>{const m=n.queryToTagMap.get(x1(f));n.listenProvider_.stopListening(Cg(f),m)}))}Pge(n,c)}return a}function p8(n,e,t,r){const i=J2(n,r);if(i!=null){const s=K2(i),o=s.path,a=s.queryId,l=Ui(o,e),c=new pd(G2(a),l,t);return X2(n,o,c)}else return[]}function Age(n,e,t,r){const i=J2(n,r);if(i){const s=K2(i),o=s.path,a=s.queryId,l=Ui(o,e),c=An.fromObject(t),u=new Uf(G2(a),l,c);return X2(n,o,u)}else return[]}function YT(n,e,t,r=!1){const i=e._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(i,(f,m)=>{const g=Ui(f,i);s=s||xc(m,g),o=o||Oc(m)});let a=n.syncPointTree_.get(i);a?(o=o||Oc(a),s=s||xc(a,rn())):(a=new c8,n.syncPointTree_=n.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=ut.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((m,g)=>{const v=xc(g,rn());v&&(s=s.updateImmediateChild(m,v))}));const c=f8(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=x1(e);Be(!n.queryToTagMap.has(f),"View does not exist, but we have a tag");const m=Rge();n.queryToTagMap.set(f,m),n.tagToQueryMap.set(m,f)}const u=v1(n.pendingWriteTree_,i);let d=vge(a,e,t,u,s,l);if(!c&&!o&&!r){const f=h8(a,e);d=d.concat(Ige(n,e,f))}return d}function _1(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const l=Ui(o,e),c=xc(a,l);if(c)return c});return r8(i,e,s,t,!0)}function Mge(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(c,u)=>{const d=Ui(c,t);r=r||xc(u,d)});let i=n.syncPointTree_.get(t);i?r=r||xc(i,rn()):(i=new c8,n.syncPointTree_=n.syncPointTree_.set(t,i));const s=r!=null,o=s?new kc(r,!0,!1):null,a=v1(n.pendingWriteTree_,e._path),l=u8(i,e,a,s?o.getNode():ut.EMPTY_NODE,s);return uge(l)}function mp(n,e){return m8(e,n.syncPointTree_,null,v1(n.pendingWriteTree_,rn()))}function m8(n,e,t,r){if(It(n.path))return g8(n,e,t,r);{const i=e.get(rn());t==null&&i!=null&&(t=xc(i,rn()));let s=[];const o=Rt(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=i8(r,o);s=s.concat(m8(a,l,c,u))}return i&&(s=s.concat(j2(i,n,r,t))),s}}function g8(n,e,t,r){const i=e.get(rn());t==null&&i!=null&&(t=xc(i,rn()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=i8(r,o),u=n.operationForChild(o);u&&(s=s.concat(g8(u,a,l,c)))}),i&&(s=s.concat(j2(i,n,r,t))),s}function v8(n,e){const t=e.query,r=vv(n,t);return{hashFn:()=>(cge(e)||ut.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Cge(n,t._path,r):Ege(n,t._path);{const s=wpe(i,t);return Gb(n,t,null,s)}}}}function vv(n,e){const t=x1(e);return n.queryToTagMap.get(t)}function x1(n){return n._path.toString()+"$"+n._queryIdentifier}function J2(n,e){return n.tagToQueryMap.get(e)}function K2(n){const e=n.indexOf("$");return Be(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new fn(n.substr(0,e))}}function X2(n,e,t){const r=n.syncPointTree_.get(e);Be(r,"Missing sync point for query tag that we're tracking");const i=v1(n.pendingWriteTree_,e);return j2(r,t,i,null)}function Tge(n){return n.fold((e,t,r)=>{if(t&&Oc(t))return[y1(t)];{let i=[];return t&&(i=d8(t)),Kr(r,(s,o)=>{i=i.concat(o)}),i}})}function Cg(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(xge())(n._repo,n._path):n}function Pge(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=x1(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}function Rge(){return bge++}function Ige(n,e,t){const r=e._path,i=vv(n,e),s=v8(n,t),o=n.listenProvider_.startListening(Cg(e),i,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(r);if(i)Be(!Oc(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!It(c)&&u&&Oc(u))return[y1(u).query];{let f=[];return u&&(f=f.concat(d8(u).map(m=>m.query))),Kr(d,(m,g)=>{f=f.concat(g)}),f}});for(let c=0;c<l.length;++c){const u=l[c];n.listenProvider_.stopListening(Cg(u),vv(n,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Y2(t)}node(){return this.node_}}class q2{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=$n(this.path_,e);return new q2(this.syncTree_,t)}node(){return _1(this.syncTree_,this.path_)}}const Nge=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},AF=function(n,e,t){if(!n||typeof n!="object")return n;if(Be(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return kge(n[".sv"],e,t);if(typeof n[".sv"]=="object")return Oge(n[".sv"],e);Be(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},kge=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:Be(!1,"Unexpected server value: "+n)}},Oge=function(n,e,t){n.hasOwnProperty("increment")||Be(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&Be(!1,"Unexpected increment value: "+r);const i=e.node();if(Be(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},y8=function(n,e,t,r){return Z2(e,new q2(t,n),r)},Q2=function(n,e,t){return Z2(n,new Y2(e),t)};function Z2(n,e,t){const r=n.getPriority().val(),i=AF(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=AF(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new Hr(a,Qn(i)):n}else{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Hr(i))),o.forEachChild(In,(a,l)=>{const c=Z2(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function b1(n,e){let t=e instanceof fn?e:new fn(e),r=n,i=Rt(t);for(;i!==null;){const s=hd(r.node.children,i)||{children:{},childCount:0};r=new eN(i,r,s),t=En(t),i=Rt(t)}return r}function Md(n){return n.node.value}function tN(n,e){n.node.value=e,qT(n)}function _8(n){return n.node.childCount>0}function Lge(n){return Md(n)===void 0&&!_8(n)}function w1(n,e){Kr(n.node.children,(t,r)=>{e(new eN(t,n,r))})}function x8(n,e,t,r){t&&!r&&e(n),w1(n,i=>{x8(i,e,!0,r)}),t&&r&&e(n)}function Bge(n,e,t){let r=t?n:n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function c0(n){return new fn(n.parent===null?n.name:c0(n.parent)+"/"+n.name)}function qT(n){n.parent!==null&&Dge(n.parent,n.name,n)}function Dge(n,e,t){const r=Lge(t),i=Ps(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,qT(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,qT(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fge=/[\[\].#$\/\u0000-\u001F\u007F]/,zge=/[\[\].#$\u0000-\u001F\u007F]/,PC=10*1024*1024,S1=function(n){return typeof n=="string"&&n.length!==0&&!Fge.test(n)},b8=function(n){return typeof n=="string"&&n.length!==0&&!zge.test(n)},Uge=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),b8(n)},yv=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!h1(n)||n&&typeof n=="object"&&Ps(n,".sv")},wa=function(n,e,t,r){r&&e===void 0||u0(os(n,"value"),e,t)},u0=function(n,e,t){const r=t instanceof fn?new nme(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Cu(r));if(typeof e=="function")throw new Error(n+"contains a function "+Cu(r)+" with contents = "+e.toString());if(h1(e))throw new Error(n+"contains "+e.toString()+" "+Cu(r));if(typeof e=="string"&&e.length>PC/3&&c1(e)>PC)throw new Error(n+"contains a string greater than "+PC+" utf8 bytes "+Cu(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Kr(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!S1(o)))throw new Error(n+" contains an invalid key ("+o+") "+Cu(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);rme(r,o),u0(n,a,r),ime(r)}),i&&s)throw new Error(n+' contains ".value" child '+Cu(r)+" in addition to actual children.")}},Gge=function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=hv(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!S1(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(tme);let i=null;for(t=0;t<e.length;t++){if(r=e[t],i!==null&&Zs(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},w8=function(n,e,t,r){if(r&&e===void 0)return;const i=os(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Kr(e,(o,a)=>{const l=new fn(o);if(u0(i,a,$n(t,l)),N2(l)===".priority"&&!yv(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),Gge(i,s)},nN=function(n,e,t){if(!(t&&e===void 0)){if(h1(e))throw new Error(os(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!yv(e))throw new Error(os(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},d0=function(n,e,t,r){if(!(r&&t===void 0)&&!S1(t))throw new Error(os(n,e)+'was an invalid key = "'+t+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},_v=function(n,e,t,r){if(!(r&&t===void 0)&&!b8(t))throw new Error(os(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Hge=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_v(n,e,t,r)},eo=function(n,e){if(Rt(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},S8=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!S1(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!Uge(t))throw new Error(os(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vge{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function E1(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();t!==null&&!k2(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function E8(n,e,t){E1(n,t),C8(n,r=>k2(r,e))}function Rs(n,e,t){E1(n,t),C8(n,r=>Zs(r,e)||Zs(e,r))}function C8(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const s=i.path;e(s)?(Wge(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function Wge(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();qu&&$r("event: "+t.toString()),fp(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8="repo_interrupt",jge=25;class $ge{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Vge,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kb(),this.transactionQueueTree_=new eN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Jge(n,e,t){if(n.stats_=R2(n.repoInfo_),n.forceRestClient_||Ape())n.server_=new Nb(n.repoInfo_,(r,i,s,o)=>{MF(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>TF(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nr(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new sl(n.repoInfo_,e,(r,i,s,o)=>{MF(n,r,i,s,o)},r=>{TF(n,r)},r=>{Kge(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=Ipe(n.repoInfo_,()=>new Nme(n.stats_,n.server_)),n.infoData_=new Mme,n.infoSyncTree_=new CF({startListening:(r,i,s,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=l0(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),rN(n,"connected",!1),n.serverSyncTree_=new CF({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Rs(n.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function M8(n){const t=n.infoData_.getNode(new fn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function h0(n){return Nge({timestamp:M8(n)})}function MF(n,e,t,r,i){n.dataUpdateCount++;const s=new fn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const l=Mb(t,c=>Qn(c));o=Age(n.serverSyncTree_,s,l,i)}else{const l=Qn(t);o=p8(n.serverSyncTree_,s,l,i)}else if(r){const l=Mb(t,c=>Qn(c));o=Sge(n.serverSyncTree_,s,l)}else{const l=Qn(t);o=l0(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Hf(n,s)),Rs(n.eventQueue_,a,o)}function TF(n,e){rN(n,"connected",e),e===!1&&qge(n)}function Kge(n,e){Kr(e,(t,r)=>{rN(n,t,r)})}function rN(n,e,t){const r=new fn("/.info/"+e),i=Qn(t);n.infoData_.updateSnapshot(r,i);const s=l0(n.infoSyncTree_,r,i);Rs(n.eventQueue_,r,s)}function C1(n){return n.nextWriteId_++}function Xge(n,e,t){const r=Mge(n.serverSyncTree_,e);return r!=null?Promise.resolve(r):n.server_.get(e).then(i=>{const s=Qn(i).withIndex(e._queryParams.getIndex());YT(n.serverSyncTree_,e,t,!0);let o;if(e._queryParams.loadsAllData())o=l0(n.serverSyncTree_,e._path,s);else{const a=vv(n.serverSyncTree_,e);o=p8(n.serverSyncTree_,e._path,s,a)}return Rs(n.eventQueue_,e._path,o),Gb(n.serverSyncTree_,e,t,null,!0),s},i=>(gp(n,"get for query "+Nr(e)+" failed: "+i),Promise.reject(new Error(i))))}function iN(n,e,t,r,i){gp(n,"set",{path:e.toString(),value:t,priority:r});const s=h0(n),o=Qn(t,r),a=_1(n.serverSyncTree_,e),l=Q2(o,a,s),c=C1(n),u=$2(n.serverSyncTree_,e,l,c,!0);E1(n.eventQueue_,u),n.server_.put(e.toString(),o.val(!0),(f,m)=>{const g=f==="ok";g||Ti("set at "+e+" failed: "+f);const v=nc(n.serverSyncTree_,c,!g);Rs(n.eventQueue_,e,v),Lc(n,i,f,m)});const d=oN(n,e);Hf(n,d),Rs(n.eventQueue_,d,[])}function Yge(n,e,t,r){gp(n,"update",{path:e.toString(),value:t});let i=!0;const s=h0(n),o={};if(Kr(t,(a,l)=>{i=!1,o[a]=y8($n(e,a),Qn(l),n.serverSyncTree_,s)}),i)$r("update() called with empty data.  Don't do anything."),Lc(n,r,"ok",void 0);else{const a=C1(n),l=wge(n.serverSyncTree_,e,o,a);E1(n.eventQueue_,l),n.server_.merge(e.toString(),t,(c,u)=>{const d=c==="ok";d||Ti("update at "+e+" failed: "+c);const f=nc(n.serverSyncTree_,a,!d),m=f.length>0?Hf(n,e):e;Rs(n.eventQueue_,m,f),Lc(n,r,c,u)}),Kr(t,c=>{const u=oN(n,$n(e,c));Hf(n,u)}),Rs(n.eventQueue_,e,[])}}function qge(n){gp(n,"onDisconnectEvents");const e=h0(n),t=kb();WT(n.onDisconnect_,rn(),(i,s)=>{const o=y8(i,s,n.serverSyncTree_,e);pp(t,i,o)});let r=[];WT(t,rn(),(i,s)=>{r=r.concat(l0(n.serverSyncTree_,i,s));const o=oN(n,i);Hf(n,o)}),n.onDisconnect_=kb(),Rs(n.eventQueue_,rn(),r)}function Qge(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&VT(n.onDisconnect_,e),Lc(n,t,r,i)})}function PF(n,e,t,r){const i=Qn(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{s==="ok"&&pp(n.onDisconnect_,e,i),Lc(n,r,s,o)})}function Zge(n,e,t,r,i){const s=Qn(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{o==="ok"&&pp(n.onDisconnect_,e,s),Lc(n,i,o,a)})}function eve(n,e,t,r){if(NT(t)){$r("onDisconnect().update() called with empty data.  Don't do anything."),Lc(n,r,"ok",void 0);return}n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{i==="ok"&&Kr(t,(o,a)=>{const l=Qn(a);pp(n.onDisconnect_,$n(e,o),l)}),Lc(n,r,i,s)})}function tve(n,e,t){let r;Rt(e._path)===".info"?r=YT(n.infoSyncTree_,e,t):r=YT(n.serverSyncTree_,e,t),E8(n.eventQueue_,e._path,r)}function QT(n,e,t){let r;Rt(e._path)===".info"?r=Gb(n.infoSyncTree_,e,t):r=Gb(n.serverSyncTree_,e,t),E8(n.eventQueue_,e._path,r)}function T8(n){n.persistentConnection_&&n.persistentConnection_.interrupt(A8)}function nve(n){n.persistentConnection_&&n.persistentConnection_.resume(A8)}function gp(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),$r(t,...e)}function Lc(n,e,t,r){e&&fp(()=>{if(t==="ok")e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function rve(n,e,t,r,i,s){gp(n,"transaction on "+e);const o={path:e,update:t,onComplete:r,status:null,order:S6(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=sN(n,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{u0("transaction failed: Data returned ",l,o.path),o.status=0;const c=b1(n.transactionQueueTree_,e),u=Md(c)||[];u.push(o),tN(c,u);let d;typeof l=="object"&&l!==null&&Ps(l,".priority")?(d=hd(l,".priority"),Be(yv(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(_1(n.serverSyncTree_,e)||ut.EMPTY_NODE).getPriority().val();const f=h0(n),m=Qn(l,d),g=Q2(m,a,f);o.currentOutputSnapshotRaw=m,o.currentOutputSnapshotResolved=g,o.currentWriteId=C1(n);const v=$2(n.serverSyncTree_,e,g,o.currentWriteId,o.applyLocally);Rs(n.eventQueue_,e,v),A1(n,n.transactionQueueTree_)}}function sN(n,e,t){return _1(n.serverSyncTree_,e,t)||ut.EMPTY_NODE}function A1(n,e=n.transactionQueueTree_){if(e||M1(n,e),Md(e)){const t=R8(n,e);Be(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&ive(n,c0(e),t)}else _8(e)&&w1(e,t=>{A1(n,t)})}function ive(n,e,t){const r=t.map(c=>c.currentWriteId),i=sN(n,e,r);let s=i;const o=i.hash();for(let c=0;c<t.length;c++){const u=t[c];Be(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Ui(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{gp(n,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<t.length;f++)t[f].status=2,u=u.concat(nc(n.serverSyncTree_,t[f].currentWriteId)),t[f].onComplete&&d.push(()=>t[f].onComplete(null,!0,t[f].currentOutputSnapshotResolved)),t[f].unwatcher();M1(n,b1(n.transactionQueueTree_,e)),A1(n,n.transactionQueueTree_),Rs(n.eventQueue_,e,u);for(let f=0;f<d.length;f++)fp(d[f])}else{if(c==="datastale")for(let d=0;d<t.length;d++)t[d].status===3?t[d].status=4:t[d].status=0;else{Ti("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}Hf(n,e)}},o)}function Hf(n,e){const t=P8(n,e),r=c0(t),i=R8(n,t);return sve(n,i,r),r}function sve(n,e,t){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Ui(t,l.path);let u=!1,d;if(Be(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(nc(n.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=jge)u=!0,d="maxretry",i=i.concat(nc(n.serverSyncTree_,l.currentWriteId,!0));else{const f=sN(n,l.path,o);l.currentInputSnapshot=f;const m=e[a].update(f.val());if(m!==void 0){u0("transaction failed: Data returned ",m,l.path);let g=Qn(m);typeof m=="object"&&m!=null&&Ps(m,".priority")||(g=g.updatePriority(f.getPriority()));const _=l.currentWriteId,x=h0(n),w=Q2(g,f,x);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=w,l.currentWriteId=C1(n),o.splice(o.indexOf(_),1),i=i.concat($2(n.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(nc(n.serverSyncTree_,_,!0))}else u=!0,d="nodata",i=i.concat(nc(n.serverSyncTree_,l.currentWriteId,!0))}Rs(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}M1(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)fp(r[a]);A1(n,n.transactionQueueTree_)}function P8(n,e){let t,r=n.transactionQueueTree_;for(t=Rt(e);t!==null&&Md(r)===void 0;)r=b1(r,t),e=En(e),t=Rt(e);return r}function R8(n,e){const t=[];return I8(n,e,t),t.sort((r,i)=>r.order-i.order),t}function I8(n,e,t){const r=Md(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);w1(e,i=>{I8(n,i,t)})}function M1(n,e){const t=Md(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,tN(e,t.length>0?t:void 0)}w1(e,r=>{M1(n,r)})}function oN(n,e){const t=c0(P8(n,e)),r=b1(n.transactionQueueTree_,e);return Bge(r,i=>{RC(n,i)}),RC(n,r),x8(r,i=>{RC(n,i)}),t}function RC(n,e){const t=Md(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(Be(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(Be(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(nc(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?tN(e,void 0):t.length=s+1,Rs(n.eventQueue_,c0(e),i);for(let o=0;o<r.length;o++)fp(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ove(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function ave(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ti(`Invalid query segment '${t}' in query '${n}'`)}return e}const ZT=function(n,e){const t=lve(n),r=t.namespace;t.domain==="firebase.com"&&ba(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&ba("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||vpe();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new D6(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new fn(t.pathString)}},lve=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if(typeof n=="string"){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");u===-1&&(u=n.length);let d=n.indexOf("?");d===-1&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(i=ove(n.substring(u,d)));const f=ave(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")t="localhost";else if(m.split(".").length<=2)t=m;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),t=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cve=function(){let n=0;const e=[];return function(t){const r=t===n;n=t;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=RF.charAt(t%64),t=Math.floor(t/64);Be(t===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=RF.charAt(e[i]);return Be(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Nr(this.snapshot.exportVal())}}class k8{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Be(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uve=class{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new qi;return Qge(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){eo("OnDisconnect.remove",this._path);const e=new qi;return PF(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){eo("OnDisconnect.set",this._path),wa("OnDisconnect.set",e,this._path,!1);const t=new qi;return PF(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){eo("OnDisconnect.setWithPriority",this._path),wa("OnDisconnect.setWithPriority",e,this._path,!1),nN("OnDisconnect.setWithPriority",t,!1);const r=new qi;return Zge(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){eo("OnDisconnect.update",this._path),w8("OnDisconnect.update",e,this._path,!1);const t=new qi;return eve(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return It(this._path)?null:N2(this._path)}get ref(){return new uo(this._repo,this._path)}get _queryIdentifier(){const e=mF(this._queryParams),t=T2(e);return t==="{}"?"default":t}get _queryObject(){return mF(this._queryParams)}isEqual(e){if(e=Ls(e),!(e instanceof us))return!1;const t=this._repo===e._repo,r=k2(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+eme(this._path)}}function T1(n,e){if(n._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function $c(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===ma){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ic)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==pl)throw new Error(r);if(typeof t!="string")throw new Error(i)}}else if(n.getIndex()===In){if(e!=null&&!yv(e)||t!=null&&!yv(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Be(n.getIndex()instanceof B2||n.getIndex()===D2,"unknown index type."),e!=null&&typeof e=="object"||t!=null&&typeof t=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function P1(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class uo extends us{constructor(e,t){super(e,t,new p1,!1)}get parent(){const e=$6(this._path);return e===null?null:new uo(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let R1=class eP{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new fn(e),r=gd(this.ref,e);return new eP(this._node.getChild(t),r,In)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new eP(i,gd(this.ref,r),In)))}hasChild(e){const t=new fn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function O8(n,e){return n=Ls(n),n._checkNotDeleted("ref"),e!==void 0?gd(n._root,e):n._root}function IF(n,e){n=Ls(n),n._checkNotDeleted("refFromURL");const t=ZT(e,n._repo.repoInfo_.nodeAdmin);S8("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&ba("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),O8(n,t.path.toString())}function gd(n,e){return n=Ls(n),Rt(n._path)===null?Hge("child","path",e,!1):_v("child","path",e,!1),new uo(n._repo,$n(n._path,e))}function dve(n,e){n=Ls(n),eo("push",n._path),wa("push",e,n._path,!0);const t=M8(n._repo),r=cve(t),i=gd(n,r),s=gd(n,r);let o;return e!=null?o=lN(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function hve(n){return eo("remove",n._path),lN(n,null)}function lN(n,e){n=Ls(n),eo("set",n._path),wa("set",e,n._path,!1);const t=new qi;return iN(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function fve(n,e){n=Ls(n),eo("setPriority",n._path),nN("setPriority",e,!1);const t=new qi;return iN(n._repo,$n(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}function pve(n,e,t){if(eo("setWithPriority",n._path),wa("setWithPriority",e,n._path,!1),nN("setWithPriority",t,!1),n.key===".length"||n.key===".keys")throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new qi;return iN(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}function mve(n,e){w8("update",e,n._path,!1);const t=new qi;return Yge(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function gve(n){n=Ls(n);const e=new aN(()=>{}),t=new f0(e);return Xge(n._repo,n,t).then(r=>new R1(r,new uo(n._repo,n._path),n._queryParams.getIndex()))}class f0{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const r=t._queryParams.getIndex();return new N8("value",this,new R1(e.snapshotNode,new uo(t._repo,t._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new k8(this,e,t):null}matches(e){return e instanceof f0?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class I1{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t=e==="children_added"?"child_added":e;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new k8(this,e,t):null}createEvent(e,t){Be(e.childName!=null,"Child events should have a childName.");const r=gd(new uo(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new N8(e.type,this,new R1(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof I1?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function p0(n,e,t,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=t,c=(u,d)=>{QT(n._repo,n,a),l(u,d)};c.userCallback=t.userCallback,c.context=t.context,t=c}const o=new aN(t,s||void 0),a=e==="value"?new f0(o):new I1(e,o);return tve(n._repo,n,a),()=>QT(n._repo,n,a)}function tP(n,e,t,r){return p0(n,"value",e,t,r)}function NF(n,e,t,r){return p0(n,"child_added",e,t,r)}function kF(n,e,t,r){return p0(n,"child_changed",e,t,r)}function OF(n,e,t,r){return p0(n,"child_moved",e,t,r)}function LF(n,e,t,r){return p0(n,"child_removed",e,t,r)}function BF(n,e,t){let r=null;const i=t?new aN(t):null;e==="value"?r=new f0(i):e&&(r=new I1(e,i)),QT(n._repo,n,r)}class zo{}class L8 extends zo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){wa("endAt",this._value,e._path,!0);const t=HT(e._queryParams,this._value,this._key);if(P1(t),$c(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new us(e._repo,e._path,t,e._orderByCalled)}}function vve(n,e){return d0("endAt","key",e,!0),new L8(n,e)}class yve extends zo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){wa("endBefore",this._value,e._path,!1);const t=Ame(e._queryParams,this._value,this._key);if(P1(t),$c(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new us(e._repo,e._path,t,e._orderByCalled)}}function _ve(n,e){return d0("endBefore","key",e,!0),new yve(n,e)}class B8 extends zo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){wa("startAt",this._value,e._path,!0);const t=GT(e._queryParams,this._value,this._key);if(P1(t),$c(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new us(e._repo,e._path,t,e._orderByCalled)}}function xve(n=null,e){return d0("startAt","key",e,!0),new B8(n,e)}class bve extends zo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){wa("startAfter",this._value,e._path,!1);const t=Cme(e._queryParams,this._value,this._key);if(P1(t),$c(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new us(e._repo,e._path,t,e._orderByCalled)}}function wve(n,e){return d0("startAfter","key",e,!0),new bve(n,e)}class Sve extends zo{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new us(e._repo,e._path,Sme(e._queryParams,this._limit),e._orderByCalled)}}function Eve(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Sve(n)}class Cve extends zo{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new us(e._repo,e._path,Eme(e._queryParams,this._limit),e._orderByCalled)}}function Ave(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Cve(n)}class Mve extends zo{constructor(e){super(),this._path=e}_apply(e){T1(e,"orderByChild");const t=new fn(this._path);if(It(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new B2(t),i=m1(e._queryParams,r);return $c(i),new us(e._repo,e._path,i,!0)}}function Tve(n){if(n==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(n==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(n==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return _v("orderByChild","path",n,!1),new Mve(n)}class Pve extends zo{_apply(e){T1(e,"orderByKey");const t=m1(e._queryParams,ma);return $c(t),new us(e._repo,e._path,t,!0)}}function Rve(){return new Pve}class Ive extends zo{_apply(e){T1(e,"orderByPriority");const t=m1(e._queryParams,In);return $c(t),new us(e._repo,e._path,t,!0)}}function Nve(){return new Ive}class kve extends zo{_apply(e){T1(e,"orderByValue");const t=m1(e._queryParams,D2);return $c(t),new us(e._repo,e._path,t,!0)}}function Ove(){return new kve}class Lve extends zo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(wa("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new L8(this._value,this._key)._apply(new B8(this._value,this._key)._apply(e))}}function Bve(n,e){return d0("equalTo","key",e,!0),new Lve(n,e)}function yo(n,...e){let t=Ls(n);for(const r of e)t=r._apply(t);return t}pge(uo);_ge(uo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dve="FIREBASE_DATABASE_EMULATOR_HOST",nP={};let Fve=!1;function zve(n,e,t,r){n.repoInfo_=new D6(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}function D8(n,e,t,r,i){let s=r||n.options.databaseURL;s===void 0&&(n.options.projectId||ba("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$r("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=ZT(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[Dve]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=ZT(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new lf(lf.OWNER):new Tpe(n.name,n.options,e);S8("Invalid Firebase Database URL",o),It(o.path)||ba("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Gve(a,n,u,new Mpe(n.name,t));return new Hve(d,n)}function Uve(n,e){const t=nP[e];(!t||t[n.key]!==n)&&ba(`Database ${e}(${n.repoInfo_}) has already been deleted.`),T8(n),delete t[n.key]}function Gve(n,e,t,r){let i=nP[e.name];i||(i={},nP[e.name]=i);let s=i[n.toURLString()];return s&&ba("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new $ge(n,Fve,t,r),i[n.toURLString()]=s,s}let Hve=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Jge(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new uo(this._repo,rn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Uve(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ba("Cannot call "+e+" on a deleted database.")}};function F8(){Ff.IS_TRANSPORT_INITIALIZED&&Ti("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Vve(){F8(),tc.forceDisallow()}function Wve(){F8(),Ys.forceDisallow(),tc.forceAllow()}function jve(n,e,t,r={}){n=Ls(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&ba("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ba('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new lf(lf.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Lhe(r.mockUserToken,n.app.options.projectId);s=new lf(o)}zve(i,e,t,s)}function $ve(n){n=Ls(n),n._checkNotDeleted("goOffline"),T8(n._repo)}function Jve(n){n=Ls(n),n._checkNotDeleted("goOnline"),nve(n._repo)}function Kve(n,e){C6(n,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xve(n){b6(A2),Df(new Tc("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return D8(r,i,s,t)},"PUBLIC").setMultipleInstances(!0)),yc(Q3,Z3,n),yc(Q3,Z3,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yve={".sv":"timestamp"};function qve(){return Yve}function Qve(n){return{".sv":{increment:n}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zve=class{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function e0e(n,e,t){var r;if(n=Ls(n),eo("Reference.transaction",n._path),n.key===".length"||n.key===".keys")throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=(r=t==null?void 0:t.applyLocally)!==null&&r!==void 0?r:!0,s=new qi,o=(l,c,u)=>{let d=null;l?s.reject(l):(d=new R1(u,new uo(n._repo,n._path),In),s.resolve(new Zve(c,d)))},a=tP(n,()=>{});return rve(n._repo,n._path,e,o,a,i),s.promise}sl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};sl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};Xve();const t0e="@firebase/database-compat",n0e="0.3.4";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0e=new u1("@firebase/database-compat"),z8=function(n){const e="FIREBASE WARNING: "+n;r0e.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0e=function(n,e,t,r){if(!(r&&t===void 0)&&typeof t!="boolean")throw new Error(os(n,e)+"must be a boolean.")},s0e=function(n,e,t){if(!(t&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(os(n,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0e{constructor(e){this._delegate=e}cancel(e){ht("OnDisconnect.cancel",0,1,arguments.length),Wr("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){ht("OnDisconnect.remove",0,1,arguments.length),Wr("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){ht("OnDisconnect.set",1,2,arguments.length),Wr("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){ht("OnDisconnect.setWithPriority",2,3,arguments.length),Wr("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,t){if(ht("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,z8("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Wr("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0e{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return ht("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t){this._database=e,this._delegate=t}val(){return ht("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return ht("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return ht("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return ht("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return ht("DataSnapshot.child",0,1,arguments.length),e=String(e),_v("DataSnapshot.child","path",e,!1),new bc(this._database,this._delegate.child(e))}hasChild(e){return ht("DataSnapshot.hasChild",1,1,arguments.length),_v("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return ht("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return ht("DataSnapshot.forEach",1,1,arguments.length),Wr("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new bc(this._database,t)))}hasChildren(){return ht("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return ht("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return ht("DataSnapshot.ref",0,0,arguments.length),new xs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ni{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var s;ht("Query.on",2,4,arguments.length),Wr("Query.on","callback",t,!1);const o=ni.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{t.call(o.context,new bc(this.database,c),u)};a.userCallback=t,a.context=o.context;const l=(s=o.cancel)===null||s===void 0?void 0:s.bind(o.context);switch(e){case"value":return tP(this._delegate,a,l),t;case"child_added":return NF(this._delegate,a,l),t;case"child_removed":return LF(this._delegate,a,l),t;case"child_changed":return kF(this._delegate,a,l),t;case"child_moved":return OF(this._delegate,a,l),t;default:throw new Error(os("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if(ht("Query.off",0,3,arguments.length),s0e("Query.off",e,!0),Wr("Query.off","callback",t,!0),H3("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,BF(this._delegate,e,i)}else BF(this._delegate,e)}get(){return gve(this._delegate).then(e=>new bc(this.database,e))}once(e,t,r,i){ht("Query.once",1,4,arguments.length),Wr("Query.once","callback",t,!0);const s=ni.getCancelAndContextArgs_("Query.once",r,i),o=new qi,a=(c,u)=>{const d=new bc(this.database,c);t&&t.call(s.context,d,u),o.resolve(d)};a.userCallback=t,a.context=s.context;const l=c=>{s.cancel&&s.cancel.call(s.context,c),o.reject(c)};switch(e){case"value":tP(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":NF(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":LF(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":kF(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":OF(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(os("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return ht("Query.limitToFirst",1,1,arguments.length),new ni(this.database,yo(this._delegate,Eve(e)))}limitToLast(e){return ht("Query.limitToLast",1,1,arguments.length),new ni(this.database,yo(this._delegate,Ave(e)))}orderByChild(e){return ht("Query.orderByChild",1,1,arguments.length),new ni(this.database,yo(this._delegate,Tve(e)))}orderByKey(){return ht("Query.orderByKey",0,0,arguments.length),new ni(this.database,yo(this._delegate,Rve()))}orderByPriority(){return ht("Query.orderByPriority",0,0,arguments.length),new ni(this.database,yo(this._delegate,Nve()))}orderByValue(){return ht("Query.orderByValue",0,0,arguments.length),new ni(this.database,yo(this._delegate,Ove()))}startAt(e=null,t){return ht("Query.startAt",0,2,arguments.length),new ni(this.database,yo(this._delegate,xve(e,t)))}startAfter(e=null,t){return ht("Query.startAfter",0,2,arguments.length),new ni(this.database,yo(this._delegate,wve(e,t)))}endAt(e=null,t){return ht("Query.endAt",0,2,arguments.length),new ni(this.database,yo(this._delegate,vve(e,t)))}endBefore(e=null,t){return ht("Query.endBefore",0,2,arguments.length),new ni(this.database,yo(this._delegate,_ve(e,t)))}equalTo(e,t){return ht("Query.equalTo",1,2,arguments.length),new ni(this.database,yo(this._delegate,Bve(e,t)))}toString(){return ht("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return ht("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(ht("Query.isEqual",1,1,arguments.length),!(e instanceof ni)){const t="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(t)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,Wr(e,"cancel",i.cancel,!0),i.context=r,H3(e,"context",i.context,!0);else if(t)if(typeof t=="object"&&t!==null)i.context=t;else if(typeof t=="function")i.cancel=t;else throw new Error(os(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new xs(this.database,new uo(this._delegate._repo,this._delegate._path))}}class xs extends ni{constructor(e,t){super(e,new us(t._repo,t._path,new p1,!1)),this.database=e,this._delegate=t}getKey(){return ht("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return ht("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new xs(this.database,gd(this._delegate,e))}getParent(){ht("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new xs(this.database,e):null}getRoot(){return ht("Reference.root",0,0,arguments.length),new xs(this.database,this._delegate.root)}set(e,t){ht("Reference.set",1,2,arguments.length),Wr("Reference.set","onComplete",t,!0);const r=lN(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if(ht("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,z8("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}eo("Reference.update",this._delegate._path),Wr("Reference.update","onComplete",t,!0);const r=mve(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){ht("Reference.setWithPriority",2,3,arguments.length),Wr("Reference.setWithPriority","onComplete",r,!0);const i=pve(this._delegate,e,t);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){ht("Reference.remove",0,1,arguments.length),Wr("Reference.remove","onComplete",e,!0);const t=hve(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){ht("Reference.transaction",1,3,arguments.length),Wr("Reference.transaction","transactionUpdate",e,!1),Wr("Reference.transaction","onComplete",t,!0),i0e("Reference.transaction","applyLocally",r,!0);const i=e0e(this._delegate,e,{applyLocally:r}).then(s=>new a0e(s.committed,new bc(this.database,s.snapshot)));return t&&i.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),i}setPriority(e,t){ht("Reference.setPriority",1,2,arguments.length),Wr("Reference.setPriority","onComplete",t,!0);const r=fve(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){ht("Reference.push",0,2,arguments.length),Wr("Reference.push","onComplete",t,!0);const r=dve(this._delegate,e),i=r.then(o=>new xs(this.database,o));t&&i.then(()=>t(null),o=>t(o));const s=new xs(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return eo("Reference.onDisconnect",this._delegate._path),new o0e(new uve(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Vve,forceLongPolling:Wve}}useEmulator(e,t,r={}){jve(this._delegate,e,t,r)}ref(e){if(ht("database.ref",0,1,arguments.length),e instanceof xs){const t=IF(this._delegate,e.toString());return new xs(this,t)}else{const t=O8(this._delegate,e);return new xs(this,t)}}refFromURL(e){ht("database.refFromURL",1,1,arguments.length);const r=IF(this._delegate,e);return new xs(this,r)}goOffline(){return ht("database.goOffline",0,0,arguments.length),$ve(this._delegate)}goOnline(){return ht("database.goOnline",0,0,arguments.length),Jve(this._delegate)}}xv.ServerValue={TIMESTAMP:qve(),increment:n=>Qve(n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0e({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){b6(t);const o=new a6("auth-internal",new l6("database-standalone"));return o.setComponent(new Tc("auth-internal",()=>r,"PRIVATE")),{instance:new xv(D8(n,o,void 0,e,s),n),namespace:i}}var c0e=Object.freeze({__proto__:null,initStandalone:l0e});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0e=xv.ServerValue;function d0e(n){n.INTERNAL.registerComponent(new Tc("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new xv(i,r)},"PUBLIC").setServiceProps({Reference:xs,Query:ni,Database:xv,DataSnapshot:bc,enableLogging:Kve,INTERNAL:c0e,ServerValue:u0e}).setMultipleInstances(!0)),n.registerVersion(t0e,n0e)}d0e(d1);const h0e={apiKey:"AIzaSyDsUK3BRlxm33kxldPQ-Go81rVJkaej8tk",authDomain:"limang-siglo-feedback-form.firebaseapp.com",databaseURL:"https://limang-siglo-feedback-form-default-rtdb.asia-southeast1.firebasedatabase.app/",projectId:"limang-siglo-feedback-form",storageBucket:"limang-siglo-feedback-form.appspot.com",messagingSenderId:"995717808745",appId:"1:995717808745:web:2030b26f1d48ffd5ea18f8",measurementId:"G-YSW3HGJ2LH"};d1.initializeApp(h0e);const f0e=d1.database();function p0e(){const[n,e]=k.useState(""),[t,r]=k.useState(""),[i,s]=k.useState(""),[o,a]=k.useState(!1),[l,c]=k.useState(!1);return F("form",{className:"feedback-form",onSubmit:d=>{d.preventDefault(),c(!0),a(!0);const f=f0e.ref("feedback"),m={name:n,email:t,message:i};f.push(m).then(()=>{e(""),r(""),s(""),setTimeout(()=>{c(!1),a(!1)},2e3)})},children:[F("div",{className:"feedback-form__title-container",children:[y("h2",{className:"feedback-form__title",children:"your feedback matters"}),y("p",{children:"Want to share your thoughts with us concerning the peasantry or primer?"}),y("p",{children:"Don't hesitate to drop us a message, we are always here to listen."})]}),F("div",{className:"feedback-form__field-container",children:[F("div",{className:"feedback-form__field",children:[y("label",{className:"feedback-form__label",htmlFor:"name",children:y("p",{className:"feedback-form__label",children:"Name"})}),y("input",{className:"feedback-form__input",type:"text",id:"name",value:n,placeholder:"Your name is..?",onChange:d=>e(d.target.value),required:!0,autoComplete:"off"})]}),F("div",{className:"feedback-form__field",children:[y("label",{className:"feedback-form__label",htmlFor:"email",children:y("p",{className:"feedback-form__label",children:"Email"})}),y("input",{className:"feedback-form__input",type:"email",id:"email",value:t,placeholder:"What's your email?",onChange:d=>r(d.target.value),required:!0,autoComplete:"off"})]}),F("div",{className:"feedback-form__field",children:[y("label",{className:"feedback-form__label",htmlFor:"message",children:y("p",{className:"feedback-form__label",children:"Feedback"})}),y("textarea",{className:"feedback-form__input feedback-form__textarea",id:"message",value:i,placeholder:"Any feedback, questions, or concerns?",onChange:d=>s(d.target.value),required:!0,autoComplete:"off"})]}),y("button",{className:"feedback-form__button",type:"submit",children:l?"Submitting...":"Submit"})]})]})}const m0e=()=>{const[n,e]=k.useState(!1),[t,r]=k.useState(!1),[i,s]=k.useState(!1);return F("div",{children:[F("div",{className:"nav-header",children:[y("div",{className:"left-header",children:y(jn,{to:"/",children:y(RG,{className:"material-icons home-btn"})})}),F("div",{className:"right-header",children:[y("input",{type:"checkbox",id:"checkbox_toggle",checked:n,onChange:o=>e(o.target.checked)}),y("label",{htmlFor:"checkbox_toggle",className:"ham",children:y(NG,{className:"material-icons ham-btn"})}),F("div",{className:"menu",children:[y("a",{className:"menu-element-i",children:y("label",{htmlFor:"ntbk-checkbox-toggle",className:"ntbk-btn",children:y(IG,{className:"material-icons ntbk-icon"})})}),y("a",{className:"menu-element-ii",children:y(vee,{})}),y("a",{className:"menu-element-iii",onClick:()=>r(!0),children:y("label",{htmlFor:"about-navi-checkbox-toggle",className:"about-nav-btn",children:y(RM,{className:"material-icons about-btn"})})})]})," "]})," "]})," ",y("div",{className:"footer",children:F("div",{children:[y("button",{className:"chapters-btn",onClick:()=>s(!0),children:"Chapters"}),y(Ehe,{open:i,onClose:()=>s(!1)})]})}),F("div",{className:"about-nav",children:[y("input",{type:"checkbox",id:"about-navi-checkbox-toggle"}),y("label",{htmlFor:"about-navi-checkbox-toggle",className:"about-nav-btn-alt",onClick:()=>e(o=>!o),children:y(RM,{className:"material-icons about-btn-alt"})}),y("div",{className:"about-nav-bg",children:""}),F("div",{className:"about-nav-list about-scroller",children:[F("div",{className:"about-website",children:[y("h1",{className:"header-title about-header-title",children:"about 5Siglo"}),y("p",{children:"5Siglo, pronounced as Limang Siglo, is an interactive web primer primarily focused on the conditions of the Filipino peasantry before and throughout the 500 years of colonialism and resistance in the Philippines."}),y("p",{children:"Interesting in learning more about the peasantry? Go check out our animated explainer video below!"}),y("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/BEXl_EdQk1Y?",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope;  modestbranding",allowfullscreen:!0,className:"explainer-video"})]}),F("div",{className:"about-org",children:[y("div",{className:"uma-logo-container",children:y("img",{src:wne,className:"uma-logo"})}),F("div",{children:[y("h1",{className:"header-title about-header-title",children:"the organization"}),y("p",{children:"Unyon ng Manggagawa sa Agrikultura (UMA) or National Federation of Agricultural Workers is the national progressive center of unions, federations, and organizations of agricultural workers in the Philippines."}),y("p",{children:"UMA is a member of the Asian Peasant Coalition (APC) and the International League of Peoples Struggles (ILPS)."})]})]}),F("div",{className:"about-cta",children:[y("h1",{className:"header-title about-header-title",children:"call to action"}),y("p",{children:"In little ways, we can support the Filipino peasant movement's struggle for national freedom and democracy. In the celebration of the Peasant Month this October, we can stand with them in their struggle for land, food, and justice, through amplifying their voices."}),y("p",{children:"Join us in honoring them through submitting any peasant-related artworks  illustrations, songs, videos, writings, among many other ones, carrying these calls:"}),y("p",{className:"highlighted-text",children:"#LandToTheTillers #StandWithFarmers"})]}),y("div",{className:"about-feedback",children:y(p0e,{})})]})]})," ",y("div",{className:"rotate-device-overlay",children:F("div",{className:"rotate-device-container",children:[y("img",{src:yee,className:"rotate-device-icon"}),y("p",{className:"rotate-device-text",children:"Rotate device for better experience"})]})}),y("input",{type:"checkbox",id:"ntbk-checkbox-toggle",className:"ntbk-checkbox"}),y("div",{className:"ntbk-overlay",children:y("label",{htmlFor:"ntbk-checkbox-toggle",className:"ntbk-overlay-close"})}),y(bne,{})]})},g0e=({children:n})=>F("div",{className:"root-main",children:[y(m0e,{}),n]});const v0e="/assets/Chapter-1-29648e9a.webm",y0e="/assets/Half_Woman-1-ef66260e.png",_0e={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e3},x0e={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(2px)",zIndex:1e3};function b0e({open:n,onClose:e}){return n?ws.createPortal(F(Fo,{children:[y("div",{onClick:e}),y("div",{style:x0e,onClick:e}),F("div",{style:_0e,children:[y("div",{className:"dialogue-half-char-container",children:y("img",{src:y0e,className:"dialogue-half-char"})}),y("div",{className:"dialogue-modal-container",children:F("div",{className:"dialogue-modal-text",children:[y("h2",{className:"dialogue-modal-h2",children:"Peasant Indigenous Woman"}),F("div",{className:"dialogue-modal-p",children:[y("p",{children:"Oh, hi there. I didn't notice you."}),y("p",{children:"Peasants, you say?"}),F("p",{children:["Peasants are basically farmers who are tied to a ",y("i",{children:"feudal"})," ","bondage. Feudal, as in landlord versus peasant. The land we till is not ours."]}),y("p",{children:"Land is really important to us, especially when it's what we get our food and livelihood from."}),y("p",{children:"I hope that helped a bit. You can ask the other two if you want to know more, okay?"})]})]})})]})]}),document.getElementById("portal")):null}const w0e="/assets/Half_Man-2-01786d3e.png",S0e={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e3},E0e={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(2px)",zIndex:1e3};function C0e({open:n,onClose:e}){return n?ws.createPortal(F(Fo,{children:[y("div",{onClick:e}),y("div",{style:E0e,onClick:e}),F("div",{style:S0e,children:[y("div",{className:"dialogue-half-char-container",children:y("img",{src:w0e,className:"dialogue-half-char"})}),y("div",{className:"dialogue-modal-container",children:F("div",{className:"dialogue-modal-text",children:[y("h2",{className:"dialogue-modal-h2",children:"Peasant Fisherman"}),F("div",{className:"dialogue-modal-p",children:[y("p",{children:" Hello, I was just fishing a while ago."}),y("p",{children:" Yes, I am a fisherman but I also farm. Do you know peasants can earn from various livelihoods?"}),y("p",{children:"Some raise animals. Some are carpenters. Some may also do handicraft work like that lady over there."}),y("p",{children:"Nevertheless, we're still peasants. Landless farmers who have a common dream of having a land of our own."})]})]})})]})]}),document.getElementById("portal")):null}const A0e="/assets/Half_Man-1-416e950e.png",M0e={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e3},T0e={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(2px)",zIndex:1e3};function P0e({open:n,onClose:e}){return n?ws.createPortal(F(Fo,{children:[y("div",{onClick:e}),y("div",{style:T0e,onClick:e}),F("div",{style:M0e,children:[y("div",{className:"dialogue-half-char-container char3",children:y("img",{src:A0e,className:"dialogue-half-char"})}),y("div",{className:"dialogue-modal-container",children:F("div",{className:"dialogue-modal-text",children:[y("h2",{className:"dialogue-modal-h2",children:"Peasant Man"}),F("div",{className:"dialogue-modal-p",children:[y("p",{children:"Hey, need something?"}),y("p",{children:"Sure, I think can share a thing or two."}),y("p",{children:"In the countryside or rural areas, peasants can be rich, middle, or poor."}),y("p",{children:"Of course, they are exactly alike to those in urban areas. The urban rich is different from the rural rich."}),y("p",{children:"Rich, middle, or poor peasant  they are still peasants after all, oppressed and exploited by powerful forces."}),y("p",{children:"Big landlords, corporations, and bureaucrats."}),y("p",{children:"That's pretty much it. Thanks for dropping by."})]})]})})]})]}),document.getElementById("portal")):null}const R0e="/assets/Head_Woman-1-1920765f.png",I0e="/assets/Head_Man-1-4f0a6ce6.png",N0e="/assets/Head_Man-2-9819ac67.png",k0e={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e3},O0e={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(2px)",zIndex:1e3};function L0e({open:n,onClose:e}){return n?ws.createPortal(F(Fo,{children:[y("div",{onClick:e}),y("div",{style:O0e,onClick:e}),y("div",{style:k0e,children:y("div",{className:"sol-modal-container",children:F("div",{className:"sol-modal-text",children:[y("h2",{className:"sol-modal-h2",children:"Chapter 1"}),y("h3",{className:"sol-modal-h3",children:"Introduction"}),y("p",{className:"sol-modal-p",children:"Have you met any peasants here in the Philippines?"}),y("p",{className:"sol-modal-p",children:"This chapter helps us answer and reflect on questions that commonly confuse some people -- Who are the peasants exactly? Where are they situated? What makes a peasant... a peasant?"}),y("p",{className:"sol-modal-p",children:y("i",{children:"To know more, open the Chapter Guide found at the top-right of your screen."})})]})})})]}),document.getElementById("portal")):null}const U8=()=>{const[n,e]=k.useState(!1),[t,r]=k.useState(!1),[i,s]=k.useState(!1),[o,a]=k.useState(!1);return mt.useRef(),F("div",{className:"farm-vid-container",children:[y("video",{muted:!0,autoPlay:!0,src:v0e,loop:!0,playsInline:!0,"webkit-playsinline":!0,preload:!0}),F("div",{className:"prec-1 chii-z",children:[F("h1",{className:"page-header-title",children:["chapter1",y("sup",{children:y("button",{className:"about-ch",onClick:()=>a(!0),children:"?"})})]}),y(L0e,{open:o,onClose:()=>a(!1)})]}),F("div",{className:"farm-heads-container",children:[y("button",{className:"farm-head-icon",onClick:()=>e(!0),children:y("img",{className:"farm-head-img",src:R0e})}),y("button",{className:"farm-head-icon",onClick:()=>r(!0),children:y("img",{className:"farm-head-img",src:N0e})}),y("button",{className:"farm-head-icon",onClick:()=>s(!0),children:y("img",{className:"farm-head-img",src:I0e})}),y(b0e,{open:n,onClose:()=>e(!1)}),y(C0e,{open:t,onClose:()=>r(!1)}),y(P0e,{open:i,onClose:()=>s(!1)})]})]})},B0e=()=>y("div",{children:y(U8,{})}),D0e={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e3},F0e={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(2px)",zIndex:1e3};function vp({open:n,onClose:e}){return n?ws.createPortal(F(Fo,{children:[y("div",{onClick:e}),y("div",{style:F0e,onClick:e}),y("div",{style:D0e,children:y("div",{className:"sol-modal-container",children:F("div",{className:"sol-modal-text",children:[y("h2",{className:"sol-modal-h2",children:"Chapter 2"}),y("h3",{className:"sol-modal-h3",children:"History of the Peasant Struggle"}),y("p",{className:"sol-modal-p",children:"Chapter 2 illustrates the history of the peasant struggle. This contains four sub-chapters: Pre-Colonial Period, Spanish Colonization Period, American Colonization Period, and the Present Republic of the Philippines."}),y("p",{className:"sol-modal-p",children:y("i",{children:"To know more, open the Chapter Guide found at the top-right of your screen."})})]})})})]}),document.getElementById("portal")):null}const z0e=()=>{k.useState(!1),k.useState(!1);const[n,e]=k.useState(!1);return mt.useRef(),y("div",{children:F("div",{className:"chapter-two-nav",children:[F("div",{className:"chii-text-wrapper",children:[F("h1",{className:"page-header-title chii-text-wrapper",children:["chapter2",y("sup",{children:y("button",{className:"about-ch",onClick:()=>e(!0),children:"?"})})]}),y(vp,{open:n,onClose:()=>e(!1)})]}),y("div",{className:"chapter-two-btn",children:y(jn,{to:"/chapters-directory/chapter-2/pre-colonial",style:{color:"white"},children:y("button",{className:"chapter-two-links",children:"Pre-Colonial Period"})})}),y("div",{className:"chapter-two-btn",children:y(jn,{to:"/chapters-directory/chapter-2/spanish",style:{color:"white"},children:y("button",{className:"chapter-two-links",children:"Spanish Colonization Period"})})}),y("div",{className:"chapter-two-btn",children:y(jn,{to:"/chapters-directory/chapter-2/american",style:{color:"white"},children:y("button",{className:"chapter-two-links",children:"American Colonization Period"})})}),y("div",{className:"chapter-two-btn",children:y(jn,{to:"/chapters-directory/chapter-2/philippines",style:{color:"white"},children:y("button",{className:"chapter-two-links",children:"Present Philippine Republic"})})})]})})},U0e=()=>{k.useState(!1),k.useState(!1);const[n,e]=k.useState(!1);return mt.useRef(),F("div",{className:"spanish-cards-container",children:[" ",F("div",{className:"spanish-cards-list",children:[F("div",{className:"page-header-container",children:[F("h1",{className:"page-header-title",children:["chapter2",y("sup",{children:y("button",{className:"about-ch",onClick:()=>e(!0),children:"?"})})]}),y("p",{className:"page-header-subtitle",children:"spanish colonization"}),y(vp,{open:n,onClose:()=>e(!1)})]}),y("input",{type:"checkbox",id:"spanish-card-checkbox-toggle-1"}),y("input",{type:"checkbox",id:"spanish-card-checkbox-toggle-2"}),y("input",{type:"checkbox",id:"spanish-card-checkbox-toggle-3"}),y("input",{type:"checkbox",id:"spanish-card-checkbox-toggle-4"}),F("label",{htmlFor:"spanish-card-checkbox-toggle-1",className:"spanish-1",children:[F("div",{className:"spanish-card-btn",children:[y("div",{className:"spanish-card-image",children:y("img",{className:"spanish-card-image-img",src:"https://media.giphy.com/media/9lHqRf3Oi8Vv83oZqK/giphy.gif"})}),y("div",{className:"spanish-card-title",children:y("div",{className:"spanish-card-p",children:"Regalian Doctrine"})})]}),y("div",{className:"spanish-card-modal-container",children:y("div",{className:"spanish-card-modal",children:F("div",{className:"spanish-card-modal-p-container",children:[y("h2",{className:"spanish-card-modal-h3",children:"The Regalian Doctrine: A Colonial Law for Philippine Land Disposession"}),y("p",{children:"Through the Regalian Doctrine the conquistadors introduced, all our lands were to be completely owned by the crown or the King of Spain."})]})})})]}),F("label",{htmlFor:"spanish-card-checkbox-toggle-2",className:"spanish-2",children:[F("div",{className:"spanish-card-btn",children:[y("div",{className:"spanish-card-image",children:y("img",{className:"spanish-card-image-img",src:"https://media.giphy.com/media/TscfGyVBG1mJPRrkDl/giphy.gif"})}),y("div",{className:"spanish-card-title",children:y("div",{className:"spanish-card-p",children:"Encomienda System"})})]}),y("div",{className:"spanish-card-modal-container",children:y("div",{className:"spanish-card-modal",children:F("div",{className:"spanish-card-modal-p-container",children:[y("h2",{className:"spanish-card-modal-h3",children:"The Encomienda System: Spain's Slave Labor System"}),y("p",{children:"This was a system where the Spanish colonial officials and religious orders were granted wide areas of lands as an award for their services in the conquest of the Filipinos, this was called the Encomienda System. They were granted the right to force Filipino peasants to farm the stolen lands to produce the needs of the crown and its other colonies."})]})})})]}),F("label",{htmlFor:"spanish-card-checkbox-toggle-3",className:"spanish-3",children:[F("div",{className:"spanish-card-btn",children:[y("div",{className:"spanish-card-image",children:y("img",{className:"spanish-card-image-img",src:"https://media.giphy.com/media/zFSzW8Ko1YISqmoOkY/giphy.gif"})}),y("div",{className:"spanish-card-title",children:y("div",{className:"spanish-card-p",children:"Hacienda System"})})]}),y("div",{className:"spanish-card-modal-container",children:y("div",{className:"spanish-card-modal",children:F("div",{className:"spanish-card-modal-p-container",children:[y("h2",{className:"spanish-card-modal-h3",children:"The Hacienda System: Philippine Natural Resources for Foreign Consumption"}),y("p",{children:"After some time, the encomienda system evolved into the hacienda system. Compared to the former, this system was geared to produce superprofits by expanding the possessed lands into plantations or haciendas. Here, crops and raw materials are produced for export, consumption, and demand of Spanish and other European countries."})]})})})]}),F("label",{htmlFor:"spanish-card-checkbox-toggle-4",className:"spanish-4",children:[F("div",{className:"spanish-card-btn",children:[y("div",{className:"spanish-card-image",children:y("img",{className:"spanish-card-image-img",src:"https://media.giphy.com/media/Rlk16e2c76QoLvU8Hh/giphy.gif"})}),y("div",{className:"spanish-card-title",children:y("div",{className:"spanish-card-p",children:"Mandatory Taxation"})})]}),y("div",{className:"spanish-card-modal-container",children:y("div",{className:"spanish-card-modal",children:F("div",{className:"spanish-card-modal-p-container",children:[y("h2",{className:"spanish-card-modal-h3",children:"Mandatory Taxation for Spanish Interests"}),y("p",{children:"Throughout, taxes were compulsory and had to be collected (50% of crops produced). Peasants were forced to clear forested areas for farming and infrastructures for the new government."})]})})})]})]}),y(jn,{to:"/chapters-directory/chapter-2",style:{color:"white"},children:y("div",{className:"chapter-two-btn chapter-two-btn-container",children:y("button",{className:"chapter-two-links back-btn",children:"Back"})})})]})},G0e=()=>{k.useState(!1),k.useState(!1);const[n,e]=k.useState(!1);return mt.useRef(),F("div",{className:"american-cards-container",children:[" ",F("div",{className:"american-cards-list",children:[F("div",{className:"page-header-container",children:[F("h1",{className:"page-header-title",children:["chapter2",y("sup",{children:y("button",{className:"about-ch",onClick:()=>e(!0),children:"?"})})]}),y("p",{className:"page-header-subtitle",children:"american colonization"}),y(vp,{open:n,onClose:()=>e(!1)})]}),y("input",{type:"checkbox",id:"american-card-checkbox-toggle-1"}),y("input",{type:"checkbox",id:"american-card-checkbox-toggle-2"}),y("input",{type:"checkbox",id:"american-card-checkbox-toggle-3"}),y("input",{type:"checkbox",id:"american-card-checkbox-toggle-4"}),F("label",{htmlFor:"american-card-checkbox-toggle-1",className:"american-1",children:[F("div",{className:"american-card-btn",children:[y("div",{className:"american-card-image",children:y("img",{className:"american-card-image-img",src:"https://media.giphy.com/media/DHuCILVdIvofvSPIi7/giphy.gif"})}),y("div",{className:"american-card-title",children:y("div",{className:"american-card-p",children:"Hacienda Expansion"})})]}),y("div",{className:"american-card-modal-container",children:y("div",{className:"american-card-modal",children:F("div",{className:"american-card-modal-p-container",children:[y("h2",{className:"american-card-modal-h3",children:"Expansion of Haciendas"}),y("p",{children:"They encouraged the development of the hacienda system, resulting in extracting more export crops and natural resources  all sold at low prices through cheap labor and the expansion of their base in the country."})]})})})]}),F("label",{htmlFor:"american-card-checkbox-toggle-2",className:"american-2",children:[F("div",{className:"american-card-btn",children:[y("div",{className:"american-card-image",children:y("img",{className:"american-card-image-img",src:"https://media.giphy.com/media/Iemzt229PtS49xD2uU/giphy.gif"})}),y("div",{className:"american-card-title",children:y("div",{className:"american-card-p",children:"Anti-Peasant Laws"})})]}),y("div",{className:"american-card-modal-container",children:y("div",{className:"american-card-modal",children:F("div",{className:"american-card-modal-p-container",children:[y("h2",{className:"american-card-modal-h3",children:"Anti-Peasant Laws"}),y("p",{children:"They implemented deceptive laws that only reinforced the land monopoly, land-grabbings, and landlessness. The preservation of the feudal bondage was made possible through the Bell Trade Act, Laurel-Langley Agreement, and other relevant trade policies."})]})})})]}),F("label",{htmlFor:"american-card-checkbox-toggle-3",className:"american-3",children:[F("div",{className:"american-card-btn",children:[y("div",{className:"american-card-image",children:y("img",{className:"american-card-image-img",src:"https://media.giphy.com/media/Ql2nGRMNcLTsgfVbDb/giphy.gif"})}),y("div",{className:"american-card-title",children:y("div",{className:"american-card-p",children:"US Market Expansion"})})]}),y("div",{className:"american-card-modal-container",children:y("div",{className:"american-card-modal",children:F("div",{className:"american-card-modal-p-container",children:[y("h2",{className:"american-card-modal-h3",children:"US Market Expansion"}),y("p",{children:"To spread their influence, imports of American commodities were advertised and sold in the motherland. They  also sought the Philippines as a market for their surplus goods, which crushed local handicrafts and manufacturers, resorting the Filipinos to buy these overpriced finished goods instead of manufacturing them  leaving them to become dependent on importing expensive goods and exporting cheap ones."})]})})})]}),F("label",{htmlFor:"american-card-checkbox-toggle-4",className:"american-4",children:[F("div",{className:"american-card-btn",children:[y("div",{className:"american-card-image",children:y("img",{className:"american-card-image-img",src:"https://media.giphy.com/media/PtbW7yGXisj3y8DsLR/giphy.gif"})}),y("div",{className:"american-card-title",children:y("div",{className:"american-card-p",children:"International Debt"})})]}),y("div",{className:"american-card-modal-container",children:y("div",{className:"american-card-modal",children:F("div",{className:"american-card-modal-p-container",children:[y("h2",{className:"american-card-modal-h3",children:"International Debt"}),y("p",{children:"During the 1950s, foreign machinery and agricultural inputs were sold at excessive prices. This played a major role in the widespread poverty, hunger, and inequality across the Philippines and other colonies. They accumulated so much debt that they have still been taking out loans from international financing institutions such as the International Monetary Fund and World Bank. In exchange for the loans, they have been mandated to buy overpriced genetically modified seeds and agro-chemicals that kill local indigenous crop varieties and sustainable agricultural practices."})]})})})]})]}),y(jn,{to:"/chapters-directory/chapter-2",style:{color:"white"},children:y("div",{className:"chapter-two-btn chapter-two-btn-container",children:y("button",{className:"chapter-two-links back-btn",children:"Back"})})})]})},H0e=()=>{k.useState(!1),k.useState(!1);const[n,e]=k.useState(!1);return mt.useRef(),F("div",{className:"pres-cards-container",children:[" ",F("div",{className:"pres-cards-list ",children:[F("div",{className:"page-header-container",children:[F("h1",{className:"page-header-title",children:["chapter2",y("sup",{children:y("button",{className:"about-ch",onClick:()=>e(!0),children:"?"})})]}),y("p",{className:"page-header-subtitle",children:"philippine republic"}),y(vp,{open:n,onClose:()=>e(!1)})]}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-1"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-2"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-3"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-4"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-5"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-6"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-7"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-8"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-9"}),y("input",{type:"checkbox",id:"pres-card-checkbox-toggle-10"}),F("label",{htmlFor:"pres-card-checkbox-toggle-1",className:"pres-1",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/XZequ0aQUU35ROwfsM/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Roxas"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Manuel Roxas"}),F("ol",{children:[y("li",{children:"During his term, agreements with the United States, such as the U.S.-R.P. Treaty of General Relations, Property Act, and Bell Trade Act, allowed US ownership and utilization of the countrys lands, natural resources, and public utilities."}),y("li",{children:"Roxas' administration attacked peasant communities who were begging for land reform through military forces, evident in the Maliwalu massacre and Masico massacre."}),y("li",{children:"Roxas' administration charged peasants for all the unpaid land rent during the recent Philippine-Japanese war."})]})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-2",className:"pres-2",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/YNMBb3bfUZeX7RdrWV/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Magsaysay"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Ramon Magsaysay"}),y("ol",{children:y("li",{children:"The 1955 Agrarian Reform Law was implemented during his term, but the agrarian program that aimed for land distribution was barely enforced."})})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-3",className:"pres-3",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/4Yd7lT7RTfv2MFpU8k/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Macapagal"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Diosdado Macapagal"}),F("ol",{children:[y("li",{children:"The agrarian program that aimed for limiting land ownership of landlords was barely enforced during his term."}),y("li",{children:"Macapagal's administration also attacked peasant communities who were begging for land reform through military forces, evident in the Maliwalu massacre and Masico massacre."}),y("li",{children:"During his term, land rent was raised, causing the decline of prices of farmers agricultural goods, and plantations for export crops were expanded under the 1963 Agrarian Reform Code."})]})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-4",className:"pres-4",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/qyUEO3pd72JmWc9Fd5/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Marcos"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Ferdinand Marcos"}),F("ol",{children:[y("li",{children:"Rice and corn farms were subjected to land distribution, yet haciendas and plantations devoted to export crops like sugar, copra, bananas, tobacco, and pineapples were exempted. This deprived more than half of farmers of their own lands. This was through the Presidential Decree 2 and 27."}),y("li",{children:"The lands of foreign corporate farms and plantations were expanded, and farms owned by peasants were then acquired by these big businesses instead of acquiring idle, abandoned, or unexploited lands. This raised rural poverty and landlessness through the Green Revolution/Masagana 99."}),y("li",{children:"Marcos' administration required farmers to use expensive imported seeds, chemical soil fertilizers, and pesticides. This, along with the ever-increasing prices of farm inputs, buried farmers in debt and pushed them into poverty through the Green Revolution/Masagana 99."})]})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-5",className:"pres-5",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/2wLBocQAO8OPfTJcLK/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Aquino"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Corazon Aquino"}),F("ol",{children:[y("li",{children:"The Comprehensive Agrarian Reform Program (CARP) was implemented, but the administrations agrarian program failed to redistribute land to peasants and only empowered large agribusinesses."}),y("li",{children:"Aquino's administration prohibited workers from their right to strike, through the Herrera Bill."}),y("li",{children:"The administration declared a Total War policy to suppress peasant voices, which led to the Mendiola Massacre."})]})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-6",className:"pres-6",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/QD11atC0rtZsiwSGrM/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Ramos"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Fidel Ramos"}),F("ol",{children:[y("li",{children:"Peasant-owned lands were privatized and commercialized, expanding business interests and worsening peasant landlessness through the Philippines 2000 program."}),y("li",{children:"The administration further encouraged export-oriented production of cheap goods and importation of expensive ones through joining the World Trade Organization."}),y("li",{children:"Ramos' administration declared a war on the peasant Moros in the countryside."})]})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-7",className:"pres-7",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/xWTbV9TNWDkvjMedr8/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Estrada"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Joseph Estrada"}),F("ol",{children:[y("li",{children:"Estrada did not have any programs for peasants at all."}),y("li",{children:"Estrada declared an All Out War on Moros in the countryside."})]})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-8",className:"pres-8",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/s7mVTtCxH5vjzRsxcg/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Arroyo"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Gloria Arroyo"}),F("ol",{children:[y("li",{children:"The national income for agriculture further declined because of excessive importation, causing millions of farmers to lose their livelihoods, forcing them to sell or mortgage their very little lands, and look for other jobs in cities. Worse, the products that were being imported could be produced in the Philippines  rice, vegetables, sugar, and fish."}),y("li",{children:"Militarization and bombings in the countryside (i.e., Bangsa Moro, Liguasan Marsh, Capiz)."}),y("li",{children:"Arroyo's administration launched extrajudicial killings of members, leaders, and sympathizers of the peasantry, including priests, journalists, lawyers, doctors, students, and more, through Oplan Bantay Laya."})]})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-9",className:"pres-9",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/wCdjVvi5VQpeanKUdu/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Aquino III"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Benigno Aquino III"}),F("ol",{children:[y("li",{children:"The Comprehensive Agrarian Reform Program Extension with Reforms (CARPER) was implemented, but the new agrarian reform that was passed only worsened rural poverty and landlessness."}),y("li",{children:"Aquino III's administration worsened the imperialist exploitation of the countrys natural resources through Public-Private Partnerships (PPP)."}),y("li",{children:"Counter-insurgency campaigns were reinforced that mainly affected those in the countryside through Oplan Bayanihan."}),y("li",{children:"Thousands of farmers who were asking for agricultural support were shot by state forces in the Kidapawan massacre."})]})]})})})]}),F("label",{htmlFor:"pres-card-checkbox-toggle-10",className:"pres-10",children:[F("div",{className:"pres-card-btn",children:[y("div",{className:"pres-card-image",children:y("img",{className:"pres-card-image-img",src:"https://media.giphy.com/media/GNSVc2HW3BNYXDjQFl/giphy.gif"})}),y("div",{className:"pres-card-title",children:y("div",{className:"pres-card-p",children:"Duterte"})})]}),y("div",{className:"pres-card-modal-container",children:y("div",{className:"pres-card-modal",children:F("div",{className:"pres-card-modal-p-container",children:[y("h2",{className:"pres-card-modal-h3",children:"Pres. Rodrigo Duterte"}),F("ol",{children:[y("li",{children:"Overprioritization of infrastructure projects led to trillions of debts and failure of distribution of government funds through Build! Build! Build!"}),y("li",{children:"Increased taxes of basic commodities, burdening the masses even more, especially the poorest. These are also used to pay off the countrys high amounts of debts. (Through Train Law of 2018.)"}),y("li",{children:"Worsened peasant-farmer livelihoods by prioritizing rice importation through removing rice import quotas. (Through Rice Liberalization Law.)"}),y("li",{children:"Created a national task force that only put peasant lives in danger, as they are popular targets of violence and black propaganda among state forces. (Through Executive Order No. 70 (NTF-ELCAC) and whole-of-nation approach)"})]})]})})})]})]}),y(jn,{to:"/chapters-directory/chapter-2",style:{color:"white"},children:y("div",{className:"chapter-two-btn chapter-two-btn-container",children:y("button",{className:"chapter-two-links back-btn",children:"Back"})})})]})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const N1="150",Au={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Mu={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},G8=0,rP=1,H8=2,V0e=3,V8=0,k1=1,Ag=2,Uu=3,Sa=0,as=1,To=2,W0e=2,ol=0,Qu=1,iP=2,sP=3,oP=4,W8=5,Nu=100,j8=101,$8=102,aP=103,lP=104,J8=200,K8=201,X8=202,Y8=203,cN=204,uN=205,q8=206,Q8=207,Z8=208,e9=209,t9=210,n9=0,r9=1,i9=2,Hb=3,s9=4,o9=5,a9=6,l9=7,m0=0,c9=1,u9=2,ko=0,d9=1,h9=2,f9=3,dN=4,p9=5,O1=300,ml=301,Bc=302,Vf=303,bv=304,yp=306,Dc=1e3,si=1001,Wf=1002,dr=1003,wv=1004,j0e=1004,cf=1005,$0e=1005,Ln=1006,L1=1007,J0e=1007,Ea=1008,K0e=1008,gl=1009,m9=1010,g9=1011,hN=1012,v9=1013,rc=1014,to=1015,Po=1016,y9=1017,_9=1018,Zu=1020,x9=1021,Qi=1023,b9=1024,w9=1025,wc=1026,vd=1027,S9=1028,E9=1029,C9=1030,A9=1031,M9=1033,_x=33776,xx=33777,bx=33778,wx=33779,cP=35840,uP=35841,dP=35842,hP=35843,T9=36196,fP=37492,pP=37496,mP=37808,gP=37809,vP=37810,yP=37811,_P=37812,xP=37813,bP=37814,wP=37815,SP=37816,EP=37817,CP=37818,AP=37819,MP=37820,TP=37821,Sx=36492,P9=36283,PP=36284,RP=36285,IP=36286,R9=2200,I9=2201,N9=2202,jf=2300,yd=2301,Ex=2302,Gu=2400,Hu=2401,Sv=2402,B1=2500,fN=2501,X0e=0,k9=1,pN=2,Lo=3e3,zt=3001,O9=3200,L9=3201,xl=0,B9=1,Y0e="",Eo="srgb",$f="srgb-linear",mN="display-p3",q0e=0,Cx=7680,Q0e=7681,Z0e=7682,eye=7683,tye=34055,nye=34056,rye=5386,iye=512,sye=513,oye=514,aye=515,lye=516,cye=517,uye=518,D9=519,Ev=35044,dye=35048,hye=35040,fye=35045,pye=35049,mye=35041,gye=35046,vye=35050,yye=35042,_ye="100",NP="300 es",Vb=1035;class Ca{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const _i=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let DF=1234567;const ed=Math.PI/180,Cv=180/Math.PI;function As(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(_i[n&255]+_i[n>>8&255]+_i[n>>16&255]+_i[n>>24&255]+"-"+_i[e&255]+_i[e>>8&255]+"-"+_i[e>>16&15|64]+_i[e>>24&255]+"-"+_i[t&63|128]+_i[t>>8&255]+"-"+_i[t>>16&255]+_i[t>>24&255]+_i[r&255]+_i[r>>8&255]+_i[r>>16&255]+_i[r>>24&255]).toLowerCase()}function yr(n,e,t){return Math.max(e,Math.min(t,n))}function gN(n,e){return(n%e+e)%e}function xye(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function bye(n,e,t){return n!==e?(t-n)/(e-n):0}function Mg(n,e,t){return(1-t)*n+t*e}function wye(n,e,t,r){return Mg(n,e,1-Math.exp(-t*r))}function Sye(n,e=1){return e-Math.abs(gN(n,e*2)-e)}function Eye(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Cye(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Aye(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Mye(n,e){return n+Math.random()*(e-n)}function Tye(n){return n*(.5-Math.random())}function Pye(n){n!==void 0&&(DF=n);let e=DF+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Rye(n){return n*ed}function Iye(n){return n*Cv}function kP(n){return(n&n-1)===0&&n!==0}function F9(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function z9(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Nye(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),d=s((e-r)/2),f=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*d,l*f,a*c);break;case"YZY":n.set(l*f,a*u,l*d,a*c);break;case"ZXZ":n.set(l*d,l*f,a*u,a*c);break;case"XZX":n.set(a*u,l*g,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*g,a*c);break;case"ZYZ":n.set(l*g,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Qa(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function bn(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const U9={DEG2RAD:ed,RAD2DEG:Cv,generateUUID:As,clamp:yr,euclideanModulo:gN,mapLinear:xye,inverseLerp:bye,lerp:Mg,damp:wye,pingpong:Sye,smoothstep:Eye,smootherstep:Cye,randInt:Aye,randFloat:Mye,randFloatSpread:Tye,seededRandom:Pye,degToRad:Rye,radToDeg:Iye,isPowerOfTwo:kP,ceilPowerOfTwo:F9,floorPowerOfTwo:z9,setQuaternionFromProperEuler:Nye,normalize:bn,denormalize:Qa};class Se{constructor(e=0,t=0){Se.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class oi{constructor(){oi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],m=r[5],g=r[8],v=i[0],_=i[3],x=i[6],w=i[1],S=i[4],E=i[7],A=i[2],P=i[5],I=i[8];return s[0]=o*v+a*w+l*A,s[3]=o*_+a*S+l*P,s[6]=o*x+a*E+l*I,s[1]=c*v+u*w+d*A,s[4]=c*_+u*S+d*P,s[7]=c*x+u*E+d*I,s[2]=f*v+m*w+g*A,s[5]=f*_+m*S+g*P,s[8]=f*x+m*E+g*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,f=a*l-u*s,m=c*s-o*l,g=t*d+r*f+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=d*v,e[1]=(i*c-u*r)*v,e[2]=(a*r-i*o)*v,e[3]=f*v,e[4]=(u*t-i*l)*v,e[5]=(i*s-a*t)*v,e[6]=m*v,e[7]=(r*l-c*t)*v,e[8]=(o*t-r*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(IC.makeScale(e,t)),this}rotate(e){return this.premultiply(IC.makeRotation(-e)),this}translate(e,t){return this.premultiply(IC.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const IC=new oi;function G9(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const kye={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Wh(n,e){return new kye[n](e)}function Av(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}class li{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=s[o+0],m=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(a===1){e[t+0]=f,e[t+1]=m,e[t+2]=g,e[t+3]=v;return}if(d!==v||l!==f||c!==m||u!==g){let _=1-a;const x=l*f+c*m+u*g+d*v,w=x>=0?1:-1,S=1-x*x;if(S>Number.EPSILON){const A=Math.sqrt(S),P=Math.atan2(A,x*w);_=Math.sin(_*P)/A,a=Math.sin(a*P)/A}const E=a*w;if(l=l*_+f*E,c=c*_+m*E,u=u*_+g*E,d=d*_+v*E,_===1-a){const A=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=A,c*=A,u*=A,d*=A}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=s[o],f=s[o+1],m=s[o+2],g=s[o+3];return e[t]=a*g+u*d+l*m-c*f,e[t+1]=l*g+u*f+c*d-a*m,e[t+2]=c*g+u*m+a*f-l*d,e[t+3]=u*g-a*d-l*f-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(s/2),f=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=f*u*d+c*m*g,this._y=c*m*d-f*u*g,this._z=c*u*g+f*m*d,this._w=c*u*d-f*m*g;break;case"YXZ":this._x=f*u*d+c*m*g,this._y=c*m*d-f*u*g,this._z=c*u*g-f*m*d,this._w=c*u*d+f*m*g;break;case"ZXY":this._x=f*u*d-c*m*g,this._y=c*m*d+f*u*g,this._z=c*u*g+f*m*d,this._w=c*u*d-f*m*g;break;case"ZYX":this._x=f*u*d-c*m*g,this._y=c*m*d+f*u*g,this._z=c*u*g-f*m*d,this._w=c*u*d+f*m*g;break;case"YZX":this._x=f*u*d+c*m*g,this._y=c*m*d+f*u*g,this._z=c*u*g-f*m*d,this._w=c*u*d-f*m*g;break;case"XZY":this._x=f*u*d-c*m*g,this._y=c*m*d-f*u*g,this._z=c*u*g+f*m*d,this._w=c*u*d+f*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],f=r+a+d;if(f>0){const m=.5/Math.sqrt(f+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>d){const m=2*Math.sqrt(1+r-a-d);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-r-d);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+d-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(yr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,f=Math.sin(t*u)/c;return this._w=o*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class U{constructor(e=0,t=0,r=0){U.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(FF.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(FF.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,u=l*r+a*t-s*i,d=l*i+s*r-o*t,f=-s*t-o*r-a*i;return this.x=c*l+f*-s+u*-a-d*-o,this.y=u*l+f*-o+d*-s-c*-a,this.z=d*l+f*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return NC.copy(this).projectOnVector(e),this.sub(NC)}reflect(e){return this.sub(NC.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(yr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const NC=new U,FF=new li;function uf(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function kC(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const Oye=new oi().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Lye=new oi().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),ic=new U;function Bye(n){return n.convertSRGBToLinear(),ic.set(n.r,n.g,n.b).applyMatrix3(Lye),n.setRGB(ic.x,ic.y,ic.z)}function Dye(n){return ic.set(n.r,n.g,n.b).applyMatrix3(Oye),n.setRGB(ic.x,ic.y,ic.z).convertLinearToSRGB()}const Fye={[$f]:n=>n,[Eo]:n=>n.convertSRGBToLinear(),[mN]:Bye},zye={[$f]:n=>n,[Eo]:n=>n.convertLinearToSRGB(),[mN]:Dye},wi={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return $f},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=Fye[e],i=zye[t];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let ih;class vN{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{ih===void 0&&(ih=Av("canvas")),ih.width=e.width,ih.height=e.height;const r=ih.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=ih}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Av("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=uf(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(uf(t[r]/255)*255):t[r]=uf(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Vu{constructor(e=null){this.isSource=!0,this.uuid=As(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(OC(i[o].image)):s.push(OC(i[o]))}else s=OC(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function OC(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?vN.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Uye=0;class Jn extends Ca{constructor(e=Jn.DEFAULT_IMAGE,t=Jn.DEFAULT_MAPPING,r=si,i=si,s=Ln,o=Ea,a=Qi,l=gl,c=Jn.DEFAULT_ANISOTROPY,u=Lo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Uye++}),this.uuid=As(),this.name="",this.source=new Vu(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Se(0,0),this.repeat=new Se(1,1),this.center=new Se(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new oi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==O1)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Dc:e.x=e.x-Math.floor(e.x);break;case si:e.x=e.x<0?0:1;break;case Wf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Dc:e.y=e.y-Math.floor(e.y);break;case si:e.y=e.y<0?0:1;break;case Wf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Jn.DEFAULT_IMAGE=null;Jn.DEFAULT_MAPPING=O1;Jn.DEFAULT_ANISOTROPY=1;class mn{constructor(e=0,t=0,r=0,i=1){mn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],m=l[5],g=l[9],v=l[2],_=l[6],x=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-v)<.01&&Math.abs(g-_)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+v)<.1&&Math.abs(g+_)<.1&&Math.abs(c+m+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(c+1)/2,E=(m+1)/2,A=(x+1)/2,P=(u+f)/4,I=(d+v)/4,T=(g+_)/4;return S>E&&S>A?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=P/r,s=I/r):E>A?E<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(E),r=P/i,s=T/i):A<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(A),r=I/s,i=T/s),this.set(r,i,s,t),this}let w=Math.sqrt((_-g)*(_-g)+(d-v)*(d-v)+(f-u)*(f-u));return Math.abs(w)<.001&&(w=1),this.x=(_-g)/w,this.y=(d-v)/w,this.z=(f-u)/w,this.w=Math.acos((c+m+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Bo extends Ca{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new mn(0,0,e,t),this.scissorTest=!1,this.viewport=new mn(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new Jn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Ln,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Vu(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class D1 extends Jn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=dr,this.minFilter=dr,this.wrapR=si,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Gye extends Bo{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new D1(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class yN extends Jn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=dr,this.minFilter=dr,this.wrapR=si,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Hye extends Bo{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new yN(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Vye extends Bo{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Jc{constructor(e=new U(1/0,1/0,1/0),t=new U(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],f=e[l+2];u<t&&(t=u),d<r&&(r=d),f<i&&(i=f),u>s&&(s=u),d>o&&(o=d),f>a&&(a=f)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),f=e.getZ(l);u<t&&(t=u),d<r&&(r=d),f<i&&(i=f),u>s&&(s=u),d>o&&(o=d),f>a&&(a=f)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=uu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)uu.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(uu)}else r.boundingBox===null&&r.computeBoundingBox(),LC.copy(r.boundingBox),LC.applyMatrix4(e.matrixWorld),this.union(LC);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,uu),uu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(bm),s_.subVectors(this.max,bm),sh.subVectors(e.a,bm),oh.subVectors(e.b,bm),ah.subVectors(e.c,bm),Ol.subVectors(oh,sh),Ll.subVectors(ah,oh),du.subVectors(sh,ah);let t=[0,-Ol.z,Ol.y,0,-Ll.z,Ll.y,0,-du.z,du.y,Ol.z,0,-Ol.x,Ll.z,0,-Ll.x,du.z,0,-du.x,-Ol.y,Ol.x,0,-Ll.y,Ll.x,0,-du.y,du.x,0];return!BC(t,sh,oh,ah,s_)||(t=[1,0,0,0,1,0,0,0,1],!BC(t,sh,oh,ah,s_))?!1:(o_.crossVectors(Ol,Ll),t=[o_.x,o_.y,o_.z],BC(t,sh,oh,ah,s_))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,uu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(uu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Da[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Da[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Da[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Da[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Da[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Da[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Da[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Da[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Da),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Da=[new U,new U,new U,new U,new U,new U,new U,new U],uu=new U,LC=new Jc,sh=new U,oh=new U,ah=new U,Ol=new U,Ll=new U,du=new U,bm=new U,s_=new U,o_=new U,hu=new U;function BC(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){hu.fromArray(n,s);const a=i.x*Math.abs(hu.x)+i.y*Math.abs(hu.y)+i.z*Math.abs(hu.z),l=e.dot(hu),c=t.dot(hu),u=r.dot(hu);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Wye=new Jc,wm=new U,DC=new U;class Kc{constructor(e=new U,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):Wye.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;wm.subVectors(e,this.center);const t=wm.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(wm,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(DC.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(wm.copy(e.center).add(DC)),this.expandByPoint(wm.copy(e.center).sub(DC))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Fa=new U,FC=new U,a_=new U,Bl=new U,zC=new U,l_=new U,UC=new U;class g0{constructor(e=new U,t=new U(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Fa)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Fa.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Fa.copy(this.origin).addScaledVector(this.direction,t),Fa.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){FC.copy(e).add(t).multiplyScalar(.5),a_.copy(t).sub(e).normalize(),Bl.copy(this.origin).sub(FC);const s=e.distanceTo(t)*.5,o=-this.direction.dot(a_),a=Bl.dot(this.direction),l=-Bl.dot(a_),c=Bl.lengthSq(),u=Math.abs(1-o*o);let d,f,m,g;if(u>0)if(d=o*l-a,f=o*a-l,g=s*u,d>=0)if(f>=-g)if(f<=g){const v=1/u;d*=v,f*=v,m=d*(d+o*f+2*a)+f*(o*d+f+2*l)+c}else f=s,d=Math.max(0,-(o*f+a)),m=-d*d+f*(f+2*l)+c;else f=-s,d=Math.max(0,-(o*f+a)),m=-d*d+f*(f+2*l)+c;else f<=-g?(d=Math.max(0,-(-o*s+a)),f=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+f*(f+2*l)+c):f<=g?(d=0,f=Math.min(Math.max(-s,-l),s),m=f*(f+2*l)+c):(d=Math.max(0,-(o*s+a)),f=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+f*(f+2*l)+c);else f=o>0?-s:s,d=Math.max(0,-(o*f+a)),m=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(FC).addScaledVector(a_,f),m}intersectSphere(e,t){Fa.subVectors(e.center,this.origin);const r=Fa.dot(this.direction),i=Fa.dot(Fa)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Fa)!==null}intersectTriangle(e,t,r,i,s){zC.subVectors(t,e),l_.subVectors(r,e),UC.crossVectors(zC,l_);let o=this.direction.dot(UC),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Bl.subVectors(this.origin,e);const l=a*this.direction.dot(l_.crossVectors(Bl,l_));if(l<0)return null;const c=a*this.direction.dot(zC.cross(Bl));if(c<0||l+c>o)return null;const u=-a*Bl.dot(UC);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class gt{constructor(){gt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,c,u,d,f,m,g,v,_){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=c,x[6]=u,x[10]=d,x[14]=f,x[3]=m,x[7]=g,x[11]=v,x[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new gt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/lh.setFromMatrixColumn(e,0).length(),s=1/lh.setFromMatrixColumn(e,1).length(),o=1/lh.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const f=o*u,m=o*d,g=a*u,v=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=m+g*c,t[5]=f-v*c,t[9]=-a*l,t[2]=v-f*c,t[6]=g+m*c,t[10]=o*l}else if(e.order==="YXZ"){const f=l*u,m=l*d,g=c*u,v=c*d;t[0]=f+v*a,t[4]=g*a-m,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=m*a-g,t[6]=v+f*a,t[10]=o*l}else if(e.order==="ZXY"){const f=l*u,m=l*d,g=c*u,v=c*d;t[0]=f-v*a,t[4]=-o*d,t[8]=g+m*a,t[1]=m+g*a,t[5]=o*u,t[9]=v-f*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const f=o*u,m=o*d,g=a*u,v=a*d;t[0]=l*u,t[4]=g*c-m,t[8]=f*c+v,t[1]=l*d,t[5]=v*c+f,t[9]=m*c-g,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const f=o*l,m=o*c,g=a*l,v=a*c;t[0]=l*u,t[4]=v-f*d,t[8]=g*d+m,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*d+g,t[10]=f-v*d}else if(e.order==="XZY"){const f=o*l,m=o*c,g=a*l,v=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=f*d+v,t[5]=o*u,t[9]=m*d-g,t[2]=g*d-m,t[6]=a*u,t[10]=v*d+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(jye,e,$ye)}lookAt(e,t,r){const i=this.elements;return ms.subVectors(e,t),ms.lengthSq()===0&&(ms.z=1),ms.normalize(),Dl.crossVectors(r,ms),Dl.lengthSq()===0&&(Math.abs(r.z)===1?ms.x+=1e-4:ms.z+=1e-4,ms.normalize(),Dl.crossVectors(r,ms)),Dl.normalize(),c_.crossVectors(ms,Dl),i[0]=Dl.x,i[4]=c_.x,i[8]=ms.x,i[1]=Dl.y,i[5]=c_.y,i[9]=ms.y,i[2]=Dl.z,i[6]=c_.z,i[10]=ms.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],m=r[13],g=r[2],v=r[6],_=r[10],x=r[14],w=r[3],S=r[7],E=r[11],A=r[15],P=i[0],I=i[4],T=i[8],R=i[12],O=i[1],L=i[5],J=i[9],j=i[13],V=i[2],K=i[6],Q=i[10],te=i[14],D=i[3],$=i[7],X=i[11],ue=i[15];return s[0]=o*P+a*O+l*V+c*D,s[4]=o*I+a*L+l*K+c*$,s[8]=o*T+a*J+l*Q+c*X,s[12]=o*R+a*j+l*te+c*ue,s[1]=u*P+d*O+f*V+m*D,s[5]=u*I+d*L+f*K+m*$,s[9]=u*T+d*J+f*Q+m*X,s[13]=u*R+d*j+f*te+m*ue,s[2]=g*P+v*O+_*V+x*D,s[6]=g*I+v*L+_*K+x*$,s[10]=g*T+v*J+_*Q+x*X,s[14]=g*R+v*j+_*te+x*ue,s[3]=w*P+S*O+E*V+A*D,s[7]=w*I+S*L+E*K+A*$,s[11]=w*T+S*J+E*Q+A*X,s[15]=w*R+S*j+E*te+A*ue,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],m=e[14],g=e[3],v=e[7],_=e[11],x=e[15];return g*(+s*l*d-i*c*d-s*a*f+r*c*f+i*a*m-r*l*m)+v*(+t*l*m-t*c*f+s*o*f-i*o*m+i*c*u-s*l*u)+_*(+t*c*d-t*a*m-s*o*d+r*o*m+s*a*u-r*c*u)+x*(-i*a*u-t*l*d+t*a*f+i*o*d-r*o*f+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],m=e[11],g=e[12],v=e[13],_=e[14],x=e[15],w=d*_*c-v*f*c+v*l*m-a*_*m-d*l*x+a*f*x,S=g*f*c-u*_*c-g*l*m+o*_*m+u*l*x-o*f*x,E=u*v*c-g*d*c+g*a*m-o*v*m-u*a*x+o*d*x,A=g*d*l-u*v*l-g*a*f+o*v*f+u*a*_-o*d*_,P=t*w+r*S+i*E+s*A;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/P;return e[0]=w*I,e[1]=(v*f*s-d*_*s-v*i*m+r*_*m+d*i*x-r*f*x)*I,e[2]=(a*_*s-v*l*s+v*i*c-r*_*c-a*i*x+r*l*x)*I,e[3]=(d*l*s-a*f*s-d*i*c+r*f*c+a*i*m-r*l*m)*I,e[4]=S*I,e[5]=(u*_*s-g*f*s+g*i*m-t*_*m-u*i*x+t*f*x)*I,e[6]=(g*l*s-o*_*s-g*i*c+t*_*c+o*i*x-t*l*x)*I,e[7]=(o*f*s-u*l*s+u*i*c-t*f*c-o*i*m+t*l*m)*I,e[8]=E*I,e[9]=(g*d*s-u*v*s-g*r*m+t*v*m+u*r*x-t*d*x)*I,e[10]=(o*v*s-g*a*s+g*r*c-t*v*c-o*r*x+t*a*x)*I,e[11]=(u*a*s-o*d*s-u*r*c+t*d*c+o*r*m-t*a*m)*I,e[12]=A*I,e[13]=(u*v*i-g*d*i+g*r*f-t*v*f-u*r*_+t*d*_)*I,e[14]=(g*a*i-o*v*i-g*r*l+t*v*l+o*r*_-t*a*_)*I,e[15]=(o*d*i-u*a*i+u*r*l-t*d*l-o*r*f+t*a*f)*I,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,f=s*c,m=s*u,g=s*d,v=o*u,_=o*d,x=a*d,w=l*c,S=l*u,E=l*d,A=r.x,P=r.y,I=r.z;return i[0]=(1-(v+x))*A,i[1]=(m+E)*A,i[2]=(g-S)*A,i[3]=0,i[4]=(m-E)*P,i[5]=(1-(f+x))*P,i[6]=(_+w)*P,i[7]=0,i[8]=(g+S)*I,i[9]=(_-w)*I,i[10]=(1-(f+v))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=lh.set(i[0],i[1],i[2]).length();const o=lh.set(i[4],i[5],i[6]).length(),a=lh.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],_o.copy(this);const c=1/s,u=1/o,d=1/a;return _o.elements[0]*=c,_o.elements[1]*=c,_o.elements[2]*=c,_o.elements[4]*=u,_o.elements[5]*=u,_o.elements[6]*=u,_o.elements[8]*=d,_o.elements[9]*=d,_o.elements[10]*=d,t.setFromRotationMatrix(_o),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),u=(t+e)/(t-e),d=(r+i)/(r-i),f=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),u=1/(o-s),d=(t+e)*l,f=(r+i)*c,m=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const lh=new U,_o=new gt,jye=new U(0,0,0),$ye=new U(1,1,1),Dl=new U,c_=new U,ms=new U,zF=new gt,UF=new li;class v0{constructor(e=0,t=0,r=0,i=v0.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(yr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-yr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(yr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-yr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(yr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-yr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return zF.makeRotationFromQuaternion(e),this.setFromRotationMatrix(zF,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return UF.setFromEuler(this),this.setFromQuaternion(UF,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}v0.DEFAULT_ORDER="XYZ";class td{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Jye=0;const GF=new U,ch=new li,za=new gt,u_=new U,Sm=new U,Kye=new U,Xye=new li,HF=new U(1,0,0),VF=new U(0,1,0),WF=new U(0,0,1),Yye={type:"added"},jF={type:"removed"};class qt extends Ca{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Jye++}),this.uuid=As(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=qt.DEFAULT_UP.clone();const e=new U,t=new v0,r=new li,i=new U(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new gt},normalMatrix:{value:new oi}}),this.matrix=new gt,this.matrixWorld=new gt,this.matrixAutoUpdate=qt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=qt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new td,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return ch.setFromAxisAngle(e,t),this.quaternion.multiply(ch),this}rotateOnWorldAxis(e,t){return ch.setFromAxisAngle(e,t),this.quaternion.premultiply(ch),this}rotateX(e){return this.rotateOnAxis(HF,e)}rotateY(e){return this.rotateOnAxis(VF,e)}rotateZ(e){return this.rotateOnAxis(WF,e)}translateOnAxis(e,t){return GF.copy(e).applyQuaternion(this.quaternion),this.position.add(GF.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(HF,e)}translateY(e){return this.translateOnAxis(VF,e)}translateZ(e){return this.translateOnAxis(WF,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(za.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?u_.copy(e):u_.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Sm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?za.lookAt(Sm,u_,this.up):za.lookAt(u_,Sm,this.up),this.quaternion.setFromRotationMatrix(za),i&&(za.extractRotation(i.matrixWorld),ch.setFromRotationMatrix(za),this.quaternion.premultiply(ch.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Yye)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(jF)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(jF)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),za.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),za.multiply(e.parent.matrixWorld)),e.applyMatrix4(za),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Sm,e,Kye),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Sm,Xye,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),f=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}qt.DEFAULT_UP=new U(0,1,0);qt.DEFAULT_MATRIX_AUTO_UPDATE=!0;qt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const xo=new U,Ua=new U,GC=new U,Ga=new U,uh=new U,dh=new U,$F=new U,HC=new U,VC=new U,WC=new U;class qs{constructor(e=new U,t=new U,r=new U){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),xo.subVectors(e,t),i.cross(xo);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){xo.subVectors(i,t),Ua.subVectors(r,t),GC.subVectors(e,t);const o=xo.dot(xo),a=xo.dot(Ua),l=xo.dot(GC),c=Ua.dot(Ua),u=Ua.dot(GC),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const f=1/d,m=(c*l-a*u)*f,g=(o*u-a*l)*f;return s.set(1-m-g,g,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Ga),Ga.x>=0&&Ga.y>=0&&Ga.x+Ga.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Ga),l.set(0,0),l.addScaledVector(s,Ga.x),l.addScaledVector(o,Ga.y),l.addScaledVector(a,Ga.z),l}static isFrontFacing(e,t,r,i){return xo.subVectors(r,t),Ua.subVectors(e,t),xo.cross(Ua).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return xo.subVectors(this.c,this.b),Ua.subVectors(this.a,this.b),xo.cross(Ua).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return qs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return qs.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return qs.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return qs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return qs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;uh.subVectors(i,r),dh.subVectors(s,r),HC.subVectors(e,r);const l=uh.dot(HC),c=dh.dot(HC);if(l<=0&&c<=0)return t.copy(r);VC.subVectors(e,i);const u=uh.dot(VC),d=dh.dot(VC);if(u>=0&&d<=u)return t.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(uh,o);WC.subVectors(e,s);const m=uh.dot(WC),g=dh.dot(WC);if(g>=0&&m<=g)return t.copy(s);const v=m*c-l*g;if(v<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(r).addScaledVector(dh,a);const _=u*g-m*d;if(_<=0&&d-u>=0&&m-g>=0)return $F.subVectors(s,i),a=(d-u)/(d-u+(m-g)),t.copy(i).addScaledVector($F,a);const x=1/(_+v+f);return o=v*x,a=f*x,t.copy(r).addScaledVector(uh,o).addScaledVector(dh,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let qye=0;class Mr extends Ca{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:qye++}),this.uuid=As(),this.name="",this.type="Material",this.blending=Qu,this.side=Sa,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=cN,this.blendDst=uN,this.blendEquation=Nu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Hb,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=D9,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Cx,this.stencilZFail=Cx,this.stencilZPass=Cx,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Qu&&(r.blending=this.blending),this.side!==Sa&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const H9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},bo={h:0,s:0,l:0},d_={h:0,s:0,l:0};function jC(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class He{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Eo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,wi.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=wi.workingColorSpace){return this.r=e,this.g=t,this.b=r,wi.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=wi.workingColorSpace){if(e=gN(e,1),t=yr(t,0,1),r=yr(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=jC(o,s,e+1/3),this.g=jC(o,s,e),this.b=jC(o,s,e-1/3)}return wi.toWorkingColorSpace(this,i),this}setStyle(e,t=Eo){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,wi.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,wi.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,u,t)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,wi.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,wi.toWorkingColorSpace(this,t),this;console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Eo){const r=H9[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=uf(e.r),this.g=uf(e.g),this.b=uf(e.b),this}copyLinearToSRGB(e){return this.r=kC(e.r),this.g=kC(e.g),this.b=kC(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Eo){return wi.fromWorkingColorSpace(xi.copy(this),e),yr(xi.r*255,0,255)<<16^yr(xi.g*255,0,255)<<8^yr(xi.b*255,0,255)<<0}getHexString(e=Eo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=wi.workingColorSpace){wi.fromWorkingColorSpace(xi.copy(this),t);const r=xi.r,i=xi.g,s=xi.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=wi.workingColorSpace){return wi.fromWorkingColorSpace(xi.copy(this),t),e.r=xi.r,e.g=xi.g,e.b=xi.b,e}getStyle(e=Eo){wi.fromWorkingColorSpace(xi.copy(this),e);const t=xi.r,r=xi.g,i=xi.b;return e!==Eo?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${t*255|0},${r*255|0},${i*255|0})`}offsetHSL(e,t,r){return this.getHSL(bo),bo.h+=e,bo.s+=t,bo.l+=r,this.setHSL(bo.h,bo.s,bo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(bo),e.getHSL(d_);const r=Mg(bo.h,d_.h,t),i=Mg(bo.s,d_.s,t),s=Mg(bo.l,d_.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const xi=new He;He.NAMES=H9;class Ss extends Mr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=m0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Sr=new U,h_=new Se;class cn{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Ev,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)h_.fromBufferAttribute(this,t),h_.applyMatrix3(e),this.setXY(t,h_.x,h_.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Sr.fromBufferAttribute(this,t),Sr.applyMatrix3(e),this.setXYZ(t,Sr.x,Sr.y,Sr.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Sr.fromBufferAttribute(this,t),Sr.applyMatrix4(e),this.setXYZ(t,Sr.x,Sr.y,Sr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Sr.fromBufferAttribute(this,t),Sr.applyNormalMatrix(e),this.setXYZ(t,Sr.x,Sr.y,Sr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Sr.fromBufferAttribute(this,t),Sr.transformDirection(e),this.setXYZ(t,Sr.x,Sr.y,Sr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Qa(t,this.array)),t}setX(e,t){return this.normalized&&(t=bn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Qa(t,this.array)),t}setY(e,t){return this.normalized&&(t=bn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Qa(t,this.array)),t}setZ(e,t){return this.normalized&&(t=bn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Qa(t,this.array)),t}setW(e,t){return this.normalized&&(t=bn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=bn(t,this.array),r=bn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=bn(t,this.array),r=bn(r,this.array),i=bn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=bn(t,this.array),r=bn(r,this.array),i=bn(i,this.array),s=bn(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ev&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Qye extends cn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class Zye extends cn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class e_e extends cn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class t_e extends cn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class _N extends cn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class n_e extends cn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class xN extends cn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class r_e extends cn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class tt extends cn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class i_e extends cn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let s_e=0;const Ws=new gt,$C=new qt,hh=new U,gs=new Jc,Em=new Jc,Gr=new U;class Ct extends Ca{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:s_e++}),this.uuid=As(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(G9(e)?xN:_N)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new oi().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ws.makeRotationFromQuaternion(e),this.applyMatrix4(Ws),this}rotateX(e){return Ws.makeRotationX(e),this.applyMatrix4(Ws),this}rotateY(e){return Ws.makeRotationY(e),this.applyMatrix4(Ws),this}rotateZ(e){return Ws.makeRotationZ(e),this.applyMatrix4(Ws),this}translate(e,t,r){return Ws.makeTranslation(e,t,r),this.applyMatrix4(Ws),this}scale(e,t,r){return Ws.makeScale(e,t,r),this.applyMatrix4(Ws),this}lookAt(e){return $C.lookAt(e),$C.updateMatrix(),this.applyMatrix4($C.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(hh).negate(),this.translate(hh.x,hh.y,hh.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new tt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Jc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new U(-1/0,-1/0,-1/0),new U(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];gs.setFromBufferAttribute(s),this.morphTargetsRelative?(Gr.addVectors(this.boundingBox.min,gs.min),this.boundingBox.expandByPoint(Gr),Gr.addVectors(this.boundingBox.max,gs.max),this.boundingBox.expandByPoint(Gr)):(this.boundingBox.expandByPoint(gs.min),this.boundingBox.expandByPoint(gs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Kc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new U,1/0);return}if(e){const r=this.boundingSphere.center;if(gs.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Em.setFromBufferAttribute(a),this.morphTargetsRelative?(Gr.addVectors(gs.min,Em.min),gs.expandByPoint(Gr),Gr.addVectors(gs.max,Em.max),gs.expandByPoint(Gr)):(gs.expandByPoint(Em.min),gs.expandByPoint(Em.max))}gs.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Gr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Gr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Gr.fromBufferAttribute(a,c),l&&(hh.fromBufferAttribute(e,c),Gr.add(hh)),i=Math.max(i,r.distanceToSquared(Gr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new cn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let O=0;O<a;O++)c[O]=new U,u[O]=new U;const d=new U,f=new U,m=new U,g=new Se,v=new Se,_=new Se,x=new U,w=new U;function S(O,L,J){d.fromArray(i,O*3),f.fromArray(i,L*3),m.fromArray(i,J*3),g.fromArray(o,O*2),v.fromArray(o,L*2),_.fromArray(o,J*2),f.sub(d),m.sub(d),v.sub(g),_.sub(g);const j=1/(v.x*_.y-_.x*v.y);isFinite(j)&&(x.copy(f).multiplyScalar(_.y).addScaledVector(m,-v.y).multiplyScalar(j),w.copy(m).multiplyScalar(v.x).addScaledVector(f,-_.x).multiplyScalar(j),c[O].add(x),c[L].add(x),c[J].add(x),u[O].add(w),u[L].add(w),u[J].add(w))}let E=this.groups;E.length===0&&(E=[{start:0,count:r.length}]);for(let O=0,L=E.length;O<L;++O){const J=E[O],j=J.start,V=J.count;for(let K=j,Q=j+V;K<Q;K+=3)S(r[K+0],r[K+1],r[K+2])}const A=new U,P=new U,I=new U,T=new U;function R(O){I.fromArray(s,O*3),T.copy(I);const L=c[O];A.copy(L),A.sub(I.multiplyScalar(I.dot(L))).normalize(),P.crossVectors(T,L);const j=P.dot(u[O])<0?-1:1;l[O*4]=A.x,l[O*4+1]=A.y,l[O*4+2]=A.z,l[O*4+3]=j}for(let O=0,L=E.length;O<L;++O){const J=E[O],j=J.start,V=J.count;for(let K=j,Q=j+V;K<Q;K+=3)R(r[K+0]),R(r[K+1]),R(r[K+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new cn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let f=0,m=r.count;f<m;f++)r.setXYZ(f,0,0,0);const i=new U,s=new U,o=new U,a=new U,l=new U,c=new U,u=new U,d=new U;if(e)for(let f=0,m=e.count;f<m;f+=3){const g=e.getX(f+0),v=e.getX(f+1),_=e.getX(f+2);i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,_),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,_),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(_,c.x,c.y,c.z)}else for(let f=0,m=t.count;f<m;f+=3)i.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),o.fromBufferAttribute(t,f+2),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Gr.fromBufferAttribute(e,t),Gr.normalize(),e.setXYZ(t,Gr.x,Gr.y,Gr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let m=0,g=0;for(let v=0,_=l.length;v<_;v++){a.isInterleavedBufferAttribute?m=l[v]*a.data.stride+a.offset:m=l[v]*u;for(let x=0;x<u;x++)f[g++]=c[m++]}return new cn(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ct,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],m=e(f,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const m=c[d];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let f=0,m=d.length;f<m;f++)u.push(d[f].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const JF=new gt,Zo=new g0,f_=new Kc,KF=new U,Cm=new U,Am=new U,Mm=new U,JC=new U,p_=new U,m_=new Se,g_=new Se,v_=new Se,KC=new U,y_=new U;class Or extends qt{constructor(e=new Ct,t=new Ss){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){p_.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],d=s[l];u!==0&&(JC.fromBufferAttribute(d,e),o?p_.addScaledVector(JC,u):p_.addScaledVector(JC.sub(t),u))}t.add(p_)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),f_.copy(r.boundingSphere),f_.applyMatrix4(s),Zo.copy(e.ray).recast(e.near),f_.containsPoint(Zo.origin)===!1&&(Zo.intersectSphere(f_,KF)===null||Zo.origin.distanceToSquared(KF)>(e.far-e.near)**2))||(JF.copy(s).invert(),Zo.copy(e.ray).applyMatrix4(JF),r.boundingBox!==null&&Zo.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.attributes.uv,u=r.attributes.uv2,d=r.groups,f=r.drawRange;if(a!==null)if(Array.isArray(i))for(let m=0,g=d.length;m<g;m++){const v=d[m],_=i[v.materialIndex],x=Math.max(v.start,f.start),w=Math.min(a.count,Math.min(v.start+v.count,f.start+f.count));for(let S=x,E=w;S<E;S+=3){const A=a.getX(S),P=a.getX(S+1),I=a.getX(S+2);o=__(this,_,e,Zo,c,u,A,P,I),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const m=Math.max(0,f.start),g=Math.min(a.count,f.start+f.count);for(let v=m,_=g;v<_;v+=3){const x=a.getX(v),w=a.getX(v+1),S=a.getX(v+2);o=__(this,i,e,Zo,c,u,x,w,S),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let m=0,g=d.length;m<g;m++){const v=d[m],_=i[v.materialIndex],x=Math.max(v.start,f.start),w=Math.min(l.count,Math.min(v.start+v.count,f.start+f.count));for(let S=x,E=w;S<E;S+=3){const A=S,P=S+1,I=S+2;o=__(this,_,e,Zo,c,u,A,P,I),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const m=Math.max(0,f.start),g=Math.min(l.count,f.start+f.count);for(let v=m,_=g;v<_;v+=3){const x=v,w=v+1,S=v+2;o=__(this,i,e,Zo,c,u,x,w,S),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}}}function o_e(n,e,t,r,i,s,o,a){let l;if(e.side===as?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Sa,a),l===null)return null;y_.copy(a),y_.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(y_);return c<t.near||c>t.far?null:{distance:c,point:y_.clone(),object:n}}function __(n,e,t,r,i,s,o,a,l){n.getVertexPosition(o,Cm),n.getVertexPosition(a,Am),n.getVertexPosition(l,Mm);const c=o_e(n,e,t,r,Cm,Am,Mm,KC);if(c){i&&(m_.fromBufferAttribute(i,o),g_.fromBufferAttribute(i,a),v_.fromBufferAttribute(i,l),c.uv=qs.getUV(KC,Cm,Am,Mm,m_,g_,v_,new Se)),s&&(m_.fromBufferAttribute(s,o),g_.fromBufferAttribute(s,a),v_.fromBufferAttribute(s,l),c.uv2=qs.getUV(KC,Cm,Am,Mm,m_,g_,v_,new Se));const u={a:o,b:a,c:l,normal:new U,materialIndex:0};qs.getNormal(Cm,Am,Mm,u.normal),c.face=u}return c}class Xc extends Ct{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let f=0,m=0;g("z","y","x",-1,-1,r,t,e,o,s,0),g("z","y","x",1,-1,r,t,-e,o,s,1),g("x","z","y",1,1,e,r,t,i,o,2),g("x","z","y",1,-1,e,r,-t,i,o,3),g("x","y","z",1,-1,e,t,r,i,s,4),g("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new tt(c,3)),this.setAttribute("normal",new tt(u,3)),this.setAttribute("uv",new tt(d,2));function g(v,_,x,w,S,E,A,P,I,T,R){const O=E/I,L=A/T,J=E/2,j=A/2,V=P/2,K=I+1,Q=T+1;let te=0,D=0;const $=new U;for(let X=0;X<Q;X++){const ue=X*L-j;for(let Y=0;Y<K;Y++){const pe=Y*O-J;$[v]=pe*w,$[_]=ue*S,$[x]=V,c.push($.x,$.y,$.z),$[v]=0,$[_]=0,$[x]=P>0?1:-1,u.push($.x,$.y,$.z),d.push(Y/I),d.push(1-X/T),te+=1}}for(let X=0;X<T;X++)for(let ue=0;ue<I;ue++){const Y=f+ue+K*X,pe=f+ue+K*(X+1),ye=f+(ue+1)+K*(X+1),ne=f+(ue+1)+K*X;l.push(Y,pe,ne),l.push(pe,ye,ne),D+=6}a.addGroup(m,D,R),m+=D,f+=te}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Jf(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Bi(n){const e={};for(let t=0;t<n.length;t++){const r=Jf(n[t]);for(const i in r)e[i]=r[i]}return e}function a_e(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function V9(n){return n.getRenderTarget()===null&&n.outputEncoding===zt?Eo:$f}const W9={clone:Jf,merge:Bi};var l_e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,c_e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Do extends Mr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=l_e,this.fragmentShader=c_e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Jf(e.uniforms),this.uniformsGroups=a_e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class y0 extends qt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new gt,this.projectionMatrix=new gt,this.projectionMatrixInverse=new gt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Bn extends y0{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Cv*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ed*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Cv*2*Math.atan(Math.tan(ed*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(ed*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const fh=-90,ph=1;class j9 extends qt{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new Bn(fh,ph,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new Bn(fh,ph,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Bn(fh,ph,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Bn(fh,ph,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Bn(fh,ph,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new Bn(fh,ph,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,f=e.xr.enabled;e.toneMapping=ko,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=f,r.texture.needsPMREMUpdate=!0}}class _0 extends Jn{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:ml,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class bN extends Bo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new _0(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Ln}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Xc(5,5,5),s=new Do({name:"CubemapFromEquirect",uniforms:Jf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:as,blending:ol});s.uniforms.tEquirect.value=t;const o=new Or(i,s),a=t.minFilter;return t.minFilter===Ea&&(t.minFilter=Ln),new j9(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const XC=new U,u_e=new U,d_e=new oi;class Kl{constructor(e=new U(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=XC.subVectors(r,t).cross(u_e.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(XC),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||d_e.getNormalMatrix(e),i=this.coplanarPoint(XC).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const mh=new Kc,x_=new U;class F1{constructor(e=new Kl,t=new Kl,r=new Kl,i=new Kl,s=new Kl,o=new Kl){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],d=r[7],f=r[8],m=r[9],g=r[10],v=r[11],_=r[12],x=r[13],w=r[14],S=r[15];return t[0].setComponents(a-i,d-l,v-f,S-_).normalize(),t[1].setComponents(a+i,d+l,v+f,S+_).normalize(),t[2].setComponents(a+s,d+c,v+m,S+x).normalize(),t[3].setComponents(a-s,d-c,v-m,S-x).normalize(),t[4].setComponents(a-o,d-u,v-g,S-w).normalize(),t[5].setComponents(a+o,d+u,v+g,S+w).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),mh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(mh)}intersectsSprite(e){return mh.center.set(0,0,0),mh.radius=.7071067811865476,mh.applyMatrix4(e.matrixWorld),this.intersectsSphere(mh)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(x_.x=i.normal.x>0?e.max.x:e.min.x,x_.y=i.normal.y>0?e.max.y:e.min.y,x_.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(x_)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function $9(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function h_e(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const d=c.array,f=c.usage,m=n.createBuffer();n.bindBuffer(u,m),n.bufferData(u,d,f),c.onUploadCallback();let g;if(d instanceof Float32Array)g=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(d instanceof Int16Array)g=5122;else if(d instanceof Uint32Array)g=5125;else if(d instanceof Int32Array)g=5124;else if(d instanceof Int8Array)g=5120;else if(d instanceof Uint8Array)g=5121;else if(d instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,d){const f=u.array,m=u.updateRange;n.bindBuffer(d,c),m.count===-1?n.bufferSubData(d,0,f):(t?n.bufferSubData(d,m.offset*f.BYTES_PER_ELEMENT,f,m.offset,m.count):n.bufferSubData(d,m.offset*f.BYTES_PER_ELEMENT,f.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=r.get(c);(!f||f.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d===void 0?r.set(c,i(c,u)):d.version<c.version&&(s(d.buffer,c,u),d.version=c.version)}return{get:o,remove:a,update:l}}class _p extends Ct{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,f=t/l,m=[],g=[],v=[],_=[];for(let x=0;x<u;x++){const w=x*f-o;for(let S=0;S<c;S++){const E=S*d-s;g.push(E,-w,0),v.push(0,0,1),_.push(S/a),_.push(1-x/l)}}for(let x=0;x<l;x++)for(let w=0;w<a;w++){const S=w+c*x,E=w+c*(x+1),A=w+1+c*(x+1),P=w+1+c*x;m.push(S,E,P),m.push(E,A,P)}this.setIndex(m),this.setAttribute("position",new tt(g,3)),this.setAttribute("normal",new tt(v,3)),this.setAttribute("uv",new tt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _p(e.width,e.height,e.widthSegments,e.heightSegments)}}var f_e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,p_e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,m_e=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,g_e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,v_e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,y_e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,__e="vec3 transformed = vec3( position );",x_e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,b_e=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,w_e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,S_e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,E_e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,C_e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,A_e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,M_e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,T_e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,P_e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,R_e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,I_e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,N_e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,k_e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,O_e=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,L_e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,B_e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,D_e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,F_e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,z_e="gl_FragColor = linearToOutputTexel( gl_FragColor );",U_e=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,G_e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,H_e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,V_e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,W_e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,j_e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,$_e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,J_e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,K_e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,X_e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Y_e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,q_e=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Q_e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Z_e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,exe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,txe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,nxe=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,rxe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,ixe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,sxe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,oxe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,axe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lxe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,cxe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,uxe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,dxe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,hxe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,fxe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,pxe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,mxe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,gxe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,vxe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,yxe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,_xe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,xxe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,bxe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,wxe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Sxe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Exe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Cxe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Axe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Mxe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Txe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Pxe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Rxe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Ixe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Nxe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,kxe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Oxe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Lxe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Bxe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Dxe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Fxe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,zxe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Uxe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Gxe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Hxe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Vxe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Wxe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,jxe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,$xe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Jxe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Kxe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Xxe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Yxe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,qxe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Qxe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Zxe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,ebe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tbe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,nbe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,rbe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		
		vec2 lodFudge = pow( 1.95, lod ) / fullSize;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec2 fullSize = vec2( textureSize( sampler, 0 ) );
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,ibe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,sbe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,obe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,abe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,lbe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,cbe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,ube=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const dbe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,hbe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,fbe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,pbe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,mbe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,gbe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vbe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,ybe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,_be=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,xbe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,bbe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,wbe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Sbe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ebe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Cbe=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Abe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Mbe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tbe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Pbe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Rbe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ibe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Nbe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,kbe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Obe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lbe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Bbe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dbe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Fbe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zbe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Ube=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Gbe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Hbe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Vbe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Wbe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Mt={alphamap_fragment:f_e,alphamap_pars_fragment:p_e,alphatest_fragment:m_e,alphatest_pars_fragment:g_e,aomap_fragment:v_e,aomap_pars_fragment:y_e,begin_vertex:__e,beginnormal_vertex:x_e,bsdfs:b_e,iridescence_fragment:w_e,bumpmap_pars_fragment:S_e,clipping_planes_fragment:E_e,clipping_planes_pars_fragment:C_e,clipping_planes_pars_vertex:A_e,clipping_planes_vertex:M_e,color_fragment:T_e,color_pars_fragment:P_e,color_pars_vertex:R_e,color_vertex:I_e,common:N_e,cube_uv_reflection_fragment:k_e,defaultnormal_vertex:O_e,displacementmap_pars_vertex:L_e,displacementmap_vertex:B_e,emissivemap_fragment:D_e,emissivemap_pars_fragment:F_e,encodings_fragment:z_e,encodings_pars_fragment:U_e,envmap_fragment:G_e,envmap_common_pars_fragment:H_e,envmap_pars_fragment:V_e,envmap_pars_vertex:W_e,envmap_physical_pars_fragment:nxe,envmap_vertex:j_e,fog_vertex:$_e,fog_pars_vertex:J_e,fog_fragment:K_e,fog_pars_fragment:X_e,gradientmap_pars_fragment:Y_e,lightmap_fragment:q_e,lightmap_pars_fragment:Q_e,lights_lambert_fragment:Z_e,lights_lambert_pars_fragment:exe,lights_pars_begin:txe,lights_toon_fragment:rxe,lights_toon_pars_fragment:ixe,lights_phong_fragment:sxe,lights_phong_pars_fragment:oxe,lights_physical_fragment:axe,lights_physical_pars_fragment:lxe,lights_fragment_begin:cxe,lights_fragment_maps:uxe,lights_fragment_end:dxe,logdepthbuf_fragment:hxe,logdepthbuf_pars_fragment:fxe,logdepthbuf_pars_vertex:pxe,logdepthbuf_vertex:mxe,map_fragment:gxe,map_pars_fragment:vxe,map_particle_fragment:yxe,map_particle_pars_fragment:_xe,metalnessmap_fragment:xxe,metalnessmap_pars_fragment:bxe,morphcolor_vertex:wxe,morphnormal_vertex:Sxe,morphtarget_pars_vertex:Exe,morphtarget_vertex:Cxe,normal_fragment_begin:Axe,normal_fragment_maps:Mxe,normal_pars_fragment:Txe,normal_pars_vertex:Pxe,normal_vertex:Rxe,normalmap_pars_fragment:Ixe,clearcoat_normal_fragment_begin:Nxe,clearcoat_normal_fragment_maps:kxe,clearcoat_pars_fragment:Oxe,iridescence_pars_fragment:Lxe,output_fragment:Bxe,packing:Dxe,premultiplied_alpha_fragment:Fxe,project_vertex:zxe,dithering_fragment:Uxe,dithering_pars_fragment:Gxe,roughnessmap_fragment:Hxe,roughnessmap_pars_fragment:Vxe,shadowmap_pars_fragment:Wxe,shadowmap_pars_vertex:jxe,shadowmap_vertex:$xe,shadowmask_pars_fragment:Jxe,skinbase_vertex:Kxe,skinning_pars_vertex:Xxe,skinning_vertex:Yxe,skinnormal_vertex:qxe,specularmap_fragment:Qxe,specularmap_pars_fragment:Zxe,tonemapping_fragment:ebe,tonemapping_pars_fragment:tbe,transmission_fragment:nbe,transmission_pars_fragment:rbe,uv_pars_fragment:ibe,uv_pars_vertex:sbe,uv_vertex:obe,uv2_pars_fragment:abe,uv2_pars_vertex:lbe,uv2_vertex:cbe,worldpos_vertex:ube,background_vert:dbe,background_frag:hbe,backgroundCube_vert:fbe,backgroundCube_frag:pbe,cube_vert:mbe,cube_frag:gbe,depth_vert:vbe,depth_frag:ybe,distanceRGBA_vert:_be,distanceRGBA_frag:xbe,equirect_vert:bbe,equirect_frag:wbe,linedashed_vert:Sbe,linedashed_frag:Ebe,meshbasic_vert:Cbe,meshbasic_frag:Abe,meshlambert_vert:Mbe,meshlambert_frag:Tbe,meshmatcap_vert:Pbe,meshmatcap_frag:Rbe,meshnormal_vert:Ibe,meshnormal_frag:Nbe,meshphong_vert:kbe,meshphong_frag:Obe,meshphysical_vert:Lbe,meshphysical_frag:Bbe,meshtoon_vert:Dbe,meshtoon_frag:Fbe,points_vert:zbe,points_frag:Ube,shadow_vert:Gbe,shadow_frag:Hbe,sprite_vert:Vbe,sprite_frag:Wbe},Ve={common:{diffuse:{value:new He(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new oi},uv2Transform:{value:new oi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Se(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new He(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new He(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new oi}},sprite:{diffuse:{value:new He(16777215)},opacity:{value:1},center:{value:new Se(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new oi}}},Ao={basic:{uniforms:Bi([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.fog]),vertexShader:Mt.meshbasic_vert,fragmentShader:Mt.meshbasic_frag},lambert:{uniforms:Bi([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,Ve.lights,{emissive:{value:new He(0)}}]),vertexShader:Mt.meshlambert_vert,fragmentShader:Mt.meshlambert_frag},phong:{uniforms:Bi([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,Ve.lights,{emissive:{value:new He(0)},specular:{value:new He(1118481)},shininess:{value:30}}]),vertexShader:Mt.meshphong_vert,fragmentShader:Mt.meshphong_frag},standard:{uniforms:Bi([Ve.common,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.roughnessmap,Ve.metalnessmap,Ve.fog,Ve.lights,{emissive:{value:new He(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag},toon:{uniforms:Bi([Ve.common,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.gradientmap,Ve.fog,Ve.lights,{emissive:{value:new He(0)}}]),vertexShader:Mt.meshtoon_vert,fragmentShader:Mt.meshtoon_frag},matcap:{uniforms:Bi([Ve.common,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,{matcap:{value:null}}]),vertexShader:Mt.meshmatcap_vert,fragmentShader:Mt.meshmatcap_frag},points:{uniforms:Bi([Ve.points,Ve.fog]),vertexShader:Mt.points_vert,fragmentShader:Mt.points_frag},dashed:{uniforms:Bi([Ve.common,Ve.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mt.linedashed_vert,fragmentShader:Mt.linedashed_frag},depth:{uniforms:Bi([Ve.common,Ve.displacementmap]),vertexShader:Mt.depth_vert,fragmentShader:Mt.depth_frag},normal:{uniforms:Bi([Ve.common,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,{opacity:{value:1}}]),vertexShader:Mt.meshnormal_vert,fragmentShader:Mt.meshnormal_frag},sprite:{uniforms:Bi([Ve.sprite,Ve.fog]),vertexShader:Mt.sprite_vert,fragmentShader:Mt.sprite_frag},background:{uniforms:{uvTransform:{value:new oi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Mt.background_vert,fragmentShader:Mt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Mt.backgroundCube_vert,fragmentShader:Mt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mt.cube_vert,fragmentShader:Mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mt.equirect_vert,fragmentShader:Mt.equirect_frag},distanceRGBA:{uniforms:Bi([Ve.common,Ve.displacementmap,{referencePosition:{value:new U},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mt.distanceRGBA_vert,fragmentShader:Mt.distanceRGBA_frag},shadow:{uniforms:Bi([Ve.lights,Ve.fog,{color:{value:new He(0)},opacity:{value:1}}]),vertexShader:Mt.shadow_vert,fragmentShader:Mt.shadow_frag}};Ao.physical={uniforms:Bi([Ao.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Se(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new He(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Se},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new He(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new He(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag};const b_={r:0,b:0,g:0};function jbe(n,e,t,r,i,s,o){const a=new He(0);let l=s===!0?0:1,c,u,d=null,f=0,m=null;function g(_,x){let w=!1,S=x.isScene===!0?x.background:null;S&&S.isTexture&&(S=(x.backgroundBlurriness>0?t:e).get(S));const E=n.xr,A=E.getSession&&E.getSession();A&&A.environmentBlendMode==="additive"&&(S=null),S===null?v(a,l):S&&S.isColor&&(v(S,1),w=!0),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===yp)?(u===void 0&&(u=new Or(new Xc(1,1,1),new Do({name:"BackgroundCubeMaterial",uniforms:Jf(Ao.backgroundCube.uniforms),vertexShader:Ao.backgroundCube.vertexShader,fragmentShader:Ao.backgroundCube.fragmentShader,side:as,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(P,I,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=S,u.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,u.material.toneMapped=S.encoding!==zt,(d!==S||f!==S.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,d=S,f=S.version,m=n.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new Or(new _p(2,2),new Do({name:"BackgroundMaterial",uniforms:Jf(Ao.background.uniforms),vertexShader:Ao.background.vertexShader,fragmentShader:Ao.background.fragmentShader,side:Sa,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,c.material.toneMapped=S.encoding!==zt,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(d!==S||f!==S.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,d=S,f=S.version,m=n.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function v(_,x){_.getRGB(b_,V9(n)),r.buffers.color.setClear(b_.r,b_.g,b_.b,x,o)}return{getClearColor:function(){return a},setClearColor:function(_,x=1){a.set(_),l=x,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,v(a,l)},render:g}}function $be(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=_(null);let c=l,u=!1;function d(V,K,Q,te,D){let $=!1;if(o){const X=v(te,Q,K);c!==X&&(c=X,m(c.object)),$=x(V,te,Q,D),$&&w(V,te,Q,D)}else{const X=K.wireframe===!0;(c.geometry!==te.id||c.program!==Q.id||c.wireframe!==X)&&(c.geometry=te.id,c.program=Q.id,c.wireframe=X,$=!0)}D!==null&&t.update(D,34963),($||u)&&(u=!1,T(V,K,Q,te),D!==null&&n.bindBuffer(34963,t.get(D).buffer))}function f(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(V){return r.isWebGL2?n.bindVertexArray(V):s.bindVertexArrayOES(V)}function g(V){return r.isWebGL2?n.deleteVertexArray(V):s.deleteVertexArrayOES(V)}function v(V,K,Q){const te=Q.wireframe===!0;let D=a[V.id];D===void 0&&(D={},a[V.id]=D);let $=D[K.id];$===void 0&&($={},D[K.id]=$);let X=$[te];return X===void 0&&(X=_(f()),$[te]=X),X}function _(V){const K=[],Q=[],te=[];for(let D=0;D<i;D++)K[D]=0,Q[D]=0,te[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:K,enabledAttributes:Q,attributeDivisors:te,object:V,attributes:{},index:null}}function x(V,K,Q,te){const D=c.attributes,$=K.attributes;let X=0;const ue=Q.getAttributes();for(const Y in ue)if(ue[Y].location>=0){const ye=D[Y];let ne=$[Y];if(ne===void 0&&(Y==="instanceMatrix"&&V.instanceMatrix&&(ne=V.instanceMatrix),Y==="instanceColor"&&V.instanceColor&&(ne=V.instanceColor)),ye===void 0||ye.attribute!==ne||ne&&ye.data!==ne.data)return!0;X++}return c.attributesNum!==X||c.index!==te}function w(V,K,Q,te){const D={},$=K.attributes;let X=0;const ue=Q.getAttributes();for(const Y in ue)if(ue[Y].location>=0){let ye=$[Y];ye===void 0&&(Y==="instanceMatrix"&&V.instanceMatrix&&(ye=V.instanceMatrix),Y==="instanceColor"&&V.instanceColor&&(ye=V.instanceColor));const ne={};ne.attribute=ye,ye&&ye.data&&(ne.data=ye.data),D[Y]=ne,X++}c.attributes=D,c.attributesNum=X,c.index=te}function S(){const V=c.newAttributes;for(let K=0,Q=V.length;K<Q;K++)V[K]=0}function E(V){A(V,0)}function A(V,K){const Q=c.newAttributes,te=c.enabledAttributes,D=c.attributeDivisors;Q[V]=1,te[V]===0&&(n.enableVertexAttribArray(V),te[V]=1),D[V]!==K&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](V,K),D[V]=K)}function P(){const V=c.newAttributes,K=c.enabledAttributes;for(let Q=0,te=K.length;Q<te;Q++)K[Q]!==V[Q]&&(n.disableVertexAttribArray(Q),K[Q]=0)}function I(V,K,Q,te,D,$){r.isWebGL2===!0&&(Q===5124||Q===5125)?n.vertexAttribIPointer(V,K,Q,D,$):n.vertexAttribPointer(V,K,Q,te,D,$)}function T(V,K,Q,te){if(r.isWebGL2===!1&&(V.isInstancedMesh||te.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const D=te.attributes,$=Q.getAttributes(),X=K.defaultAttributeValues;for(const ue in $){const Y=$[ue];if(Y.location>=0){let pe=D[ue];if(pe===void 0&&(ue==="instanceMatrix"&&V.instanceMatrix&&(pe=V.instanceMatrix),ue==="instanceColor"&&V.instanceColor&&(pe=V.instanceColor)),pe!==void 0){const ye=pe.normalized,ne=pe.itemSize,fe=t.get(pe);if(fe===void 0)continue;const Ee=fe.buffer,Re=fe.type,Me=fe.bytesPerElement;if(pe.isInterleavedBufferAttribute){const Ue=pe.data,Ge=Ue.stride,me=pe.offset;if(Ue.isInstancedInterleavedBuffer){for(let _e=0;_e<Y.locationSize;_e++)A(Y.location+_e,Ue.meshPerAttribute);V.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=Ue.meshPerAttribute*Ue.count)}else for(let _e=0;_e<Y.locationSize;_e++)E(Y.location+_e);n.bindBuffer(34962,Ee);for(let _e=0;_e<Y.locationSize;_e++)I(Y.location+_e,ne/Y.locationSize,Re,ye,Ge*Me,(me+ne/Y.locationSize*_e)*Me)}else{if(pe.isInstancedBufferAttribute){for(let Ue=0;Ue<Y.locationSize;Ue++)A(Y.location+Ue,pe.meshPerAttribute);V.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let Ue=0;Ue<Y.locationSize;Ue++)E(Y.location+Ue);n.bindBuffer(34962,Ee);for(let Ue=0;Ue<Y.locationSize;Ue++)I(Y.location+Ue,ne/Y.locationSize,Re,ye,ne*Me,ne/Y.locationSize*Ue*Me)}}else if(X!==void 0){const ye=X[ue];if(ye!==void 0)switch(ye.length){case 2:n.vertexAttrib2fv(Y.location,ye);break;case 3:n.vertexAttrib3fv(Y.location,ye);break;case 4:n.vertexAttrib4fv(Y.location,ye);break;default:n.vertexAttrib1fv(Y.location,ye)}}}}P()}function R(){J();for(const V in a){const K=a[V];for(const Q in K){const te=K[Q];for(const D in te)g(te[D].object),delete te[D];delete K[Q]}delete a[V]}}function O(V){if(a[V.id]===void 0)return;const K=a[V.id];for(const Q in K){const te=K[Q];for(const D in te)g(te[D].object),delete te[D];delete K[Q]}delete a[V.id]}function L(V){for(const K in a){const Q=a[K];if(Q[V.id]===void 0)continue;const te=Q[V.id];for(const D in te)g(te[D].object),delete te[D];delete Q[V.id]}}function J(){j(),u=!0,c!==l&&(c=l,m(c.object))}function j(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:J,resetDefaultState:j,dispose:R,releaseStatesOfGeometry:O,releaseStatesOfProgram:L,initAttributes:S,enableAttribute:E,disableUnusedAttributes:P}}function Jbe(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,d){if(d===0)return;let f,m;if(i)f=n,m="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[m](s,c,u,d),t.update(u,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function Kbe(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(I){if(I==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";I="mediump"}return I==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),f=n.getParameter(35660),m=n.getParameter(3379),g=n.getParameter(34076),v=n.getParameter(34921),_=n.getParameter(36347),x=n.getParameter(36348),w=n.getParameter(36349),S=f>0,E=o||e.has("OES_texture_float"),A=S&&E,P=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:m,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:_,maxVaryings:x,maxFragmentUniforms:w,vertexTextures:S,floatFragmentTextures:E,floatVertexTextures:A,maxSamples:P}}function Xbe(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Kl,a=new oi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const m=d.length!==0||f||r!==0||i;return i=f,r=d.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,f){t=u(d,f,0)},this.setState=function(d,f,m){const g=d.clippingPlanes,v=d.clipIntersection,_=d.clipShadows,x=n.get(d);if(!i||g===null||g.length===0||s&&!_)s?u(null):c();else{const w=s?0:r,S=w*4;let E=x.clippingState||null;l.value=E,E=u(g,f,S,m);for(let A=0;A!==S;++A)E[A]=t[A];x.clippingState=E,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,m,g){const v=d!==null?d.length:0;let _=null;if(v!==0){if(_=l.value,g!==!0||_===null){const x=m+v*4,w=f.matrixWorldInverse;a.getNormalMatrix(w),(_===null||_.length<x)&&(_=new Float32Array(x));for(let S=0,E=m;S!==v;++S,E+=4)o.copy(d[S]).applyMatrix4(w,a),o.normal.toArray(_,E),_[E+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,_}}function Ybe(n){let e=new WeakMap;function t(o,a){return a===Vf?o.mapping=ml:a===bv&&(o.mapping=Bc),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Vf||a===bv)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new bN(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class al extends y0{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const jh=4,XF=[.125,.215,.35,.446,.526,.582],ku=20,YC=new al,YF=new He;let qC=null;const Tu=(1+Math.sqrt(5))/2,gh=1/Tu,qF=[new U(1,1,1),new U(-1,1,1),new U(1,1,-1),new U(-1,1,-1),new U(0,Tu,gh),new U(0,Tu,-gh),new U(gh,0,Tu),new U(-gh,0,Tu),new U(Tu,gh,0),new U(-Tu,gh,0)];class OP{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){qC=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=ez(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=ZF(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(qC),e.scissorTest=!1,w_(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ml||e.mapping===Bc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),qC=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Ln,minFilter:Ln,generateMipmaps:!1,type:Po,format:Qi,encoding:Lo,depthBuffer:!1},i=QF(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=QF(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=qbe(s)),this._blurMaterial=Qbe(s,e,t)}return i}_compileMaterial(e){const t=new Or(this._lodPlanes[0],e);this._renderer.compile(t,YC)}_sceneToCubeUV(e,t,r,i){const a=new Bn(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(YF),u.toneMapping=ko,u.autoClear=!1;const m=new Ss({name:"PMREM.Background",side:as,depthWrite:!1,depthTest:!1}),g=new Or(new Xc,m);let v=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,v=!0):(m.color.copy(YF),v=!0);for(let x=0;x<6;x++){const w=x%3;w===0?(a.up.set(0,l[x],0),a.lookAt(c[x],0,0)):w===1?(a.up.set(0,0,l[x]),a.lookAt(0,c[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,c[x]));const S=this._cubeSize;w_(i,w*S,x>2?S:0,S,S),u.setRenderTarget(i),v&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=_}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===ml||e.mapping===Bc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=ez()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=ZF());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Or(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;w_(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,YC)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=qF[(i-1)%qF.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Or(this._lodPlanes[i],c),f=c.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*ku-1),v=s/g,_=isFinite(s)?1+Math.floor(u*v):ku;_>ku&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${ku}`);const x=[];let w=0;for(let I=0;I<ku;++I){const T=I/v,R=Math.exp(-T*T/2);x.push(R),I===0?w+=R:I<_&&(w+=2*R)}for(let I=0;I<x.length;I++)x[I]=x[I]/w;f.envMap.value=e.texture,f.samples.value=_,f.weights.value=x,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:S}=this;f.dTheta.value=g,f.mipInt.value=S-r;const E=this._sizeLods[i],A=3*E*(i>S-jh?i-S+jh:0),P=4*(this._cubeSize-E);w_(t,A,P,3*E,2*E),l.setRenderTarget(t),l.render(d,YC)}}function qbe(n){const e=[],t=[],r=[];let i=n;const s=n-jh+1+XF.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-jh?l=XF[o-n+jh-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],m=6,g=6,v=3,_=2,x=1,w=new Float32Array(v*g*m),S=new Float32Array(_*g*m),E=new Float32Array(x*g*m);for(let P=0;P<m;P++){const I=P%3*2/3-1,T=P>2?0:-1,R=[I,T,0,I+2/3,T,0,I+2/3,T+1,0,I,T,0,I+2/3,T+1,0,I,T+1,0];w.set(R,v*g*P),S.set(f,_*g*P);const O=[P,P,P,P,P,P];E.set(O,x*g*P)}const A=new Ct;A.setAttribute("position",new cn(w,v)),A.setAttribute("uv",new cn(S,_)),A.setAttribute("faceIndex",new cn(E,x)),e.push(A),i>jh&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function QF(n,e,t){const r=new Bo(n,e,t);return r.texture.mapping=yp,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function w_(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Qbe(n,e,t){const r=new Float32Array(ku),i=new U(0,1,0);return new Do({name:"SphericalGaussianBlur",defines:{n:ku,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:wN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ol,depthTest:!1,depthWrite:!1})}function ZF(){return new Do({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:wN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ol,depthTest:!1,depthWrite:!1})}function ez(){return new Do({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:wN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ol,depthTest:!1,depthWrite:!1})}function wN(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Zbe(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===Vf||l===bv,u=l===ml||l===Bc;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new OP(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&i(d)){t===null&&(t=new OP(n));const f=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",s),f.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function ewe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function twe(n,e,t,r){const i={},s=new WeakMap;function o(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const g in f.attributes)e.remove(f.attributes[g]);f.removeEventListener("dispose",o),delete i[f.id];const m=s.get(f);m&&(e.remove(m),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function a(d,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,t.memory.geometries++),f}function l(d){const f=d.attributes;for(const g in f)e.update(f[g],34962);const m=d.morphAttributes;for(const g in m){const v=m[g];for(let _=0,x=v.length;_<x;_++)e.update(v[_],34962)}}function c(d){const f=[],m=d.index,g=d.attributes.position;let v=0;if(m!==null){const w=m.array;v=m.version;for(let S=0,E=w.length;S<E;S+=3){const A=w[S+0],P=w[S+1],I=w[S+2];f.push(A,P,P,I,I,A)}}else{const w=g.array;v=g.version;for(let S=0,E=w.length/3-1;S<E;S+=3){const A=S+0,P=S+1,I=S+2;f.push(A,P,P,I,I,A)}}const _=new(G9(f)?xN:_N)(f,1);_.version=v;const x=s.get(d);x&&e.remove(x),s.set(d,_)}function u(d){const f=s.get(d);if(f){const m=d.index;m!==null&&f.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function nwe(n,e,t,r){const i=r.isWebGL2;let s;function o(f){s=f}let a,l;function c(f){a=f.type,l=f.bytesPerElement}function u(f,m){n.drawElements(s,m,a,f*l),t.update(m,s,1)}function d(f,m,g){if(g===0)return;let v,_;if(i)v=n,_="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[_](s,m,a,f*l,g),t.update(m,s,g)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function rwe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function iwe(n,e){return n[0]-e[0]}function swe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function owe(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new mn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d){const f=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=g!==void 0?g.length:0;let _=s.get(u);if(_===void 0||_.count!==v){let K=function(){j.dispose(),s.delete(u),u.removeEventListener("dispose",K)};var m=K;_!==void 0&&_.texture.dispose();const S=u.morphAttributes.position!==void 0,E=u.morphAttributes.normal!==void 0,A=u.morphAttributes.color!==void 0,P=u.morphAttributes.position||[],I=u.morphAttributes.normal||[],T=u.morphAttributes.color||[];let R=0;S===!0&&(R=1),E===!0&&(R=2),A===!0&&(R=3);let O=u.attributes.position.count*R,L=1;O>e.maxTextureSize&&(L=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const J=new Float32Array(O*L*4*v),j=new D1(J,O,L,v);j.type=to,j.needsUpdate=!0;const V=R*4;for(let Q=0;Q<v;Q++){const te=P[Q],D=I[Q],$=T[Q],X=O*L*4*Q;for(let ue=0;ue<te.count;ue++){const Y=ue*V;S===!0&&(o.fromBufferAttribute(te,ue),J[X+Y+0]=o.x,J[X+Y+1]=o.y,J[X+Y+2]=o.z,J[X+Y+3]=0),E===!0&&(o.fromBufferAttribute(D,ue),J[X+Y+4]=o.x,J[X+Y+5]=o.y,J[X+Y+6]=o.z,J[X+Y+7]=0),A===!0&&(o.fromBufferAttribute($,ue),J[X+Y+8]=o.x,J[X+Y+9]=o.y,J[X+Y+10]=o.z,J[X+Y+11]=$.itemSize===4?o.w:1)}}_={count:v,texture:j,size:new Se(O,L)},s.set(u,_),u.addEventListener("dispose",K)}let x=0;for(let S=0;S<f.length;S++)x+=f[S];const w=u.morphTargetsRelative?1:1-x;d.getUniforms().setValue(n,"morphTargetBaseInfluence",w),d.getUniforms().setValue(n,"morphTargetInfluences",f),d.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const g=f===void 0?0:f.length;let v=r[u.id];if(v===void 0||v.length!==g){v=[];for(let E=0;E<g;E++)v[E]=[E,0];r[u.id]=v}for(let E=0;E<g;E++){const A=v[E];A[0]=E,A[1]=f[E]}v.sort(swe);for(let E=0;E<8;E++)E<g&&v[E][1]?(a[E][0]=v[E][0],a[E][1]=v[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(iwe);const _=u.morphAttributes.position,x=u.morphAttributes.normal;let w=0;for(let E=0;E<8;E++){const A=a[E],P=A[0],I=A[1];P!==Number.MAX_SAFE_INTEGER&&I?(_&&u.getAttribute("morphTarget"+E)!==_[P]&&u.setAttribute("morphTarget"+E,_[P]),x&&u.getAttribute("morphNormal"+E)!==x[P]&&u.setAttribute("morphNormal"+E,x[P]),i[E]=I,w+=I):(_&&u.hasAttribute("morphTarget"+E)===!0&&u.deleteAttribute("morphTarget"+E),x&&u.hasAttribute("morphNormal"+E)===!0&&u.deleteAttribute("morphNormal"+E),i[E]=0)}const S=u.morphTargetsRelative?1:1-w;d.getUniforms().setValue(n,"morphTargetBaseInfluence",S),d.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function awe(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);return i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const J9=new Jn,K9=new D1,X9=new yN,Y9=new _0,tz=[],nz=[],rz=new Float32Array(16),iz=new Float32Array(9),sz=new Float32Array(4);function xp(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=tz[i];if(s===void 0&&(s=new Float32Array(i),tz[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Br(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Dr(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function z1(n,e){let t=nz[e];t===void 0&&(t=new Int32Array(e),nz[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function lwe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function cwe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Br(t,e))return;n.uniform2fv(this.addr,e),Dr(t,e)}}function uwe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Br(t,e))return;n.uniform3fv(this.addr,e),Dr(t,e)}}function dwe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Br(t,e))return;n.uniform4fv(this.addr,e),Dr(t,e)}}function hwe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Br(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Dr(t,e)}else{if(Br(t,r))return;sz.set(r),n.uniformMatrix2fv(this.addr,!1,sz),Dr(t,r)}}function fwe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Br(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Dr(t,e)}else{if(Br(t,r))return;iz.set(r),n.uniformMatrix3fv(this.addr,!1,iz),Dr(t,r)}}function pwe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Br(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Dr(t,e)}else{if(Br(t,r))return;rz.set(r),n.uniformMatrix4fv(this.addr,!1,rz),Dr(t,r)}}function mwe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function gwe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Br(t,e))return;n.uniform2iv(this.addr,e),Dr(t,e)}}function vwe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Br(t,e))return;n.uniform3iv(this.addr,e),Dr(t,e)}}function ywe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Br(t,e))return;n.uniform4iv(this.addr,e),Dr(t,e)}}function _we(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function xwe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Br(t,e))return;n.uniform2uiv(this.addr,e),Dr(t,e)}}function bwe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Br(t,e))return;n.uniform3uiv(this.addr,e),Dr(t,e)}}function wwe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Br(t,e))return;n.uniform4uiv(this.addr,e),Dr(t,e)}}function Swe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||J9,i)}function Ewe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||X9,i)}function Cwe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Y9,i)}function Awe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||K9,i)}function Mwe(n){switch(n){case 5126:return lwe;case 35664:return cwe;case 35665:return uwe;case 35666:return dwe;case 35674:return hwe;case 35675:return fwe;case 35676:return pwe;case 5124:case 35670:return mwe;case 35667:case 35671:return gwe;case 35668:case 35672:return vwe;case 35669:case 35673:return ywe;case 5125:return _we;case 36294:return xwe;case 36295:return bwe;case 36296:return wwe;case 35678:case 36198:case 36298:case 36306:case 35682:return Swe;case 35679:case 36299:case 36307:return Ewe;case 35680:case 36300:case 36308:case 36293:return Cwe;case 36289:case 36303:case 36311:case 36292:return Awe}}function Twe(n,e){n.uniform1fv(this.addr,e)}function Pwe(n,e){const t=xp(e,this.size,2);n.uniform2fv(this.addr,t)}function Rwe(n,e){const t=xp(e,this.size,3);n.uniform3fv(this.addr,t)}function Iwe(n,e){const t=xp(e,this.size,4);n.uniform4fv(this.addr,t)}function Nwe(n,e){const t=xp(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function kwe(n,e){const t=xp(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Owe(n,e){const t=xp(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Lwe(n,e){n.uniform1iv(this.addr,e)}function Bwe(n,e){n.uniform2iv(this.addr,e)}function Dwe(n,e){n.uniform3iv(this.addr,e)}function Fwe(n,e){n.uniform4iv(this.addr,e)}function zwe(n,e){n.uniform1uiv(this.addr,e)}function Uwe(n,e){n.uniform2uiv(this.addr,e)}function Gwe(n,e){n.uniform3uiv(this.addr,e)}function Hwe(n,e){n.uniform4uiv(this.addr,e)}function Vwe(n,e,t){const r=this.cache,i=e.length,s=z1(t,i);Br(r,s)||(n.uniform1iv(this.addr,s),Dr(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||J9,s[o])}function Wwe(n,e,t){const r=this.cache,i=e.length,s=z1(t,i);Br(r,s)||(n.uniform1iv(this.addr,s),Dr(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||X9,s[o])}function jwe(n,e,t){const r=this.cache,i=e.length,s=z1(t,i);Br(r,s)||(n.uniform1iv(this.addr,s),Dr(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||Y9,s[o])}function $we(n,e,t){const r=this.cache,i=e.length,s=z1(t,i);Br(r,s)||(n.uniform1iv(this.addr,s),Dr(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||K9,s[o])}function Jwe(n){switch(n){case 5126:return Twe;case 35664:return Pwe;case 35665:return Rwe;case 35666:return Iwe;case 35674:return Nwe;case 35675:return kwe;case 35676:return Owe;case 5124:case 35670:return Lwe;case 35667:case 35671:return Bwe;case 35668:case 35672:return Dwe;case 35669:case 35673:return Fwe;case 5125:return zwe;case 36294:return Uwe;case 36295:return Gwe;case 36296:return Hwe;case 35678:case 36198:case 36298:case 36306:case 35682:return Vwe;case 35679:case 36299:case 36307:return Wwe;case 35680:case 36300:case 36308:case 36293:return jwe;case 36289:case 36303:case 36311:case 36292:return $we}}class Kwe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=Mwe(t.type)}}class Xwe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=Jwe(t.type)}}class Ywe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const QC=/(\w+)(\])?(\[|\.)?/g;function oz(n,e){n.seq.push(e),n.map[e.id]=e}function qwe(n,e,t){const r=n.name,i=r.length;for(QC.lastIndex=0;;){const s=QC.exec(r),o=QC.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){oz(t,c===void 0?new Kwe(a,n,e):new Xwe(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new Ywe(a),oz(t,d)),t=d}}}class Ax{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);qwe(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function az(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let Qwe=0;function Zwe(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function e1e(n){switch(n){case Lo:return["Linear","( value )"];case zt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function lz(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+Zwe(n.getShaderSource(e),o)}else return i}function t1e(n,e){const t=e1e(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function n1e(n,e){let t;switch(e){case d9:t="Linear";break;case h9:t="Reinhard";break;case f9:t="OptimizedCineon";break;case dN:t="ACESFilmic";break;case p9:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function r1e(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(qm).join(`
`)}function i1e(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function s1e(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function qm(n){return n!==""}function cz(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function uz(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const o1e=/^[ \t]*#include +<([\w\d./]+)>/gm;function LP(n){return n.replace(o1e,a1e)}function a1e(n,e){const t=Mt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return LP(t)}const l1e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function dz(n){return n.replace(l1e,c1e)}function c1e(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function hz(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function u1e(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===k1?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Ag?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Uu&&(e="SHADOWMAP_TYPE_VSM"),e}function d1e(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case ml:case Bc:e="ENVMAP_TYPE_CUBE";break;case yp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function h1e(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Bc:e="ENVMAP_MODE_REFRACTION";break}return e}function f1e(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case m0:e="ENVMAP_BLENDING_MULTIPLY";break;case c9:e="ENVMAP_BLENDING_MIX";break;case u9:e="ENVMAP_BLENDING_ADD";break}return e}function p1e(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function m1e(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=u1e(t),c=d1e(t),u=h1e(t),d=f1e(t),f=p1e(t),m=t.isWebGL2?"":r1e(t),g=i1e(s),v=i.createProgram();let _,x,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=[g].filter(qm).join(`
`),_.length>0&&(_+=`
`),x=[m,g].filter(qm).join(`
`),x.length>0&&(x+=`
`)):(_=[hz(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(qm).join(`
`),x=[m,hz(t),"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ko?"#define TONE_MAPPING":"",t.toneMapping!==ko?Mt.tonemapping_pars_fragment:"",t.toneMapping!==ko?n1e("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Mt.encodings_pars_fragment,t1e("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(qm).join(`
`)),o=LP(o),o=cz(o,t),o=uz(o,t),a=LP(a),a=cz(a,t),a=uz(a,t),o=dz(o),a=dz(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,x=["#define varying in",t.glslVersion===NP?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===NP?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const S=w+_+o,E=w+x+a,A=az(i,35633,S),P=az(i,35632,E);if(i.attachShader(v,A),i.attachShader(v,P),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),n.debug.checkShaderErrors){const R=i.getProgramInfoLog(v).trim(),O=i.getShaderInfoLog(A).trim(),L=i.getShaderInfoLog(P).trim();let J=!0,j=!0;if(i.getProgramParameter(v,35714)===!1){J=!1;const V=lz(i,A,"vertex"),K=lz(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+R+`
`+V+`
`+K)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(O===""||L==="")&&(j=!1);j&&(this.diagnostics={runnable:J,programLog:R,vertexShader:{log:O,prefix:_},fragmentShader:{log:L,prefix:x}})}i.deleteShader(A),i.deleteShader(P);let I;this.getUniforms=function(){return I===void 0&&(I=new Ax(i,v)),I};let T;return this.getAttributes=function(){return T===void 0&&(T=s1e(i,v)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=Qwe++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=A,this.fragmentShader=P,this}let g1e=0;class v1e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new y1e(e),t.set(e,r)),r}}class y1e{constructor(e){this.id=g1e++,this.code=e,this.usedTimes=0}}function _1e(n,e,t,r,i,s,o){const a=new td,l=new v1e,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,f=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(T,R,O,L,J){const j=L.fog,V=J.geometry,K=T.isMeshStandardMaterial?L.environment:null,Q=(T.isMeshStandardMaterial?t:e).get(T.envMap||K),te=Q&&Q.mapping===yp?Q.image.height:null,D=g[T.type];T.precision!==null&&(m=i.getMaxPrecision(T.precision),m!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",m,"instead."));const $=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,X=$!==void 0?$.length:0;let ue=0;V.morphAttributes.position!==void 0&&(ue=1),V.morphAttributes.normal!==void 0&&(ue=2),V.morphAttributes.color!==void 0&&(ue=3);let Y,pe,ye,ne;if(D){const Ge=Ao[D];Y=Ge.vertexShader,pe=Ge.fragmentShader}else Y=T.vertexShader,pe=T.fragmentShader,l.update(T),ye=l.getVertexShaderID(T),ne=l.getFragmentShaderID(T);const fe=n.getRenderTarget(),Ee=T.alphaTest>0,Re=T.clearcoat>0,Me=T.iridescence>0;return{isWebGL2:u,shaderID:D,shaderName:T.type,vertexShader:Y,fragmentShader:pe,defines:T.defines,customVertexShaderID:ye,customFragmentShaderID:ne,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:m,instancing:J.isInstancedMesh===!0,instancingColor:J.isInstancedMesh===!0&&J.instanceColor!==null,supportsVertexTextures:f,outputEncoding:fe===null?n.outputEncoding:fe.isXRRenderTarget===!0?fe.texture.encoding:Lo,map:!!T.map,matcap:!!T.matcap,envMap:!!Q,envMapMode:Q&&Q.mapping,envMapCubeUVHeight:te,lightMap:!!T.lightMap,aoMap:!!T.aoMap,emissiveMap:!!T.emissiveMap,bumpMap:!!T.bumpMap,normalMap:!!T.normalMap,objectSpaceNormalMap:T.normalMapType===B9,tangentSpaceNormalMap:T.normalMapType===xl,decodeVideoTexture:!!T.map&&T.map.isVideoTexture===!0&&T.map.encoding===zt,clearcoat:Re,clearcoatMap:Re&&!!T.clearcoatMap,clearcoatRoughnessMap:Re&&!!T.clearcoatRoughnessMap,clearcoatNormalMap:Re&&!!T.clearcoatNormalMap,iridescence:Me,iridescenceMap:Me&&!!T.iridescenceMap,iridescenceThicknessMap:Me&&!!T.iridescenceThicknessMap,displacementMap:!!T.displacementMap,roughnessMap:!!T.roughnessMap,metalnessMap:!!T.metalnessMap,specularMap:!!T.specularMap,specularIntensityMap:!!T.specularIntensityMap,specularColorMap:!!T.specularColorMap,opaque:T.transparent===!1&&T.blending===Qu,alphaMap:!!T.alphaMap,alphaTest:Ee,gradientMap:!!T.gradientMap,sheen:T.sheen>0,sheenColorMap:!!T.sheenColorMap,sheenRoughnessMap:!!T.sheenRoughnessMap,transmission:T.transmission>0,transmissionMap:!!T.transmissionMap,thicknessMap:!!T.thicknessMap,combine:T.combine,vertexTangents:!!T.normalMap&&!!V.attributes.tangent,vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!V.attributes.color&&V.attributes.color.itemSize===4,vertexUvs:!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatMap||!!T.clearcoatRoughnessMap||!!T.clearcoatNormalMap||!!T.iridescenceMap||!!T.iridescenceThicknessMap||!!T.displacementMap||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularColorMap||!!T.sheenColorMap||!!T.sheenRoughnessMap,uvsVertexOnly:!(T.map||T.bumpMap||T.normalMap||T.specularMap||T.alphaMap||T.emissiveMap||T.roughnessMap||T.metalnessMap||T.clearcoatNormalMap||T.iridescenceMap||T.iridescenceThicknessMap||T.transmission>0||T.transmissionMap||T.thicknessMap||T.specularIntensityMap||T.specularColorMap||T.sheen>0||T.sheenColorMap||T.sheenRoughnessMap)&&!!T.displacementMap,fog:!!j,useFog:T.fog===!0,fogExp2:j&&j.isFogExp2,flatShading:!!T.flatShading,sizeAttenuation:T.sizeAttenuation,logarithmicDepthBuffer:d,skinning:J.isSkinnedMesh===!0,morphTargets:V.morphAttributes.position!==void 0,morphNormals:V.morphAttributes.normal!==void 0,morphColors:V.morphAttributes.color!==void 0,morphTargetsCount:X,morphTextureStride:ue,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&O.length>0,shadowMapType:n.shadowMap.type,toneMapping:T.toneMapped?n.toneMapping:ko,useLegacyLights:n.useLegacyLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===To,flipSided:T.side===as,useDepthPacking:!!T.depthPacking,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:T.extensions&&T.extensions.derivatives,extensionFragDepth:T.extensions&&T.extensions.fragDepth,extensionDrawBuffers:T.extensions&&T.extensions.drawBuffers,extensionShaderTextureLOD:T.extensions&&T.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function _(T){const R=[];if(T.shaderID?R.push(T.shaderID):(R.push(T.customVertexShaderID),R.push(T.customFragmentShaderID)),T.defines!==void 0)for(const O in T.defines)R.push(O),R.push(T.defines[O]);return T.isRawShaderMaterial===!1&&(x(R,T),w(R,T),R.push(n.outputEncoding)),R.push(T.customProgramCacheKey),R.join()}function x(T,R){T.push(R.precision),T.push(R.outputEncoding),T.push(R.envMapMode),T.push(R.envMapCubeUVHeight),T.push(R.combine),T.push(R.vertexUvs),T.push(R.fogExp2),T.push(R.sizeAttenuation),T.push(R.morphTargetsCount),T.push(R.morphAttributeCount),T.push(R.numDirLights),T.push(R.numPointLights),T.push(R.numSpotLights),T.push(R.numSpotLightMaps),T.push(R.numHemiLights),T.push(R.numRectAreaLights),T.push(R.numDirLightShadows),T.push(R.numPointLightShadows),T.push(R.numSpotLightShadows),T.push(R.numSpotLightShadowsWithMaps),T.push(R.shadowMapType),T.push(R.toneMapping),T.push(R.numClippingPlanes),T.push(R.numClipIntersection),T.push(R.depthPacking)}function w(T,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.map&&a.enable(4),R.matcap&&a.enable(5),R.envMap&&a.enable(6),R.lightMap&&a.enable(7),R.aoMap&&a.enable(8),R.emissiveMap&&a.enable(9),R.bumpMap&&a.enable(10),R.normalMap&&a.enable(11),R.objectSpaceNormalMap&&a.enable(12),R.tangentSpaceNormalMap&&a.enable(13),R.clearcoat&&a.enable(14),R.clearcoatMap&&a.enable(15),R.clearcoatRoughnessMap&&a.enable(16),R.clearcoatNormalMap&&a.enable(17),R.iridescence&&a.enable(18),R.iridescenceMap&&a.enable(19),R.iridescenceThicknessMap&&a.enable(20),R.displacementMap&&a.enable(21),R.specularMap&&a.enable(22),R.roughnessMap&&a.enable(23),R.metalnessMap&&a.enable(24),R.gradientMap&&a.enable(25),R.alphaMap&&a.enable(26),R.alphaTest&&a.enable(27),R.vertexColors&&a.enable(28),R.vertexAlphas&&a.enable(29),R.vertexUvs&&a.enable(30),R.vertexTangents&&a.enable(31),R.uvsVertexOnly&&a.enable(32),T.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.skinning&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.useLegacyLights&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.specularIntensityMap&&a.enable(15),R.specularColorMap&&a.enable(16),R.transmission&&a.enable(17),R.transmissionMap&&a.enable(18),R.thicknessMap&&a.enable(19),R.sheen&&a.enable(20),R.sheenColorMap&&a.enable(21),R.sheenRoughnessMap&&a.enable(22),R.decodeVideoTexture&&a.enable(23),R.opaque&&a.enable(24),T.push(a.mask)}function S(T){const R=g[T.type];let O;if(R){const L=Ao[R];O=W9.clone(L.uniforms)}else O=T.uniforms;return O}function E(T,R){let O;for(let L=0,J=c.length;L<J;L++){const j=c[L];if(j.cacheKey===R){O=j,++O.usedTimes;break}}return O===void 0&&(O=new m1e(n,R,T,s),c.push(O)),O}function A(T){if(--T.usedTimes===0){const R=c.indexOf(T);c[R]=c[c.length-1],c.pop(),T.destroy()}}function P(T){l.remove(T)}function I(){l.dispose()}return{getParameters:v,getProgramCacheKey:_,getUniforms:S,acquireProgram:E,releaseProgram:A,releaseShaderCache:P,programs:c,dispose:I}}function x1e(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function b1e(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function fz(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function pz(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(d,f,m,g,v,_){let x=n[e];return x===void 0?(x={id:d.id,object:d,geometry:f,material:m,groupOrder:g,renderOrder:d.renderOrder,z:v,group:_},n[e]=x):(x.id=d.id,x.object=d,x.geometry=f,x.material=m,x.groupOrder=g,x.renderOrder=d.renderOrder,x.z=v,x.group=_),e++,x}function a(d,f,m,g,v,_){const x=o(d,f,m,g,v,_);m.transmission>0?r.push(x):m.transparent===!0?i.push(x):t.push(x)}function l(d,f,m,g,v,_){const x=o(d,f,m,g,v,_);m.transmission>0?r.unshift(x):m.transparent===!0?i.unshift(x):t.unshift(x)}function c(d,f){t.length>1&&t.sort(d||b1e),r.length>1&&r.sort(f||fz),i.length>1&&i.sort(f||fz)}function u(){for(let d=e,f=n.length;d<f;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function w1e(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new pz,n.set(r,[o])):i>=s.length?(o=new pz,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function S1e(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new U,color:new He};break;case"SpotLight":t={position:new U,direction:new U,color:new He,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new U,color:new He,distance:0,decay:0};break;case"HemisphereLight":t={direction:new U,skyColor:new He,groundColor:new He};break;case"RectAreaLight":t={color:new He,position:new U,halfWidth:new U,halfHeight:new U};break}return n[e.id]=t,t}}}function E1e(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Se};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Se};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Se,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let C1e=0;function A1e(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function M1e(n,e){const t=new S1e,r=E1e(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new U);const s=new U,o=new gt,a=new gt;function l(u,d){let f=0,m=0,g=0;for(let L=0;L<9;L++)i.probe[L].set(0,0,0);let v=0,_=0,x=0,w=0,S=0,E=0,A=0,P=0,I=0,T=0;u.sort(A1e);const R=d===!0?Math.PI:1;for(let L=0,J=u.length;L<J;L++){const j=u[L],V=j.color,K=j.intensity,Q=j.distance,te=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)f+=V.r*K*R,m+=V.g*K*R,g+=V.b*K*R;else if(j.isLightProbe)for(let D=0;D<9;D++)i.probe[D].addScaledVector(j.sh.coefficients[D],K);else if(j.isDirectionalLight){const D=t.get(j);if(D.color.copy(j.color).multiplyScalar(j.intensity*R),j.castShadow){const $=j.shadow,X=r.get(j);X.shadowBias=$.bias,X.shadowNormalBias=$.normalBias,X.shadowRadius=$.radius,X.shadowMapSize=$.mapSize,i.directionalShadow[v]=X,i.directionalShadowMap[v]=te,i.directionalShadowMatrix[v]=j.shadow.matrix,E++}i.directional[v]=D,v++}else if(j.isSpotLight){const D=t.get(j);D.position.setFromMatrixPosition(j.matrixWorld),D.color.copy(V).multiplyScalar(K*R),D.distance=Q,D.coneCos=Math.cos(j.angle),D.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),D.decay=j.decay,i.spot[x]=D;const $=j.shadow;if(j.map&&(i.spotLightMap[I]=j.map,I++,$.updateMatrices(j),j.castShadow&&T++),i.spotLightMatrix[x]=$.matrix,j.castShadow){const X=r.get(j);X.shadowBias=$.bias,X.shadowNormalBias=$.normalBias,X.shadowRadius=$.radius,X.shadowMapSize=$.mapSize,i.spotShadow[x]=X,i.spotShadowMap[x]=te,P++}x++}else if(j.isRectAreaLight){const D=t.get(j);D.color.copy(V).multiplyScalar(K),D.halfWidth.set(j.width*.5,0,0),D.halfHeight.set(0,j.height*.5,0),i.rectArea[w]=D,w++}else if(j.isPointLight){const D=t.get(j);if(D.color.copy(j.color).multiplyScalar(j.intensity*R),D.distance=j.distance,D.decay=j.decay,j.castShadow){const $=j.shadow,X=r.get(j);X.shadowBias=$.bias,X.shadowNormalBias=$.normalBias,X.shadowRadius=$.radius,X.shadowMapSize=$.mapSize,X.shadowCameraNear=$.camera.near,X.shadowCameraFar=$.camera.far,i.pointShadow[_]=X,i.pointShadowMap[_]=te,i.pointShadowMatrix[_]=j.shadow.matrix,A++}i.point[_]=D,_++}else if(j.isHemisphereLight){const D=t.get(j);D.skyColor.copy(j.color).multiplyScalar(K*R),D.groundColor.copy(j.groundColor).multiplyScalar(K*R),i.hemi[S]=D,S++}}w>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ve.LTC_FLOAT_1,i.rectAreaLTC2=Ve.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ve.LTC_HALF_1,i.rectAreaLTC2=Ve.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=m,i.ambient[2]=g;const O=i.hash;(O.directionalLength!==v||O.pointLength!==_||O.spotLength!==x||O.rectAreaLength!==w||O.hemiLength!==S||O.numDirectionalShadows!==E||O.numPointShadows!==A||O.numSpotShadows!==P||O.numSpotMaps!==I)&&(i.directional.length=v,i.spot.length=x,i.rectArea.length=w,i.point.length=_,i.hemi.length=S,i.directionalShadow.length=E,i.directionalShadowMap.length=E,i.pointShadow.length=A,i.pointShadowMap.length=A,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=E,i.pointShadowMatrix.length=A,i.spotLightMatrix.length=P+I-T,i.spotLightMap.length=I,i.numSpotLightShadowsWithMaps=T,O.directionalLength=v,O.pointLength=_,O.spotLength=x,O.rectAreaLength=w,O.hemiLength=S,O.numDirectionalShadows=E,O.numPointShadows=A,O.numSpotShadows=P,O.numSpotMaps=I,i.version=C1e++)}function c(u,d){let f=0,m=0,g=0,v=0,_=0;const x=d.matrixWorldInverse;for(let w=0,S=u.length;w<S;w++){const E=u[w];if(E.isDirectionalLight){const A=i.directional[f];A.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(x),f++}else if(E.isSpotLight){const A=i.spot[g];A.position.setFromMatrixPosition(E.matrixWorld),A.position.applyMatrix4(x),A.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(x),g++}else if(E.isRectAreaLight){const A=i.rectArea[v];A.position.setFromMatrixPosition(E.matrixWorld),A.position.applyMatrix4(x),a.identity(),o.copy(E.matrixWorld),o.premultiply(x),a.extractRotation(o),A.halfWidth.set(E.width*.5,0,0),A.halfHeight.set(0,E.height*.5,0),A.halfWidth.applyMatrix4(a),A.halfHeight.applyMatrix4(a),v++}else if(E.isPointLight){const A=i.point[m];A.position.setFromMatrixPosition(E.matrixWorld),A.position.applyMatrix4(x),m++}else if(E.isHemisphereLight){const A=i.hemi[_];A.direction.setFromMatrixPosition(E.matrixWorld),A.direction.transformDirection(x),_++}}}return{setup:l,setupView:c,state:i}}function mz(n,e){const t=new M1e(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(d){r.push(d)}function a(d){i.push(d)}function l(d){t.setup(r,d)}function c(d){t.setupView(r,d)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function T1e(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new mz(n,e),t.set(s,[l])):o>=a.length?(l=new mz(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class SN extends Mr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=O9,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class EN extends Mr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new U,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const P1e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,R1e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function I1e(n,e,t){let r=new F1;const i=new Se,s=new Se,o=new mn,a=new SN({depthPacking:L9}),l=new EN,c={},u=t.maxTextureSize,d={[Sa]:as,[as]:Sa,[To]:To},f=new Do({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Se},radius:{value:4}},vertexShader:P1e,fragmentShader:R1e}),m=f.clone();m.defines.HORIZONTAL_PASS=1;const g=new Ct;g.setAttribute("position",new cn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Or(g,f),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=k1,this.render=function(E,A,P){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||E.length===0)return;const I=n.getRenderTarget(),T=n.getActiveCubeFace(),R=n.getActiveMipmapLevel(),O=n.state;O.setBlending(ol),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);for(let L=0,J=E.length;L<J;L++){const j=E[L],V=j.shadow;if(V===void 0){console.warn("THREE.WebGLShadowMap:",j,"has no shadow.");continue}if(V.autoUpdate===!1&&V.needsUpdate===!1)continue;i.copy(V.mapSize);const K=V.getFrameExtents();if(i.multiply(K),s.copy(V.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/K.x),i.x=s.x*K.x,V.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/K.y),i.y=s.y*K.y,V.mapSize.y=s.y)),V.map===null){const te=this.type!==Uu?{minFilter:dr,magFilter:dr}:{};V.map=new Bo(i.x,i.y,te),V.map.texture.name=j.name+".shadowMap",V.camera.updateProjectionMatrix()}n.setRenderTarget(V.map),n.clear();const Q=V.getViewportCount();for(let te=0;te<Q;te++){const D=V.getViewport(te);o.set(s.x*D.x,s.y*D.y,s.x*D.z,s.y*D.w),O.viewport(o),V.updateMatrices(j,te),r=V.getFrustum(),S(A,P,V.camera,j,this.type)}V.isPointLightShadow!==!0&&this.type===Uu&&x(V,P),V.needsUpdate=!1}_.needsUpdate=!1,n.setRenderTarget(I,T,R)};function x(E,A){const P=e.update(v);f.defines.VSM_SAMPLES!==E.blurSamples&&(f.defines.VSM_SAMPLES=E.blurSamples,m.defines.VSM_SAMPLES=E.blurSamples,f.needsUpdate=!0,m.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new Bo(i.x,i.y)),f.uniforms.shadow_pass.value=E.map.texture,f.uniforms.resolution.value=E.mapSize,f.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(A,null,P,f,v,null),m.uniforms.shadow_pass.value=E.mapPass.texture,m.uniforms.resolution.value=E.mapSize,m.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(A,null,P,m,v,null)}function w(E,A,P,I,T,R){let O=null;const L=P.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(L!==void 0)O=L;else if(O=P.isPointLight===!0?l:a,n.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const J=O.uuid,j=A.uuid;let V=c[J];V===void 0&&(V={},c[J]=V);let K=V[j];K===void 0&&(K=O.clone(),V[j]=K),O=K}return O.visible=A.visible,O.wireframe=A.wireframe,R===Uu?O.side=A.shadowSide!==null?A.shadowSide:A.side:O.side=A.shadowSide!==null?A.shadowSide:d[A.side],O.alphaMap=A.alphaMap,O.alphaTest=A.alphaTest,O.map=A.map,O.clipShadows=A.clipShadows,O.clippingPlanes=A.clippingPlanes,O.clipIntersection=A.clipIntersection,O.displacementMap=A.displacementMap,O.displacementScale=A.displacementScale,O.displacementBias=A.displacementBias,O.wireframeLinewidth=A.wireframeLinewidth,O.linewidth=A.linewidth,P.isPointLight===!0&&O.isMeshDistanceMaterial===!0&&(O.referencePosition.setFromMatrixPosition(P.matrixWorld),O.nearDistance=I,O.farDistance=T),O}function S(E,A,P,I,T){if(E.visible===!1)return;if(E.layers.test(A.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&T===Uu)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,E.matrixWorld);const L=e.update(E),J=E.material;if(Array.isArray(J)){const j=L.groups;for(let V=0,K=j.length;V<K;V++){const Q=j[V],te=J[Q.materialIndex];if(te&&te.visible){const D=w(E,te,I,P.near,P.far,T);n.renderBufferDirect(P,null,L,D,E,Q)}}}else if(J.visible){const j=w(E,J,I,P.near,P.far,T);n.renderBufferDirect(P,null,L,j,E,null)}}const O=E.children;for(let L=0,J=O.length;L<J;L++)S(O[L],A,P,I,T)}}function N1e(n,e,t){const r=t.isWebGL2;function i(){let q=!1;const ee=new mn;let Pe=null;const Ke=new mn(0,0,0,0);return{setMask:function(Qe){Pe!==Qe&&!q&&(n.colorMask(Qe,Qe,Qe,Qe),Pe=Qe)},setLocked:function(Qe){q=Qe},setClear:function(Qe,on,Fn,_r,Ni){Ni===!0&&(Qe*=_r,on*=_r,Fn*=_r),ee.set(Qe,on,Fn,_r),Ke.equals(ee)===!1&&(n.clearColor(Qe,on,Fn,_r),Ke.copy(ee))},reset:function(){q=!1,Pe=null,Ke.set(-1,0,0,0)}}}function s(){let q=!1,ee=null,Pe=null,Ke=null;return{setTest:function(Qe){Qe?Ee(2929):Re(2929)},setMask:function(Qe){ee!==Qe&&!q&&(n.depthMask(Qe),ee=Qe)},setFunc:function(Qe){if(Pe!==Qe){switch(Qe){case n9:n.depthFunc(512);break;case r9:n.depthFunc(519);break;case i9:n.depthFunc(513);break;case Hb:n.depthFunc(515);break;case s9:n.depthFunc(514);break;case o9:n.depthFunc(518);break;case a9:n.depthFunc(516);break;case l9:n.depthFunc(517);break;default:n.depthFunc(515)}Pe=Qe}},setLocked:function(Qe){q=Qe},setClear:function(Qe){Ke!==Qe&&(n.clearDepth(Qe),Ke=Qe)},reset:function(){q=!1,ee=null,Pe=null,Ke=null}}}function o(){let q=!1,ee=null,Pe=null,Ke=null,Qe=null,on=null,Fn=null,_r=null,Ni=null;return{setTest:function(Cn){q||(Cn?Ee(2960):Re(2960))},setMask:function(Cn){ee!==Cn&&!q&&(n.stencilMask(Cn),ee=Cn)},setFunc:function(Cn,ei,di){(Pe!==Cn||Ke!==ei||Qe!==di)&&(n.stencilFunc(Cn,ei,di),Pe=Cn,Ke=ei,Qe=di)},setOp:function(Cn,ei,di){(on!==Cn||Fn!==ei||_r!==di)&&(n.stencilOp(Cn,ei,di),on=Cn,Fn=ei,_r=di)},setLocked:function(Cn){q=Cn},setClear:function(Cn){Ni!==Cn&&(n.clearStencil(Cn),Ni=Cn)},reset:function(){q=!1,ee=null,Pe=null,Ke=null,Qe=null,on=null,Fn=null,_r=null,Ni=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,d=new WeakMap;let f={},m={},g=new WeakMap,v=[],_=null,x=!1,w=null,S=null,E=null,A=null,P=null,I=null,T=null,R=!1,O=null,L=null,J=null,j=null,V=null;const K=n.getParameter(35661);let Q=!1,te=0;const D=n.getParameter(7938);D.indexOf("WebGL")!==-1?(te=parseFloat(/^WebGL (\d)/.exec(D)[1]),Q=te>=1):D.indexOf("OpenGL ES")!==-1&&(te=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),Q=te>=2);let $=null,X={};const ue=n.getParameter(3088),Y=n.getParameter(2978),pe=new mn().fromArray(ue),ye=new mn().fromArray(Y);function ne(q,ee,Pe){const Ke=new Uint8Array(4),Qe=n.createTexture();n.bindTexture(q,Qe),n.texParameteri(q,10241,9728),n.texParameteri(q,10240,9728);for(let on=0;on<Pe;on++)n.texImage2D(ee+on,0,6408,1,1,0,6408,5121,Ke);return Qe}const fe={};fe[3553]=ne(3553,3553,1),fe[34067]=ne(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Ee(2929),l.setFunc(Hb),Fe(!1),Ye(rP),Ee(2884),ke(ol);function Ee(q){f[q]!==!0&&(n.enable(q),f[q]=!0)}function Re(q){f[q]!==!1&&(n.disable(q),f[q]=!1)}function Me(q,ee){return m[q]!==ee?(n.bindFramebuffer(q,ee),m[q]=ee,r&&(q===36009&&(m[36160]=ee),q===36160&&(m[36009]=ee)),!0):!1}function Ue(q,ee){let Pe=v,Ke=!1;if(q)if(Pe=g.get(ee),Pe===void 0&&(Pe=[],g.set(ee,Pe)),q.isWebGLMultipleRenderTargets){const Qe=q.texture;if(Pe.length!==Qe.length||Pe[0]!==36064){for(let on=0,Fn=Qe.length;on<Fn;on++)Pe[on]=36064+on;Pe.length=Qe.length,Ke=!0}}else Pe[0]!==36064&&(Pe[0]=36064,Ke=!0);else Pe[0]!==1029&&(Pe[0]=1029,Ke=!0);Ke&&(t.isWebGL2?n.drawBuffers(Pe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Pe))}function Ge(q){return _!==q?(n.useProgram(q),_=q,!0):!1}const me={[Nu]:32774,[j8]:32778,[$8]:32779};if(r)me[aP]=32775,me[lP]=32776;else{const q=e.get("EXT_blend_minmax");q!==null&&(me[aP]=q.MIN_EXT,me[lP]=q.MAX_EXT)}const _e={[J8]:0,[K8]:1,[X8]:768,[cN]:770,[t9]:776,[Z8]:774,[q8]:772,[Y8]:769,[uN]:771,[e9]:775,[Q8]:773};function ke(q,ee,Pe,Ke,Qe,on,Fn,_r){if(q===ol){x===!0&&(Re(3042),x=!1);return}if(x===!1&&(Ee(3042),x=!0),q!==W8){if(q!==w||_r!==R){if((S!==Nu||P!==Nu)&&(n.blendEquation(32774),S=Nu,P=Nu),_r)switch(q){case Qu:n.blendFuncSeparate(1,771,1,771);break;case iP:n.blendFunc(1,1);break;case sP:n.blendFuncSeparate(0,769,0,1);break;case oP:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",q);break}else switch(q){case Qu:n.blendFuncSeparate(770,771,1,771);break;case iP:n.blendFunc(770,1);break;case sP:n.blendFuncSeparate(0,769,0,1);break;case oP:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",q);break}E=null,A=null,I=null,T=null,w=q,R=_r}return}Qe=Qe||ee,on=on||Pe,Fn=Fn||Ke,(ee!==S||Qe!==P)&&(n.blendEquationSeparate(me[ee],me[Qe]),S=ee,P=Qe),(Pe!==E||Ke!==A||on!==I||Fn!==T)&&(n.blendFuncSeparate(_e[Pe],_e[Ke],_e[on],_e[Fn]),E=Pe,A=Ke,I=on,T=Fn),w=q,R=!1}function $e(q,ee){q.side===To?Re(2884):Ee(2884);let Pe=q.side===as;ee&&(Pe=!Pe),Fe(Pe),q.blending===Qu&&q.transparent===!1?ke(ol):ke(q.blending,q.blendEquation,q.blendSrc,q.blendDst,q.blendEquationAlpha,q.blendSrcAlpha,q.blendDstAlpha,q.premultipliedAlpha),l.setFunc(q.depthFunc),l.setTest(q.depthTest),l.setMask(q.depthWrite),a.setMask(q.colorWrite);const Ke=q.stencilWrite;c.setTest(Ke),Ke&&(c.setMask(q.stencilWriteMask),c.setFunc(q.stencilFunc,q.stencilRef,q.stencilFuncMask),c.setOp(q.stencilFail,q.stencilZFail,q.stencilZPass)),et(q.polygonOffset,q.polygonOffsetFactor,q.polygonOffsetUnits),q.alphaToCoverage===!0?Ee(32926):Re(32926)}function Fe(q){O!==q&&(q?n.frontFace(2304):n.frontFace(2305),O=q)}function Ye(q){q!==G8?(Ee(2884),q!==L&&(q===rP?n.cullFace(1029):q===H8?n.cullFace(1028):n.cullFace(1032))):Re(2884),L=q}function Xe(q){q!==J&&(Q&&n.lineWidth(q),J=q)}function et(q,ee,Pe){q?(Ee(32823),(j!==ee||V!==Pe)&&(n.polygonOffset(ee,Pe),j=ee,V=Pe)):Re(32823)}function at(q){q?Ee(3089):Re(3089)}function it(q){q===void 0&&(q=33984+K-1),$!==q&&(n.activeTexture(q),$=q)}function G(q,ee,Pe){Pe===void 0&&($===null?Pe=33984+K-1:Pe=$);let Ke=X[Pe];Ke===void 0&&(Ke={type:void 0,texture:void 0},X[Pe]=Ke),(Ke.type!==q||Ke.texture!==ee)&&($!==Pe&&(n.activeTexture(Pe),$=Pe),n.bindTexture(q,ee||fe[q]),Ke.type=q,Ke.texture=ee)}function B(){const q=X[$];q!==void 0&&q.type!==void 0&&(n.bindTexture(q.type,null),q.type=void 0,q.texture=void 0)}function ae(){try{n.compressedTexImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Te(){try{n.compressedTexImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Ie(){try{n.texSubImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function De(){try{n.texSubImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function xe(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function ie(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function oe(){try{n.texStorage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Ne(){try{n.texStorage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function W(){try{n.texImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function de(){try{n.texImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Ae(q){pe.equals(q)===!1&&(n.scissor(q.x,q.y,q.z,q.w),pe.copy(q))}function Oe(q){ye.equals(q)===!1&&(n.viewport(q.x,q.y,q.z,q.w),ye.copy(q))}function nt(q,ee){let Pe=d.get(ee);Pe===void 0&&(Pe=new WeakMap,d.set(ee,Pe));let Ke=Pe.get(q);Ke===void 0&&(Ke=n.getUniformBlockIndex(ee,q.name),Pe.set(q,Ke))}function bt(q,ee){const Ke=d.get(ee).get(q);u.get(ee)!==Ke&&(n.uniformBlockBinding(ee,Ke,q.__bindingPointIndex),u.set(ee,Ke))}function un(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},$=null,X={},m={},g=new WeakMap,v=[],_=null,x=!1,w=null,S=null,E=null,A=null,P=null,I=null,T=null,R=!1,O=null,L=null,J=null,j=null,V=null,pe.set(0,0,n.canvas.width,n.canvas.height),ye.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Ee,disable:Re,bindFramebuffer:Me,drawBuffers:Ue,useProgram:Ge,setBlending:ke,setMaterial:$e,setFlipSided:Fe,setCullFace:Ye,setLineWidth:Xe,setPolygonOffset:et,setScissorTest:at,activeTexture:it,bindTexture:G,unbindTexture:B,compressedTexImage2D:ae,compressedTexImage3D:Te,texImage2D:W,texImage3D:de,updateUBOMapping:nt,uniformBlockBinding:bt,texStorage2D:oe,texStorage3D:Ne,texSubImage2D:Ie,texSubImage3D:De,compressedTexSubImage2D:xe,compressedTexSubImage3D:ie,scissor:Ae,viewport:Oe,reset:un}}function k1e(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let v;const _=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(G,B){return x?new OffscreenCanvas(G,B):Av("canvas")}function S(G,B,ae,Te){let Ie=1;if((G.width>Te||G.height>Te)&&(Ie=Te/Math.max(G.width,G.height)),Ie<1||B===!0)if(typeof HTMLImageElement<"u"&&G instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&G instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&G instanceof ImageBitmap){const De=B?z9:Math.floor,xe=De(Ie*G.width),ie=De(Ie*G.height);v===void 0&&(v=w(xe,ie));const oe=ae?w(xe,ie):v;return oe.width=xe,oe.height=ie,oe.getContext("2d").drawImage(G,0,0,xe,ie),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+G.width+"x"+G.height+") to ("+xe+"x"+ie+")."),oe}else return"data"in G&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+G.width+"x"+G.height+")."),G;return G}function E(G){return kP(G.width)&&kP(G.height)}function A(G){return a?!1:G.wrapS!==si||G.wrapT!==si||G.minFilter!==dr&&G.minFilter!==Ln}function P(G,B){return G.generateMipmaps&&B&&G.minFilter!==dr&&G.minFilter!==Ln}function I(G){n.generateMipmap(G)}function T(G,B,ae,Te,Ie=!1){if(a===!1)return B;if(G!==null){if(n[G]!==void 0)return n[G];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+G+"'")}let De=B;return B===6403&&(ae===5126&&(De=33326),ae===5131&&(De=33325),ae===5121&&(De=33321)),B===33319&&(ae===5126&&(De=33328),ae===5131&&(De=33327),ae===5121&&(De=33323)),B===6408&&(ae===5126&&(De=34836),ae===5131&&(De=34842),ae===5121&&(De=Te===zt&&Ie===!1?35907:32856),ae===32819&&(De=32854),ae===32820&&(De=32855)),(De===33325||De===33326||De===33327||De===33328||De===34842||De===34836)&&e.get("EXT_color_buffer_float"),De}function R(G,B,ae){return P(G,ae)===!0||G.isFramebufferTexture&&G.minFilter!==dr&&G.minFilter!==Ln?Math.log2(Math.max(B.width,B.height))+1:G.mipmaps!==void 0&&G.mipmaps.length>0?G.mipmaps.length:G.isCompressedTexture&&Array.isArray(G.image)?B.mipmaps.length:1}function O(G){return G===dr||G===wv||G===cf?9728:9729}function L(G){const B=G.target;B.removeEventListener("dispose",L),j(B),B.isVideoTexture&&g.delete(B)}function J(G){const B=G.target;B.removeEventListener("dispose",J),K(B)}function j(G){const B=r.get(G);if(B.__webglInit===void 0)return;const ae=G.source,Te=_.get(ae);if(Te){const Ie=Te[B.__cacheKey];Ie.usedTimes--,Ie.usedTimes===0&&V(G),Object.keys(Te).length===0&&_.delete(ae)}r.remove(G)}function V(G){const B=r.get(G);n.deleteTexture(B.__webglTexture);const ae=G.source,Te=_.get(ae);delete Te[B.__cacheKey],o.memory.textures--}function K(G){const B=G.texture,ae=r.get(G),Te=r.get(B);if(Te.__webglTexture!==void 0&&(n.deleteTexture(Te.__webglTexture),o.memory.textures--),G.depthTexture&&G.depthTexture.dispose(),G.isWebGLCubeRenderTarget)for(let Ie=0;Ie<6;Ie++)n.deleteFramebuffer(ae.__webglFramebuffer[Ie]),ae.__webglDepthbuffer&&n.deleteRenderbuffer(ae.__webglDepthbuffer[Ie]);else{if(n.deleteFramebuffer(ae.__webglFramebuffer),ae.__webglDepthbuffer&&n.deleteRenderbuffer(ae.__webglDepthbuffer),ae.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ae.__webglMultisampledFramebuffer),ae.__webglColorRenderbuffer)for(let Ie=0;Ie<ae.__webglColorRenderbuffer.length;Ie++)ae.__webglColorRenderbuffer[Ie]&&n.deleteRenderbuffer(ae.__webglColorRenderbuffer[Ie]);ae.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ae.__webglDepthRenderbuffer)}if(G.isWebGLMultipleRenderTargets)for(let Ie=0,De=B.length;Ie<De;Ie++){const xe=r.get(B[Ie]);xe.__webglTexture&&(n.deleteTexture(xe.__webglTexture),o.memory.textures--),r.remove(B[Ie])}r.remove(B),r.remove(G)}let Q=0;function te(){Q=0}function D(){const G=Q;return G>=l&&console.warn("THREE.WebGLTextures: Trying to use "+G+" texture units while this GPU supports only "+l),Q+=1,G}function $(G){const B=[];return B.push(G.wrapS),B.push(G.wrapT),B.push(G.wrapR||0),B.push(G.magFilter),B.push(G.minFilter),B.push(G.anisotropy),B.push(G.internalFormat),B.push(G.format),B.push(G.type),B.push(G.generateMipmaps),B.push(G.premultiplyAlpha),B.push(G.flipY),B.push(G.unpackAlignment),B.push(G.encoding),B.join()}function X(G,B){const ae=r.get(G);if(G.isVideoTexture&&at(G),G.isRenderTargetTexture===!1&&G.version>0&&ae.__version!==G.version){const Te=G.image;if(Te===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Te.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Re(ae,G,B);return}}t.bindTexture(3553,ae.__webglTexture,33984+B)}function ue(G,B){const ae=r.get(G);if(G.version>0&&ae.__version!==G.version){Re(ae,G,B);return}t.bindTexture(35866,ae.__webglTexture,33984+B)}function Y(G,B){const ae=r.get(G);if(G.version>0&&ae.__version!==G.version){Re(ae,G,B);return}t.bindTexture(32879,ae.__webglTexture,33984+B)}function pe(G,B){const ae=r.get(G);if(G.version>0&&ae.__version!==G.version){Me(ae,G,B);return}t.bindTexture(34067,ae.__webglTexture,33984+B)}const ye={[Dc]:10497,[si]:33071,[Wf]:33648},ne={[dr]:9728,[wv]:9984,[cf]:9986,[Ln]:9729,[L1]:9985,[Ea]:9987};function fe(G,B,ae){if(ae?(n.texParameteri(G,10242,ye[B.wrapS]),n.texParameteri(G,10243,ye[B.wrapT]),(G===32879||G===35866)&&n.texParameteri(G,32882,ye[B.wrapR]),n.texParameteri(G,10240,ne[B.magFilter]),n.texParameteri(G,10241,ne[B.minFilter])):(n.texParameteri(G,10242,33071),n.texParameteri(G,10243,33071),(G===32879||G===35866)&&n.texParameteri(G,32882,33071),(B.wrapS!==si||B.wrapT!==si)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(G,10240,O(B.magFilter)),n.texParameteri(G,10241,O(B.minFilter)),B.minFilter!==dr&&B.minFilter!==Ln&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Te=e.get("EXT_texture_filter_anisotropic");if(B.magFilter===dr||B.minFilter!==cf&&B.minFilter!==Ea||B.type===to&&e.has("OES_texture_float_linear")===!1||a===!1&&B.type===Po&&e.has("OES_texture_half_float_linear")===!1)return;(B.anisotropy>1||r.get(B).__currentAnisotropy)&&(n.texParameterf(G,Te.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(B.anisotropy,i.getMaxAnisotropy())),r.get(B).__currentAnisotropy=B.anisotropy)}}function Ee(G,B){let ae=!1;G.__webglInit===void 0&&(G.__webglInit=!0,B.addEventListener("dispose",L));const Te=B.source;let Ie=_.get(Te);Ie===void 0&&(Ie={},_.set(Te,Ie));const De=$(B);if(De!==G.__cacheKey){Ie[De]===void 0&&(Ie[De]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ae=!0),Ie[De].usedTimes++;const xe=Ie[G.__cacheKey];xe!==void 0&&(Ie[G.__cacheKey].usedTimes--,xe.usedTimes===0&&V(B)),G.__cacheKey=De,G.__webglTexture=Ie[De].texture}return ae}function Re(G,B,ae){let Te=3553;(B.isDataArrayTexture||B.isCompressedArrayTexture)&&(Te=35866),B.isData3DTexture&&(Te=32879);const Ie=Ee(G,B),De=B.source;t.bindTexture(Te,G.__webglTexture,33984+ae);const xe=r.get(De);if(De.version!==xe.__version||Ie===!0){t.activeTexture(33984+ae),n.pixelStorei(37440,B.flipY),n.pixelStorei(37441,B.premultiplyAlpha),n.pixelStorei(3317,B.unpackAlignment),n.pixelStorei(37443,0);const ie=A(B)&&E(B.image)===!1;let oe=S(B.image,ie,!1,u);oe=it(B,oe);const Ne=E(oe)||a,W=s.convert(B.format,B.encoding);let de=s.convert(B.type),Ae=T(B.internalFormat,W,de,B.encoding,B.isVideoTexture);fe(Te,B,Ne);let Oe;const nt=B.mipmaps,bt=a&&B.isVideoTexture!==!0,un=xe.__version===void 0||Ie===!0,q=R(B,oe,Ne);if(B.isDepthTexture)Ae=6402,a?B.type===to?Ae=36012:B.type===rc?Ae=33190:B.type===Zu?Ae=35056:Ae=33189:B.type===to&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),B.format===wc&&Ae===6402&&B.type!==hN&&B.type!==rc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),B.type=rc,de=s.convert(B.type)),B.format===vd&&Ae===6402&&(Ae=34041,B.type!==Zu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),B.type=Zu,de=s.convert(B.type))),un&&(bt?t.texStorage2D(3553,1,Ae,oe.width,oe.height):t.texImage2D(3553,0,Ae,oe.width,oe.height,0,W,de,null));else if(B.isDataTexture)if(nt.length>0&&Ne){bt&&un&&t.texStorage2D(3553,q,Ae,nt[0].width,nt[0].height);for(let ee=0,Pe=nt.length;ee<Pe;ee++)Oe=nt[ee],bt?t.texSubImage2D(3553,ee,0,0,Oe.width,Oe.height,W,de,Oe.data):t.texImage2D(3553,ee,Ae,Oe.width,Oe.height,0,W,de,Oe.data);B.generateMipmaps=!1}else bt?(un&&t.texStorage2D(3553,q,Ae,oe.width,oe.height),t.texSubImage2D(3553,0,0,0,oe.width,oe.height,W,de,oe.data)):t.texImage2D(3553,0,Ae,oe.width,oe.height,0,W,de,oe.data);else if(B.isCompressedTexture)if(B.isCompressedArrayTexture){bt&&un&&t.texStorage3D(35866,q,Ae,nt[0].width,nt[0].height,oe.depth);for(let ee=0,Pe=nt.length;ee<Pe;ee++)Oe=nt[ee],B.format!==Qi?W!==null?bt?t.compressedTexSubImage3D(35866,ee,0,0,0,Oe.width,Oe.height,oe.depth,W,Oe.data,0,0):t.compressedTexImage3D(35866,ee,Ae,Oe.width,Oe.height,oe.depth,0,Oe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):bt?t.texSubImage3D(35866,ee,0,0,0,Oe.width,Oe.height,oe.depth,W,de,Oe.data):t.texImage3D(35866,ee,Ae,Oe.width,Oe.height,oe.depth,0,W,de,Oe.data)}else{bt&&un&&t.texStorage2D(3553,q,Ae,nt[0].width,nt[0].height);for(let ee=0,Pe=nt.length;ee<Pe;ee++)Oe=nt[ee],B.format!==Qi?W!==null?bt?t.compressedTexSubImage2D(3553,ee,0,0,Oe.width,Oe.height,W,Oe.data):t.compressedTexImage2D(3553,ee,Ae,Oe.width,Oe.height,0,Oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):bt?t.texSubImage2D(3553,ee,0,0,Oe.width,Oe.height,W,de,Oe.data):t.texImage2D(3553,ee,Ae,Oe.width,Oe.height,0,W,de,Oe.data)}else if(B.isDataArrayTexture)bt?(un&&t.texStorage3D(35866,q,Ae,oe.width,oe.height,oe.depth),t.texSubImage3D(35866,0,0,0,0,oe.width,oe.height,oe.depth,W,de,oe.data)):t.texImage3D(35866,0,Ae,oe.width,oe.height,oe.depth,0,W,de,oe.data);else if(B.isData3DTexture)bt?(un&&t.texStorage3D(32879,q,Ae,oe.width,oe.height,oe.depth),t.texSubImage3D(32879,0,0,0,0,oe.width,oe.height,oe.depth,W,de,oe.data)):t.texImage3D(32879,0,Ae,oe.width,oe.height,oe.depth,0,W,de,oe.data);else if(B.isFramebufferTexture){if(un)if(bt)t.texStorage2D(3553,q,Ae,oe.width,oe.height);else{let ee=oe.width,Pe=oe.height;for(let Ke=0;Ke<q;Ke++)t.texImage2D(3553,Ke,Ae,ee,Pe,0,W,de,null),ee>>=1,Pe>>=1}}else if(nt.length>0&&Ne){bt&&un&&t.texStorage2D(3553,q,Ae,nt[0].width,nt[0].height);for(let ee=0,Pe=nt.length;ee<Pe;ee++)Oe=nt[ee],bt?t.texSubImage2D(3553,ee,0,0,W,de,Oe):t.texImage2D(3553,ee,Ae,W,de,Oe);B.generateMipmaps=!1}else bt?(un&&t.texStorage2D(3553,q,Ae,oe.width,oe.height),t.texSubImage2D(3553,0,0,0,W,de,oe)):t.texImage2D(3553,0,Ae,W,de,oe);P(B,Ne)&&I(Te),xe.__version=De.version,B.onUpdate&&B.onUpdate(B)}G.__version=B.version}function Me(G,B,ae){if(B.image.length!==6)return;const Te=Ee(G,B),Ie=B.source;t.bindTexture(34067,G.__webglTexture,33984+ae);const De=r.get(Ie);if(Ie.version!==De.__version||Te===!0){t.activeTexture(33984+ae),n.pixelStorei(37440,B.flipY),n.pixelStorei(37441,B.premultiplyAlpha),n.pixelStorei(3317,B.unpackAlignment),n.pixelStorei(37443,0);const xe=B.isCompressedTexture||B.image[0].isCompressedTexture,ie=B.image[0]&&B.image[0].isDataTexture,oe=[];for(let ee=0;ee<6;ee++)!xe&&!ie?oe[ee]=S(B.image[ee],!1,!0,c):oe[ee]=ie?B.image[ee].image:B.image[ee],oe[ee]=it(B,oe[ee]);const Ne=oe[0],W=E(Ne)||a,de=s.convert(B.format,B.encoding),Ae=s.convert(B.type),Oe=T(B.internalFormat,de,Ae,B.encoding),nt=a&&B.isVideoTexture!==!0,bt=De.__version===void 0||Te===!0;let un=R(B,Ne,W);fe(34067,B,W);let q;if(xe){nt&&bt&&t.texStorage2D(34067,un,Oe,Ne.width,Ne.height);for(let ee=0;ee<6;ee++){q=oe[ee].mipmaps;for(let Pe=0;Pe<q.length;Pe++){const Ke=q[Pe];B.format!==Qi?de!==null?nt?t.compressedTexSubImage2D(34069+ee,Pe,0,0,Ke.width,Ke.height,de,Ke.data):t.compressedTexImage2D(34069+ee,Pe,Oe,Ke.width,Ke.height,0,Ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):nt?t.texSubImage2D(34069+ee,Pe,0,0,Ke.width,Ke.height,de,Ae,Ke.data):t.texImage2D(34069+ee,Pe,Oe,Ke.width,Ke.height,0,de,Ae,Ke.data)}}}else{q=B.mipmaps,nt&&bt&&(q.length>0&&un++,t.texStorage2D(34067,un,Oe,oe[0].width,oe[0].height));for(let ee=0;ee<6;ee++)if(ie){nt?t.texSubImage2D(34069+ee,0,0,0,oe[ee].width,oe[ee].height,de,Ae,oe[ee].data):t.texImage2D(34069+ee,0,Oe,oe[ee].width,oe[ee].height,0,de,Ae,oe[ee].data);for(let Pe=0;Pe<q.length;Pe++){const Qe=q[Pe].image[ee].image;nt?t.texSubImage2D(34069+ee,Pe+1,0,0,Qe.width,Qe.height,de,Ae,Qe.data):t.texImage2D(34069+ee,Pe+1,Oe,Qe.width,Qe.height,0,de,Ae,Qe.data)}}else{nt?t.texSubImage2D(34069+ee,0,0,0,de,Ae,oe[ee]):t.texImage2D(34069+ee,0,Oe,de,Ae,oe[ee]);for(let Pe=0;Pe<q.length;Pe++){const Ke=q[Pe];nt?t.texSubImage2D(34069+ee,Pe+1,0,0,de,Ae,Ke.image[ee]):t.texImage2D(34069+ee,Pe+1,Oe,de,Ae,Ke.image[ee])}}}P(B,W)&&I(34067),De.__version=Ie.version,B.onUpdate&&B.onUpdate(B)}G.__version=B.version}function Ue(G,B,ae,Te,Ie){const De=s.convert(ae.format,ae.encoding),xe=s.convert(ae.type),ie=T(ae.internalFormat,De,xe,ae.encoding);r.get(B).__hasExternalTextures||(Ie===32879||Ie===35866?t.texImage3D(Ie,0,ie,B.width,B.height,B.depth,0,De,xe,null):t.texImage2D(Ie,0,ie,B.width,B.height,0,De,xe,null)),t.bindFramebuffer(36160,G),et(B)?f.framebufferTexture2DMultisampleEXT(36160,Te,Ie,r.get(ae).__webglTexture,0,Xe(B)):(Ie===3553||Ie>=34069&&Ie<=34074)&&n.framebufferTexture2D(36160,Te,Ie,r.get(ae).__webglTexture,0),t.bindFramebuffer(36160,null)}function Ge(G,B,ae){if(n.bindRenderbuffer(36161,G),B.depthBuffer&&!B.stencilBuffer){let Te=33189;if(ae||et(B)){const Ie=B.depthTexture;Ie&&Ie.isDepthTexture&&(Ie.type===to?Te=36012:Ie.type===rc&&(Te=33190));const De=Xe(B);et(B)?f.renderbufferStorageMultisampleEXT(36161,De,Te,B.width,B.height):n.renderbufferStorageMultisample(36161,De,Te,B.width,B.height)}else n.renderbufferStorage(36161,Te,B.width,B.height);n.framebufferRenderbuffer(36160,36096,36161,G)}else if(B.depthBuffer&&B.stencilBuffer){const Te=Xe(B);ae&&et(B)===!1?n.renderbufferStorageMultisample(36161,Te,35056,B.width,B.height):et(B)?f.renderbufferStorageMultisampleEXT(36161,Te,35056,B.width,B.height):n.renderbufferStorage(36161,34041,B.width,B.height),n.framebufferRenderbuffer(36160,33306,36161,G)}else{const Te=B.isWebGLMultipleRenderTargets===!0?B.texture:[B.texture];for(let Ie=0;Ie<Te.length;Ie++){const De=Te[Ie],xe=s.convert(De.format,De.encoding),ie=s.convert(De.type),oe=T(De.internalFormat,xe,ie,De.encoding),Ne=Xe(B);ae&&et(B)===!1?n.renderbufferStorageMultisample(36161,Ne,oe,B.width,B.height):et(B)?f.renderbufferStorageMultisampleEXT(36161,Ne,oe,B.width,B.height):n.renderbufferStorage(36161,oe,B.width,B.height)}}n.bindRenderbuffer(36161,null)}function me(G,B){if(B&&B.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,G),!(B.depthTexture&&B.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(B.depthTexture).__webglTexture||B.depthTexture.image.width!==B.width||B.depthTexture.image.height!==B.height)&&(B.depthTexture.image.width=B.width,B.depthTexture.image.height=B.height,B.depthTexture.needsUpdate=!0),X(B.depthTexture,0);const Te=r.get(B.depthTexture).__webglTexture,Ie=Xe(B);if(B.depthTexture.format===wc)et(B)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,Te,0,Ie):n.framebufferTexture2D(36160,36096,3553,Te,0);else if(B.depthTexture.format===vd)et(B)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,Te,0,Ie):n.framebufferTexture2D(36160,33306,3553,Te,0);else throw new Error("Unknown depthTexture format")}function _e(G){const B=r.get(G),ae=G.isWebGLCubeRenderTarget===!0;if(G.depthTexture&&!B.__autoAllocateDepthBuffer){if(ae)throw new Error("target.depthTexture not supported in Cube render targets");me(B.__webglFramebuffer,G)}else if(ae){B.__webglDepthbuffer=[];for(let Te=0;Te<6;Te++)t.bindFramebuffer(36160,B.__webglFramebuffer[Te]),B.__webglDepthbuffer[Te]=n.createRenderbuffer(),Ge(B.__webglDepthbuffer[Te],G,!1)}else t.bindFramebuffer(36160,B.__webglFramebuffer),B.__webglDepthbuffer=n.createRenderbuffer(),Ge(B.__webglDepthbuffer,G,!1);t.bindFramebuffer(36160,null)}function ke(G,B,ae){const Te=r.get(G);B!==void 0&&Ue(Te.__webglFramebuffer,G,G.texture,36064,3553),ae!==void 0&&_e(G)}function $e(G){const B=G.texture,ae=r.get(G),Te=r.get(B);G.addEventListener("dispose",J),G.isWebGLMultipleRenderTargets!==!0&&(Te.__webglTexture===void 0&&(Te.__webglTexture=n.createTexture()),Te.__version=B.version,o.memory.textures++);const Ie=G.isWebGLCubeRenderTarget===!0,De=G.isWebGLMultipleRenderTargets===!0,xe=E(G)||a;if(Ie){ae.__webglFramebuffer=[];for(let ie=0;ie<6;ie++)ae.__webglFramebuffer[ie]=n.createFramebuffer()}else{if(ae.__webglFramebuffer=n.createFramebuffer(),De)if(i.drawBuffers){const ie=G.texture;for(let oe=0,Ne=ie.length;oe<Ne;oe++){const W=r.get(ie[oe]);W.__webglTexture===void 0&&(W.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&G.samples>0&&et(G)===!1){const ie=De?B:[B];ae.__webglMultisampledFramebuffer=n.createFramebuffer(),ae.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,ae.__webglMultisampledFramebuffer);for(let oe=0;oe<ie.length;oe++){const Ne=ie[oe];ae.__webglColorRenderbuffer[oe]=n.createRenderbuffer(),n.bindRenderbuffer(36161,ae.__webglColorRenderbuffer[oe]);const W=s.convert(Ne.format,Ne.encoding),de=s.convert(Ne.type),Ae=T(Ne.internalFormat,W,de,Ne.encoding,G.isXRRenderTarget===!0),Oe=Xe(G);n.renderbufferStorageMultisample(36161,Oe,Ae,G.width,G.height),n.framebufferRenderbuffer(36160,36064+oe,36161,ae.__webglColorRenderbuffer[oe])}n.bindRenderbuffer(36161,null),G.depthBuffer&&(ae.__webglDepthRenderbuffer=n.createRenderbuffer(),Ge(ae.__webglDepthRenderbuffer,G,!0)),t.bindFramebuffer(36160,null)}}if(Ie){t.bindTexture(34067,Te.__webglTexture),fe(34067,B,xe);for(let ie=0;ie<6;ie++)Ue(ae.__webglFramebuffer[ie],G,B,36064,34069+ie);P(B,xe)&&I(34067),t.unbindTexture()}else if(De){const ie=G.texture;for(let oe=0,Ne=ie.length;oe<Ne;oe++){const W=ie[oe],de=r.get(W);t.bindTexture(3553,de.__webglTexture),fe(3553,W,xe),Ue(ae.__webglFramebuffer,G,W,36064+oe,3553),P(W,xe)&&I(3553)}t.unbindTexture()}else{let ie=3553;(G.isWebGL3DRenderTarget||G.isWebGLArrayRenderTarget)&&(a?ie=G.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ie,Te.__webglTexture),fe(ie,B,xe),Ue(ae.__webglFramebuffer,G,B,36064,ie),P(B,xe)&&I(ie),t.unbindTexture()}G.depthBuffer&&_e(G)}function Fe(G){const B=E(G)||a,ae=G.isWebGLMultipleRenderTargets===!0?G.texture:[G.texture];for(let Te=0,Ie=ae.length;Te<Ie;Te++){const De=ae[Te];if(P(De,B)){const xe=G.isWebGLCubeRenderTarget?34067:3553,ie=r.get(De).__webglTexture;t.bindTexture(xe,ie),I(xe),t.unbindTexture()}}}function Ye(G){if(a&&G.samples>0&&et(G)===!1){const B=G.isWebGLMultipleRenderTargets?G.texture:[G.texture],ae=G.width,Te=G.height;let Ie=16384;const De=[],xe=G.stencilBuffer?33306:36096,ie=r.get(G),oe=G.isWebGLMultipleRenderTargets===!0;if(oe)for(let Ne=0;Ne<B.length;Ne++)t.bindFramebuffer(36160,ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ne,36161,null),t.bindFramebuffer(36160,ie.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ne,3553,null,0);t.bindFramebuffer(36008,ie.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ie.__webglFramebuffer);for(let Ne=0;Ne<B.length;Ne++){De.push(36064+Ne),G.depthBuffer&&De.push(xe);const W=ie.__ignoreDepthValues!==void 0?ie.__ignoreDepthValues:!1;if(W===!1&&(G.depthBuffer&&(Ie|=256),G.stencilBuffer&&(Ie|=1024)),oe&&n.framebufferRenderbuffer(36008,36064,36161,ie.__webglColorRenderbuffer[Ne]),W===!0&&(n.invalidateFramebuffer(36008,[xe]),n.invalidateFramebuffer(36009,[xe])),oe){const de=r.get(B[Ne]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,de,0)}n.blitFramebuffer(0,0,ae,Te,0,0,ae,Te,Ie,9728),m&&n.invalidateFramebuffer(36008,De)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),oe)for(let Ne=0;Ne<B.length;Ne++){t.bindFramebuffer(36160,ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ne,36161,ie.__webglColorRenderbuffer[Ne]);const W=r.get(B[Ne]).__webglTexture;t.bindFramebuffer(36160,ie.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ne,3553,W,0)}t.bindFramebuffer(36009,ie.__webglMultisampledFramebuffer)}}function Xe(G){return Math.min(d,G.samples)}function et(G){const B=r.get(G);return a&&G.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&B.__useRenderToTexture!==!1}function at(G){const B=o.render.frame;g.get(G)!==B&&(g.set(G,B),G.update())}function it(G,B){const ae=G.encoding,Te=G.format,Ie=G.type;return G.isCompressedTexture===!0||G.isVideoTexture===!0||G.format===Vb||ae!==Lo&&(ae===zt?a===!1?e.has("EXT_sRGB")===!0&&Te===Qi?(G.format=Vb,G.minFilter=Ln,G.generateMipmaps=!1):B=vN.sRGBToLinear(B):(Te!==Qi||Ie!==gl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ae)),B}this.allocateTextureUnit=D,this.resetTextureUnits=te,this.setTexture2D=X,this.setTexture2DArray=ue,this.setTexture3D=Y,this.setTextureCube=pe,this.rebindTextures=ke,this.setupRenderTarget=$e,this.updateRenderTargetMipmap=Fe,this.updateMultisampleRenderTarget=Ye,this.setupDepthRenderbuffer=_e,this.setupFrameBufferTexture=Ue,this.useMultisampledRTT=et}function q9(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===gl)return 5121;if(s===y9)return 32819;if(s===_9)return 32820;if(s===m9)return 5120;if(s===g9)return 5122;if(s===hN)return 5123;if(s===v9)return 5124;if(s===rc)return 5125;if(s===to)return 5126;if(s===Po)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===x9)return 6406;if(s===Qi)return 6408;if(s===b9)return 6409;if(s===w9)return 6410;if(s===wc)return 6402;if(s===vd)return 34041;if(s===Vb)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===S9)return 6403;if(s===E9)return 36244;if(s===C9)return 33319;if(s===A9)return 33320;if(s===M9)return 36249;if(s===_x||s===xx||s===bx||s===wx)if(o===zt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===_x)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===xx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===bx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===wx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===_x)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===xx)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===bx)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===wx)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===cP||s===uP||s===dP||s===hP)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===cP)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===uP)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===dP)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===hP)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===T9)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===fP||s===pP)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===fP)return o===zt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===pP)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===mP||s===gP||s===vP||s===yP||s===_P||s===xP||s===bP||s===wP||s===SP||s===EP||s===CP||s===AP||s===MP||s===TP)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===mP)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===gP)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===vP)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===yP)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===_P)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===xP)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===bP)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===wP)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===SP)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===EP)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===CP)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===AP)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===MP)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===TP)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Sx)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Sx)return o===zt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===P9||s===PP||s===RP||s===IP)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Sx)return a.COMPRESSED_RED_RGTC1_EXT;if(s===PP)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===RP)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===IP)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Zu?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class Q9 extends Bn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Za extends qt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const O1e={type:"move"};class ZC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Za,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Za,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new U,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new U),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Za,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new U,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new U),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const v of e.hand.values()){const _=t.getJointPose(v,r),x=this._getHandJoint(c,v);_!==null&&(x.matrix.fromArray(_.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=_.radius),x.visible=_!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),m=.02,g=.005;c.inputState.pinching&&f>m+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=m-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(O1e)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Za;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class Z9 extends Jn{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:wc,u!==wc&&u!==vd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===wc&&(r=rc),r===void 0&&u===vd&&(r=Zu),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:dr,this.minFilter=l!==void 0?l:dr,this.flipY=!1,this.generateMipmaps=!1}}class L1e extends Ca{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,f=null,m=null,g=null;const v=t.getContextAttributes();let _=null,x=null;const w=[],S=[],E=new Set,A=new Map,P=new Bn;P.layers.enable(1),P.viewport=new mn;const I=new Bn;I.layers.enable(2),I.viewport=new mn;const T=[P,I],R=new Q9;R.layers.enable(1),R.layers.enable(2);let O=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Y){let pe=w[Y];return pe===void 0&&(pe=new ZC,w[Y]=pe),pe.getTargetRaySpace()},this.getControllerGrip=function(Y){let pe=w[Y];return pe===void 0&&(pe=new ZC,w[Y]=pe),pe.getGripSpace()},this.getHand=function(Y){let pe=w[Y];return pe===void 0&&(pe=new ZC,w[Y]=pe),pe.getHandSpace()};function J(Y){const pe=S.indexOf(Y.inputSource);if(pe===-1)return;const ye=w[pe];ye!==void 0&&ye.dispatchEvent({type:Y.type,data:Y.inputSource})}function j(){i.removeEventListener("select",J),i.removeEventListener("selectstart",J),i.removeEventListener("selectend",J),i.removeEventListener("squeeze",J),i.removeEventListener("squeezestart",J),i.removeEventListener("squeezeend",J),i.removeEventListener("end",j),i.removeEventListener("inputsourceschange",V);for(let Y=0;Y<w.length;Y++){const pe=S[Y];pe!==null&&(S[Y]=null,w[Y].disconnect(pe))}O=null,L=null,e.setRenderTarget(_),m=null,f=null,d=null,i=null,x=null,ue.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Y){s=Y,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Y){a=Y,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(Y){c=Y},this.getBaseLayer=function(){return f!==null?f:m},this.getBinding=function(){return d},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(Y){if(i=Y,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",J),i.addEventListener("selectstart",J),i.addEventListener("selectend",J),i.addEventListener("squeeze",J),i.addEventListener("squeezestart",J),i.addEventListener("squeezeend",J),i.addEventListener("end",j),i.addEventListener("inputsourceschange",V),v.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const pe={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,pe),i.updateRenderState({baseLayer:m}),x=new Bo(m.framebufferWidth,m.framebufferHeight,{format:Qi,type:gl,encoding:e.outputEncoding,stencilBuffer:v.stencil})}else{let pe=null,ye=null,ne=null;v.depth&&(ne=v.stencil?35056:33190,pe=v.stencil?vd:wc,ye=v.stencil?Zu:rc);const fe={colorFormat:32856,depthFormat:ne,scaleFactor:s};d=new XRWebGLBinding(i,t),f=d.createProjectionLayer(fe),i.updateRenderState({layers:[f]}),x=new Bo(f.textureWidth,f.textureHeight,{format:Qi,type:gl,depthTexture:new Z9(f.textureWidth,f.textureHeight,ye,void 0,void 0,void 0,void 0,void 0,void 0,pe),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const Ee=e.properties.get(x);Ee.__ignoreDepthValues=f.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),ue.setContext(i),ue.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function V(Y){for(let pe=0;pe<Y.removed.length;pe++){const ye=Y.removed[pe],ne=S.indexOf(ye);ne>=0&&(S[ne]=null,w[ne].disconnect(ye))}for(let pe=0;pe<Y.added.length;pe++){const ye=Y.added[pe];let ne=S.indexOf(ye);if(ne===-1){for(let Ee=0;Ee<w.length;Ee++)if(Ee>=S.length){S.push(ye),ne=Ee;break}else if(S[Ee]===null){S[Ee]=ye,ne=Ee;break}if(ne===-1)break}const fe=w[ne];fe&&fe.connect(ye)}}const K=new U,Q=new U;function te(Y,pe,ye){K.setFromMatrixPosition(pe.matrixWorld),Q.setFromMatrixPosition(ye.matrixWorld);const ne=K.distanceTo(Q),fe=pe.projectionMatrix.elements,Ee=ye.projectionMatrix.elements,Re=fe[14]/(fe[10]-1),Me=fe[14]/(fe[10]+1),Ue=(fe[9]+1)/fe[5],Ge=(fe[9]-1)/fe[5],me=(fe[8]-1)/fe[0],_e=(Ee[8]+1)/Ee[0],ke=Re*me,$e=Re*_e,Fe=ne/(-me+_e),Ye=Fe*-me;pe.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Y.translateX(Ye),Y.translateZ(Fe),Y.matrixWorld.compose(Y.position,Y.quaternion,Y.scale),Y.matrixWorldInverse.copy(Y.matrixWorld).invert();const Xe=Re+Fe,et=Me+Fe,at=ke-Ye,it=$e+(ne-Ye),G=Ue*Me/et*Xe,B=Ge*Me/et*Xe;Y.projectionMatrix.makePerspective(at,it,G,B,Xe,et)}function D(Y,pe){pe===null?Y.matrixWorld.copy(Y.matrix):Y.matrixWorld.multiplyMatrices(pe.matrixWorld,Y.matrix),Y.matrixWorldInverse.copy(Y.matrixWorld).invert()}this.updateCamera=function(Y){if(i===null)return;R.near=I.near=P.near=Y.near,R.far=I.far=P.far=Y.far,(O!==R.near||L!==R.far)&&(i.updateRenderState({depthNear:R.near,depthFar:R.far}),O=R.near,L=R.far);const pe=Y.parent,ye=R.cameras;D(R,pe);for(let fe=0;fe<ye.length;fe++)D(ye[fe],pe);R.matrixWorld.decompose(R.position,R.quaternion,R.scale),Y.matrix.copy(R.matrix),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale);const ne=Y.children;for(let fe=0,Ee=ne.length;fe<Ee;fe++)ne[fe].updateMatrixWorld(!0);ye.length===2?te(R,P,I):R.projectionMatrix.copy(P.projectionMatrix)},this.getCamera=function(){return R},this.getFoveation=function(){if(!(f===null&&m===null))return l},this.setFoveation=function(Y){l=Y,f!==null&&(f.fixedFoveation=Y),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=Y)},this.getPlanes=function(){return E};let $=null;function X(Y,pe){if(u=pe.getViewerPose(c||o),g=pe,u!==null){const ye=u.views;m!==null&&(e.setRenderTargetFramebuffer(x,m.framebuffer),e.setRenderTarget(x));let ne=!1;ye.length!==R.cameras.length&&(R.cameras.length=0,ne=!0);for(let fe=0;fe<ye.length;fe++){const Ee=ye[fe];let Re=null;if(m!==null)Re=m.getViewport(Ee);else{const Ue=d.getViewSubImage(f,Ee);Re=Ue.viewport,fe===0&&(e.setRenderTargetTextures(x,Ue.colorTexture,f.ignoreDepthValues?void 0:Ue.depthStencilTexture),e.setRenderTarget(x))}let Me=T[fe];Me===void 0&&(Me=new Bn,Me.layers.enable(fe),Me.viewport=new mn,T[fe]=Me),Me.matrix.fromArray(Ee.transform.matrix),Me.projectionMatrix.fromArray(Ee.projectionMatrix),Me.viewport.set(Re.x,Re.y,Re.width,Re.height),fe===0&&R.matrix.copy(Me.matrix),ne===!0&&R.cameras.push(Me)}}for(let ye=0;ye<w.length;ye++){const ne=S[ye],fe=w[ye];ne!==null&&fe!==void 0&&fe.update(ne,pe,c||o)}if($&&$(Y,pe),pe.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:pe.detectedPlanes});let ye=null;for(const ne of E)pe.detectedPlanes.has(ne)||(ye===null&&(ye=[]),ye.push(ne));if(ye!==null)for(const ne of ye)E.delete(ne),A.delete(ne),r.dispatchEvent({type:"planeremoved",data:ne});for(const ne of pe.detectedPlanes)if(!E.has(ne))E.add(ne),A.set(ne,pe.lastChangedTime),r.dispatchEvent({type:"planeadded",data:ne});else{const fe=A.get(ne);ne.lastChangedTime>fe&&(A.set(ne,ne.lastChangedTime),r.dispatchEvent({type:"planechanged",data:ne}))}}g=null}const ue=new $9;ue.setAnimationLoop(X),this.setAnimationLoop=function(Y){$=Y},this.dispose=function(){}}}function B1e(n,e){function t(v,_){_.color.getRGB(v.fogColor.value,V9(n)),_.isFog?(v.fogNear.value=_.near,v.fogFar.value=_.far):_.isFogExp2&&(v.fogDensity.value=_.density)}function r(v,_,x,w,S){_.isMeshBasicMaterial||_.isMeshLambertMaterial?i(v,_):_.isMeshToonMaterial?(i(v,_),u(v,_)):_.isMeshPhongMaterial?(i(v,_),c(v,_)):_.isMeshStandardMaterial?(i(v,_),d(v,_),_.isMeshPhysicalMaterial&&f(v,_,S)):_.isMeshMatcapMaterial?(i(v,_),m(v,_)):_.isMeshDepthMaterial?i(v,_):_.isMeshDistanceMaterial?(i(v,_),g(v,_)):_.isMeshNormalMaterial?i(v,_):_.isLineBasicMaterial?(s(v,_),_.isLineDashedMaterial&&o(v,_)):_.isPointsMaterial?a(v,_,x,w):_.isSpriteMaterial?l(v,_):_.isShadowMaterial?(v.color.value.copy(_.color),v.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function i(v,_){v.opacity.value=_.opacity,_.color&&v.diffuse.value.copy(_.color),_.emissive&&v.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(v.map.value=_.map),_.alphaMap&&(v.alphaMap.value=_.alphaMap),_.bumpMap&&(v.bumpMap.value=_.bumpMap,v.bumpScale.value=_.bumpScale,_.side===as&&(v.bumpScale.value*=-1)),_.displacementMap&&(v.displacementMap.value=_.displacementMap,v.displacementScale.value=_.displacementScale,v.displacementBias.value=_.displacementBias),_.emissiveMap&&(v.emissiveMap.value=_.emissiveMap),_.normalMap&&(v.normalMap.value=_.normalMap,v.normalScale.value.copy(_.normalScale),_.side===as&&v.normalScale.value.negate()),_.specularMap&&(v.specularMap.value=_.specularMap),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest);const x=e.get(_).envMap;if(x&&(v.envMap.value=x,v.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=_.reflectivity,v.ior.value=_.ior,v.refractionRatio.value=_.refractionRatio),_.lightMap){v.lightMap.value=_.lightMap;const E=n.useLegacyLights===!0?Math.PI:1;v.lightMapIntensity.value=_.lightMapIntensity*E}_.aoMap&&(v.aoMap.value=_.aoMap,v.aoMapIntensity.value=_.aoMapIntensity);let w;_.map?w=_.map:_.specularMap?w=_.specularMap:_.displacementMap?w=_.displacementMap:_.normalMap?w=_.normalMap:_.bumpMap?w=_.bumpMap:_.roughnessMap?w=_.roughnessMap:_.metalnessMap?w=_.metalnessMap:_.alphaMap?w=_.alphaMap:_.emissiveMap?w=_.emissiveMap:_.clearcoatMap?w=_.clearcoatMap:_.clearcoatNormalMap?w=_.clearcoatNormalMap:_.clearcoatRoughnessMap?w=_.clearcoatRoughnessMap:_.iridescenceMap?w=_.iridescenceMap:_.iridescenceThicknessMap?w=_.iridescenceThicknessMap:_.specularIntensityMap?w=_.specularIntensityMap:_.specularColorMap?w=_.specularColorMap:_.transmissionMap?w=_.transmissionMap:_.thicknessMap?w=_.thicknessMap:_.sheenColorMap?w=_.sheenColorMap:_.sheenRoughnessMap&&(w=_.sheenRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uvTransform.value.copy(w.matrix));let S;_.aoMap?S=_.aoMap:_.lightMap&&(S=_.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),v.uv2Transform.value.copy(S.matrix))}function s(v,_){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity}function o(v,_){v.dashSize.value=_.dashSize,v.totalSize.value=_.dashSize+_.gapSize,v.scale.value=_.scale}function a(v,_,x,w){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity,v.size.value=_.size*x,v.scale.value=w*.5,_.map&&(v.map.value=_.map),_.alphaMap&&(v.alphaMap.value=_.alphaMap),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest);let S;_.map?S=_.map:_.alphaMap&&(S=_.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),v.uvTransform.value.copy(S.matrix))}function l(v,_){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity,v.rotation.value=_.rotation,_.map&&(v.map.value=_.map),_.alphaMap&&(v.alphaMap.value=_.alphaMap),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest);let x;_.map?x=_.map:_.alphaMap&&(x=_.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uvTransform.value.copy(x.matrix))}function c(v,_){v.specular.value.copy(_.specular),v.shininess.value=Math.max(_.shininess,1e-4)}function u(v,_){_.gradientMap&&(v.gradientMap.value=_.gradientMap)}function d(v,_){v.roughness.value=_.roughness,v.metalness.value=_.metalness,_.roughnessMap&&(v.roughnessMap.value=_.roughnessMap),_.metalnessMap&&(v.metalnessMap.value=_.metalnessMap),e.get(_).envMap&&(v.envMapIntensity.value=_.envMapIntensity)}function f(v,_,x){v.ior.value=_.ior,_.sheen>0&&(v.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),v.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(v.sheenColorMap.value=_.sheenColorMap),_.sheenRoughnessMap&&(v.sheenRoughnessMap.value=_.sheenRoughnessMap)),_.clearcoat>0&&(v.clearcoat.value=_.clearcoat,v.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(v.clearcoatMap.value=_.clearcoatMap),_.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap),_.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),v.clearcoatNormalMap.value=_.clearcoatNormalMap,_.side===as&&v.clearcoatNormalScale.value.negate())),_.iridescence>0&&(v.iridescence.value=_.iridescence,v.iridescenceIOR.value=_.iridescenceIOR,v.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(v.iridescenceMap.value=_.iridescenceMap),_.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=_.iridescenceThicknessMap)),_.transmission>0&&(v.transmission.value=_.transmission,v.transmissionSamplerMap.value=x.texture,v.transmissionSamplerSize.value.set(x.width,x.height),_.transmissionMap&&(v.transmissionMap.value=_.transmissionMap),v.thickness.value=_.thickness,_.thicknessMap&&(v.thicknessMap.value=_.thicknessMap),v.attenuationDistance.value=_.attenuationDistance,v.attenuationColor.value.copy(_.attenuationColor)),v.specularIntensity.value=_.specularIntensity,v.specularColor.value.copy(_.specularColor),_.specularIntensityMap&&(v.specularIntensityMap.value=_.specularIntensityMap),_.specularColorMap&&(v.specularColorMap.value=_.specularColorMap)}function m(v,_){_.matcap&&(v.matcap.value=_.matcap)}function g(v,_){v.referencePosition.value.copy(_.referencePosition),v.nearDistance.value=_.nearDistance,v.farDistance.value=_.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function D1e(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(w,S){const E=S.program;r.uniformBlockBinding(w,E)}function c(w,S){let E=i[w.id];E===void 0&&(g(w),E=u(w),i[w.id]=E,w.addEventListener("dispose",_));const A=S.program;r.updateUBOMapping(w,A);const P=e.render.frame;s[w.id]!==P&&(f(w),s[w.id]=P)}function u(w){const S=d();w.__bindingPointIndex=S;const E=n.createBuffer(),A=w.__size,P=w.usage;return n.bindBuffer(35345,E),n.bufferData(35345,A,P),n.bindBuffer(35345,null),n.bindBufferBase(35345,S,E),E}function d(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(w){const S=i[w.id],E=w.uniforms,A=w.__cache;n.bindBuffer(35345,S);for(let P=0,I=E.length;P<I;P++){const T=E[P];if(m(T,P,A)===!0){const R=T.__offset,O=Array.isArray(T.value)?T.value:[T.value];let L=0;for(let J=0;J<O.length;J++){const j=O[J],V=v(j);typeof j=="number"?(T.__data[0]=j,n.bufferSubData(35345,R+L,T.__data)):j.isMatrix3?(T.__data[0]=j.elements[0],T.__data[1]=j.elements[1],T.__data[2]=j.elements[2],T.__data[3]=j.elements[0],T.__data[4]=j.elements[3],T.__data[5]=j.elements[4],T.__data[6]=j.elements[5],T.__data[7]=j.elements[0],T.__data[8]=j.elements[6],T.__data[9]=j.elements[7],T.__data[10]=j.elements[8],T.__data[11]=j.elements[0]):(j.toArray(T.__data,L),L+=V.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,R,T.__data)}}n.bindBuffer(35345,null)}function m(w,S,E){const A=w.value;if(E[S]===void 0){if(typeof A=="number")E[S]=A;else{const P=Array.isArray(A)?A:[A],I=[];for(let T=0;T<P.length;T++)I.push(P[T].clone());E[S]=I}return!0}else if(typeof A=="number"){if(E[S]!==A)return E[S]=A,!0}else{const P=Array.isArray(E[S])?E[S]:[E[S]],I=Array.isArray(A)?A:[A];for(let T=0;T<P.length;T++){const R=P[T];if(R.equals(I[T])===!1)return R.copy(I[T]),!0}}return!1}function g(w){const S=w.uniforms;let E=0;const A=16;let P=0;for(let I=0,T=S.length;I<T;I++){const R=S[I],O={boundary:0,storage:0},L=Array.isArray(R.value)?R.value:[R.value];for(let J=0,j=L.length;J<j;J++){const V=L[J],K=v(V);O.boundary+=K.boundary,O.storage+=K.storage}if(R.__data=new Float32Array(O.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=E,I>0){P=E%A;const J=A-P;P!==0&&J-O.boundary<0&&(E+=A-P,R.__offset=E)}E+=O.storage}return P=E%A,P>0&&(E+=A-P),w.__size=E,w.__cache={},this}function v(w){const S={boundary:0,storage:0};return typeof w=="number"?(S.boundary=4,S.storage=4):w.isVector2?(S.boundary=8,S.storage=8):w.isVector3||w.isColor?(S.boundary=16,S.storage=12):w.isVector4?(S.boundary=16,S.storage=16):w.isMatrix3?(S.boundary=48,S.storage=48):w.isMatrix4?(S.boundary=64,S.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),S}function _(w){const S=w.target;S.removeEventListener("dispose",_);const E=o.indexOf(S.__bindingPointIndex);o.splice(E,1),n.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function x(){for(const w in i)n.deleteBuffer(i[w]);o=[],i={},s={}}return{bind:l,update:c,dispose:x}}function F1e(){const n=Av("canvas");return n.style.display="block",n}function U1(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:F1e(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let d=null,f=null;const m=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Lo,this.useLegacyLights=!0,this.toneMapping=ko,this.toneMappingExposure=1;const v=this;let _=!1,x=0,w=0,S=null,E=-1,A=null;const P=new mn,I=new mn;let T=null,R=e.width,O=e.height,L=1,J=null,j=null;const V=new mn(0,0,R,O),K=new mn(0,0,R,O);let Q=!1;const te=new F1;let D=!1,$=!1,X=null;const ue=new gt,Y=new U,pe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ye(){return S===null?L:1}let ne=t;function fe(z,le){for(let ge=0;ge<z.length;ge++){const se=z[ge],be=e.getContext(se,le);if(be!==null)return be}return null}try{const z={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${N1}`),e.addEventListener("webglcontextlost",de,!1),e.addEventListener("webglcontextrestored",Ae,!1),e.addEventListener("webglcontextcreationerror",Oe,!1),ne===null){const le=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&le.shift(),ne=fe(le,z),ne===null)throw fe(le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ne.getShaderPrecisionFormat===void 0&&(ne.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(z){throw console.error("THREE.WebGLRenderer: "+z.message),z}let Ee,Re,Me,Ue,Ge,me,_e,ke,$e,Fe,Ye,Xe,et,at,it,G,B,ae,Te,Ie,De,xe,ie,oe;function Ne(){Ee=new ewe(ne),Re=new Kbe(ne,Ee,n),Ee.init(Re),xe=new q9(ne,Ee,Re),Me=new N1e(ne,Ee,Re),Ue=new rwe,Ge=new x1e,me=new k1e(ne,Ee,Me,Ge,Re,xe,Ue),_e=new Ybe(v),ke=new Zbe(v),$e=new h_e(ne,Re),ie=new $be(ne,Ee,$e,Re),Fe=new twe(ne,$e,Ue,ie),Ye=new awe(ne,Fe,$e,Ue),Te=new owe(ne,Re,me),G=new Xbe(Ge),Xe=new _1e(v,_e,ke,Ee,Re,ie,G),et=new B1e(v,Ge),at=new w1e,it=new T1e(Ee,Re),ae=new jbe(v,_e,ke,Me,Ye,u,o),B=new I1e(v,Ye,Re),oe=new D1e(ne,Ue,Re,Me),Ie=new Jbe(ne,Ee,Ue,Re),De=new nwe(ne,Ee,Ue,Re),Ue.programs=Xe.programs,v.capabilities=Re,v.extensions=Ee,v.properties=Ge,v.renderLists=at,v.shadowMap=B,v.state=Me,v.info=Ue}Ne();const W=new L1e(v,ne);this.xr=W,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const z=Ee.get("WEBGL_lose_context");z&&z.loseContext()},this.forceContextRestore=function(){const z=Ee.get("WEBGL_lose_context");z&&z.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(z){z!==void 0&&(L=z,this.setSize(R,O,!1))},this.getSize=function(z){return z.set(R,O)},this.setSize=function(z,le,ge=!0){if(W.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=z,O=le,e.width=Math.floor(z*L),e.height=Math.floor(le*L),ge===!0&&(e.style.width=z+"px",e.style.height=le+"px"),this.setViewport(0,0,z,le)},this.getDrawingBufferSize=function(z){return z.set(R*L,O*L).floor()},this.setDrawingBufferSize=function(z,le,ge){R=z,O=le,L=ge,e.width=Math.floor(z*ge),e.height=Math.floor(le*ge),this.setViewport(0,0,z,le)},this.getCurrentViewport=function(z){return z.copy(P)},this.getViewport=function(z){return z.copy(V)},this.setViewport=function(z,le,ge,se){z.isVector4?V.set(z.x,z.y,z.z,z.w):V.set(z,le,ge,se),Me.viewport(P.copy(V).multiplyScalar(L).floor())},this.getScissor=function(z){return z.copy(K)},this.setScissor=function(z,le,ge,se){z.isVector4?K.set(z.x,z.y,z.z,z.w):K.set(z,le,ge,se),Me.scissor(I.copy(K).multiplyScalar(L).floor())},this.getScissorTest=function(){return Q},this.setScissorTest=function(z){Me.setScissorTest(Q=z)},this.setOpaqueSort=function(z){J=z},this.setTransparentSort=function(z){j=z},this.getClearColor=function(z){return z.copy(ae.getClearColor())},this.setClearColor=function(){ae.setClearColor.apply(ae,arguments)},this.getClearAlpha=function(){return ae.getClearAlpha()},this.setClearAlpha=function(){ae.setClearAlpha.apply(ae,arguments)},this.clear=function(z=!0,le=!0,ge=!0){let se=0;z&&(se|=16384),le&&(se|=256),ge&&(se|=1024),ne.clear(se)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",de,!1),e.removeEventListener("webglcontextrestored",Ae,!1),e.removeEventListener("webglcontextcreationerror",Oe,!1),at.dispose(),it.dispose(),Ge.dispose(),_e.dispose(),ke.dispose(),Ye.dispose(),ie.dispose(),oe.dispose(),Xe.dispose(),W.dispose(),W.removeEventListener("sessionstart",Pe),W.removeEventListener("sessionend",Ke),X&&(X.dispose(),X=null),Qe.stop()};function de(z){z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function Ae(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1;const z=Ue.autoReset,le=B.enabled,ge=B.autoUpdate,se=B.needsUpdate,be=B.type;Ne(),Ue.autoReset=z,B.enabled=le,B.autoUpdate=ge,B.needsUpdate=se,B.type=be}function Oe(z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",z.statusMessage)}function nt(z){const le=z.target;le.removeEventListener("dispose",nt),bt(le)}function bt(z){un(z),Ge.remove(z)}function un(z){const le=Ge.get(z).programs;le!==void 0&&(le.forEach(function(ge){Xe.releaseProgram(ge)}),z.isShaderMaterial&&Xe.releaseShaderCache(z))}this.renderBufferDirect=function(z,le,ge,se,be,ot){le===null&&(le=pe);const ft=be.isMesh&&be.matrixWorld.determinant()<0,vt=Tp(z,le,ge,se,be);Me.setMaterial(se,ft);let wt=ge.index,Ft=1;se.wireframe===!0&&(wt=Fe.getWireframeAttribute(ge),Ft=2);const Tt=ge.drawRange,kt=ge.attributes.position;let zn=Tt.start*Ft,lt=(Tt.start+Tt.count)*Ft;ot!==null&&(zn=Math.max(zn,ot.start*Ft),lt=Math.min(lt,(ot.start+ot.count)*Ft)),wt!==null?(zn=Math.max(zn,0),lt=Math.min(lt,wt.count)):kt!=null&&(zn=Math.max(zn,0),lt=Math.min(lt,kt.count));const Nn=lt-zn;if(Nn<0||Nn===1/0)return;ie.setup(be,se,vt,ge,wt);let Ma,nr=Ie;if(wt!==null&&(Ma=$e.get(wt),nr=De,nr.setIndex(Ma)),be.isMesh)se.wireframe===!0?(Me.setLineWidth(se.wireframeLinewidth*ye()),nr.setMode(1)):nr.setMode(4);else if(be.isLine){let Ot=se.linewidth;Ot===void 0&&(Ot=1),Me.setLineWidth(Ot*ye()),be.isLineSegments?nr.setMode(1):be.isLineLoop?nr.setMode(2):nr.setMode(3)}else be.isPoints?nr.setMode(0):be.isSprite&&nr.setMode(4);if(be.isInstancedMesh)nr.renderInstances(zn,Nn,be.count);else if(ge.isInstancedBufferGeometry){const Ot=ge._maxInstanceCount!==void 0?ge._maxInstanceCount:1/0,Ta=Math.min(ge.instanceCount,Ot);nr.renderInstances(zn,Nn,Ta)}else nr.render(zn,Nn)},this.compile=function(z,le){function ge(se,be,ot){se.transparent===!0&&se.side===To&&se.forceSinglePass===!1?(se.side=as,se.needsUpdate=!0,ei(se,be,ot),se.side=Sa,se.needsUpdate=!0,ei(se,be,ot),se.side=To):ei(se,be,ot)}f=it.get(z),f.init(),g.push(f),z.traverseVisible(function(se){se.isLight&&se.layers.test(le.layers)&&(f.pushLight(se),se.castShadow&&f.pushShadow(se))}),f.setupLights(v.useLegacyLights),z.traverse(function(se){const be=se.material;if(be)if(Array.isArray(be))for(let ot=0;ot<be.length;ot++){const ft=be[ot];ge(ft,z,se)}else ge(be,z,se)}),g.pop(),f=null};let q=null;function ee(z){q&&q(z)}function Pe(){Qe.stop()}function Ke(){Qe.start()}const Qe=new $9;Qe.setAnimationLoop(ee),typeof self<"u"&&Qe.setContext(self),this.setAnimationLoop=function(z){q=z,W.setAnimationLoop(z),z===null?Qe.stop():Qe.start()},W.addEventListener("sessionstart",Pe),W.addEventListener("sessionend",Ke),this.render=function(z,le){if(le!==void 0&&le.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_===!0)return;z.matrixWorldAutoUpdate===!0&&z.updateMatrixWorld(),le.parent===null&&le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),W.enabled===!0&&W.isPresenting===!0&&(W.cameraAutoUpdate===!0&&W.updateCamera(le),le=W.getCamera()),z.isScene===!0&&z.onBeforeRender(v,z,le,S),f=it.get(z,g.length),f.init(),g.push(f),ue.multiplyMatrices(le.projectionMatrix,le.matrixWorldInverse),te.setFromProjectionMatrix(ue),$=this.localClippingEnabled,D=G.init(this.clippingPlanes,$),d=at.get(z,m.length),d.init(),m.push(d),on(z,le,0,v.sortObjects),d.finish(),v.sortObjects===!0&&d.sort(J,j),D===!0&&G.beginShadows();const ge=f.state.shadowsArray;if(B.render(ge,z,le),D===!0&&G.endShadows(),this.info.autoReset===!0&&this.info.reset(),ae.render(d,z),f.setupLights(v.useLegacyLights),le.isArrayCamera){const se=le.cameras;for(let be=0,ot=se.length;be<ot;be++){const ft=se[be];Fn(d,z,ft,ft.viewport)}}else Fn(d,z,le);S!==null&&(me.updateMultisampleRenderTarget(S),me.updateRenderTargetMipmap(S)),z.isScene===!0&&z.onAfterRender(v,z,le),ie.resetDefaultState(),E=-1,A=null,g.pop(),g.length>0?f=g[g.length-1]:f=null,m.pop(),m.length>0?d=m[m.length-1]:d=null};function on(z,le,ge,se){if(z.visible===!1)return;if(z.layers.test(le.layers)){if(z.isGroup)ge=z.renderOrder;else if(z.isLOD)z.autoUpdate===!0&&z.update(le);else if(z.isLight)f.pushLight(z),z.castShadow&&f.pushShadow(z);else if(z.isSprite){if(!z.frustumCulled||te.intersectsSprite(z)){se&&Y.setFromMatrixPosition(z.matrixWorld).applyMatrix4(ue);const ft=Ye.update(z),vt=z.material;vt.visible&&d.push(z,ft,vt,ge,Y.z,null)}}else if((z.isMesh||z.isLine||z.isPoints)&&(z.isSkinnedMesh&&z.skeleton.frame!==Ue.render.frame&&(z.skeleton.update(),z.skeleton.frame=Ue.render.frame),!z.frustumCulled||te.intersectsObject(z))){se&&Y.setFromMatrixPosition(z.matrixWorld).applyMatrix4(ue);const ft=Ye.update(z),vt=z.material;if(Array.isArray(vt)){const wt=ft.groups;for(let Ft=0,Tt=wt.length;Ft<Tt;Ft++){const kt=wt[Ft],zn=vt[kt.materialIndex];zn&&zn.visible&&d.push(z,ft,zn,ge,Y.z,kt)}}else vt.visible&&d.push(z,ft,vt,ge,Y.z,null)}}const ot=z.children;for(let ft=0,vt=ot.length;ft<vt;ft++)on(ot[ft],le,ge,se)}function Fn(z,le,ge,se){const be=z.opaque,ot=z.transmissive,ft=z.transparent;f.setupLightsView(ge),D===!0&&G.setGlobalState(v.clippingPlanes,ge),ot.length>0&&_r(be,le,ge),se&&Me.viewport(P.copy(se)),be.length>0&&Ni(be,le,ge),ot.length>0&&Ni(ot,le,ge),ft.length>0&&Ni(ft,le,ge),Me.buffers.depth.setTest(!0),Me.buffers.depth.setMask(!0),Me.buffers.color.setMask(!0),Me.setPolygonOffset(!1)}function _r(z,le,ge){const se=Re.isWebGL2;X===null&&(X=new Bo(1024,1024,{generateMipmaps:!0,type:Ee.has("EXT_color_buffer_half_float")?Po:gl,minFilter:Ea,samples:se&&s===!0?4:0}));const be=v.getRenderTarget();v.setRenderTarget(X),v.clear();const ot=v.toneMapping;v.toneMapping=ko,Ni(z,le,ge),v.toneMapping=ot,me.updateMultisampleRenderTarget(X),me.updateRenderTargetMipmap(X),v.setRenderTarget(be)}function Ni(z,le,ge){const se=le.isScene===!0?le.overrideMaterial:null;for(let be=0,ot=z.length;be<ot;be++){const ft=z[be],vt=ft.object,wt=ft.geometry,Ft=se===null?ft.material:se,Tt=ft.group;vt.layers.test(ge.layers)&&Cn(vt,le,ge,wt,Ft,Tt)}}function Cn(z,le,ge,se,be,ot){z.onBeforeRender(v,le,ge,se,be,ot),z.modelViewMatrix.multiplyMatrices(ge.matrixWorldInverse,z.matrixWorld),z.normalMatrix.getNormalMatrix(z.modelViewMatrix),be.onBeforeRender(v,le,ge,se,z,ot),be.transparent===!0&&be.side===To&&be.forceSinglePass===!1?(be.side=as,be.needsUpdate=!0,v.renderBufferDirect(ge,le,se,be,z,ot),be.side=Sa,be.needsUpdate=!0,v.renderBufferDirect(ge,le,se,be,z,ot),be.side=To):v.renderBufferDirect(ge,le,se,be,z,ot),z.onAfterRender(v,le,ge,se,be,ot)}function ei(z,le,ge){le.isScene!==!0&&(le=pe);const se=Ge.get(z),be=f.state.lights,ot=f.state.shadowsArray,ft=be.state.version,vt=Xe.getParameters(z,be.state,ot,le,ge),wt=Xe.getProgramCacheKey(vt);let Ft=se.programs;se.environment=z.isMeshStandardMaterial?le.environment:null,se.fog=le.fog,se.envMap=(z.isMeshStandardMaterial?ke:_e).get(z.envMap||se.environment),Ft===void 0&&(z.addEventListener("dispose",nt),Ft=new Map,se.programs=Ft);let Tt=Ft.get(wt);if(Tt!==void 0){if(se.currentProgram===Tt&&se.lightsStateVersion===ft)return di(z,vt),Tt}else vt.uniforms=Xe.getUniforms(z),z.onBuild(ge,vt,v),z.onBeforeCompile(vt,v),Tt=Xe.acquireProgram(vt,wt),Ft.set(wt,Tt),se.uniforms=vt.uniforms;const kt=se.uniforms;(!z.isShaderMaterial&&!z.isRawShaderMaterial||z.clipping===!0)&&(kt.clippingPlanes=G.uniform),di(z,vt),se.needsLights=Sl(z),se.lightsStateVersion=ft,se.needsLights&&(kt.ambientLightColor.value=be.state.ambient,kt.lightProbe.value=be.state.probe,kt.directionalLights.value=be.state.directional,kt.directionalLightShadows.value=be.state.directionalShadow,kt.spotLights.value=be.state.spot,kt.spotLightShadows.value=be.state.spotShadow,kt.rectAreaLights.value=be.state.rectArea,kt.ltc_1.value=be.state.rectAreaLTC1,kt.ltc_2.value=be.state.rectAreaLTC2,kt.pointLights.value=be.state.point,kt.pointLightShadows.value=be.state.pointShadow,kt.hemisphereLights.value=be.state.hemi,kt.directionalShadowMap.value=be.state.directionalShadowMap,kt.directionalShadowMatrix.value=be.state.directionalShadowMatrix,kt.spotShadowMap.value=be.state.spotShadowMap,kt.spotLightMatrix.value=be.state.spotLightMatrix,kt.spotLightMap.value=be.state.spotLightMap,kt.pointShadowMap.value=be.state.pointShadowMap,kt.pointShadowMatrix.value=be.state.pointShadowMatrix);const zn=Tt.getUniforms(),lt=Ax.seqWithValue(zn.seq,kt);return se.currentProgram=Tt,se.uniformsList=lt,Tt}function di(z,le){const ge=Ge.get(z);ge.outputEncoding=le.outputEncoding,ge.instancing=le.instancing,ge.skinning=le.skinning,ge.morphTargets=le.morphTargets,ge.morphNormals=le.morphNormals,ge.morphColors=le.morphColors,ge.morphTargetsCount=le.morphTargetsCount,ge.numClippingPlanes=le.numClippingPlanes,ge.numIntersection=le.numClipIntersection,ge.vertexAlphas=le.vertexAlphas,ge.vertexTangents=le.vertexTangents,ge.toneMapping=le.toneMapping}function Tp(z,le,ge,se,be){le.isScene!==!0&&(le=pe),me.resetTextureUnits();const ot=le.fog,ft=se.isMeshStandardMaterial?le.environment:null,vt=S===null?v.outputEncoding:S.isXRRenderTarget===!0?S.texture.encoding:Lo,wt=(se.isMeshStandardMaterial?ke:_e).get(se.envMap||ft),Ft=se.vertexColors===!0&&!!ge.attributes.color&&ge.attributes.color.itemSize===4,Tt=!!se.normalMap&&!!ge.attributes.tangent,kt=!!ge.morphAttributes.position,zn=!!ge.morphAttributes.normal,lt=!!ge.morphAttributes.color,Nn=se.toneMapped?v.toneMapping:ko,Ma=ge.morphAttributes.position||ge.morphAttributes.normal||ge.morphAttributes.color,nr=Ma!==void 0?Ma.length:0,Ot=Ge.get(se),Ta=f.state.lights;if(D===!0&&($===!0||z!==A)){const ir=z===A&&se.id===E;G.setState(se,z,ir)}let rr=!1;se.version===Ot.__version?(Ot.needsLights&&Ot.lightsStateVersion!==Ta.state.version||Ot.outputEncoding!==vt||be.isInstancedMesh&&Ot.instancing===!1||!be.isInstancedMesh&&Ot.instancing===!0||be.isSkinnedMesh&&Ot.skinning===!1||!be.isSkinnedMesh&&Ot.skinning===!0||Ot.envMap!==wt||se.fog===!0&&Ot.fog!==ot||Ot.numClippingPlanes!==void 0&&(Ot.numClippingPlanes!==G.numPlanes||Ot.numIntersection!==G.numIntersection)||Ot.vertexAlphas!==Ft||Ot.vertexTangents!==Tt||Ot.morphTargets!==kt||Ot.morphNormals!==zn||Ot.morphColors!==lt||Ot.toneMapping!==Nn||Re.isWebGL2===!0&&Ot.morphTargetsCount!==nr)&&(rr=!0):(rr=!0,Ot.__version=se.version);let ho=Ot.currentProgram;rr===!0&&(ho=ei(se,le,be));let O0=!1,Pa=!1,Vo=!1;const Un=ho.getUniforms(),Qt=Ot.uniforms;if(Me.useProgram(ho.program)&&(O0=!0,Pa=!0,Vo=!0),se.id!==E&&(E=se.id,Pa=!0),O0||A!==z){if(Un.setValue(ne,"projectionMatrix",z.projectionMatrix),Re.logarithmicDepthBuffer&&Un.setValue(ne,"logDepthBufFC",2/(Math.log(z.far+1)/Math.LN2)),A!==z&&(A=z,Pa=!0,Vo=!0),se.isShaderMaterial||se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshStandardMaterial||se.envMap){const ir=Un.map.cameraPosition;ir!==void 0&&ir.setValue(ne,Y.setFromMatrixPosition(z.matrixWorld))}(se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshLambertMaterial||se.isMeshBasicMaterial||se.isMeshStandardMaterial||se.isShaderMaterial)&&Un.setValue(ne,"isOrthographic",z.isOrthographicCamera===!0),(se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshLambertMaterial||se.isMeshBasicMaterial||se.isMeshStandardMaterial||se.isShaderMaterial||se.isShadowMaterial||be.isSkinnedMesh)&&Un.setValue(ne,"viewMatrix",z.matrixWorldInverse)}if(be.isSkinnedMesh){Un.setOptional(ne,be,"bindMatrix"),Un.setOptional(ne,be,"bindMatrixInverse");const ir=be.skeleton;ir&&(Re.floatVertexTextures?(ir.boneTexture===null&&ir.computeBoneTexture(),Un.setValue(ne,"boneTexture",ir.boneTexture,me),Un.setValue(ne,"boneTextureSize",ir.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const dn=ge.morphAttributes;if((dn.position!==void 0||dn.normal!==void 0||dn.color!==void 0&&Re.isWebGL2===!0)&&Te.update(be,ge,ho),(Pa||Ot.receiveShadow!==be.receiveShadow)&&(Ot.receiveShadow=be.receiveShadow,Un.setValue(ne,"receiveShadow",be.receiveShadow)),se.isMeshGouraudMaterial&&se.envMap!==null&&(Qt.envMap.value=wt,Qt.flipEnvMap.value=wt.isCubeTexture&&wt.isRenderTargetTexture===!1?-1:1),Pa&&(Un.setValue(ne,"toneMappingExposure",v.toneMappingExposure),Ot.needsLights&&Aa(Qt,Vo),ot&&se.fog===!0&&et.refreshFogUniforms(Qt,ot),et.refreshMaterialUniforms(Qt,se,L,O,X),Ax.upload(ne,Ot.uniformsList,Qt,me)),se.isShaderMaterial&&se.uniformsNeedUpdate===!0&&(Ax.upload(ne,Ot.uniformsList,Qt,me),se.uniformsNeedUpdate=!1),se.isSpriteMaterial&&Un.setValue(ne,"center",be.center),Un.setValue(ne,"modelViewMatrix",be.modelViewMatrix),Un.setValue(ne,"normalMatrix",be.normalMatrix),Un.setValue(ne,"modelMatrix",be.matrixWorld),se.isShaderMaterial||se.isRawShaderMaterial){const ir=se.uniformsGroups;for(let xr=0,hi=ir.length;xr<hi;xr++)if(Re.isWebGL2){const Wo=ir[xr];oe.update(Wo,ho),oe.bind(Wo,ho)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ho}function Aa(z,le){z.ambientLightColor.needsUpdate=le,z.lightProbe.needsUpdate=le,z.directionalLights.needsUpdate=le,z.directionalLightShadows.needsUpdate=le,z.pointLights.needsUpdate=le,z.pointLightShadows.needsUpdate=le,z.spotLights.needsUpdate=le,z.spotLightShadows.needsUpdate=le,z.rectAreaLights.needsUpdate=le,z.hemisphereLights.needsUpdate=le}function Sl(z){return z.isMeshLambertMaterial||z.isMeshToonMaterial||z.isMeshPhongMaterial||z.isMeshStandardMaterial||z.isShadowMaterial||z.isShaderMaterial&&z.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(z,le,ge){Ge.get(z.texture).__webglTexture=le,Ge.get(z.depthTexture).__webglTexture=ge;const se=Ge.get(z);se.__hasExternalTextures=!0,se.__hasExternalTextures&&(se.__autoAllocateDepthBuffer=ge===void 0,se.__autoAllocateDepthBuffer||Ee.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),se.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(z,le){const ge=Ge.get(z);ge.__webglFramebuffer=le,ge.__useDefaultFramebuffer=le===void 0},this.setRenderTarget=function(z,le=0,ge=0){S=z,x=le,w=ge;let se=!0,be=null,ot=!1,ft=!1;if(z){const wt=Ge.get(z);wt.__useDefaultFramebuffer!==void 0?(Me.bindFramebuffer(36160,null),se=!1):wt.__webglFramebuffer===void 0?me.setupRenderTarget(z):wt.__hasExternalTextures&&me.rebindTextures(z,Ge.get(z.texture).__webglTexture,Ge.get(z.depthTexture).__webglTexture);const Ft=z.texture;(Ft.isData3DTexture||Ft.isDataArrayTexture||Ft.isCompressedArrayTexture)&&(ft=!0);const Tt=Ge.get(z).__webglFramebuffer;z.isWebGLCubeRenderTarget?(be=Tt[le],ot=!0):Re.isWebGL2&&z.samples>0&&me.useMultisampledRTT(z)===!1?be=Ge.get(z).__webglMultisampledFramebuffer:be=Tt,P.copy(z.viewport),I.copy(z.scissor),T=z.scissorTest}else P.copy(V).multiplyScalar(L).floor(),I.copy(K).multiplyScalar(L).floor(),T=Q;if(Me.bindFramebuffer(36160,be)&&Re.drawBuffers&&se&&Me.drawBuffers(z,be),Me.viewport(P),Me.scissor(I),Me.setScissorTest(T),ot){const wt=Ge.get(z.texture);ne.framebufferTexture2D(36160,36064,34069+le,wt.__webglTexture,ge)}else if(ft){const wt=Ge.get(z.texture),Ft=le||0;ne.framebufferTextureLayer(36160,36064,wt.__webglTexture,ge||0,Ft)}E=-1},this.readRenderTargetPixels=function(z,le,ge,se,be,ot,ft){if(!(z&&z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let vt=Ge.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&ft!==void 0&&(vt=vt[ft]),vt){Me.bindFramebuffer(36160,vt);try{const wt=z.texture,Ft=wt.format,Tt=wt.type;if(Ft!==Qi&&xe.convert(Ft)!==ne.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const kt=Tt===Po&&(Ee.has("EXT_color_buffer_half_float")||Re.isWebGL2&&Ee.has("EXT_color_buffer_float"));if(Tt!==gl&&xe.convert(Tt)!==ne.getParameter(35738)&&!(Tt===to&&(Re.isWebGL2||Ee.has("OES_texture_float")||Ee.has("WEBGL_color_buffer_float")))&&!kt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}le>=0&&le<=z.width-se&&ge>=0&&ge<=z.height-be&&ne.readPixels(le,ge,se,be,xe.convert(Ft),xe.convert(Tt),ot)}finally{const wt=S!==null?Ge.get(S).__webglFramebuffer:null;Me.bindFramebuffer(36160,wt)}}},this.copyFramebufferToTexture=function(z,le,ge=0){const se=Math.pow(2,-ge),be=Math.floor(le.image.width*se),ot=Math.floor(le.image.height*se);me.setTexture2D(le,0),ne.copyTexSubImage2D(3553,ge,0,0,z.x,z.y,be,ot),Me.unbindTexture()},this.copyTextureToTexture=function(z,le,ge,se=0){const be=le.image.width,ot=le.image.height,ft=xe.convert(ge.format),vt=xe.convert(ge.type);me.setTexture2D(ge,0),ne.pixelStorei(37440,ge.flipY),ne.pixelStorei(37441,ge.premultiplyAlpha),ne.pixelStorei(3317,ge.unpackAlignment),le.isDataTexture?ne.texSubImage2D(3553,se,z.x,z.y,be,ot,ft,vt,le.image.data):le.isCompressedTexture?ne.compressedTexSubImage2D(3553,se,z.x,z.y,le.mipmaps[0].width,le.mipmaps[0].height,ft,le.mipmaps[0].data):ne.texSubImage2D(3553,se,z.x,z.y,ft,vt,le.image),se===0&&ge.generateMipmaps&&ne.generateMipmap(3553),Me.unbindTexture()},this.copyTextureToTexture3D=function(z,le,ge,se,be=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ot=z.max.x-z.min.x+1,ft=z.max.y-z.min.y+1,vt=z.max.z-z.min.z+1,wt=xe.convert(se.format),Ft=xe.convert(se.type);let Tt;if(se.isData3DTexture)me.setTexture3D(se,0),Tt=32879;else if(se.isDataArrayTexture)me.setTexture2DArray(se,0),Tt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ne.pixelStorei(37440,se.flipY),ne.pixelStorei(37441,se.premultiplyAlpha),ne.pixelStorei(3317,se.unpackAlignment);const kt=ne.getParameter(3314),zn=ne.getParameter(32878),lt=ne.getParameter(3316),Nn=ne.getParameter(3315),Ma=ne.getParameter(32877),nr=ge.isCompressedTexture?ge.mipmaps[0]:ge.image;ne.pixelStorei(3314,nr.width),ne.pixelStorei(32878,nr.height),ne.pixelStorei(3316,z.min.x),ne.pixelStorei(3315,z.min.y),ne.pixelStorei(32877,z.min.z),ge.isDataTexture||ge.isData3DTexture?ne.texSubImage3D(Tt,be,le.x,le.y,le.z,ot,ft,vt,wt,Ft,nr.data):ge.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ne.compressedTexSubImage3D(Tt,be,le.x,le.y,le.z,ot,ft,vt,wt,nr.data)):ne.texSubImage3D(Tt,be,le.x,le.y,le.z,ot,ft,vt,wt,Ft,nr),ne.pixelStorei(3314,kt),ne.pixelStorei(32878,zn),ne.pixelStorei(3316,lt),ne.pixelStorei(3315,Nn),ne.pixelStorei(32877,Ma),be===0&&se.generateMipmaps&&ne.generateMipmap(Tt),Me.unbindTexture()},this.initTexture=function(z){z.isCubeTexture?me.setTextureCube(z,0):z.isData3DTexture?me.setTexture3D(z,0):z.isDataArrayTexture||z.isCompressedArrayTexture?me.setTexture2DArray(z,0):me.setTexture2D(z,0),Me.unbindTexture()},this.resetState=function(){x=0,w=0,S=null,Me.reset(),ie.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object.defineProperties(U1.prototype,{physicallyCorrectLights:{get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(n){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!n}}});class eW extends U1{}eW.prototype.isWebGL1Renderer=!0;class G1{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new He(e),this.density=t}clone(){return new G1(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class H1{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new He(e),this.near=t,this.far=r}clone(){return new H1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class V1 extends qt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class x0{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Ev,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=As()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=As()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=As()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Li=new U;class Fc{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Li.fromBufferAttribute(this,t),Li.applyMatrix4(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Li.fromBufferAttribute(this,t),Li.applyNormalMatrix(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Li.fromBufferAttribute(this,t),Li.transformDirection(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this}setX(e,t){return this.normalized&&(t=bn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=bn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=bn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=bn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Qa(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Qa(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Qa(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Qa(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=bn(t,this.array),r=bn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=bn(t,this.array),r=bn(r,this.array),i=bn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=bn(t,this.array),r=bn(r,this.array),i=bn(i,this.array),s=bn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new cn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Fc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class CN extends Mr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new He(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let vh;const Tm=new U,yh=new U,_h=new U,xh=new Se,Pm=new Se,tW=new gt,S_=new U,Rm=new U,E_=new U,gz=new Se,eA=new Se,vz=new Se;class nW extends qt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",vh===void 0){vh=new Ct;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new x0(t,5);vh.setIndex([0,1,2,0,2,3]),vh.setAttribute("position",new Fc(r,3,0,!1)),vh.setAttribute("uv",new Fc(r,2,3,!1))}this.geometry=vh,this.material=e!==void 0?e:new CN,this.center=new Se(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),yh.setFromMatrixScale(this.matrixWorld),tW.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),_h.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&yh.multiplyScalar(-_h.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;C_(S_.set(-.5,-.5,0),_h,o,yh,i,s),C_(Rm.set(.5,-.5,0),_h,o,yh,i,s),C_(E_.set(.5,.5,0),_h,o,yh,i,s),gz.set(0,0),eA.set(1,0),vz.set(1,1);let a=e.ray.intersectTriangle(S_,Rm,E_,!1,Tm);if(a===null&&(C_(Rm.set(-.5,.5,0),_h,o,yh,i,s),eA.set(0,1),a=e.ray.intersectTriangle(S_,E_,Rm,!1,Tm),a===null))return;const l=e.ray.origin.distanceTo(Tm);l<e.near||l>e.far||t.push({distance:l,point:Tm.clone(),uv:qs.getUV(Tm,S_,Rm,E_,gz,eA,vz,new Se),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function C_(n,e,t,r,i,s){xh.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Pm.x=s*xh.x-i*xh.y,Pm.y=i*xh.x+s*xh.y):Pm.copy(xh),n.copy(e),n.x+=Pm.x,n.y+=Pm.y,n.applyMatrix4(tW)}const A_=new U,yz=new U;class rW extends qt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){A_.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(A_);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){A_.setFromMatrixPosition(e.matrixWorld),yz.setFromMatrixPosition(this.matrixWorld);const r=A_.distanceTo(yz)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const _z=new U,xz=new mn,bz=new mn,z1e=new U,wz=new gt;class AN extends Or{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new gt,this.bindMatrixInverse=new gt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new mn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;xz.fromBufferAttribute(i.attributes.skinIndex,e),bz.fromBufferAttribute(i.attributes.skinWeight,e),_z.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=bz.getComponent(s);if(o!==0){const a=xz.getComponent(s);wz.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(z1e.copy(_z).applyMatrix4(wz),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class W1 extends qt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class df extends Jn{constructor(e=null,t=1,r=1,i,s,o,a,l,c=dr,u=dr,d,f){super(null,o,a,l,c,u,i,s,d,f),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Sz=new gt,U1e=new gt;class b0{constructor(e=[],t=[]){this.uuid=As(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new gt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new gt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:U1e;Sz.multiplyMatrices(a,t[s]),Sz.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new b0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=F9(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new df(t,e,e,Qi,to);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new W1),this.bones.push(o),this.boneInverses.push(new gt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Kf extends cn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ez=new gt,Cz=new gt,M_=[],G1e=new gt,Im=new Or;class iW extends Or{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Kf(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,G1e)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Im.geometry=this.geometry,Im.material=this.material,Im.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,Ez),Cz.multiplyMatrices(r,Ez),Im.matrixWorld=Cz,Im.raycast(e,M_);for(let o=0,a=M_.length;o<a;o++){const l=M_[o];l.instanceId=s,l.object=this,t.push(l)}M_.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Kf(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ii extends Mr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new He(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Az=new U,Mz=new U,Tz=new gt,tA=new g0,T_=new Kc;class vl extends qt{constructor(e=new Ct,t=new Ii){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)Az.fromBufferAttribute(t,i-1),Mz.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=Az.distanceTo(Mz);e.setAttribute("lineDistance",new tt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),T_.copy(r.boundingSphere),T_.applyMatrix4(i),T_.radius+=s,e.ray.intersectsSphere(T_)===!1)return;Tz.copy(i).invert(),tA.copy(e.ray).applyMatrix4(Tz);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new U,u=new U,d=new U,f=new U,m=this.isLineSegments?2:1,g=r.index,_=r.attributes.position;if(g!==null){const x=Math.max(0,o.start),w=Math.min(g.count,o.start+o.count);for(let S=x,E=w-1;S<E;S+=m){const A=g.getX(S),P=g.getX(S+1);if(c.fromBufferAttribute(_,A),u.fromBufferAttribute(_,P),tA.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(f);T<e.near||T>e.far||t.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),w=Math.min(_.count,o.start+o.count);for(let S=x,E=w-1;S<E;S+=m){if(c.fromBufferAttribute(_,S),u.fromBufferAttribute(_,S+1),tA.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(f);P<e.near||P>e.far||t.push({distance:P,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const Pz=new U,Rz=new U;class Uo extends vl{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)Pz.fromBufferAttribute(t,i),Rz.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+Pz.distanceTo(Rz);e.setAttribute("lineDistance",new tt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class MN extends vl{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class j1 extends Mr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new He(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Iz=new gt,BP=new g0,P_=new Kc,R_=new U;class TN extends qt{constructor(e=new Ct,t=new j1){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),P_.copy(r.boundingSphere),P_.applyMatrix4(i),P_.radius+=s,e.ray.intersectsSphere(P_)===!1)return;Iz.copy(i).invert(),BP.copy(e.ray).applyMatrix4(Iz);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,d=r.attributes.position;if(c!==null){const f=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let g=f,v=m;g<v;g++){const _=c.getX(g);R_.fromBufferAttribute(d,_),Nz(R_,_,l,i,e,t,this)}}else{const f=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let g=f,v=m;g<v;g++)R_.fromBufferAttribute(d,g),Nz(R_,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Nz(n,e,t,r,i,s,o){const a=BP.distanceSqToPoint(n);if(a<t){const l=new U;BP.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class H1e extends Jn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Ln,this.magFilter=s!==void 0?s:Ln,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class V1e extends Jn{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=dr,this.minFilter=dr,this.generateMipmaps=!1,this.needsUpdate=!0}}class PN extends Jn{constructor(e,t,r,i,s,o,a,l,c,u,d,f){super(null,o,a,l,c,u,i,s,d,f),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class W1e extends PN{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=si}}class j1e extends Jn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Go{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],f=r[i+1]-u,m=(o-u)/f;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new Se:new U);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new U,i=[],s=[],o=[],a=new U,l=new gt;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new U)}s[0]=new U,o[0]=new U;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),f<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(yr(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(yr(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class $1 extends Go{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Se,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,m=c-this.aY;l=f*u-m*d+this.aX,c=f*d+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class sW extends $1{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function RN(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let f=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+d)+(l-a)/d;f*=u,m*=u,i(o,a,f,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const I_=new U,nA=new RN,rA=new RN,iA=new RN;class oW extends Go{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new U){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(I_.subVectors(i[0],i[1]).add(i[0]),c=I_);const d=i[a%s],f=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(I_.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=I_),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(d),m),v=Math.pow(d.distanceToSquared(f),m),_=Math.pow(f.distanceToSquared(u),m);v<1e-4&&(v=1),g<1e-4&&(g=v),_<1e-4&&(_=v),nA.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,g,v,_),rA.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,g,v,_),iA.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,g,v,_)}else this.curveType==="catmullrom"&&(nA.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),rA.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),iA.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return r.set(nA.calc(l),rA.calc(l),iA.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new U().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function kz(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function $1e(n,e){const t=1-n;return t*t*e}function J1e(n,e){return 2*(1-n)*n*e}function K1e(n,e){return n*n*e}function Tg(n,e,t,r){return $1e(n,e)+J1e(n,t)+K1e(n,r)}function X1e(n,e){const t=1-n;return t*t*t*e}function Y1e(n,e){const t=1-n;return 3*t*t*n*e}function q1e(n,e){return 3*(1-n)*n*n*e}function Q1e(n,e){return n*n*n*e}function Pg(n,e,t,r,i){return X1e(n,e)+Y1e(n,t)+q1e(n,r)+Q1e(n,i)}class IN extends Go{constructor(e=new Se,t=new Se,r=new Se,i=new Se){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Se){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Pg(e,i.x,s.x,o.x,a.x),Pg(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class aW extends Go{constructor(e=new U,t=new U,r=new U,i=new U){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new U){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Pg(e,i.x,s.x,o.x,a.x),Pg(e,i.y,s.y,o.y,a.y),Pg(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class J1 extends Go{constructor(e=new Se,t=new Se){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Se){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Se){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class lW extends Go{constructor(e=new U,t=new U){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new U){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new U){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NN extends Go{constructor(e=new Se,t=new Se,r=new Se){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Se){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Tg(e,i.x,s.x,o.x),Tg(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kN extends Go{constructor(e=new U,t=new U,r=new U){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new U){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Tg(e,i.x,s.x,o.x),Tg(e,i.y,s.y,o.y),Tg(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ON extends Go{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Se){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(kz(a,l.x,c.x,u.x,d.x),kz(a,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Se().fromArray(i))}return this}}var LN=Object.freeze({__proto__:null,ArcCurve:sW,CatmullRomCurve3:oW,CubicBezierCurve:IN,CubicBezierCurve3:aW,EllipseCurve:$1,LineCurve:J1,LineCurve3:lW,QuadraticBezierCurve:NN,QuadraticBezierCurve3:kN,SplineCurve:ON});class cW extends Go{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new J1(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new LN[i.type]().fromJSON(i))}return this}}class Mv extends cW{constructor(e){super(),this.type="Path",this.currentPoint=new Se,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new J1(this.currentPoint.clone(),new Se(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new NN(this.currentPoint.clone(),new Se(e,t),new Se(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new IN(this.currentPoint.clone(),new Se(e,t),new Se(r,i),new Se(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new ON(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new $1(e,t,r,i,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class bp extends Ct{constructor(e=[new Se(0,-.5),new Se(.5,0),new Se(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=yr(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,d=new U,f=new Se,m=new U,g=new U,v=new U;let _=0,x=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:_=e[w+1].x-e[w].x,x=e[w+1].y-e[w].y,m.x=x*1,m.y=-_,m.z=x*0,v.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:_=e[w+1].x-e[w].x,x=e[w+1].y-e[w].y,m.x=x*1,m.y=-_,m.z=x*0,g.copy(m),m.x+=v.x,m.y+=v.y,m.z+=v.z,m.normalize(),l.push(m.x,m.y,m.z),v.copy(g)}for(let w=0;w<=t;w++){const S=r+w*u*i,E=Math.sin(S),A=Math.cos(S);for(let P=0;P<=e.length-1;P++){d.x=e[P].x*E,d.y=e[P].y,d.z=e[P].x*A,o.push(d.x,d.y,d.z),f.x=w/t,f.y=P/(e.length-1),a.push(f.x,f.y);const I=l[3*P+0]*E,T=l[3*P+1],R=l[3*P+0]*A;c.push(I,T,R)}}for(let w=0;w<t;w++)for(let S=0;S<e.length-1;S++){const E=S+w*e.length,A=E,P=E+e.length,I=E+e.length+1,T=E+1;s.push(A,P,T),s.push(I,T,P)}this.setIndex(s),this.setAttribute("position",new tt(o,3)),this.setAttribute("uv",new tt(a,2)),this.setAttribute("normal",new tt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bp(e.points,e.segments,e.phiStart,e.phiLength)}}class w0 extends bp{constructor(e=1,t=1,r=4,i=8){const s=new Mv;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new w0(e.radius,e.length,e.capSegments,e.radialSegments)}}class S0 extends Ct{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new U,u=new Se;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=t;d++,f+=3){const m=r+d/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[f]/e+1)/2,u.y=(o[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new tt(o,3)),this.setAttribute("normal",new tt(a,3)),this.setAttribute("uv",new tt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new S0(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Td extends Ct{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],d=[],f=[],m=[];let g=0;const v=[],_=r/2;let x=0;w(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(u),this.setAttribute("position",new tt(d,3)),this.setAttribute("normal",new tt(f,3)),this.setAttribute("uv",new tt(m,2));function w(){const E=new U,A=new U;let P=0;const I=(t-e)/r;for(let T=0;T<=s;T++){const R=[],O=T/s,L=O*(t-e)+e;for(let J=0;J<=i;J++){const j=J/i,V=j*l+a,K=Math.sin(V),Q=Math.cos(V);A.x=L*K,A.y=-O*r+_,A.z=L*Q,d.push(A.x,A.y,A.z),E.set(K,I,Q).normalize(),f.push(E.x,E.y,E.z),m.push(j,1-O),R.push(g++)}v.push(R)}for(let T=0;T<i;T++)for(let R=0;R<s;R++){const O=v[R][T],L=v[R+1][T],J=v[R+1][T+1],j=v[R][T+1];u.push(O,L,j),u.push(L,J,j),P+=6}c.addGroup(x,P,0),x+=P}function S(E){const A=g,P=new Se,I=new U;let T=0;const R=E===!0?e:t,O=E===!0?1:-1;for(let J=1;J<=i;J++)d.push(0,_*O,0),f.push(0,O,0),m.push(.5,.5),g++;const L=g;for(let J=0;J<=i;J++){const V=J/i*l+a,K=Math.cos(V),Q=Math.sin(V);I.x=R*Q,I.y=_*O,I.z=R*K,d.push(I.x,I.y,I.z),f.push(0,O,0),P.x=K*.5+.5,P.y=Q*.5*O+.5,m.push(P.x,P.y),g++}for(let J=0;J<i;J++){const j=A+J,V=L+J;E===!0?u.push(V,V+1,j):u.push(V+1,V,j),T+=3}c.addGroup(x,T,E===!0?1:2),x+=T}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Td(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class E0 extends Td{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new E0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class bl extends Ct{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new tt(s,3)),this.setAttribute("normal",new tt(s.slice(),3)),this.setAttribute("uv",new tt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const S=new U,E=new U,A=new U;for(let P=0;P<t.length;P+=3)m(t[P+0],S),m(t[P+1],E),m(t[P+2],A),l(S,E,A,w)}function l(w,S,E,A){const P=A+1,I=[];for(let T=0;T<=P;T++){I[T]=[];const R=w.clone().lerp(E,T/P),O=S.clone().lerp(E,T/P),L=P-T;for(let J=0;J<=L;J++)J===0&&T===P?I[T][J]=R:I[T][J]=R.clone().lerp(O,J/L)}for(let T=0;T<P;T++)for(let R=0;R<2*(P-T)-1;R++){const O=Math.floor(R/2);R%2===0?(f(I[T][O+1]),f(I[T+1][O]),f(I[T][O])):(f(I[T][O+1]),f(I[T+1][O+1]),f(I[T+1][O]))}}function c(w){const S=new U;for(let E=0;E<s.length;E+=3)S.x=s[E+0],S.y=s[E+1],S.z=s[E+2],S.normalize().multiplyScalar(w),s[E+0]=S.x,s[E+1]=S.y,s[E+2]=S.z}function u(){const w=new U;for(let S=0;S<s.length;S+=3){w.x=s[S+0],w.y=s[S+1],w.z=s[S+2];const E=_(w)/2/Math.PI+.5,A=x(w)/Math.PI+.5;o.push(E,1-A)}g(),d()}function d(){for(let w=0;w<o.length;w+=6){const S=o[w+0],E=o[w+2],A=o[w+4],P=Math.max(S,E,A),I=Math.min(S,E,A);P>.9&&I<.1&&(S<.2&&(o[w+0]+=1),E<.2&&(o[w+2]+=1),A<.2&&(o[w+4]+=1))}}function f(w){s.push(w.x,w.y,w.z)}function m(w,S){const E=w*3;S.x=e[E+0],S.y=e[E+1],S.z=e[E+2]}function g(){const w=new U,S=new U,E=new U,A=new U,P=new Se,I=new Se,T=new Se;for(let R=0,O=0;R<s.length;R+=9,O+=6){w.set(s[R+0],s[R+1],s[R+2]),S.set(s[R+3],s[R+4],s[R+5]),E.set(s[R+6],s[R+7],s[R+8]),P.set(o[O+0],o[O+1]),I.set(o[O+2],o[O+3]),T.set(o[O+4],o[O+5]),A.copy(w).add(S).add(E).divideScalar(3);const L=_(A);v(P,O+0,w,L),v(I,O+2,S,L),v(T,O+4,E,L)}}function v(w,S,E,A){A<0&&w.x===1&&(o[S]=w.x-1),E.x===0&&E.z===0&&(o[S]=A/2/Math.PI+.5)}function _(w){return Math.atan2(w.z,-w.x)}function x(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bl(e.vertices,e.indices,e.radius,e.details)}}class C0 extends bl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new C0(e.radius,e.detail)}}const N_=new U,k_=new U,sA=new U,O_=new qs;class uW extends Ct{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(ed*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},m=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:v,b:_,c:x}=O_;if(v.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),x.fromBufferAttribute(a,c[2]),O_.getNormal(sA),d[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,d[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let w=0;w<3;w++){const S=(w+1)%3,E=d[w],A=d[S],P=O_[u[w]],I=O_[u[S]],T=`${E}_${A}`,R=`${A}_${E}`;R in f&&f[R]?(sA.dot(f[R].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(I.x,I.y,I.z)),f[R]=null):T in f||(f[T]={index0:c[w],index1:c[S],normal:sA.clone()})}}for(const g in f)if(f[g]){const{index0:v,index1:_}=f[g];N_.fromBufferAttribute(a,v),k_.fromBufferAttribute(a,_),m.push(N_.x,N_.y,N_.z),m.push(k_.x,k_.y,k_.z)}this.setAttribute("position",new tt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class nd extends Mv{constructor(e){super(e),this.uuid=As(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Mv().fromJSON(i))}return this}}const Z1e={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=dW(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,f,m;if(r&&(s=iSe(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let g=t;g<i;g+=t)d=n[g],f=n[g+1],d<a&&(a=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return Tv(s,o,t,a,l,m,0),o}};function dW(n,e,t,r,i){let s,o;if(i===mSe(n,e,t,r)>0)for(s=e;s<t;s+=r)o=Oz(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=Oz(s,n[s],n[s+1],o);return o&&K1(o,o.next)&&(Rv(o),o=o.next),o}function _d(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(K1(t,t.next)||Zn(t.prev,t,t.next)===0)){if(Rv(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Tv(n,e,t,r,i,s,o){if(!n)return;!o&&s&&cSe(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?tSe(n,r,i,s):eSe(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Rv(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=nSe(_d(n),e,t),Tv(n,e,t,r,i,s,2)):o===2&&rSe(n,e,t,r,i,s):Tv(_d(n),e,t,r,i,s,1);break}}}function eSe(n){const e=n.prev,t=n,r=n.next;if(Zn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,f=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let g=r.next;for(;g!==e;){if(g.x>=u&&g.x<=f&&g.y>=d&&g.y<=m&&$h(i,a,s,l,o,c,g.x,g.y)&&Zn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function tSe(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Zn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,d=s.y,f=o.y,m=a<l?a<c?a:c:l<c?l:c,g=u<d?u<f?u:f:d<f?d:f,v=a>l?a>c?a:c:l>c?l:c,_=u>d?u>f?u:f:d>f?d:f,x=DP(m,g,e,t,r),w=DP(v,_,e,t,r);let S=n.prevZ,E=n.nextZ;for(;S&&S.z>=x&&E&&E.z<=w;){if(S.x>=m&&S.x<=v&&S.y>=g&&S.y<=_&&S!==i&&S!==o&&$h(a,u,l,d,c,f,S.x,S.y)&&Zn(S.prev,S,S.next)>=0||(S=S.prevZ,E.x>=m&&E.x<=v&&E.y>=g&&E.y<=_&&E!==i&&E!==o&&$h(a,u,l,d,c,f,E.x,E.y)&&Zn(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;S&&S.z>=x;){if(S.x>=m&&S.x<=v&&S.y>=g&&S.y<=_&&S!==i&&S!==o&&$h(a,u,l,d,c,f,S.x,S.y)&&Zn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;E&&E.z<=w;){if(E.x>=m&&E.x<=v&&E.y>=g&&E.y<=_&&E!==i&&E!==o&&$h(a,u,l,d,c,f,E.x,E.y)&&Zn(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function nSe(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!K1(i,s)&&hW(i,r,r.next,s)&&Pv(i,s)&&Pv(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),Rv(r),Rv(r.next),r=n=s),r=r.next}while(r!==n);return _d(r)}function rSe(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&hSe(o,a)){let l=fW(o,a);o=_d(o,o.next),l=_d(l,l.next),Tv(o,e,t,r,i,s,0),Tv(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function iSe(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=dW(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(dSe(c));for(i.sort(sSe),s=0;s<i.length;s++)t=oSe(i[s],t);return t}function sSe(n,e){return n.x-e.x}function oSe(n,e){const t=aSe(n,e);if(!t)return e;const r=fW(t,n);return _d(r,r.next),_d(t,t.next)}function aSe(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const f=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=s&&f>r&&(r=f,i=t.x<t.next.x?t:t.next,f===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,d;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&$h(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),Pv(t,n)&&(d<u||d===u&&(t.x>i.x||t.x===i.x&&lSe(i,t)))&&(i=t,u=d)),t=t.next;while(t!==a);return i}function lSe(n,e){return Zn(n.prev,n,e.prev)<0&&Zn(e.next,n,n.next)<0}function cSe(n,e,t,r){let i=n;do i.z===0&&(i.z=DP(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,uSe(i)}function uSe(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function DP(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function dSe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function $h(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function hSe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!fSe(n,e)&&(Pv(n,e)&&Pv(e,n)&&pSe(n,e)&&(Zn(n.prev,n,e.prev)||Zn(n,e.prev,e))||K1(n,e)&&Zn(n.prev,n,n.next)>0&&Zn(e.prev,e,e.next)>0)}function Zn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function K1(n,e){return n.x===e.x&&n.y===e.y}function hW(n,e,t,r){const i=B_(Zn(n,e,t)),s=B_(Zn(n,e,r)),o=B_(Zn(t,r,n)),a=B_(Zn(t,r,e));return!!(i!==s&&o!==a||i===0&&L_(n,t,e)||s===0&&L_(n,r,e)||o===0&&L_(t,n,r)||a===0&&L_(t,e,r))}function L_(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function B_(n){return n>0?1:n<0?-1:0}function fSe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&hW(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Pv(n,e){return Zn(n.prev,n,n.next)<0?Zn(n,e,n.next)>=0&&Zn(n,n.prev,e)>=0:Zn(n,e,n.prev)<0||Zn(n,n.next,e)<0}function pSe(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function fW(n,e){const t=new FP(n.i,n.x,n.y),r=new FP(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function Oz(n,e,t,r){const i=new FP(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Rv(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function FP(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function mSe(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class ga{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return ga.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];Lz(e),Bz(r,e);let o=e.length;t.forEach(Lz);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,Bz(r,t[l]);const a=Z1e.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function Lz(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function Bz(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class A0 extends Ct{constructor(e=new nd([new Se(.5,.5),new Se(-.5,.5),new Se(-.5,-.5),new Se(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new tt(i,3)),this.setAttribute("uv",new tt(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let f=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:gSe;let S,E=!1,A,P,I,T;x&&(S=x.getSpacedPoints(u),E=!0,f=!1,A=x.computeFrenetFrames(u,!1),P=new U,I=new U,T=new U),f||(_=0,m=0,g=0,v=0);const R=a.extractPoints(c);let O=R.shape;const L=R.holes;if(!ga.isClockWise(O)){O=O.reverse();for(let me=0,_e=L.length;me<_e;me++){const ke=L[me];ga.isClockWise(ke)&&(L[me]=ke.reverse())}}const j=ga.triangulateShape(O,L),V=O;for(let me=0,_e=L.length;me<_e;me++){const ke=L[me];O=O.concat(ke)}function K(me,_e,ke){return _e||console.error("THREE.ExtrudeGeometry: vec does not exist"),me.clone().addScaledVector(_e,ke)}const Q=O.length,te=j.length;function D(me,_e,ke){let $e,Fe,Ye;const Xe=me.x-_e.x,et=me.y-_e.y,at=ke.x-me.x,it=ke.y-me.y,G=Xe*Xe+et*et,B=Xe*it-et*at;if(Math.abs(B)>Number.EPSILON){const ae=Math.sqrt(G),Te=Math.sqrt(at*at+it*it),Ie=_e.x-et/ae,De=_e.y+Xe/ae,xe=ke.x-it/Te,ie=ke.y+at/Te,oe=((xe-Ie)*it-(ie-De)*at)/(Xe*it-et*at);$e=Ie+Xe*oe-me.x,Fe=De+et*oe-me.y;const Ne=$e*$e+Fe*Fe;if(Ne<=2)return new Se($e,Fe);Ye=Math.sqrt(Ne/2)}else{let ae=!1;Xe>Number.EPSILON?at>Number.EPSILON&&(ae=!0):Xe<-Number.EPSILON?at<-Number.EPSILON&&(ae=!0):Math.sign(et)===Math.sign(it)&&(ae=!0),ae?($e=-et,Fe=Xe,Ye=Math.sqrt(G)):($e=Xe,Fe=et,Ye=Math.sqrt(G/2))}return new Se($e/Ye,Fe/Ye)}const $=[];for(let me=0,_e=V.length,ke=_e-1,$e=me+1;me<_e;me++,ke++,$e++)ke===_e&&(ke=0),$e===_e&&($e=0),$[me]=D(V[me],V[ke],V[$e]);const X=[];let ue,Y=$.concat();for(let me=0,_e=L.length;me<_e;me++){const ke=L[me];ue=[];for(let $e=0,Fe=ke.length,Ye=Fe-1,Xe=$e+1;$e<Fe;$e++,Ye++,Xe++)Ye===Fe&&(Ye=0),Xe===Fe&&(Xe=0),ue[$e]=D(ke[$e],ke[Ye],ke[Xe]);X.push(ue),Y=Y.concat(ue)}for(let me=0;me<_;me++){const _e=me/_,ke=m*Math.cos(_e*Math.PI/2),$e=g*Math.sin(_e*Math.PI/2)+v;for(let Fe=0,Ye=V.length;Fe<Ye;Fe++){const Xe=K(V[Fe],$[Fe],$e);Ee(Xe.x,Xe.y,-ke)}for(let Fe=0,Ye=L.length;Fe<Ye;Fe++){const Xe=L[Fe];ue=X[Fe];for(let et=0,at=Xe.length;et<at;et++){const it=K(Xe[et],ue[et],$e);Ee(it.x,it.y,-ke)}}}const pe=g+v;for(let me=0;me<Q;me++){const _e=f?K(O[me],Y[me],pe):O[me];E?(I.copy(A.normals[0]).multiplyScalar(_e.x),P.copy(A.binormals[0]).multiplyScalar(_e.y),T.copy(S[0]).add(I).add(P),Ee(T.x,T.y,T.z)):Ee(_e.x,_e.y,0)}for(let me=1;me<=u;me++)for(let _e=0;_e<Q;_e++){const ke=f?K(O[_e],Y[_e],pe):O[_e];E?(I.copy(A.normals[me]).multiplyScalar(ke.x),P.copy(A.binormals[me]).multiplyScalar(ke.y),T.copy(S[me]).add(I).add(P),Ee(T.x,T.y,T.z)):Ee(ke.x,ke.y,d/u*me)}for(let me=_-1;me>=0;me--){const _e=me/_,ke=m*Math.cos(_e*Math.PI/2),$e=g*Math.sin(_e*Math.PI/2)+v;for(let Fe=0,Ye=V.length;Fe<Ye;Fe++){const Xe=K(V[Fe],$[Fe],$e);Ee(Xe.x,Xe.y,d+ke)}for(let Fe=0,Ye=L.length;Fe<Ye;Fe++){const Xe=L[Fe];ue=X[Fe];for(let et=0,at=Xe.length;et<at;et++){const it=K(Xe[et],ue[et],$e);E?Ee(it.x,it.y+S[u-1].y,S[u-1].x+ke):Ee(it.x,it.y,d+ke)}}}ye(),ne();function ye(){const me=i.length/3;if(f){let _e=0,ke=Q*_e;for(let $e=0;$e<te;$e++){const Fe=j[$e];Re(Fe[2]+ke,Fe[1]+ke,Fe[0]+ke)}_e=u+_*2,ke=Q*_e;for(let $e=0;$e<te;$e++){const Fe=j[$e];Re(Fe[0]+ke,Fe[1]+ke,Fe[2]+ke)}}else{for(let _e=0;_e<te;_e++){const ke=j[_e];Re(ke[2],ke[1],ke[0])}for(let _e=0;_e<te;_e++){const ke=j[_e];Re(ke[0]+Q*u,ke[1]+Q*u,ke[2]+Q*u)}}r.addGroup(me,i.length/3-me,0)}function ne(){const me=i.length/3;let _e=0;fe(V,_e),_e+=V.length;for(let ke=0,$e=L.length;ke<$e;ke++){const Fe=L[ke];fe(Fe,_e),_e+=Fe.length}r.addGroup(me,i.length/3-me,1)}function fe(me,_e){let ke=me.length;for(;--ke>=0;){const $e=ke;let Fe=ke-1;Fe<0&&(Fe=me.length-1);for(let Ye=0,Xe=u+_*2;Ye<Xe;Ye++){const et=Q*Ye,at=Q*(Ye+1),it=_e+$e+et,G=_e+Fe+et,B=_e+Fe+at,ae=_e+$e+at;Me(it,G,B,ae)}}}function Ee(me,_e,ke){l.push(me),l.push(_e),l.push(ke)}function Re(me,_e,ke){Ue(me),Ue(_e),Ue(ke);const $e=i.length/3,Fe=w.generateTopUV(r,i,$e-3,$e-2,$e-1);Ge(Fe[0]),Ge(Fe[1]),Ge(Fe[2])}function Me(me,_e,ke,$e){Ue(me),Ue(_e),Ue($e),Ue(_e),Ue(ke),Ue($e);const Fe=i.length/3,Ye=w.generateSideWallUV(r,i,Fe-6,Fe-3,Fe-2,Fe-1);Ge(Ye[0]),Ge(Ye[1]),Ge(Ye[3]),Ge(Ye[1]),Ge(Ye[2]),Ge(Ye[3])}function Ue(me){i.push(l[me*3+0]),i.push(l[me*3+1]),i.push(l[me*3+2])}function Ge(me){s.push(me.x),s.push(me.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return vSe(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new LN[i.type]().fromJSON(i)),new A0(r,e.options)}}const gSe={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Se(s,o),new Se(a,l),new Se(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],f=e[i*3],m=e[i*3+1],g=e[i*3+2],v=e[s*3],_=e[s*3+1],x=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Se(o,1-l),new Se(c,1-d),new Se(f,1-g),new Se(v,1-x)]:[new Se(a,1-l),new Se(u,1-d),new Se(m,1-g),new Se(_,1-x)]}};function vSe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class wp extends bl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new wp(e.radius,e.detail)}}class Sp extends bl{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Sp(e.radius,e.detail)}}class M0 extends Ct{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let d=e;const f=(t-e)/i,m=new U,g=new Se;for(let v=0;v<=i;v++){for(let _=0;_<=r;_++){const x=s+_/r*o;m.x=d*Math.cos(x),m.y=d*Math.sin(x),l.push(m.x,m.y,m.z),c.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,u.push(g.x,g.y)}d+=f}for(let v=0;v<i;v++){const _=v*(r+1);for(let x=0;x<r;x++){const w=x+_,S=w,E=w+r+1,A=w+r+2,P=w+1;a.push(S,E,P),a.push(E,A,P)}}this.setIndex(a),this.setAttribute("position",new tt(l,3)),this.setAttribute("normal",new tt(c,3)),this.setAttribute("uv",new tt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new M0(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class T0 extends Ct{constructor(e=new nd([new Se(0,.5),new Se(-.5,-.5),new Se(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new tt(i,3)),this.setAttribute("normal",new tt(s,3)),this.setAttribute("uv",new tt(o,2));function c(u){const d=i.length/3,f=u.extractPoints(t);let m=f.shape;const g=f.holes;ga.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,x=g.length;_<x;_++){const w=g[_];ga.isClockWise(w)===!0&&(g[_]=w.reverse())}const v=ga.triangulateShape(m,g);for(let _=0,x=g.length;_<x;_++){const w=g[_];m=m.concat(w)}for(let _=0,x=m.length;_<x;_++){const w=m[_];i.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let _=0,x=v.length;_<x;_++){const w=v[_],S=w[0]+d,E=w[1]+d,A=w[2]+d;r.push(S,E,A),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return ySe(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new T0(r,e.curveSegments)}}function ySe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Ep extends Ct{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new U,f=new U,m=[],g=[],v=[],_=[];for(let x=0;x<=r;x++){const w=[],S=x/r;let E=0;x==0&&o==0?E=.5/t:x==r&&l==Math.PI&&(E=-.5/t);for(let A=0;A<=t;A++){const P=A/t;d.x=-e*Math.cos(i+P*s)*Math.sin(o+S*a),d.y=e*Math.cos(o+S*a),d.z=e*Math.sin(i+P*s)*Math.sin(o+S*a),g.push(d.x,d.y,d.z),f.copy(d).normalize(),v.push(f.x,f.y,f.z),_.push(P+E,1-S),w.push(c++)}u.push(w)}for(let x=0;x<r;x++)for(let w=0;w<t;w++){const S=u[x][w+1],E=u[x][w],A=u[x+1][w],P=u[x+1][w+1];(x!==0||o>0)&&m.push(S,E,P),(x!==r-1||l<Math.PI)&&m.push(E,A,P)}this.setIndex(m),this.setAttribute("position",new tt(g,3)),this.setAttribute("normal",new tt(v,3)),this.setAttribute("uv",new tt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ep(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class P0 extends bl{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new P0(e.radius,e.detail)}}class R0 extends Ct{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new U,d=new U,f=new U;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const v=g/i*s,_=m/r*Math.PI*2;d.x=(e+t*Math.cos(_))*Math.cos(v),d.y=(e+t*Math.cos(_))*Math.sin(v),d.z=t*Math.sin(_),a.push(d.x,d.y,d.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(g/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const v=(i+1)*m+g-1,_=(i+1)*(m-1)+g-1,x=(i+1)*(m-1)+g,w=(i+1)*m+g;o.push(v,_,w),o.push(_,x,w)}this.setIndex(o),this.setAttribute("position",new tt(a,3)),this.setAttribute("normal",new tt(l,3)),this.setAttribute("uv",new tt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new R0(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class I0 extends Ct{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],d=new U,f=new U,m=new U,g=new U,v=new U,_=new U,x=new U;for(let S=0;S<=r;++S){const E=S/r*s*Math.PI*2;w(E,s,o,e,m),w(E+.01,s,o,e,g),_.subVectors(g,m),x.addVectors(g,m),v.crossVectors(_,x),x.crossVectors(v,_),v.normalize(),x.normalize();for(let A=0;A<=i;++A){const P=A/i*Math.PI*2,I=-t*Math.cos(P),T=t*Math.sin(P);d.x=m.x+(I*x.x+T*v.x),d.y=m.y+(I*x.y+T*v.y),d.z=m.z+(I*x.z+T*v.z),l.push(d.x,d.y,d.z),f.subVectors(d,m).normalize(),c.push(f.x,f.y,f.z),u.push(S/r),u.push(A/i)}}for(let S=1;S<=r;S++)for(let E=1;E<=i;E++){const A=(i+1)*(S-1)+(E-1),P=(i+1)*S+(E-1),I=(i+1)*S+E,T=(i+1)*(S-1)+E;a.push(A,P,T),a.push(P,I,T)}this.setIndex(a),this.setAttribute("position",new tt(l,3)),this.setAttribute("normal",new tt(c,3)),this.setAttribute("uv",new tt(u,2));function w(S,E,A,P,I){const T=Math.cos(S),R=Math.sin(S),O=A/E*S,L=Math.cos(O);I.x=P*(2+L)*.5*T,I.y=P*(2+L)*R*.5,I.z=P*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new I0(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class N0 extends Ct{constructor(e=new kN(new U(-1,-1,0),new U(-1,1,0),new U(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new U,l=new U,c=new Se;let u=new U;const d=[],f=[],m=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new tt(d,3)),this.setAttribute("normal",new tt(f,3)),this.setAttribute("uv",new tt(m,2));function v(){for(let S=0;S<t;S++)_(S);_(s===!1?t:0),w(),x()}function _(S){u=e.getPointAt(S/t,u);const E=o.normals[S],A=o.binormals[S];for(let P=0;P<=i;P++){const I=P/i*Math.PI*2,T=Math.sin(I),R=-Math.cos(I);l.x=R*E.x+T*A.x,l.y=R*E.y+T*A.y,l.z=R*E.z+T*A.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,d.push(a.x,a.y,a.z)}}function x(){for(let S=1;S<=t;S++)for(let E=1;E<=i;E++){const A=(i+1)*(S-1)+(E-1),P=(i+1)*S+(E-1),I=(i+1)*S+E,T=(i+1)*(S-1)+E;g.push(A,P,T),g.push(P,I,T)}}function w(){for(let S=0;S<=t;S++)for(let E=0;E<=i;E++)c.x=S/t,c.y=E/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new N0(new LN[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class pW extends Ct{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new U,s=new U;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,m=d.count;for(let g=f,v=f+m;g<v;g+=3)for(let _=0;_<3;_++){const x=a.getX(g+_),w=a.getX(g+(_+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,w),Dz(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),Dz(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new tt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Dz(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var Fz=Object.freeze({__proto__:null,BoxGeometry:Xc,CapsuleGeometry:w0,CircleGeometry:S0,ConeGeometry:E0,CylinderGeometry:Td,DodecahedronGeometry:C0,EdgesGeometry:uW,ExtrudeGeometry:A0,IcosahedronGeometry:wp,LatheGeometry:bp,OctahedronGeometry:Sp,PlaneGeometry:_p,PolyhedronGeometry:bl,RingGeometry:M0,ShapeGeometry:T0,SphereGeometry:Ep,TetrahedronGeometry:P0,TorusGeometry:R0,TorusKnotGeometry:I0,TubeGeometry:N0,WireframeGeometry:pW});class mW extends Mr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new He(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class gW extends Do{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Cp extends Mr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new He(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xl,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wl extends Cp{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Se(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return yr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new He(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new He(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new He(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class vW extends Mr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new He(16777215),this.specular=new He(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xl,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=m0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class yW extends Mr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new He(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xl,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class _W extends Mr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xl,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class xW extends Mr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xl,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=m0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bW extends Mr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new He(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xl,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wW extends Ii{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function js(n,e,t){return BN(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Wu(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function BN(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function SW(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function zP(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function DN(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function _Se(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],f=[];for(let m=0;m<c.times.length;++m){const g=c.times[m]*i;if(!(g<t||g>=r)){d.push(c.times[m]);for(let v=0;v<u;++v)f.push(c.values[m*u+v])}}d.length!==0&&(c.times=Wu(d,c.times.constructor),c.values=Wu(f,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function xSe(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=m/3);const g=a.times.length-1;let v;if(s<=a.times[0]){const x=u,w=d-u;v=js(a.values,x,w)}else if(s>=a.times[g]){const x=g*d+u,w=x+d-u;v=js(a.values,x,w)}else{const x=a.createInterpolant(),w=u,S=d-u;x.evaluate(s),v=js(x.resultBuffer,w,S)}l==="quaternion"&&new li().fromArray(v).normalize().conjugate().toArray(v);const _=c.times.length;for(let x=0;x<_;++x){const w=x*m+f;if(l==="quaternion")li.multiplyQuaternionsFlat(c.values,w,v,0,c.values,w);else{const S=m-f*2;for(let E=0;E<S;++E)c.values[w+E]-=v[E]}}}return n.blendMode=fN,n}const bSe={arraySlice:js,convertArray:Wu,isTypedArray:BN,getKeyframeOrder:SW,sortedArray:zP,flattenJSON:DN,subclip:_Se,makeClipAdditive:xSe};class Ap{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class EW extends Ap{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Gu,endingEnd:Gu}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Hu:s=e,a=2*t-r;break;case Sv:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Hu:o=e,l=2*r-t;break;case Sv:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,m=this._weightNext,g=(r-t)/(i-t),v=g*g,_=v*g,x=-f*_+2*f*v-f*g,w=(1+f)*_+(-1.5-2*f)*v+(-.5+f)*g+1,S=(-1-m)*_+(1.5+m)*v+.5*g,E=m*_-m*v;for(let A=0;A!==a;++A)s[A]=x*o[u+A]+w*o[c+A]+S*o[l+A]+E*o[d+A];return s}}class FN extends Ap{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),d=1-u;for(let f=0;f!==a;++f)s[f]=o[c+f]*d+o[l+f]*u;return s}}class CW extends Ap{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ho{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Wu(t,this.TimeBufferType),this.values=Wu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Wu(e.times,Array),values:Wu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new CW(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new FN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new EW(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case jf:t=this.InterpolantFactoryMethodDiscrete;break;case yd:t=this.InterpolantFactoryMethodLinear;break;case Ex:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return jf;case this.InterpolantFactoryMethodLinear:return yd;case this.InterpolantFactoryMethodSmooth:return Ex}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=js(r,s,o),this.values=js(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&BN(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=js(this.times),t=js(this.values),r=this.getValueSize(),i=this.getInterpolation()===Ex,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*r,f=d-r,m=d+r;for(let g=0;g!==r;++g){const v=t[d+g];if(v!==t[f+g]||v!==t[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,f=o*r;for(let m=0;m!==r;++m)t[f+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=js(e,0,o),this.values=js(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=js(this.times,0),t=js(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Ho.prototype.TimeBufferType=Float32Array;Ho.prototype.ValueBufferType=Float32Array;Ho.prototype.DefaultInterpolation=yd;class Pd extends Ho{}Pd.prototype.ValueTypeName="bool";Pd.prototype.ValueBufferType=Array;Pd.prototype.DefaultInterpolation=jf;Pd.prototype.InterpolantFactoryMethodLinear=void 0;Pd.prototype.InterpolantFactoryMethodSmooth=void 0;class zN extends Ho{}zN.prototype.ValueTypeName="color";class Xf extends Ho{}Xf.prototype.ValueTypeName="number";class AW extends Ap{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)li.slerpFlat(s,0,o,c-a,o,c,l);return s}}class zc extends Ho{InterpolantFactoryMethodLinear(e){return new AW(this.times,this.values,this.getValueSize(),e)}}zc.prototype.ValueTypeName="quaternion";zc.prototype.DefaultInterpolation=yd;zc.prototype.InterpolantFactoryMethodSmooth=void 0;class Rd extends Ho{}Rd.prototype.ValueTypeName="string";Rd.prototype.ValueBufferType=Array;Rd.prototype.DefaultInterpolation=jf;Rd.prototype.InterpolantFactoryMethodLinear=void 0;Rd.prototype.InterpolantFactoryMethodSmooth=void 0;class Yf extends Ho{}Yf.prototype.ValueTypeName="vector";class qf{constructor(e,t=-1,r,i=B1){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=As(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(SSe(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Ho.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=SW(l);l=zP(l,1,u),c=zP(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Xf(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let f=i[d];f||(i[d]=f=[]),f.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,f,m,g,v){if(m.length!==0){const _=[],x=[];DN(m,_,x,g),_.length!==0&&v.push(new d(f,_,x))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const m={};let g;for(g=0;g<f.length;g++)if(f[g].morphTargets)for(let v=0;v<f[g].morphTargets.length;v++)m[f[g].morphTargets[v]]=-1;for(const v in m){const _=[],x=[];for(let w=0;w!==f[g].morphTargets.length;++w){const S=f[g];_.push(S.time),x.push(S.morphTarget===v?1:0)}i.push(new Xf(".morphTargetInfluence["+v+"]",_,x))}l=m.length*o}else{const m=".bones["+t[d].name+"]";r(Yf,m+".position",f,"pos",i),r(zc,m+".quaternion",f,"rot",i),r(Yf,m+".scale",f,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function wSe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Xf;case"vector":case"vector2":case"vector3":case"vector4":return Yf;case"color":return zN;case"quaternion":return zc;case"bool":case"boolean":return Pd;case"string":return Rd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function SSe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=wSe(n.type);if(n.times===void 0){const t=[],r=[];DN(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const xd={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class UN{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const m=c[d],g=c[d+1];if(m.global&&(m.lastIndex=0),m.test(u))return g}return null}}}const MW=new UN;class ji{constructor(e){this.manager=e!==void 0?e:MW,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Ha={};class ESe extends Error{constructor(e,t){super(e),this.response=t}}class Is extends ji{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=xd.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ha[e]!==void 0){Ha[e].push({onLoad:t,onProgress:r,onError:i});return}Ha[e]=[],Ha[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Ha[e],d=c.body.getReader(),f=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=f?parseInt(f):0,g=m!==0;let v=0;const _=new ReadableStream({start(x){w();function w(){d.read().then(({done:S,value:E})=>{if(S)x.close();else{v+=E.byteLength;const A=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:m});for(let P=0,I=u.length;P<I;P++){const T=u[P];T.onProgress&&T.onProgress(A)}x.enqueue(E),w()}})}}});return new Response(_)}else throw new ESe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),f=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(f);return c.arrayBuffer().then(g=>m.decode(g))}}}).then(c=>{xd.add(e,c);const u=Ha[e];delete Ha[e];for(let d=0,f=u.length;d<f;d++){const m=u[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=Ha[e];if(u===void 0)throw this.manager.itemError(e),c;delete Ha[e];for(let d=0,f=u.length;d<f;d++){const m=u[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class CSe extends ji{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Is(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=qf.parse(e[r]);t.push(i)}return t}}class ASe extends ji{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new PN,l=new Is(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const m=s.parse(f,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=Ln),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=s.parse(d,!0);if(f.isCubemap){const m=f.mipmaps.length/f.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let v=0;v<f.mipmapCount;v++)o[g].mipmaps.push(f.mipmaps[g*f.mipmapCount+v]),o[g].format=f.format,o[g].width=f.width,o[g].height=f.height}a.image=o}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;f.mipmapCount===1&&(a.minFilter=Ln),a.format=f.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Iv extends ji{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=xd.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Av("img");function l(){u(),xd.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){u(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class TW extends ji{constructor(e){super(e)}load(e,t,r,i){const s=new _0,o=new Iv(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class PW extends ji{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new df,a=new Is(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:si,o.wrapT=c.wrapT!==void 0?c.wrapT:si,o.magFilter=c.magFilter!==void 0?c.magFilter:Ln,o.minFilter=c.minFilter!==void 0?c.minFilter:Ln,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ea),c.mipmapCount===1&&(o.minFilter=Ln),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class RW extends ji{constructor(e){super(e)}load(e,t,r,i){const s=new Jn,o=new Iv(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class Yc extends qt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new He(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class IW extends Yc{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(qt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new He(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const oA=new gt,zz=new U,Uz=new U;class GN{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Se(512,512),this.map=null,this.mapPass=null,this.matrix=new gt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new F1,this._frameExtents=new Se(1,1),this._viewportCount=1,this._viewports=[new mn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;zz.setFromMatrixPosition(e.matrixWorld),t.position.copy(zz),Uz.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Uz),t.updateMatrixWorld(),oA.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(oA),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(oA)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class MSe extends GN{constructor(){super(new Bn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Cv*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class HN extends Yc{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(qt.DEFAULT_UP),this.updateMatrix(),this.target=new qt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new MSe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Gz=new gt,Nm=new U,aA=new U;class TSe extends GN{constructor(){super(new Bn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Se(4,2),this._viewportCount=6,this._viewports=[new mn(2,1,1,1),new mn(0,1,1,1),new mn(3,1,1,1),new mn(1,1,1,1),new mn(3,0,1,1),new mn(1,0,1,1)],this._cubeDirections=[new U(1,0,0),new U(-1,0,0),new U(0,0,1),new U(0,0,-1),new U(0,1,0),new U(0,-1,0)],this._cubeUps=[new U(0,1,0),new U(0,1,0),new U(0,1,0),new U(0,1,0),new U(0,0,1),new U(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Nm.setFromMatrixPosition(e.matrixWorld),r.position.copy(Nm),aA.copy(r.position),aA.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(aA),r.updateMatrixWorld(),i.makeTranslation(-Nm.x,-Nm.y,-Nm.z),Gz.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Gz)}}class VN extends Yc{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new TSe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class PSe extends GN{constructor(){super(new al(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class WN extends Yc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(qt.DEFAULT_UP),this.updateMatrix(),this.target=new qt,this.shadow=new PSe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class NW extends Yc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class kW extends Yc{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class OW{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new U)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class X1 extends Yc{constructor(e=new OW,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Y1 extends ji{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Is(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=Y1.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new He().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new He().setHex(o.value);break;case"v2":i.uniforms[s].value=new Se().fromArray(o.value);break;case"v3":i.uniforms[s].value=new U().fromArray(o.value);break;case"v4":i.uniforms[s].value=new mn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new oi().fromArray(o.value);break;case"m4":i.uniforms[s].value=new gt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Se().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Se().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:mW,SpriteMaterial:CN,RawShaderMaterial:gW,ShaderMaterial:Do,PointsMaterial:j1,MeshPhysicalMaterial:wl,MeshStandardMaterial:Cp,MeshPhongMaterial:vW,MeshToonMaterial:yW,MeshNormalMaterial:_W,MeshLambertMaterial:xW,MeshDepthMaterial:SN,MeshDistanceMaterial:EN,MeshBasicMaterial:Ss,MeshMatcapMaterial:bW,LineDashedMaterial:wW,LineBasicMaterial:Ii,Material:Mr};return new t[e]}}class va{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class LW extends Ct{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class BW extends ji{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Is(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,g){if(t[g]!==void 0)return t[g];const _=m.interleavedBuffers[g],x=s(m,_.buffer),w=Wh(_.type,x),S=new x0(w,_.stride);return S.uuid=_.uuid,t[g]=S,S}function s(m,g){if(r[g]!==void 0)return r[g];const _=m.arrayBuffers[g],x=new Uint32Array(_).buffer;return r[g]=x,x}const o=e.isInstancedBufferGeometry?new LW:new Ct,a=e.data.index;if(a!==void 0){const m=Wh(a.type,a.array);o.setIndex(new cn(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let v;if(g.isInterleavedBufferAttribute){const _=i(e.data,g.data);v=new Fc(_,g.itemSize,g.offset,g.normalized)}else{const _=Wh(g.type,g.array),x=g.isInstancedBufferAttribute?Kf:cn;v=new x(_,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(m,v)}const c=e.data.morphAttributes;if(c)for(const m in c){const g=c[m],v=[];for(let _=0,x=g.length;_<x;_++){const w=g[_];let S;if(w.isInterleavedBufferAttribute){const E=i(e.data,w.data);S=new Fc(E,w.itemSize,w.offset,w.normalized)}else{const E=Wh(w.type,w.array);S=new cn(E,w.itemSize,w.normalized)}w.name!==void 0&&(S.name=w.name),v.push(S)}o.morphAttributes[m]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,g=d.length;m!==g;++m){const v=d[m];o.addGroup(v.start,v.count,v.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const m=new U;f.center!==void 0&&m.fromArray(f.center),o.boundingSphere=new Kc(m,f.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class RSe extends ji{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?va.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Is(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?va.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Is(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let d=!1;for(const f in o)if(o[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new nd().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new b0().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new BW;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in Fz?a=Fz[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new Y1;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=qf.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:Wh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new UN(t);s=new Iv(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const m=[];for(let g=0,v=f.length;g<v;g++){const _=f[g],x=a(_);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new df(x.data,x.width,x.height)))}i[d.uuid]=new Vu(m)}else{const m=a(d.url);i[d.uuid]=new Vu(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Wh(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Iv(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const m=c[d],g=await s(m);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new df(g.data,g.width,g.height)))}r[l.uuid]=new Vu(u)}else{const u=await s(l.url);r[l.uuid]=new Vu(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new _0,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new df:u=new Jn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,ISe)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],Hz),u.wrapT=r(a.wrap[1],Hz)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,Vz)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,Vz)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(f){return t[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),t[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const m=[];for(let g=0,v=f.length;g<v;g++){const _=f[g];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(r[_])}return m}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let u,d;switch(e.type){case"Scene":o=new V1,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new He(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new H1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new G1(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Bn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new al(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new NW(e.color,e.intensity);break;case"DirectionalLight":o=new WN(e.color,e.intensity);break;case"PointLight":o=new VN(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new kW(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new HN(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new IW(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new X1().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new AN(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new Or(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const f=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new iW(u,d,f),o.instanceMatrix=new Kf(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new Kf(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new rW;break;case"Line":o=new vl(a(e.geometry),l(e.material));break;case"LineLoop":o=new MN(a(e.geometry),l(e.material));break;case"LineSegments":o=new Uo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new TN(a(e.geometry),l(e.material));break;case"Sprite":o=new nW(l(e.material));break;case"Group":o=new Za;break;case"Bone":o=new W1;break;default:o=new qt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let m=0;m<f.length;m++)o.add(this.parseObject(f[m],t,r,i,s))}if(e.animations!==void 0){const f=e.animations;for(let m=0;m<f.length;m++){const g=f[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const f=e.levels;for(let m=0;m<f.length;m++){const g=f[m],v=o.getObjectByProperty("uuid",g.object);v!==void 0&&o.addLevel(v,g.distance,g.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const ISe={UVMapping:O1,CubeReflectionMapping:ml,CubeRefractionMapping:Bc,EquirectangularReflectionMapping:Vf,EquirectangularRefractionMapping:bv,CubeUVReflectionMapping:yp},Hz={RepeatWrapping:Dc,ClampToEdgeWrapping:si,MirroredRepeatWrapping:Wf},Vz={NearestFilter:dr,NearestMipmapNearestFilter:wv,NearestMipmapLinearFilter:cf,LinearFilter:Ln,LinearMipmapNearestFilter:L1,LinearMipmapLinearFilter:Ea};class DW extends ji{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=xd.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){xd.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let D_;class jN{static getContext(){return D_===void 0&&(D_=new(window.AudioContext||window.webkitAudioContext)),D_}static setContext(e){D_=e}}class NSe extends ji{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Is(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);jN.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class kSe extends X1{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new He().set(e),s=new He().set(t),o=new U(i.r,i.g,i.b),a=new U(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class OSe extends X1{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new He().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const Wz=new gt,jz=new gt,fu=new gt;class LSe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Bn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Bn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,fu.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(ed*t.fov*.5)/t.zoom;let a,l;jz.elements[12]=-i,Wz.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,fu.elements[0]=2*t.near/(l-a),fu.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(fu),a=-o*t.aspect-s,l=o*t.aspect-s,fu.elements[0]=2*t.near/(l-a),fu.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(fu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(jz),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Wz)}}class $N{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=$z(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=$z();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function $z(){return(typeof performance>"u"?Date:performance).now()}const pu=new U,Jz=new li,BSe=new U,mu=new U;class DSe extends qt{constructor(){super(),this.type="AudioListener",this.context=jN.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new $N}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(pu,Jz,BSe),mu.set(0,0,-1).applyQuaternion(Jz),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(pu.x,i),t.positionY.linearRampToValueAtTime(pu.y,i),t.positionZ.linearRampToValueAtTime(pu.z,i),t.forwardX.linearRampToValueAtTime(mu.x,i),t.forwardY.linearRampToValueAtTime(mu.y,i),t.forwardZ.linearRampToValueAtTime(mu.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(pu.x,pu.y,pu.z),t.setOrientation(mu.x,mu.y,mu.z,r.x,r.y,r.z)}}let FW=class extends qt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const gu=new U,Kz=new li,FSe=new U,vu=new U;class zSe extends FW{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(gu,Kz,FSe),vu.set(0,0,1).applyQuaternion(Kz);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(gu.x,r),t.positionY.linearRampToValueAtTime(gu.y,r),t.positionZ.linearRampToValueAtTime(gu.z,r),t.orientationX.linearRampToValueAtTime(vu.x,r),t.orientationY.linearRampToValueAtTime(vu.y,r),t.orientationZ.linearRampToValueAtTime(vu.z,r)}else t.setPosition(gu.x,gu.y,gu.z),t.setOrientation(vu.x,vu.y,vu.z)}}class USe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class zW{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){li.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;li.multiplyQuaternionsFlat(e,o,e,t,e,r),li.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const JN="\\[\\]\\.:\\/",GSe=new RegExp("["+JN+"]","g"),KN="[^"+JN+"]",HSe="[^"+JN.replace("\\.","")+"]",VSe=/((?:WC+[\/:])*)/.source.replace("WC",KN),WSe=/(WCOD+)?/.source.replace("WCOD",HSe),jSe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",KN),$Se=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",KN),JSe=new RegExp("^"+VSe+WSe+jSe+$Se+"$"),KSe=["material","materials","bones","map"];class XSe{constructor(e,t,r){const i=r||Yt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Yt{constructor(e,t,r){this.path=t,this.parsedPath=r||Yt.parseTrackName(t),this.node=Yt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Yt.Composite(e,t,r):new Yt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(GSe,"")}static parseTrackName(e){const t=JSe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);KSe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Yt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Yt.Composite=XSe;Yt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Yt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Yt.prototype.GetterByBindingType=[Yt.prototype._getValue_direct,Yt.prototype._getValue_array,Yt.prototype._getValue_arrayElement,Yt.prototype._getValue_toArray];Yt.prototype.SetterByBindingTypeAndVersioning=[[Yt.prototype._setValue_direct,Yt.prototype._setValue_direct_setNeedsUpdate,Yt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Yt.prototype._setValue_array,Yt.prototype._setValue_array_setNeedsUpdate,Yt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Yt.prototype._setValue_arrayElement,Yt.prototype._setValue_arrayElement_setNeedsUpdate,Yt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Yt.prototype._setValue_fromArray,Yt.prototype._setValue_fromArray_setNeedsUpdate,Yt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class YSe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=As(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const f=arguments[u],m=f.uuid;let g=t[m];if(g===void 0){g=l++,t[m]=g,e.push(f);for(let v=0,_=o;v!==_;++v)s[v].push(new Yt(f,r[v],i[v]))}else if(g<c){a=e[g];const v=--c,_=e[v];t[_.uuid]=g,e[g]=_,t[m]=v,e[v]=f;for(let x=0,w=o;x!==w;++x){const S=s[x],E=S[v];let A=S[g];S[g]=E,A===void 0&&(A=new Yt(f,r[x],i[x])),S[v]=A}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const d=s++,f=e[d];t[f.uuid]=u,e[u]=f,t[c]=d,e[d]=l;for(let m=0,g=i;m!==g;++m){const v=r[m],_=v[d],x=v[u];v[u]=_,v[d]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=t[u];if(d!==void 0)if(delete t[u],d<s){const f=--s,m=e[f],g=--o,v=e[g];t[m.uuid]=d,e[d]=m,t[v.uuid]=f,e[f]=v,e.pop();for(let _=0,x=i;_!==x;++_){const w=r[_],S=w[f],E=w[g];w[d]=S,w[f]=E,w.pop()}}else{const f=--o,m=e[f];f>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let g=0,v=i;g!==v;++g){const _=r[g];_[d]=_[f],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(d);for(let f=u,m=l.length;f!==m;++f){const g=l[f];d[f]=new Yt(g,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class qSe{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Gu,endingEnd:Gu};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=I9,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case fN:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case B1:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===N9;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===R9){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Hu,i.endingEnd=Hu):(e?i.endingStart=this.zeroSlopeAtStart?Hu:Gu:i.endingStart=Sv,t?i.endingEnd=this.zeroSlopeAtEnd?Hu:Gu:i.endingEnd=Sv)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const QSe=new Float32Array(1);class UW extends Ca{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const f=i[d],m=f.name;let g=u[m];if(g!==void 0)++g.referenceCount,o[d]=g;else{if(g=o[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const v=t&&t._propertyBindings[d].binding.parsedPath;g=new zW(Yt.create(r,m,v),f.ValueTypeName,f.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new FN(new Float32Array(2),new Float32Array(2),1,QSe),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?qf.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=B1),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new qSe(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?qf.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class XN{constructor(e){this.value=e}clone(){return new XN(this.value.clone===void 0?this.value:this.value.clone())}}let ZSe=0;class eEe extends Ca{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:ZSe++}),this.name="",this.usage=Ev,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class tEe extends x0{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class nEe{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class YN{constructor(e,t,r=0,i=1/0){this.ray=new g0(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new td,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return UP(e,this,r,t),r.sort(Xz),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)UP(e[i],this,r,t);return r.sort(Xz),r}}function Xz(n,e){return n.distance-e.distance}function UP(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)UP(i[s],e,t,!0)}}class GP{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(yr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class rEe{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const Yz=new Se;class iEe{constructor(e=new Se(1/0,1/0),t=new Se(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Yz.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Yz).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const qz=new U,F_=new U;class sEe{constructor(e=new U,t=new U){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){qz.subVectors(e,this.start),F_.subVectors(this.end,this.start);const r=F_.dot(F_);let s=F_.dot(qz)/r;return t&&(s=yr(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Qz=new U;class oEe extends qt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Ct,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new tt(i,3));const s=new Ii({fog:!1,toneMapped:!1});this.cone=new Uo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Qz.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Qz),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Fl=new U,z_=new gt,lA=new gt;class aEe extends Uo{constructor(e){const t=GW(e),r=new Ct,i=[],s=[],o=new He(0,0,1),a=new He(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new tt(i,3)),r.setAttribute("color",new tt(s,3));const l=new Ii({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");lA.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(z_.multiplyMatrices(lA,a.matrixWorld),Fl.setFromMatrixPosition(z_),i.setXYZ(o,Fl.x,Fl.y,Fl.z),z_.multiplyMatrices(lA,a.parent.matrixWorld),Fl.setFromMatrixPosition(z_),i.setXYZ(o+1,Fl.x,Fl.y,Fl.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function GW(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,GW(n.children[t]));return e}class lEe extends Or{constructor(e,t,r){const i=new Ep(t,4,2),s=new Ss({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const cEe=new U,Zz=new He,e4=new He;class uEe extends qt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Sp(t);i.rotateY(Math.PI*.5),this.material=new Ss({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new cn(o,3)),this.add(new Or(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Zz.copy(this.light.color),e4.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?Zz:e4;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(cEe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class dEe extends Uo{constructor(e=10,t=10,r=4473924,i=8947848){r=new He(r),i=new He(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let f=0,m=0,g=-a;f<=t;f++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=f===s?r:i;v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3}const u=new Ct;u.setAttribute("position",new tt(l,3)),u.setAttribute("color",new tt(c,3));const d=new Ii({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class hEe extends Uo{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new He(s),o=new He(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const f=d/t*(Math.PI*2),m=Math.sin(f)*e,g=Math.cos(f)*e;a.push(0,0,0),a.push(m,0,g);const v=d&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let d=0;d<r;d++){const f=d&1?s:o,m=e-e/r*d;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),_=Math.sin(v)*m,x=Math.cos(v)*m;a.push(_,0,x),l.push(f.r,f.g,f.b),v=(g+1)/i*(Math.PI*2),_=Math.sin(v)*m,x=Math.cos(v)*m,a.push(_,0,x),l.push(f.r,f.g,f.b)}}const c=new Ct;c.setAttribute("position",new tt(a,3)),c.setAttribute("color",new tt(l,3));const u=new Ii({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const t4=new U,U_=new U,n4=new U;class fEe extends qt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Ct;i.setAttribute("position",new tt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ii({fog:!1,toneMapped:!1});this.lightPlane=new vl(i,s),this.add(this.lightPlane),i=new Ct,i.setAttribute("position",new tt([0,0,0,0,0,1],3)),this.targetLine=new vl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),t4.setFromMatrixPosition(this.light.matrixWorld),U_.setFromMatrixPosition(this.light.target.matrixWorld),n4.subVectors(U_,t4),this.lightPlane.lookAt(U_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(U_),this.targetLine.scale.z=n4.length()}}const G_=new U,or=new y0;class pEe extends Uo{constructor(e){const t=new Ct,r=new Ii({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,v){l(g),l(v)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}t.setAttribute("position",new tt(i,3)),t.setAttribute("color",new tt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new He(16755200),u=new He(16711680),d=new He(43775),f=new He(16777215),m=new He(3355443);this.setColors(c,u,d,f,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;or.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),gr("c",t,e,or,0,0,-1),gr("t",t,e,or,0,0,1),gr("n1",t,e,or,-r,-i,-1),gr("n2",t,e,or,r,-i,-1),gr("n3",t,e,or,-r,i,-1),gr("n4",t,e,or,r,i,-1),gr("f1",t,e,or,-r,-i,1),gr("f2",t,e,or,r,-i,1),gr("f3",t,e,or,-r,i,1),gr("f4",t,e,or,r,i,1),gr("u1",t,e,or,r*.7,i*1.1,-1),gr("u2",t,e,or,-r*.7,i*1.1,-1),gr("u3",t,e,or,0,i*2,-1),gr("cf1",t,e,or,-r,0,1),gr("cf2",t,e,or,r,0,1),gr("cf3",t,e,or,0,-i,1),gr("cf4",t,e,or,0,i,1),gr("cn1",t,e,or,-r,0,-1),gr("cn2",t,e,or,r,0,-1),gr("cn3",t,e,or,0,-i,-1),gr("cn4",t,e,or,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function gr(n,e,t,r,i,s,o){G_.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],G_.x,G_.y,G_.z)}}const H_=new Jc;class mEe extends Uo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Ct;s.setIndex(new cn(r,1)),s.setAttribute("position",new cn(i,3)),super(s,new Ii({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&H_.setFromObject(this.object),H_.isEmpty())return;const t=H_.min,r=H_.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class gEe extends Uo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Ct;s.setIndex(new cn(r,1)),s.setAttribute("position",new tt(i,3)),super(s,new Ii({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class vEe extends vl{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Ct;o.setAttribute("position",new tt(s,3)),o.computeBoundingSphere(),super(o,new Ii({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Ct;l.setAttribute("position",new tt(a,3)),l.computeBoundingSphere(),this.add(new Or(l,new Ss({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const r4=new U;let V_,cA;class yEe extends qt{constructor(e=new U(0,0,1),t=new U(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",V_===void 0&&(V_=new Ct,V_.setAttribute("position",new tt([0,0,0,0,1,0],3)),cA=new Td(0,.5,1,5,1),cA.translate(0,-.5,0)),this.position.copy(t),this.line=new vl(V_,new Ii({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Or(cA,new Ss({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{r4.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(r4,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class _Ee extends Uo{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Ct;i.setAttribute("position",new tt(t,3)),i.setAttribute("color",new tt(r,3));const s=new Ii({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new He,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class xEe{constructor(){this.type="ShapePath",this.color=new He,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Mv,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const w=[];for(let S=0,E=x.length;S<E;S++){const A=x[S],P=new nd;P.curves=A.curves,w.push(P)}return w}function r(x,w){const S=w.length;let E=!1;for(let A=S-1,P=0;P<S;A=P++){let I=w[A],T=w[P],R=T.x-I.x,O=T.y-I.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(I=w[P],R=-R,T=w[A],O=-O),x.y<I.y||x.y>T.y)continue;if(x.y===I.y){if(x.x===I.x)return!0}else{const L=O*(x.x-I.x)-R*(x.y-I.y);if(L===0)return!0;if(L<0)continue;E=!E}}else{if(x.y!==I.y)continue;if(T.x<=x.x&&x.x<=I.x||I.x<=x.x&&x.x<=T.x)return!0}}return E}const i=ga.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new nd,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const d=[],f=[];let m=[],g=0,v;f[g]=void 0,m[g]=[];for(let x=0,w=s.length;x<w;x++)a=s[x],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!u&&f[g]&&g++,f[g]={s:new nd,p:v},f[g].s.curves=a.curves,u&&g++,m[g]=[]):m[g].push({h:a,p:v[0]});if(!f[0])return t(s);if(f.length>1){let x=!1,w=0;for(let S=0,E=f.length;S<E;S++)d[S]=[];for(let S=0,E=f.length;S<E;S++){const A=m[S];for(let P=0;P<A.length;P++){const I=A[P];let T=!0;for(let R=0;R<f.length;R++)r(I.p,f[R].p)&&(S!==R&&w++,T?(T=!1,d[R].push(I)):x=!0);T&&d[S].push(I)}}w>0&&x===!1&&(m=d)}let _;for(let x=0,w=f.length;x<w;x++){l=f[x].s,c.push(l),_=m[x];for(let S=0,E=_.length;S<E;S++)l.holes.push(_[S].h)}return c}}const $a=bEe();function bEe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function wEe(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=yr(n,-65504,65504),$a.floatView[0]=n;const e=$a.uint32View[0],t=e>>23&511;return $a.baseTable[t]+((e&8388607)>>$a.shiftTable[t])}function SEe(n){const e=n>>10;return $a.uint32View[0]=$a.mantissaTable[$a.offsetTable[e]+(n&1023)]+$a.exponentTable[e],$a.floatView[0]}const Qm={toHalfFloat:wEe,fromHalfFloat:SEe};class EEe extends Xc{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class CEe extends w0{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class AEe extends S0{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class MEe extends E0{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class TEe extends Td{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class PEe extends C0{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class REe extends A0{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class IEe extends wp{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class NEe extends bp{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class kEe extends Sp{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class OEe extends _p{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class LEe extends bl{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class BEe extends M0{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class DEe extends T0{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class FEe extends Ep{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class zEe extends P0{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class UEe extends R0{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class GEe extends I0{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class HEe extends N0{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:N1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=N1);const Wb=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:dN,AddEquation:Nu,AddOperation:u9,AdditiveAnimationBlendMode:fN,AdditiveBlending:iP,AlphaFormat:x9,AlwaysDepth:r9,AlwaysStencilFunc:D9,AmbientLight:NW,AmbientLightProbe:OSe,AnimationClip:qf,AnimationLoader:CSe,AnimationMixer:UW,AnimationObjectGroup:YSe,AnimationUtils:bSe,ArcCurve:sW,ArrayCamera:Q9,ArrowHelper:yEe,Audio:FW,AudioAnalyser:USe,AudioContext:jN,AudioListener:DSe,AudioLoader:NSe,AxesHelper:_Ee,BackSide:as,BasicDepthPacking:O9,BasicShadowMap:V8,Bone:W1,BooleanKeyframeTrack:Pd,Box2:iEe,Box3:Jc,Box3Helper:gEe,BoxBufferGeometry:EEe,BoxGeometry:Xc,BoxHelper:mEe,BufferAttribute:cn,BufferGeometry:Ct,BufferGeometryLoader:BW,ByteType:m9,Cache:xd,Camera:y0,CameraHelper:pEe,CanvasTexture:j1e,CapsuleBufferGeometry:CEe,CapsuleGeometry:w0,CatmullRomCurve3:oW,CineonToneMapping:f9,CircleBufferGeometry:AEe,CircleGeometry:S0,ClampToEdgeWrapping:si,Clock:$N,Color:He,ColorKeyframeTrack:zN,ColorManagement:wi,CompressedArrayTexture:W1e,CompressedTexture:PN,CompressedTextureLoader:ASe,ConeBufferGeometry:MEe,ConeGeometry:E0,CubeCamera:j9,CubeReflectionMapping:ml,CubeRefractionMapping:Bc,CubeTexture:_0,CubeTextureLoader:TW,CubeUVReflectionMapping:yp,CubicBezierCurve:IN,CubicBezierCurve3:aW,CubicInterpolant:EW,CullFaceBack:rP,CullFaceFront:H8,CullFaceFrontBack:V0e,CullFaceNone:G8,Curve:Go,CurvePath:cW,CustomBlending:W8,CustomToneMapping:p9,CylinderBufferGeometry:TEe,CylinderGeometry:Td,Cylindrical:rEe,Data3DTexture:yN,DataArrayTexture:D1,DataTexture:df,DataTextureLoader:PW,DataUtils:Qm,DecrementStencilOp:eye,DecrementWrapStencilOp:nye,DefaultLoadingManager:MW,DepthFormat:wc,DepthStencilFormat:vd,DepthTexture:Z9,DirectionalLight:WN,DirectionalLightHelper:fEe,DiscreteInterpolant:CW,DisplayP3ColorSpace:mN,DodecahedronBufferGeometry:PEe,DodecahedronGeometry:C0,DoubleSide:To,DstAlphaFactor:q8,DstColorFactor:Z8,DynamicCopyUsage:vye,DynamicDrawUsage:dye,DynamicReadUsage:pye,EdgesGeometry:uW,EllipseCurve:$1,EqualDepth:s9,EqualStencilFunc:oye,EquirectangularReflectionMapping:Vf,EquirectangularRefractionMapping:bv,Euler:v0,EventDispatcher:Ca,ExtrudeBufferGeometry:REe,ExtrudeGeometry:A0,FileLoader:Is,Float16BufferAttribute:r_e,Float32BufferAttribute:tt,Float64BufferAttribute:i_e,FloatType:to,Fog:H1,FogExp2:G1,FramebufferTexture:V1e,FrontSide:Sa,Frustum:F1,GLBufferAttribute:nEe,GLSL1:_ye,GLSL3:NP,GreaterDepth:a9,GreaterEqualDepth:o9,GreaterEqualStencilFunc:uye,GreaterStencilFunc:lye,GridHelper:dEe,Group:Za,HalfFloatType:Po,HemisphereLight:IW,HemisphereLightHelper:uEe,HemisphereLightProbe:kSe,IcosahedronBufferGeometry:IEe,IcosahedronGeometry:wp,ImageBitmapLoader:DW,ImageLoader:Iv,ImageUtils:vN,IncrementStencilOp:Z0e,IncrementWrapStencilOp:tye,InstancedBufferAttribute:Kf,InstancedBufferGeometry:LW,InstancedInterleavedBuffer:tEe,InstancedMesh:iW,Int16BufferAttribute:t_e,Int32BufferAttribute:n_e,Int8BufferAttribute:Qye,IntType:v9,InterleavedBuffer:x0,InterleavedBufferAttribute:Fc,Interpolant:Ap,InterpolateDiscrete:jf,InterpolateLinear:yd,InterpolateSmooth:Ex,InvertStencilOp:rye,KeepStencilOp:Cx,KeyframeTrack:Ho,LOD:rW,LatheBufferGeometry:NEe,LatheGeometry:bp,Layers:td,LessDepth:i9,LessEqualDepth:Hb,LessEqualStencilFunc:aye,LessStencilFunc:sye,Light:Yc,LightProbe:X1,Line:vl,Line3:sEe,LineBasicMaterial:Ii,LineCurve:J1,LineCurve3:lW,LineDashedMaterial:wW,LineLoop:MN,LineSegments:Uo,LinearEncoding:Lo,LinearFilter:Ln,LinearInterpolant:FN,LinearMipMapLinearFilter:K0e,LinearMipMapNearestFilter:J0e,LinearMipmapLinearFilter:Ea,LinearMipmapNearestFilter:L1,LinearSRGBColorSpace:$f,LinearToneMapping:d9,Loader:ji,LoaderUtils:va,LoadingManager:UN,LoopOnce:R9,LoopPingPong:N9,LoopRepeat:I9,LuminanceAlphaFormat:w9,LuminanceFormat:b9,MOUSE:Au,Material:Mr,MaterialLoader:Y1,MathUtils:U9,Matrix3:oi,Matrix4:gt,MaxEquation:lP,Mesh:Or,MeshBasicMaterial:Ss,MeshDepthMaterial:SN,MeshDistanceMaterial:EN,MeshLambertMaterial:xW,MeshMatcapMaterial:bW,MeshNormalMaterial:_W,MeshPhongMaterial:vW,MeshPhysicalMaterial:wl,MeshStandardMaterial:Cp,MeshToonMaterial:yW,MinEquation:aP,MirroredRepeatWrapping:Wf,MixOperation:c9,MultiplyBlending:oP,MultiplyOperation:m0,NearestFilter:dr,NearestMipMapLinearFilter:$0e,NearestMipMapNearestFilter:j0e,NearestMipmapLinearFilter:cf,NearestMipmapNearestFilter:wv,NeverDepth:n9,NeverStencilFunc:iye,NoBlending:ol,NoColorSpace:Y0e,NoToneMapping:ko,NormalAnimationBlendMode:B1,NormalBlending:Qu,NotEqualDepth:l9,NotEqualStencilFunc:cye,NumberKeyframeTrack:Xf,Object3D:qt,ObjectLoader:RSe,ObjectSpaceNormalMap:B9,OctahedronBufferGeometry:kEe,OctahedronGeometry:Sp,OneFactor:K8,OneMinusDstAlphaFactor:Q8,OneMinusDstColorFactor:e9,OneMinusSrcAlphaFactor:uN,OneMinusSrcColorFactor:Y8,OrthographicCamera:al,PCFShadowMap:k1,PCFSoftShadowMap:Ag,PMREMGenerator:OP,Path:Mv,PerspectiveCamera:Bn,Plane:Kl,PlaneBufferGeometry:OEe,PlaneGeometry:_p,PlaneHelper:vEe,PointLight:VN,PointLightHelper:lEe,Points:TN,PointsMaterial:j1,PolarGridHelper:hEe,PolyhedronBufferGeometry:LEe,PolyhedronGeometry:bl,PositionalAudio:zSe,PropertyBinding:Yt,PropertyMixer:zW,QuadraticBezierCurve:NN,QuadraticBezierCurve3:kN,Quaternion:li,QuaternionKeyframeTrack:zc,QuaternionLinearInterpolant:AW,RED_GREEN_RGTC2_Format:RP,RED_RGTC1_Format:P9,REVISION:N1,RGBADepthPacking:L9,RGBAFormat:Qi,RGBAIntegerFormat:M9,RGBA_ASTC_10x10_Format:AP,RGBA_ASTC_10x5_Format:SP,RGBA_ASTC_10x6_Format:EP,RGBA_ASTC_10x8_Format:CP,RGBA_ASTC_12x10_Format:MP,RGBA_ASTC_12x12_Format:TP,RGBA_ASTC_4x4_Format:mP,RGBA_ASTC_5x4_Format:gP,RGBA_ASTC_5x5_Format:vP,RGBA_ASTC_6x5_Format:yP,RGBA_ASTC_6x6_Format:_P,RGBA_ASTC_8x5_Format:xP,RGBA_ASTC_8x6_Format:bP,RGBA_ASTC_8x8_Format:wP,RGBA_BPTC_Format:Sx,RGBA_ETC2_EAC_Format:pP,RGBA_PVRTC_2BPPV1_Format:hP,RGBA_PVRTC_4BPPV1_Format:dP,RGBA_S3TC_DXT1_Format:xx,RGBA_S3TC_DXT3_Format:bx,RGBA_S3TC_DXT5_Format:wx,RGB_ETC1_Format:T9,RGB_ETC2_Format:fP,RGB_PVRTC_2BPPV1_Format:uP,RGB_PVRTC_4BPPV1_Format:cP,RGB_S3TC_DXT1_Format:_x,RGFormat:C9,RGIntegerFormat:A9,RawShaderMaterial:gW,Ray:g0,Raycaster:YN,RectAreaLight:kW,RedFormat:S9,RedIntegerFormat:E9,ReinhardToneMapping:h9,RepeatWrapping:Dc,ReplaceStencilOp:Q0e,ReverseSubtractEquation:$8,RingBufferGeometry:BEe,RingGeometry:M0,SIGNED_RED_GREEN_RGTC2_Format:IP,SIGNED_RED_RGTC1_Format:PP,SRGBColorSpace:Eo,Scene:V1,ShaderChunk:Mt,ShaderLib:Ao,ShaderMaterial:Do,ShadowMaterial:mW,Shape:nd,ShapeBufferGeometry:DEe,ShapeGeometry:T0,ShapePath:xEe,ShapeUtils:ga,ShortType:g9,Skeleton:b0,SkeletonHelper:aEe,SkinnedMesh:AN,Source:Vu,Sphere:Kc,SphereBufferGeometry:FEe,SphereGeometry:Ep,Spherical:GP,SphericalHarmonics3:OW,SplineCurve:ON,SpotLight:HN,SpotLightHelper:oEe,Sprite:nW,SpriteMaterial:CN,SrcAlphaFactor:cN,SrcAlphaSaturateFactor:t9,SrcColorFactor:X8,StaticCopyUsage:gye,StaticDrawUsage:Ev,StaticReadUsage:fye,StereoCamera:LSe,StreamCopyUsage:yye,StreamDrawUsage:hye,StreamReadUsage:mye,StringKeyframeTrack:Rd,SubtractEquation:j8,SubtractiveBlending:sP,TOUCH:Mu,TangentSpaceNormalMap:xl,TetrahedronBufferGeometry:zEe,TetrahedronGeometry:P0,Texture:Jn,TextureLoader:RW,TorusBufferGeometry:UEe,TorusGeometry:R0,TorusKnotBufferGeometry:GEe,TorusKnotGeometry:I0,Triangle:qs,TriangleFanDrawMode:pN,TriangleStripDrawMode:k9,TrianglesDrawMode:X0e,TubeBufferGeometry:HEe,TubeGeometry:N0,TwoPassDoubleSide:W0e,UVMapping:O1,Uint16BufferAttribute:_N,Uint32BufferAttribute:xN,Uint8BufferAttribute:Zye,Uint8ClampedBufferAttribute:e_e,Uniform:XN,UniformsGroup:eEe,UniformsLib:Ve,UniformsUtils:W9,UnsignedByteType:gl,UnsignedInt248Type:Zu,UnsignedIntType:rc,UnsignedShort4444Type:y9,UnsignedShort5551Type:_9,UnsignedShortType:hN,VSMShadowMap:Uu,Vector2:Se,Vector3:U,Vector4:mn,VectorKeyframeTrack:Yf,VideoTexture:H1e,WebGL1Renderer:eW,WebGL3DRenderTarget:Hye,WebGLArrayRenderTarget:Gye,WebGLCubeRenderTarget:bN,WebGLMultipleRenderTargets:Vye,WebGLRenderTarget:Bo,WebGLRenderer:U1,WebGLUtils:q9,WireframeGeometry:pW,WrapAroundEnding:Sv,ZeroCurvatureEnding:Gu,ZeroFactor:J8,ZeroSlopeEnding:Hu,ZeroStencilOp:q0e,_SRGBAFormat:Vb,sRGBEncoding:zt},Symbol.toStringTag,{value:"Module"}));var sc={},VEe={get exports(){return sc},set exports(n){sc=n}},Id={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Id.ConcurrentRoot=1;Id.ContinuousEventPriority=4;Id.DefaultEventPriority=16;Id.DiscreteEventPriority=1;Id.IdleEventPriority=536870912;Id.LegacyRoot=0;(function(n){n.exports=Id})(VEe);function WEe(n){let e;const t=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const f=e;e=u?d:Object.assign({},e,d),t.forEach(m=>m(e,f))}},i=()=>e,s=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=u(e);function m(){const g=u(e);if(!d(f,g)){const v=f;c(f=g,v)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,d)=>u||d?s(c,u,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const jEe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),i4=jEe?k.useEffect:k.useLayoutEffect;function HW(n){const e=typeof n=="function"?WEe(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=k.useReducer(_=>_+1,0),o=e.getState(),a=k.useRef(o),l=k.useRef(r),c=k.useRef(i),u=k.useRef(!1),d=k.useRef();d.current===void 0&&(d.current=r(o));let f,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(f=r(o),m=!i(d.current,f)),i4(()=>{m&&(d.current=f),a.current=o,l.current=r,c.current=i,u.current=!1});const g=k.useRef(o);i4(()=>{const _=()=>{try{const w=e.getState(),S=l.current(w);c.current(d.current,S)||(a.current=w,d.current=S,s())}catch{u.current=!0,s()}},x=e.subscribe(_);return e.getState()!==g.current&&_(),x},[]);const v=m?f:d.current;return k.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var HP={},$Ee={get exports(){return HP},set exports(n){HP=n}},Nv={},JEe={get exports(){return Nv},set exports(n){Nv=n}},VW={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,$){var X=D.length;D.push($);e:for(;0<X;){var ue=X-1>>>1,Y=D[ue];if(0<i(Y,$))D[ue]=$,D[X]=Y,X=ue;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],X=D.pop();if(X!==$){D[0]=X;e:for(var ue=0,Y=D.length,pe=Y>>>1;ue<pe;){var ye=2*(ue+1)-1,ne=D[ye],fe=ye+1,Ee=D[fe];if(0>i(ne,X))fe<Y&&0>i(Ee,ne)?(D[ue]=Ee,D[fe]=X,ue=fe):(D[ue]=ne,D[ye]=X,ue=ye);else if(fe<Y&&0>i(Ee,X))D[ue]=Ee,D[fe]=X,ue=fe;else break e}}return $}function i(D,$){var X=D.sortIndex-$.sortIndex;return X!==0?X:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var $=t(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=D)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(c)}}function E(D){if(v=!1,S(D),!g)if(t(l)!==null)g=!0,Q(A);else{var $=t(c);$!==null&&te(E,$.startTime-D)}}function A(D,$){g=!1,v&&(v=!1,x(T),T=-1),m=!0;var X=f;try{for(S($),d=t(l);d!==null&&(!(d.expirationTime>$)||D&&!L());){var ue=d.callback;if(typeof ue=="function"){d.callback=null,f=d.priorityLevel;var Y=ue(d.expirationTime<=$);$=n.unstable_now(),typeof Y=="function"?d.callback=Y:d===t(l)&&r(l),S($)}else r(l);d=t(l)}if(d!==null)var pe=!0;else{var ye=t(c);ye!==null&&te(E,ye.startTime-$),pe=!1}return pe}finally{d=null,f=X,m=!1}}var P=!1,I=null,T=-1,R=5,O=-1;function L(){return!(n.unstable_now()-O<R)}function J(){if(I!==null){var D=n.unstable_now();O=D;var $=!0;try{$=I(!0,D)}finally{$?j():(P=!1,I=null)}}else P=!1}var j;if(typeof w=="function")j=function(){w(J)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,K=V.port2;V.port1.onmessage=J,j=function(){K.postMessage(null)}}else j=function(){_(J,0)};function Q(D){I=D,P||(P=!0,j())}function te(D,$){T=_(function(){D(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,Q(A))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var X=f;f=$;try{return D()}finally{f=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var X=f;f=D;try{return $()}finally{f=X}},n.unstable_scheduleCallback=function(D,$,X){var ue=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ue+X:ue):X=ue,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=X+Y,D={id:u++,callback:$,priorityLevel:D,startTime:X,expirationTime:Y,sortIndex:-1},X>ue?(D.sortIndex=X,e(c,D),t(l)===null&&D===t(c)&&(v?(x(T),T=-1):v=!0,te(E,X-ue))):(D.sortIndex=Y,e(l,D),g||m||(g=!0,Q(A))),D},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(D){var $=f;return function(){var X=f;f=$;try{return D.apply(this,arguments)}finally{f=X}}}})(VW);(function(n){n.exports=VW})(JEe);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KEe=function(e){var t={},r=k,i=Nv,s=Object.assign;function o(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,b=1;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),A=Symbol.iterator;function P(h){return h===null||typeof h!="object"?null:(h=A&&h[A]||h["@@iterator"],typeof h=="function"?h:null)}function I(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case _:return"Suspense";case x:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case g:return(h.displayName||"Context")+".Consumer";case m:return(h._context.displayName||"Context")+".Provider";case v:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case w:return p=h.displayName||null,p!==null?p:I(h.type)||"Memo";case S:p=h._payload,h=h._init;try{return I(h(p))}catch{}}return null}function T(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(p);case 8:return p===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function R(h){var p=h,b=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,p.flags&4098&&(b=p.return),h=p.return;while(h)}return p.tag===3?b:null}function O(h){if(R(h)!==h)throw Error(o(188))}function L(h){var p=h.alternate;if(!p){if(p=R(h),p===null)throw Error(o(188));return p!==h?null:h}for(var b=h,C=p;;){var M=b.return;if(M===null)break;var N=M.alternate;if(N===null){if(C=M.return,C!==null){b=C;continue}break}if(M.child===N.child){for(N=M.child;N;){if(N===b)return O(M),h;if(N===C)return O(M),p;N=N.sibling}throw Error(o(188))}if(b.return!==C.return)b=M,C=N;else{for(var H=!1,Z=M.child;Z;){if(Z===b){H=!0,b=M,C=N;break}if(Z===C){H=!0,C=M,b=N;break}Z=Z.sibling}if(!H){for(Z=N.child;Z;){if(Z===b){H=!0,b=N,C=M;break}if(Z===C){H=!0,C=N,b=M;break}Z=Z.sibling}if(!H)throw Error(o(189))}}if(b.alternate!==C)throw Error(o(190))}if(b.tag!==3)throw Error(o(188));return b.stateNode.current===b?h:p}function J(h){return h=L(h),h!==null?j(h):null}function j(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=j(h);if(p!==null)return p;h=h.sibling}return null}function V(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var p=V(h);if(p!==null)return p}h=h.sibling}return null}var K=Array.isArray,Q=e.getPublicInstance,te=e.getRootHostContext,D=e.getChildHostContext,$=e.prepareForCommit,X=e.resetAfterCommit,ue=e.createInstance,Y=e.appendInitialChild,pe=e.finalizeInitialChildren,ye=e.prepareUpdate,ne=e.shouldSetTextContent,fe=e.createTextInstance,Ee=e.scheduleTimeout,Re=e.cancelTimeout,Me=e.noTimeout,Ue=e.isPrimaryRenderer,Ge=e.supportsMutation,me=e.supportsPersistence,_e=e.supportsHydration,ke=e.getInstanceFromNode,$e=e.preparePortalMount,Fe=e.getCurrentEventPriority,Ye=e.detachDeletedInstance,Xe=e.supportsMicrotasks,et=e.scheduleMicrotask,at=e.supportsTestSelectors,it=e.findFiberRoot,G=e.getBoundingRect,B=e.getTextContent,ae=e.isHiddenSubtree,Te=e.matchAccessibilityRole,Ie=e.setFocusIfFocusable,De=e.setupIntersectionObserver,xe=e.appendChild,ie=e.appendChildToContainer,oe=e.commitTextUpdate,Ne=e.commitMount,W=e.commitUpdate,de=e.insertBefore,Ae=e.insertInContainerBefore,Oe=e.removeChild,nt=e.removeChildFromContainer,bt=e.resetTextContent,un=e.hideInstance,q=e.hideTextInstance,ee=e.unhideInstance,Pe=e.unhideTextInstance,Ke=e.clearContainer,Qe=e.cloneInstance,on=e.createContainerChildSet,Fn=e.appendChildToContainerChildSet,_r=e.finalizeContainerChildren,Ni=e.replaceContainerChildren,Cn=e.cloneHiddenInstance,ei=e.cloneHiddenTextInstance,di=e.canHydrateInstance,Tp=e.canHydrateTextInstance,Aa=e.canHydrateSuspenseInstance,Sl=e.isSuspenseInstancePending,z=e.isSuspenseInstanceFallback,le=e.registerSuspenseInstanceRetry,ge=e.getNextHydratableSibling,se=e.getFirstHydratableChild,be=e.getFirstHydratableChildWithinContainer,ot=e.getFirstHydratableChildWithinSuspenseInstance,ft=e.hydrateInstance,vt=e.hydrateTextInstance,wt=e.hydrateSuspenseInstance,Ft=e.getNextHydratableInstanceAfterSuspenseInstance,Tt=e.commitHydratedContainer,kt=e.commitHydratedSuspenseInstance,zn=e.clearSuspenseBoundary,lt=e.clearSuspenseBoundaryFromContainer,Nn=e.shouldDeleteUnhydratedTailInstances,Ma=e.didNotMatchHydratedContainerTextInstance,nr=e.didNotMatchHydratedTextInstance,Ot;function Ta(h){if(Ot===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);Ot=p&&p[1]||""}return`
`+Ot+h}var rr=!1;function ho(h,p){if(!h||rr)return"";rr=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(ze){var C=ze}Reflect.construct(h,[],p)}else{try{p.call()}catch(ze){C=ze}h.call(p.prototype)}else{try{throw Error()}catch(ze){C=ze}h()}}catch(ze){if(ze&&C&&typeof ze.stack=="string"){for(var M=ze.stack.split(`
`),N=C.stack.split(`
`),H=M.length-1,Z=N.length-1;1<=H&&0<=Z&&M[H]!==N[Z];)Z--;for(;1<=H&&0<=Z;H--,Z--)if(M[H]!==N[Z]){if(H!==1||Z!==1)do if(H--,Z--,0>Z||M[H]!==N[Z]){var ve=`
`+M[H].replace(" at new "," at ");return h.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",h.displayName)),ve}while(1<=H&&0<=Z);break}}}finally{rr=!1,Error.prepareStackTrace=b}return(h=h?h.displayName||h.name:"")?Ta(h):""}var O0=Object.prototype.hasOwnProperty,Pa=[],Vo=-1;function Un(h){return{current:h}}function Qt(h){0>Vo||(h.current=Pa[Vo],Pa[Vo]=null,Vo--)}function dn(h,p){Vo++,Pa[Vo]=h.current,h.current=p}var ir={},xr=Un(ir),hi=Un(!1),Wo=ir;function Nd(h,p){var b=h.type.contextTypes;if(!b)return ir;var C=h.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===p)return C.__reactInternalMemoizedMaskedChildContext;var M={},N;for(N in b)M[N]=p[N];return C&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=M),M}function $i(h){return h=h.childContextTypes,h!=null}function L0(){Qt(hi),Qt(xr)}function ik(h,p,b){if(xr.current!==ir)throw Error(o(168));dn(xr,p),dn(hi,b)}function sk(h,p,b){var C=h.stateNode;if(p=p.childContextTypes,typeof C.getChildContext!="function")return b;C=C.getChildContext();for(var M in C)if(!(M in p))throw Error(o(108,T(h)||"Unknown",M));return s({},b,C)}function B0(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||ir,Wo=xr.current,dn(xr,h),dn(hi,hi.current),!0}function ok(h,p,b){var C=h.stateNode;if(!C)throw Error(o(169));b?(h=sk(h,p,Wo),C.__reactInternalMemoizedMergedChildContext=h,Qt(hi),Qt(xr),dn(xr,h)):Qt(hi),dn(hi,b)}var fo=Math.clz32?Math.clz32:_j,vj=Math.log,yj=Math.LN2;function _j(h){return h>>>=0,h===0?32:31-(vj(h)/yj|0)|0}var D0=64,F0=4194304;function Pp(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function z0(h,p){var b=h.pendingLanes;if(b===0)return 0;var C=0,M=h.suspendedLanes,N=h.pingedLanes,H=b&268435455;if(H!==0){var Z=H&~M;Z!==0?C=Pp(Z):(N&=H,N!==0&&(C=Pp(N)))}else H=b&~M,H!==0?C=Pp(H):N!==0&&(C=Pp(N));if(C===0)return 0;if(p!==0&&p!==C&&!(p&M)&&(M=C&-C,N=p&-p,M>=N||M===16&&(N&4194240)!==0))return p;if(C&4&&(C|=b&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=C;0<p;)b=31-fo(p),M=1<<b,C|=h[b],p&=~M;return C}function xj(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bj(h,p){for(var b=h.suspendedLanes,C=h.pingedLanes,M=h.expirationTimes,N=h.pendingLanes;0<N;){var H=31-fo(N),Z=1<<H,ve=M[H];ve===-1?(!(Z&b)||Z&C)&&(M[H]=xj(Z,p)):ve<=p&&(h.expiredLanes|=Z),N&=~Z}}function q1(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Q1(h){for(var p=[],b=0;31>b;b++)p.push(h);return p}function Rp(h,p,b){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-fo(p),h[p]=b}function wj(h,p){var b=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var C=h.eventTimes;for(h=h.expirationTimes;0<b;){var M=31-fo(b),N=1<<M;p[M]=0,C[M]=-1,h[M]=-1,b&=~N}}function Z1(h,p){var b=h.entangledLanes|=p;for(h=h.entanglements;b;){var C=31-fo(b),M=1<<C;M&p|h[C]&p&&(h[C]|=p),b&=~M}}var en=0;function ak(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var eS=i.unstable_scheduleCallback,lk=i.unstable_cancelCallback,Sj=i.unstable_shouldYield,Ej=i.unstable_requestPaint,Fr=i.unstable_now,tS=i.unstable_ImmediatePriority,Cj=i.unstable_UserBlockingPriority,nS=i.unstable_NormalPriority,Aj=i.unstable_IdlePriority,U0=null,jo=null;function Mj(h){if(jo&&typeof jo.onCommitFiberRoot=="function")try{jo.onCommitFiberRoot(U0,h,void 0,(h.current.flags&128)===128)}catch{}}function Tj(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var $o=typeof Object.is=="function"?Object.is:Tj,Ra=null,G0=!1,rS=!1;function ck(h){Ra===null?Ra=[h]:Ra.push(h)}function Pj(h){G0=!0,ck(h)}function Jo(){if(!rS&&Ra!==null){rS=!0;var h=0,p=en;try{var b=Ra;for(en=1;h<b.length;h++){var C=b[h];do C=C(!0);while(C!==null)}Ra=null,G0=!1}catch(M){throw Ra!==null&&(Ra=Ra.slice(h+1)),eS(tS,Jo),M}finally{en=p,rS=!1}}return null}var Rj=a.ReactCurrentBatchConfig;function H0(h,p){if($o(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var b=Object.keys(h),C=Object.keys(p);if(b.length!==C.length)return!1;for(C=0;C<b.length;C++){var M=b[C];if(!O0.call(p,M)||!$o(h[M],p[M]))return!1}return!0}function Ij(h){switch(h.tag){case 5:return Ta(h.type);case 16:return Ta("Lazy");case 13:return Ta("Suspense");case 19:return Ta("SuspenseList");case 0:case 2:case 15:return h=ho(h.type,!1),h;case 11:return h=ho(h.type.render,!1),h;case 1:return h=ho(h.type,!0),h;default:return""}}function po(h,p){if(h&&h.defaultProps){p=s({},p),h=h.defaultProps;for(var b in h)p[b]===void 0&&(p[b]=h[b]);return p}return p}var V0=Un(null),W0=null,kd=null,iS=null;function sS(){iS=kd=W0=null}function uk(h,p,b){Ue?(dn(V0,p._currentValue),p._currentValue=b):(dn(V0,p._currentValue2),p._currentValue2=b)}function oS(h){var p=V0.current;Qt(V0),Ue?h._currentValue=p:h._currentValue2=p}function aS(h,p,b){for(;h!==null;){var C=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,C!==null&&(C.childLanes|=p)):C!==null&&(C.childLanes&p)!==p&&(C.childLanes|=p),h===b)break;h=h.return}}function Od(h,p){W0=h,iS=kd=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&p&&(fs=!0),h.firstContext=null)}function Bs(h){var p=Ue?h._currentValue:h._currentValue2;if(iS!==h)if(h={context:h,memoizedValue:p,next:null},kd===null){if(W0===null)throw Error(o(308));kd=h,W0.dependencies={lanes:0,firstContext:h}}else kd=kd.next=h;return p}var Ko=null,El=!1;function lS(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dk(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Ia(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function Cl(h,p){var b=h.updateQueue;b!==null&&(b=b.shared,br!==null&&h.mode&1&&!(Pt&2)?(h=b.interleaved,h===null?(p.next=p,Ko===null?Ko=[b]:Ko.push(b)):(p.next=h.next,h.next=p),b.interleaved=p):(h=b.pending,h===null?p.next=p:(p.next=h.next,h.next=p),b.pending=p))}function j0(h,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194240)!==0)){var C=p.lanes;C&=h.pendingLanes,b|=C,p.lanes=b,Z1(h,b)}}function hk(h,p){var b=h.updateQueue,C=h.alternate;if(C!==null&&(C=C.updateQueue,b===C)){var M=null,N=null;if(b=b.firstBaseUpdate,b!==null){do{var H={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};N===null?M=N=H:N=N.next=H,b=b.next}while(b!==null);N===null?M=N=p:N=N.next=p}else M=N=p;b={baseState:C.baseState,firstBaseUpdate:M,lastBaseUpdate:N,shared:C.shared,effects:C.effects},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=p:h.next=p,b.lastBaseUpdate=p}function $0(h,p,b,C){var M=h.updateQueue;El=!1;var N=M.firstBaseUpdate,H=M.lastBaseUpdate,Z=M.shared.pending;if(Z!==null){M.shared.pending=null;var ve=Z,ze=ve.next;ve.next=null,H===null?N=ze:H.next=ze,H=ve;var Ze=h.alternate;Ze!==null&&(Ze=Ze.updateQueue,Z=Ze.lastBaseUpdate,Z!==H&&(Z===null?Ze.firstBaseUpdate=ze:Z.next=ze,Ze.lastBaseUpdate=ve))}if(N!==null){var yt=M.baseState;H=0,Ze=ze=ve=null,Z=N;do{var ct=Z.lane,xn=Z.eventTime;if((C&ct)===ct){Ze!==null&&(Ze=Ze.next={eventTime:xn,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var st=h,gi=Z;switch(ct=p,xn=b,gi.tag){case 1:if(st=gi.payload,typeof st=="function"){yt=st.call(xn,yt,ct);break e}yt=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=gi.payload,ct=typeof st=="function"?st.call(xn,yt,ct):st,ct==null)break e;yt=s({},yt,ct);break e;case 2:El=!0}}Z.callback!==null&&Z.lane!==0&&(h.flags|=64,ct=M.effects,ct===null?M.effects=[Z]:ct.push(Z))}else xn={eventTime:xn,lane:ct,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ze===null?(ze=Ze=xn,ve=yt):Ze=Ze.next=xn,H|=ct;if(Z=Z.next,Z===null){if(Z=M.shared.pending,Z===null)break;ct=Z,Z=ct.next,ct.next=null,M.lastBaseUpdate=ct,M.shared.pending=null}}while(1);if(Ze===null&&(ve=yt),M.baseState=ve,M.firstBaseUpdate=ze,M.lastBaseUpdate=Ze,p=M.shared.interleaved,p!==null){M=p;do H|=M.lane,M=M.next;while(M!==p)}else N===null&&(M.shared.lanes=0);Vd|=H,h.lanes=H,h.memoizedState=yt}}function fk(h,p,b){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var C=h[p],M=C.callback;if(M!==null){if(C.callback=null,C=b,typeof M!="function")throw Error(o(191,M));M.call(C)}}}var pk=new r.Component().refs;function cS(h,p,b,C){p=h.memoizedState,b=b(C,p),b=b==null?p:s({},p,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}var J0={isMounted:function(h){return(h=h._reactInternals)?R(h)===h:!1},enqueueSetState:function(h,p,b){h=h._reactInternals;var C=Oi(),M=Tl(h),N=Ia(C,M);N.payload=p,b!=null&&(N.callback=b),Cl(h,N),p=Gs(h,M,C),p!==null&&j0(p,h,M)},enqueueReplaceState:function(h,p,b){h=h._reactInternals;var C=Oi(),M=Tl(h),N=Ia(C,M);N.tag=1,N.payload=p,b!=null&&(N.callback=b),Cl(h,N),p=Gs(h,M,C),p!==null&&j0(p,h,M)},enqueueForceUpdate:function(h,p){h=h._reactInternals;var b=Oi(),C=Tl(h),M=Ia(b,C);M.tag=2,p!=null&&(M.callback=p),Cl(h,M),p=Gs(h,C,b),p!==null&&j0(p,h,C)}};function mk(h,p,b,C,M,N,H){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(C,N,H):p.prototype&&p.prototype.isPureReactComponent?!H0(b,C)||!H0(M,N):!0}function gk(h,p,b){var C=!1,M=ir,N=p.contextType;return typeof N=="object"&&N!==null?N=Bs(N):(M=$i(p)?Wo:xr.current,C=p.contextTypes,N=(C=C!=null)?Nd(h,M):ir),p=new p(b,N),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=J0,h.stateNode=p,p._reactInternals=h,C&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=M,h.__reactInternalMemoizedMaskedChildContext=N),p}function vk(h,p,b,C){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,C),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,C),p.state!==h&&J0.enqueueReplaceState(p,p.state,null)}function uS(h,p,b,C){var M=h.stateNode;M.props=b,M.state=h.memoizedState,M.refs=pk,lS(h);var N=p.contextType;typeof N=="object"&&N!==null?M.context=Bs(N):(N=$i(p)?Wo:xr.current,M.context=Nd(h,N)),M.state=h.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&(cS(h,p,N,b),M.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(p=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),p!==M.state&&J0.enqueueReplaceState(M,M.state,null),$0(h,b,M,C),M.state=h.memoizedState),typeof M.componentDidMount=="function"&&(h.flags|=4194308)}var Ld=[],Bd=0,K0=null,X0=0,Ds=[],Fs=0,qc=null,Na=1,ka="";function Qc(h,p){Ld[Bd++]=X0,Ld[Bd++]=K0,K0=h,X0=p}function yk(h,p,b){Ds[Fs++]=Na,Ds[Fs++]=ka,Ds[Fs++]=qc,qc=h;var C=Na;h=ka;var M=32-fo(C)-1;C&=~(1<<M),b+=1;var N=32-fo(p)+M;if(30<N){var H=M-M%5;N=(C&(1<<H)-1).toString(32),C>>=H,M-=H,Na=1<<32-fo(p)+M|b<<M|C,ka=N+h}else Na=1<<N|b<<M|C,ka=h}function dS(h){h.return!==null&&(Qc(h,1),yk(h,1,0))}function hS(h){for(;h===K0;)K0=Ld[--Bd],Ld[Bd]=null,X0=Ld[--Bd],Ld[Bd]=null;for(;h===qc;)qc=Ds[--Fs],Ds[Fs]=null,ka=Ds[--Fs],Ds[Fs]=null,Na=Ds[--Fs],Ds[Fs]=null}var ds=null,hs=null,Gn=!1,Ip=!1,mo=null;function _k(h,p){var b=Hs(5,null,null,0);b.elementType="DELETED",b.stateNode=p,b.return=h,p=h.deletions,p===null?(h.deletions=[b],h.flags|=16):p.push(b)}function xk(h,p){switch(h.tag){case 5:return p=di(p,h.type,h.pendingProps),p!==null?(h.stateNode=p,ds=h,hs=se(p),!0):!1;case 6:return p=Tp(p,h.pendingProps),p!==null?(h.stateNode=p,ds=h,hs=null,!0):!1;case 13:if(p=Aa(p),p!==null){var b=qc!==null?{id:Na,overflow:ka}:null;return h.memoizedState={dehydrated:p,treeContext:b,retryLane:1073741824},b=Hs(18,null,null,0),b.stateNode=p,b.return=h,h.child=b,ds=h,hs=null,!0}return!1;default:return!1}}function fS(h){return(h.mode&1)!==0&&(h.flags&128)===0}function pS(h){if(Gn){var p=hs;if(p){var b=p;if(!xk(h,p)){if(fS(h))throw Error(o(418));p=ge(b);var C=ds;p&&xk(h,p)?_k(C,b):(h.flags=h.flags&-4097|2,Gn=!1,ds=h)}}else{if(fS(h))throw Error(o(418));h.flags=h.flags&-4097|2,Gn=!1,ds=h}}}function bk(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;ds=h}function Np(h){if(!_e||h!==ds)return!1;if(!Gn)return bk(h),Gn=!0,!1;if(h.tag!==3&&(h.tag!==5||Nn(h.type)&&!ne(h.type,h.memoizedProps))){var p=hs;if(p){if(fS(h)){for(h=hs;h;)h=ge(h);throw Error(o(418))}for(;p;)_k(h,p),p=ge(p)}}if(bk(h),h.tag===13){if(!_e)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));hs=Ft(h)}else hs=ds?ge(h.stateNode):null;return!0}function Dd(){_e&&(hs=ds=null,Ip=Gn=!1)}function mS(h){mo===null?mo=[h]:mo.push(h)}function kp(h,p,b){if(h=b.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(o(309));var C=b.stateNode}if(!C)throw Error(o(147,h));var M=C,N=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===N?p.ref:(p=function(H){var Z=M.refs;Z===pk&&(Z=M.refs={}),H===null?delete Z[N]:Z[N]=H},p._stringRef=N,p)}if(typeof h!="string")throw Error(o(284));if(!b._owner)throw Error(o(290,h))}return h}function Y0(h,p){throw h=Object.prototype.toString.call(p),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function wk(h){var p=h._init;return p(h._payload)}function Sk(h){function p(ce,re){if(h){var he=ce.deletions;he===null?(ce.deletions=[re],ce.flags|=16):he.push(re)}}function b(ce,re){if(!h)return null;for(;re!==null;)p(ce,re),re=re.sibling;return null}function C(ce,re){for(ce=new Map;re!==null;)re.key!==null?ce.set(re.key,re):ce.set(re.index,re),re=re.sibling;return ce}function M(ce,re){return ce=Rl(ce,re),ce.index=0,ce.sibling=null,ce}function N(ce,re,he){return ce.index=he,h?(he=ce.alternate,he!==null?(he=he.index,he<re?(ce.flags|=2,re):he):(ce.flags|=2,re)):(ce.flags|=1048576,re)}function H(ce){return h&&ce.alternate===null&&(ce.flags|=2),ce}function Z(ce,re,he,Je){return re===null||re.tag!==6?(re=QS(he,ce.mode,Je),re.return=ce,re):(re=M(re,he),re.return=ce,re)}function ve(ce,re,he,Je){var rt=he.type;return rt===u?Ze(ce,re,he.props.children,Je,he.key):re!==null&&(re.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&wk(rt)===re.type)?(Je=M(re,he.props),Je.ref=kp(ce,re,he),Je.return=ce,Je):(Je=My(he.type,he.key,he.props,null,ce.mode,Je),Je.ref=kp(ce,re,he),Je.return=ce,Je)}function ze(ce,re,he,Je){return re===null||re.tag!==4||re.stateNode.containerInfo!==he.containerInfo||re.stateNode.implementation!==he.implementation?(re=ZS(he,ce.mode,Je),re.return=ce,re):(re=M(re,he.children||[]),re.return=ce,re)}function Ze(ce,re,he,Je,rt){return re===null||re.tag!==7?(re=su(he,ce.mode,Je,rt),re.return=ce,re):(re=M(re,he),re.return=ce,re)}function yt(ce,re,he){if(typeof re=="string"&&re!==""||typeof re=="number")return re=QS(""+re,ce.mode,he),re.return=ce,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case l:return he=My(re.type,re.key,re.props,null,ce.mode,he),he.ref=kp(ce,null,re),he.return=ce,he;case c:return re=ZS(re,ce.mode,he),re.return=ce,re;case S:var Je=re._init;return yt(ce,Je(re._payload),he)}if(K(re)||P(re))return re=su(re,ce.mode,he,null),re.return=ce,re;Y0(ce,re)}return null}function ct(ce,re,he,Je){var rt=re!==null?re.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return rt!==null?null:Z(ce,re,""+he,Je);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case l:return he.key===rt?ve(ce,re,he,Je):null;case c:return he.key===rt?ze(ce,re,he,Je):null;case S:return rt=he._init,ct(ce,re,rt(he._payload),Je)}if(K(he)||P(he))return rt!==null?null:Ze(ce,re,he,Je,null);Y0(ce,he)}return null}function xn(ce,re,he,Je,rt){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return ce=ce.get(he)||null,Z(re,ce,""+Je,rt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case l:return ce=ce.get(Je.key===null?he:Je.key)||null,ve(re,ce,Je,rt);case c:return ce=ce.get(Je.key===null?he:Je.key)||null,ze(re,ce,Je,rt);case S:var At=Je._init;return xn(ce,re,he,At(Je._payload),rt)}if(K(Je)||P(Je))return ce=ce.get(he)||null,Ze(re,ce,Je,rt,null);Y0(re,Je)}return null}function st(ce,re,he,Je){for(var rt=null,At=null,_t=re,tn=re=0,Ur=null;_t!==null&&tn<he.length;tn++){_t.index>tn?(Ur=_t,_t=null):Ur=_t.sibling;var nn=ct(ce,_t,he[tn],Je);if(nn===null){_t===null&&(_t=Ur);break}h&&_t&&nn.alternate===null&&p(ce,_t),re=N(nn,re,tn),At===null?rt=nn:At.sibling=nn,At=nn,_t=Ur}if(tn===he.length)return b(ce,_t),Gn&&Qc(ce,tn),rt;if(_t===null){for(;tn<he.length;tn++)_t=yt(ce,he[tn],Je),_t!==null&&(re=N(_t,re,tn),At===null?rt=_t:At.sibling=_t,At=_t);return Gn&&Qc(ce,tn),rt}for(_t=C(ce,_t);tn<he.length;tn++)Ur=xn(_t,ce,tn,he[tn],Je),Ur!==null&&(h&&Ur.alternate!==null&&_t.delete(Ur.key===null?tn:Ur.key),re=N(Ur,re,tn),At===null?rt=Ur:At.sibling=Ur,At=Ur);return h&&_t.forEach(function(Il){return p(ce,Il)}),Gn&&Qc(ce,tn),rt}function gi(ce,re,he,Je){var rt=P(he);if(typeof rt!="function")throw Error(o(150));if(he=rt.call(he),he==null)throw Error(o(151));for(var At=rt=null,_t=re,tn=re=0,Ur=null,nn=he.next();_t!==null&&!nn.done;tn++,nn=he.next()){_t.index>tn?(Ur=_t,_t=null):Ur=_t.sibling;var Il=ct(ce,_t,nn.value,Je);if(Il===null){_t===null&&(_t=Ur);break}h&&_t&&Il.alternate===null&&p(ce,_t),re=N(Il,re,tn),At===null?rt=Il:At.sibling=Il,At=Il,_t=Ur}if(nn.done)return b(ce,_t),Gn&&Qc(ce,tn),rt;if(_t===null){for(;!nn.done;tn++,nn=he.next())nn=yt(ce,nn.value,Je),nn!==null&&(re=N(nn,re,tn),At===null?rt=nn:At.sibling=nn,At=nn);return Gn&&Qc(ce,tn),rt}for(_t=C(ce,_t);!nn.done;tn++,nn=he.next())nn=xn(_t,ce,tn,nn.value,Je),nn!==null&&(h&&nn.alternate!==null&&_t.delete(nn.key===null?tn:nn.key),re=N(nn,re,tn),At===null?rt=nn:At.sibling=nn,At=nn);return h&&_t.forEach(function(a7){return p(ce,a7)}),Gn&&Qc(ce,tn),rt}function Vs(ce,re,he,Je){if(typeof he=="object"&&he!==null&&he.type===u&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case l:e:{for(var rt=he.key,At=re;At!==null;){if(At.key===rt){if(rt=he.type,rt===u){if(At.tag===7){b(ce,At.sibling),re=M(At,he.props.children),re.return=ce,ce=re;break e}}else if(At.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&wk(rt)===At.type){b(ce,At.sibling),re=M(At,he.props),re.ref=kp(ce,At,he),re.return=ce,ce=re;break e}b(ce,At);break}else p(ce,At);At=At.sibling}he.type===u?(re=su(he.props.children,ce.mode,Je,he.key),re.return=ce,ce=re):(Je=My(he.type,he.key,he.props,null,ce.mode,Je),Je.ref=kp(ce,re,he),Je.return=ce,ce=Je)}return H(ce);case c:e:{for(At=he.key;re!==null;){if(re.key===At)if(re.tag===4&&re.stateNode.containerInfo===he.containerInfo&&re.stateNode.implementation===he.implementation){b(ce,re.sibling),re=M(re,he.children||[]),re.return=ce,ce=re;break e}else{b(ce,re);break}else p(ce,re);re=re.sibling}re=ZS(he,ce.mode,Je),re.return=ce,ce=re}return H(ce);case S:return At=he._init,Vs(ce,re,At(he._payload),Je)}if(K(he))return st(ce,re,he,Je);if(P(he))return gi(ce,re,he,Je);Y0(ce,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,re!==null&&re.tag===6?(b(ce,re.sibling),re=M(re,he),re.return=ce,ce=re):(b(ce,re),re=QS(he,ce.mode,Je),re.return=ce,ce=re),H(ce)):b(ce,re)}return Vs}var Fd=Sk(!0),Ek=Sk(!1),Op={},zs=Un(Op),Lp=Un(Op),zd=Un(Op);function Xo(h){if(h===Op)throw Error(o(174));return h}function gS(h,p){dn(zd,p),dn(Lp,h),dn(zs,Op),h=te(p),Qt(zs),dn(zs,h)}function Ud(){Qt(zs),Qt(Lp),Qt(zd)}function Ck(h){var p=Xo(zd.current),b=Xo(zs.current);p=D(b,h.type,p),b!==p&&(dn(Lp,h),dn(zs,p))}function vS(h){Lp.current===h&&(Qt(zs),Qt(Lp))}var Xn=Un(0);function q0(h){for(var p=h;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||Sl(b)||z(b)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var yS=[];function _S(){for(var h=0;h<yS.length;h++){var p=yS[h];Ue?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}yS.length=0}var Q0=a.ReactCurrentDispatcher,Us=a.ReactCurrentBatchConfig,Gd=0,sr=null,fi=null,zr=null,Z0=!1,Bp=!1,Dp=0,Nj=0;function pi(){throw Error(o(321))}function xS(h,p){if(p===null)return!1;for(var b=0;b<p.length&&b<h.length;b++)if(!$o(h[b],p[b]))return!1;return!0}function bS(h,p,b,C,M,N){if(Gd=N,sr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Q0.current=h===null||h.memoizedState===null?Bj:Dj,h=b(C,M),Bp){N=0;do{if(Bp=!1,Dp=0,25<=N)throw Error(o(301));N+=1,zr=fi=null,p.updateQueue=null,Q0.current=Fj,h=b(C,M)}while(Bp)}if(Q0.current=iy,p=fi!==null&&fi.next!==null,Gd=0,zr=fi=sr=null,Z0=!1,p)throw Error(o(300));return h}function wS(){var h=Dp!==0;return Dp=0,h}function Oa(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?sr.memoizedState=zr=h:zr=zr.next=h,zr}function Yo(){if(fi===null){var h=sr.alternate;h=h!==null?h.memoizedState:null}else h=fi.next;var p=zr===null?sr.memoizedState:zr.next;if(p!==null)zr=p,fi=h;else{if(h===null)throw Error(o(310));fi=h,h={memoizedState:fi.memoizedState,baseState:fi.baseState,baseQueue:fi.baseQueue,queue:fi.queue,next:null},zr===null?sr.memoizedState=zr=h:zr=zr.next=h}return zr}function Zc(h,p){return typeof p=="function"?p(h):p}function ey(h){var p=Yo(),b=p.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=h;var C=fi,M=C.baseQueue,N=b.pending;if(N!==null){if(M!==null){var H=M.next;M.next=N.next,N.next=H}C.baseQueue=M=N,b.pending=null}if(M!==null){N=M.next,C=C.baseState;var Z=H=null,ve=null,ze=N;do{var Ze=ze.lane;if((Gd&Ze)===Ze)ve!==null&&(ve=ve.next={lane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),C=ze.hasEagerState?ze.eagerState:h(C,ze.action);else{var yt={lane:Ze,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null};ve===null?(Z=ve=yt,H=C):ve=ve.next=yt,sr.lanes|=Ze,Vd|=Ze}ze=ze.next}while(ze!==null&&ze!==N);ve===null?H=C:ve.next=Z,$o(C,p.memoizedState)||(fs=!0),p.memoizedState=C,p.baseState=H,p.baseQueue=ve,b.lastRenderedState=C}if(h=b.interleaved,h!==null){M=h;do N=M.lane,sr.lanes|=N,Vd|=N,M=M.next;while(M!==h)}else M===null&&(b.lanes=0);return[p.memoizedState,b.dispatch]}function ty(h){var p=Yo(),b=p.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=h;var C=b.dispatch,M=b.pending,N=p.memoizedState;if(M!==null){b.pending=null;var H=M=M.next;do N=h(N,H.action),H=H.next;while(H!==M);$o(N,p.memoizedState)||(fs=!0),p.memoizedState=N,p.baseQueue===null&&(p.baseState=N),b.lastRenderedState=N}return[N,C]}function Ak(){}function Mk(h,p){var b=sr,C=Yo(),M=p(),N=!$o(C.memoizedState,M);if(N&&(C.memoizedState=M,fs=!0),C=C.queue,zp(Rk.bind(null,b,C,h),[h]),C.getSnapshot!==p||N||zr!==null&&zr.memoizedState.tag&1){if(b.flags|=2048,Fp(9,Pk.bind(null,b,C,M,p),void 0,null),br===null)throw Error(o(349));Gd&30||Tk(b,p,M)}return M}function Tk(h,p,b){h.flags|=16384,h={getSnapshot:p,value:b},p=sr.updateQueue,p===null?(p={lastEffect:null,stores:null},sr.updateQueue=p,p.stores=[h]):(b=p.stores,b===null?p.stores=[h]:b.push(h))}function Pk(h,p,b,C){p.value=b,p.getSnapshot=C,Ik(p)&&Gs(h,1,-1)}function Rk(h,p,b){return b(function(){Ik(p)&&Gs(h,1,-1)})}function Ik(h){var p=h.getSnapshot;h=h.value;try{var b=p();return!$o(h,b)}catch{return!0}}function SS(h){var p=Oa();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:h},p.queue=h,h=h.dispatch=Lj.bind(null,sr,h),[p.memoizedState,h]}function Fp(h,p,b,C){return h={tag:h,create:p,destroy:b,deps:C,next:null},p=sr.updateQueue,p===null?(p={lastEffect:null,stores:null},sr.updateQueue=p,p.lastEffect=h.next=h):(b=p.lastEffect,b===null?p.lastEffect=h.next=h:(C=b.next,b.next=h,h.next=C,p.lastEffect=h)),h}function Nk(){return Yo().memoizedState}function ny(h,p,b,C){var M=Oa();sr.flags|=h,M.memoizedState=Fp(1|p,b,void 0,C===void 0?null:C)}function ry(h,p,b,C){var M=Yo();C=C===void 0?null:C;var N=void 0;if(fi!==null){var H=fi.memoizedState;if(N=H.destroy,C!==null&&xS(C,H.deps)){M.memoizedState=Fp(p,b,N,C);return}}sr.flags|=h,M.memoizedState=Fp(1|p,b,N,C)}function ES(h,p){return ny(8390656,8,h,p)}function zp(h,p){return ry(2048,8,h,p)}function kk(h,p){return ry(4,2,h,p)}function Ok(h,p){return ry(4,4,h,p)}function Lk(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function Bk(h,p,b){return b=b!=null?b.concat([h]):null,ry(4,4,Lk.bind(null,p,h),b)}function CS(){}function Dk(h,p){var b=Yo();p=p===void 0?null:p;var C=b.memoizedState;return C!==null&&p!==null&&xS(p,C[1])?C[0]:(b.memoizedState=[h,p],h)}function Fk(h,p){var b=Yo();p=p===void 0?null:p;var C=b.memoizedState;return C!==null&&p!==null&&xS(p,C[1])?C[0]:(h=h(),b.memoizedState=[h,p],h)}function kj(h,p){var b=en;en=b!==0&&4>b?b:4,h(!0);var C=Us.transition;Us.transition={};try{h(!1),p()}finally{en=b,Us.transition=C}}function zk(){return Yo().memoizedState}function Oj(h,p,b){var C=Tl(h);b={lane:C,action:b,hasEagerState:!1,eagerState:null,next:null},Uk(h)?Gk(p,b):(Hk(h,p,b),b=Oi(),h=Gs(h,C,b),h!==null&&Vk(h,p,C))}function Lj(h,p,b){var C=Tl(h),M={lane:C,action:b,hasEagerState:!1,eagerState:null,next:null};if(Uk(h))Gk(p,M);else{Hk(h,p,M);var N=h.alternate;if(h.lanes===0&&(N===null||N.lanes===0)&&(N=p.lastRenderedReducer,N!==null))try{var H=p.lastRenderedState,Z=N(H,b);if(M.hasEagerState=!0,M.eagerState=Z,$o(Z,H))return}catch{}finally{}b=Oi(),h=Gs(h,C,b),h!==null&&Vk(h,p,C)}}function Uk(h){var p=h.alternate;return h===sr||p!==null&&p===sr}function Gk(h,p){Bp=Z0=!0;var b=h.pending;b===null?p.next=p:(p.next=b.next,b.next=p),h.pending=p}function Hk(h,p,b){br!==null&&h.mode&1&&!(Pt&2)?(h=p.interleaved,h===null?(b.next=b,Ko===null?Ko=[p]:Ko.push(p)):(b.next=h.next,h.next=b),p.interleaved=b):(h=p.pending,h===null?b.next=b:(b.next=h.next,h.next=b),p.pending=b)}function Vk(h,p,b){if(b&4194240){var C=p.lanes;C&=h.pendingLanes,b|=C,p.lanes=b,Z1(h,b)}}var iy={readContext:Bs,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Bj={readContext:Bs,useCallback:function(h,p){return Oa().memoizedState=[h,p===void 0?null:p],h},useContext:Bs,useEffect:ES,useImperativeHandle:function(h,p,b){return b=b!=null?b.concat([h]):null,ny(4194308,4,Lk.bind(null,p,h),b)},useLayoutEffect:function(h,p){return ny(4194308,4,h,p)},useInsertionEffect:function(h,p){return ny(4,2,h,p)},useMemo:function(h,p){var b=Oa();return p=p===void 0?null:p,h=h(),b.memoizedState=[h,p],h},useReducer:function(h,p,b){var C=Oa();return p=b!==void 0?b(p):p,C.memoizedState=C.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},C.queue=h,h=h.dispatch=Oj.bind(null,sr,h),[C.memoizedState,h]},useRef:function(h){var p=Oa();return h={current:h},p.memoizedState=h},useState:SS,useDebugValue:CS,useDeferredValue:function(h){var p=SS(h),b=p[0],C=p[1];return ES(function(){var M=Us.transition;Us.transition={};try{C(h)}finally{Us.transition=M}},[h]),b},useTransition:function(){var h=SS(!1),p=h[0];return h=kj.bind(null,h[1]),Oa().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,b){var C=sr,M=Oa();if(Gn){if(b===void 0)throw Error(o(407));b=b()}else{if(b=p(),br===null)throw Error(o(349));Gd&30||Tk(C,p,b)}M.memoizedState=b;var N={value:b,getSnapshot:p};return M.queue=N,ES(Rk.bind(null,C,N,h),[h]),C.flags|=2048,Fp(9,Pk.bind(null,C,N,b,p),void 0,null),b},useId:function(){var h=Oa(),p=br.identifierPrefix;if(Gn){var b=ka,C=Na;b=(C&~(1<<32-fo(C)-1)).toString(32)+b,p=":"+p+"R"+b,b=Dp++,0<b&&(p+="H"+b.toString(32)),p+=":"}else b=Nj++,p=":"+p+"r"+b.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},Dj={readContext:Bs,useCallback:Dk,useContext:Bs,useEffect:zp,useImperativeHandle:Bk,useInsertionEffect:kk,useLayoutEffect:Ok,useMemo:Fk,useReducer:ey,useRef:Nk,useState:function(){return ey(Zc)},useDebugValue:CS,useDeferredValue:function(h){var p=ey(Zc),b=p[0],C=p[1];return zp(function(){var M=Us.transition;Us.transition={};try{C(h)}finally{Us.transition=M}},[h]),b},useTransition:function(){var h=ey(Zc)[0],p=Yo().memoizedState;return[h,p]},useMutableSource:Ak,useSyncExternalStore:Mk,useId:zk,unstable_isNewReconciler:!1},Fj={readContext:Bs,useCallback:Dk,useContext:Bs,useEffect:zp,useImperativeHandle:Bk,useInsertionEffect:kk,useLayoutEffect:Ok,useMemo:Fk,useReducer:ty,useRef:Nk,useState:function(){return ty(Zc)},useDebugValue:CS,useDeferredValue:function(h){var p=ty(Zc),b=p[0],C=p[1];return zp(function(){var M=Us.transition;Us.transition={};try{C(h)}finally{Us.transition=M}},[h]),b},useTransition:function(){var h=ty(Zc)[0],p=Yo().memoizedState;return[h,p]},useMutableSource:Ak,useSyncExternalStore:Mk,useId:zk,unstable_isNewReconciler:!1};function AS(h,p){try{var b="",C=p;do b+=Ij(C),C=C.return;while(C);var M=b}catch(N){M=`
Error generating stack: `+N.message+`
`+N.stack}return{value:h,source:p,stack:M}}function MS(h,p){try{console.error(p.value)}catch(b){setTimeout(function(){throw b})}}var zj=typeof WeakMap=="function"?WeakMap:Map;function Wk(h,p,b){b=Ia(-1,b),b.tag=3,b.payload={element:null};var C=p.value;return b.callback=function(){xy||(xy=!0,jS=C),MS(h,p)},b}function jk(h,p,b){b=Ia(-1,b),b.tag=3;var C=h.type.getDerivedStateFromError;if(typeof C=="function"){var M=p.value;b.payload=function(){return C(M)},b.callback=function(){MS(h,p)}}var N=h.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(b.callback=function(){MS(h,p),typeof C!="function"&&(Al===null?Al=new Set([this]):Al.add(this));var H=p.stack;this.componentDidCatch(p.value,{componentStack:H!==null?H:""})}),b}function $k(h,p,b){var C=h.pingCache;if(C===null){C=h.pingCache=new zj;var M=new Set;C.set(p,M)}else M=C.get(p),M===void 0&&(M=new Set,C.set(p,M));M.has(b)||(M.add(b),h=Zj.bind(null,h,p,b),p.then(h,h))}function Jk(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function Kk(h,p,b,C,M){return h.mode&1?(h.flags|=65536,h.lanes=M,h):(h===p?h.flags|=65536:(h.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(p=Ia(-1,1),p.tag=2,Cl(b,p))),b.lanes|=1),h)}function qo(h){h.flags|=4}function Xk(h,p){if(h!==null&&h.child===p.child)return!0;if(p.flags&16)return!1;for(h=p.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var Up,Gp,sy,oy;if(Ge)Up=function(h,p){for(var b=p.child;b!==null;){if(b.tag===5||b.tag===6)Y(h,b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Gp=function(){},sy=function(h,p,b,C,M){if(h=h.memoizedProps,h!==C){var N=p.stateNode,H=Xo(zs.current);b=ye(N,b,h,C,M,H),(p.updateQueue=b)&&qo(p)}},oy=function(h,p,b,C){b!==C&&qo(p)};else if(me){Up=function(h,p,b,C){for(var M=p.child;M!==null;){if(M.tag===5){var N=M.stateNode;b&&C&&(N=Cn(N,M.type,M.memoizedProps,M)),Y(h,N)}else if(M.tag===6)N=M.stateNode,b&&C&&(N=ei(N,M.memoizedProps,M)),Y(h,N);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)N=M.child,N!==null&&(N.return=M),Up(h,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};var Yk=function(h,p,b,C){for(var M=p.child;M!==null;){if(M.tag===5){var N=M.stateNode;b&&C&&(N=Cn(N,M.type,M.memoizedProps,M)),Fn(h,N)}else if(M.tag===6)N=M.stateNode,b&&C&&(N=ei(N,M.memoizedProps,M)),Fn(h,N);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)N=M.child,N!==null&&(N.return=M),Yk(h,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};Gp=function(h,p){var b=p.stateNode;if(!Xk(h,p)){h=b.containerInfo;var C=on(h);Yk(C,p,!1,!1),b.pendingChildren=C,qo(p),_r(h,C)}},sy=function(h,p,b,C,M){var N=h.stateNode,H=h.memoizedProps;if((h=Xk(h,p))&&H===C)p.stateNode=N;else{var Z=p.stateNode,ve=Xo(zs.current),ze=null;H!==C&&(ze=ye(Z,b,H,C,M,ve)),h&&ze===null?p.stateNode=N:(N=Qe(N,ze,b,H,C,p,h,Z),pe(N,b,C,M,ve)&&qo(p),p.stateNode=N,h?qo(p):Up(N,p,!1,!1))}},oy=function(h,p,b,C){b!==C?(h=Xo(zd.current),b=Xo(zs.current),p.stateNode=fe(C,h,b,p),qo(p)):p.stateNode=h.stateNode}}else Gp=function(){},sy=function(){},oy=function(){};function Hp(h,p){if(!Gn)switch(h.tailMode){case"hidden":p=h.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var C=null;b!==null;)b.alternate!==null&&(C=b),b=b.sibling;C===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:C.sibling=null}}function mi(h){var p=h.alternate!==null&&h.alternate.child===h.child,b=0,C=0;if(p)for(var M=h.child;M!==null;)b|=M.lanes|M.childLanes,C|=M.subtreeFlags&14680064,C|=M.flags&14680064,M.return=h,M=M.sibling;else for(M=h.child;M!==null;)b|=M.lanes|M.childLanes,C|=M.subtreeFlags,C|=M.flags,M.return=h,M=M.sibling;return h.subtreeFlags|=C,h.childLanes=b,p}function Uj(h,p,b){var C=p.pendingProps;switch(hS(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(p),null;case 1:return $i(p.type)&&L0(),mi(p),null;case 3:return C=p.stateNode,Ud(),Qt(hi),Qt(xr),_S(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(h===null||h.child===null)&&(Np(p)?qo(p):h===null||h.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,mo!==null&&(KS(mo),mo=null))),Gp(h,p),mi(p),null;case 5:vS(p),b=Xo(zd.current);var M=p.type;if(h!==null&&p.stateNode!=null)sy(h,p,M,C,b),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!C){if(p.stateNode===null)throw Error(o(166));return mi(p),null}if(h=Xo(zs.current),Np(p)){if(!_e)throw Error(o(175));h=ft(p.stateNode,p.type,p.memoizedProps,b,h,p,!Ip),p.updateQueue=h,h!==null&&qo(p)}else{var N=ue(M,C,b,h,p);Up(N,p,!1,!1),p.stateNode=N,pe(N,M,C,b,h)&&qo(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return mi(p),null;case 6:if(h&&p.stateNode!=null)oy(h,p,h.memoizedProps,C);else{if(typeof C!="string"&&p.stateNode===null)throw Error(o(166));if(h=Xo(zd.current),b=Xo(zs.current),Np(p)){if(!_e)throw Error(o(176));if(h=p.stateNode,C=p.memoizedProps,(b=vt(h,C,p,!Ip))&&(M=ds,M!==null))switch(N=(M.mode&1)!==0,M.tag){case 3:Ma(M.stateNode.containerInfo,h,C,N);break;case 5:nr(M.type,M.memoizedProps,M.stateNode,h,C,N)}b&&qo(p)}else p.stateNode=fe(C,h,b,p)}return mi(p),null;case 13:if(Qt(Xn),C=p.memoizedState,Gn&&hs!==null&&p.mode&1&&!(p.flags&128)){for(h=hs;h;)h=ge(h);return Dd(),p.flags|=98560,p}if(C!==null&&C.dehydrated!==null){if(C=Np(p),h===null){if(!C)throw Error(o(318));if(!_e)throw Error(o(344));if(h=p.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));wt(h,p)}else Dd(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return mi(p),null}return mo!==null&&(KS(mo),mo=null),p.flags&128?(p.lanes=b,p):(C=C!==null,b=!1,h===null?Np(p):b=h.memoizedState!==null,C&&!b&&(p.child.flags|=8192,p.mode&1&&(h===null||Xn.current&1?Tr===0&&(Tr=3):YS())),p.updateQueue!==null&&(p.flags|=4),mi(p),null);case 4:return Ud(),Gp(h,p),h===null&&$e(p.stateNode.containerInfo),mi(p),null;case 10:return oS(p.type._context),mi(p),null;case 17:return $i(p.type)&&L0(),mi(p),null;case 19:if(Qt(Xn),M=p.memoizedState,M===null)return mi(p),null;if(C=(p.flags&128)!==0,N=M.rendering,N===null)if(C)Hp(M,!1);else{if(Tr!==0||h!==null&&h.flags&128)for(h=p.child;h!==null;){if(N=q0(h),N!==null){for(p.flags|=128,Hp(M,!1),h=N.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),p.subtreeFlags=0,h=b,C=p.child;C!==null;)b=C,M=h,b.flags&=14680066,N=b.alternate,N===null?(b.childLanes=0,b.lanes=M,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=N.childLanes,b.lanes=N.lanes,b.child=N.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=N.memoizedProps,b.memoizedState=N.memoizedState,b.updateQueue=N.updateQueue,b.type=N.type,M=N.dependencies,b.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext}),C=C.sibling;return dn(Xn,Xn.current&1|2),p.child}h=h.sibling}M.tail!==null&&Fr()>WS&&(p.flags|=128,C=!0,Hp(M,!1),p.lanes=4194304)}else{if(!C)if(h=q0(N),h!==null){if(p.flags|=128,C=!0,h=h.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),Hp(M,!0),M.tail===null&&M.tailMode==="hidden"&&!N.alternate&&!Gn)return mi(p),null}else 2*Fr()-M.renderingStartTime>WS&&b!==1073741824&&(p.flags|=128,C=!0,Hp(M,!1),p.lanes=4194304);M.isBackwards?(N.sibling=p.child,p.child=N):(h=M.last,h!==null?h.sibling=N:p.child=N,M.last=N)}return M.tail!==null?(p=M.tail,M.rendering=p,M.tail=p.sibling,M.renderingStartTime=Fr(),p.sibling=null,h=Xn.current,dn(Xn,C?h&1|2:h&1),p):(mi(p),null);case 22:case 23:return XS(),C=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==C&&(p.flags|=8192),C&&p.mode&1?ps&1073741824&&(mi(p),Ge&&p.subtreeFlags&6&&(p.flags|=8192)):mi(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var Gj=a.ReactCurrentOwner,fs=!1;function ki(h,p,b,C){p.child=h===null?Ek(p,null,b,C):Fd(p,h.child,b,C)}function qk(h,p,b,C,M){b=b.render;var N=p.ref;return Od(p,M),C=bS(h,p,b,C,N,M),b=wS(),h!==null&&!fs?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~M,La(h,p,M)):(Gn&&b&&dS(p),p.flags|=1,ki(h,p,C,M),p.child)}function Qk(h,p,b,C,M){if(h===null){var N=b.type;return typeof N=="function"&&!qS(N)&&N.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(p.tag=15,p.type=N,Zk(h,p,N,C,M)):(h=My(b.type,null,C,p,p.mode,M),h.ref=p.ref,h.return=p,p.child=h)}if(N=h.child,!(h.lanes&M)){var H=N.memoizedProps;if(b=b.compare,b=b!==null?b:H0,b(H,C)&&h.ref===p.ref)return La(h,p,M)}return p.flags|=1,h=Rl(N,C),h.ref=p.ref,h.return=p,p.child=h}function Zk(h,p,b,C,M){if(h!==null&&H0(h.memoizedProps,C)&&h.ref===p.ref)if(fs=!1,(h.lanes&M)!==0)h.flags&131072&&(fs=!0);else return p.lanes=h.lanes,La(h,p,M);return TS(h,p,b,C,M)}function eO(h,p,b){var C=p.pendingProps,M=C.children,N=h!==null?h.memoizedState:null;if(C.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},dn(Hd,ps),ps|=b;else if(b&1073741824)p.memoizedState={baseLanes:0,cachePool:null},C=N!==null?N.baseLanes:b,dn(Hd,ps),ps|=C;else return h=N!==null?N.baseLanes|b:b,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null},p.updateQueue=null,dn(Hd,ps),ps|=h,null;else N!==null?(C=N.baseLanes|b,p.memoizedState=null):C=b,dn(Hd,ps),ps|=C;return ki(h,p,M,b),p.child}function tO(h,p){var b=p.ref;(h===null&&b!==null||h!==null&&h.ref!==b)&&(p.flags|=512,p.flags|=2097152)}function TS(h,p,b,C,M){var N=$i(b)?Wo:xr.current;return N=Nd(p,N),Od(p,M),b=bS(h,p,b,C,N,M),C=wS(),h!==null&&!fs?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~M,La(h,p,M)):(Gn&&C&&dS(p),p.flags|=1,ki(h,p,b,M),p.child)}function nO(h,p,b,C,M){if($i(b)){var N=!0;B0(p)}else N=!1;if(Od(p,M),p.stateNode===null)h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),gk(p,b,C),uS(p,b,C,M),C=!0;else if(h===null){var H=p.stateNode,Z=p.memoizedProps;H.props=Z;var ve=H.context,ze=b.contextType;typeof ze=="object"&&ze!==null?ze=Bs(ze):(ze=$i(b)?Wo:xr.current,ze=Nd(p,ze));var Ze=b.getDerivedStateFromProps,yt=typeof Ze=="function"||typeof H.getSnapshotBeforeUpdate=="function";yt||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(Z!==C||ve!==ze)&&vk(p,H,C,ze),El=!1;var ct=p.memoizedState;H.state=ct,$0(p,C,H,M),ve=p.memoizedState,Z!==C||ct!==ve||hi.current||El?(typeof Ze=="function"&&(cS(p,b,Ze,C),ve=p.memoizedState),(Z=El||mk(p,b,Z,C,ct,ve,ze))?(yt||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(p.flags|=4194308)):(typeof H.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=C,p.memoizedState=ve),H.props=C,H.state=ve,H.context=ze,C=Z):(typeof H.componentDidMount=="function"&&(p.flags|=4194308),C=!1)}else{H=p.stateNode,dk(h,p),Z=p.memoizedProps,ze=p.type===p.elementType?Z:po(p.type,Z),H.props=ze,yt=p.pendingProps,ct=H.context,ve=b.contextType,typeof ve=="object"&&ve!==null?ve=Bs(ve):(ve=$i(b)?Wo:xr.current,ve=Nd(p,ve));var xn=b.getDerivedStateFromProps;(Ze=typeof xn=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(Z!==yt||ct!==ve)&&vk(p,H,C,ve),El=!1,ct=p.memoizedState,H.state=ct,$0(p,C,H,M);var st=p.memoizedState;Z!==yt||ct!==st||hi.current||El?(typeof xn=="function"&&(cS(p,b,xn,C),st=p.memoizedState),(ze=El||mk(p,b,ze,C,ct,st,ve)||!1)?(Ze||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(C,st,ve),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(C,st,ve)),typeof H.componentDidUpdate=="function"&&(p.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof H.componentDidUpdate!="function"||Z===h.memoizedProps&&ct===h.memoizedState||(p.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||Z===h.memoizedProps&&ct===h.memoizedState||(p.flags|=1024),p.memoizedProps=C,p.memoizedState=st),H.props=C,H.state=st,H.context=ve,C=ze):(typeof H.componentDidUpdate!="function"||Z===h.memoizedProps&&ct===h.memoizedState||(p.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||Z===h.memoizedProps&&ct===h.memoizedState||(p.flags|=1024),C=!1)}return PS(h,p,b,C,N,M)}function PS(h,p,b,C,M,N){tO(h,p);var H=(p.flags&128)!==0;if(!C&&!H)return M&&ok(p,b,!1),La(h,p,N);C=p.stateNode,Gj.current=p;var Z=H&&typeof b.getDerivedStateFromError!="function"?null:C.render();return p.flags|=1,h!==null&&H?(p.child=Fd(p,h.child,null,N),p.child=Fd(p,null,Z,N)):ki(h,p,Z,N),p.memoizedState=C.state,M&&ok(p,b,!0),p.child}function rO(h){var p=h.stateNode;p.pendingContext?ik(h,p.pendingContext,p.pendingContext!==p.context):p.context&&ik(h,p.context,!1),gS(h,p.containerInfo)}function iO(h,p,b,C,M){return Dd(),mS(M),p.flags|=256,ki(h,p,b,C),p.child}var ay={dehydrated:null,treeContext:null,retryLane:0};function ly(h){return{baseLanes:h,cachePool:null}}function sO(h,p,b){var C=p.pendingProps,M=Xn.current,N=!1,H=(p.flags&128)!==0,Z;if((Z=H)||(Z=h!==null&&h.memoizedState===null?!1:(M&2)!==0),Z?(N=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(M|=1),dn(Xn,M&1),h===null)return pS(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(p.mode&1?z(h)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(M=C.children,h=C.fallback,N?(C=p.mode,N=p.child,M={mode:"hidden",children:M},!(C&1)&&N!==null?(N.childLanes=0,N.pendingProps=M):N=Ty(M,C,0,null),h=su(h,C,b,null),N.return=p,h.return=p,N.sibling=h,p.child=N,p.child.memoizedState=ly(b),p.memoizedState=ay,h):RS(p,M));if(M=h.memoizedState,M!==null){if(Z=M.dehydrated,Z!==null){if(H)return p.flags&256?(p.flags&=-257,cy(h,p,b,Error(o(422)))):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(N=C.fallback,M=p.mode,C=Ty({mode:"visible",children:C.children},M,0,null),N=su(N,M,b,null),N.flags|=2,C.return=p,N.return=p,C.sibling=N,p.child=C,p.mode&1&&Fd(p,h.child,null,b),p.child.memoizedState=ly(b),p.memoizedState=ay,N);if(!(p.mode&1))p=cy(h,p,b,null);else if(z(Z))p=cy(h,p,b,Error(o(419)));else if(C=(b&h.childLanes)!==0,fs||C){if(C=br,C!==null){switch(b&-b){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}C=N&(C.suspendedLanes|b)?0:N,C!==0&&C!==M.retryLane&&(M.retryLane=C,Gs(h,C,-1))}YS(),p=cy(h,p,b,Error(o(421)))}else Sl(Z)?(p.flags|=128,p.child=h.child,p=e7.bind(null,h),le(Z,p),p=null):(b=M.treeContext,_e&&(hs=ot(Z),ds=p,Gn=!0,mo=null,Ip=!1,b!==null&&(Ds[Fs++]=Na,Ds[Fs++]=ka,Ds[Fs++]=qc,Na=b.id,ka=b.overflow,qc=p)),p=RS(p,p.pendingProps.children),p.flags|=4096);return p}return N?(C=aO(h,p,C.children,C.fallback,b),N=p.child,M=h.child.memoizedState,N.memoizedState=M===null?ly(b):{baseLanes:M.baseLanes|b,cachePool:null},N.childLanes=h.childLanes&~b,p.memoizedState=ay,C):(b=oO(h,p,C.children,b),p.memoizedState=null,b)}return N?(C=aO(h,p,C.children,C.fallback,b),N=p.child,M=h.child.memoizedState,N.memoizedState=M===null?ly(b):{baseLanes:M.baseLanes|b,cachePool:null},N.childLanes=h.childLanes&~b,p.memoizedState=ay,C):(b=oO(h,p,C.children,b),p.memoizedState=null,b)}function RS(h,p){return p=Ty({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function oO(h,p,b,C){var M=h.child;return h=M.sibling,b=Rl(M,{mode:"visible",children:b}),!(p.mode&1)&&(b.lanes=C),b.return=p,b.sibling=null,h!==null&&(C=p.deletions,C===null?(p.deletions=[h],p.flags|=16):C.push(h)),p.child=b}function aO(h,p,b,C,M){var N=p.mode;h=h.child;var H=h.sibling,Z={mode:"hidden",children:b};return!(N&1)&&p.child!==h?(b=p.child,b.childLanes=0,b.pendingProps=Z,p.deletions=null):(b=Rl(h,Z),b.subtreeFlags=h.subtreeFlags&14680064),H!==null?C=Rl(H,C):(C=su(C,N,M,null),C.flags|=2),C.return=p,b.return=p,b.sibling=C,p.child=b,C}function cy(h,p,b,C){return C!==null&&mS(C),Fd(p,h.child,null,b),h=RS(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function lO(h,p,b){h.lanes|=p;var C=h.alternate;C!==null&&(C.lanes|=p),aS(h.return,p,b)}function IS(h,p,b,C,M){var N=h.memoizedState;N===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:C,tail:b,tailMode:M}:(N.isBackwards=p,N.rendering=null,N.renderingStartTime=0,N.last=C,N.tail=b,N.tailMode=M)}function cO(h,p,b){var C=p.pendingProps,M=C.revealOrder,N=C.tail;if(ki(h,p,C.children,b),C=Xn.current,C&2)C=C&1|2,p.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&lO(h,b,p);else if(h.tag===19)lO(h,b,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}C&=1}if(dn(Xn,C),!(p.mode&1))p.memoizedState=null;else switch(M){case"forwards":for(b=p.child,M=null;b!==null;)h=b.alternate,h!==null&&q0(h)===null&&(M=b),b=b.sibling;b=M,b===null?(M=p.child,p.child=null):(M=b.sibling,b.sibling=null),IS(p,!1,M,b,N);break;case"backwards":for(b=null,M=p.child,p.child=null;M!==null;){if(h=M.alternate,h!==null&&q0(h)===null){p.child=M;break}h=M.sibling,M.sibling=b,b=M,M=h}IS(p,!0,b,null,N);break;case"together":IS(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function La(h,p,b){if(h!==null&&(p.dependencies=h.dependencies),Vd|=p.lanes,!(b&p.childLanes))return null;if(h!==null&&p.child!==h.child)throw Error(o(153));if(p.child!==null){for(h=p.child,b=Rl(h,h.pendingProps),p.child=b,b.return=p;h.sibling!==null;)h=h.sibling,b=b.sibling=Rl(h,h.pendingProps),b.return=p;b.sibling=null}return p.child}function Hj(h,p,b){switch(p.tag){case 3:rO(p),Dd();break;case 5:Ck(p);break;case 1:$i(p.type)&&B0(p);break;case 4:gS(p,p.stateNode.containerInfo);break;case 10:uk(p,p.type._context,p.memoizedProps.value);break;case 13:var C=p.memoizedState;if(C!==null)return C.dehydrated!==null?(dn(Xn,Xn.current&1),p.flags|=128,null):b&p.child.childLanes?sO(h,p,b):(dn(Xn,Xn.current&1),h=La(h,p,b),h!==null?h.sibling:null);dn(Xn,Xn.current&1);break;case 19:if(C=(b&p.childLanes)!==0,h.flags&128){if(C)return cO(h,p,b);p.flags|=128}var M=p.memoizedState;if(M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),dn(Xn,Xn.current),C)break;return null;case 22:case 23:return p.lanes=0,eO(h,p,b)}return La(h,p,b)}function Vj(h,p){switch(hS(p),p.tag){case 1:return $i(p.type)&&L0(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return Ud(),Qt(hi),Qt(xr),_S(),h=p.flags,h&65536&&!(h&128)?(p.flags=h&-65537|128,p):null;case 5:return vS(p),null;case 13:if(Qt(Xn),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(o(340));Dd()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return Qt(Xn),null;case 4:return Ud(),null;case 10:return oS(p.type._context),null;case 22:case 23:return XS(),null;case 24:return null;default:return null}}var uy=!1,eu=!1,Wj=typeof WeakSet=="function"?WeakSet:Set,je=null;function dy(h,p){var b=h.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(C){Xi(h,p,C)}else b.current=null}function NS(h,p,b){try{b()}catch(C){Xi(h,p,C)}}var uO=!1;function jj(h,p){for($(h.containerInfo),je=p;je!==null;)if(h=je,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,je=p;else for(;je!==null;){h=je;try{var b=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var C=b.memoizedProps,M=b.memoizedState,N=h.stateNode,H=N.getSnapshotBeforeUpdate(h.elementType===h.type?C:po(h.type,C),M);N.__reactInternalSnapshotBeforeUpdate=H}break;case 3:Ge&&Ke(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Z){Xi(h,h.return,Z)}if(p=h.sibling,p!==null){p.return=h.return,je=p;break}je=h.return}return b=uO,uO=!1,b}function tu(h,p,b){var C=p.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var M=C=C.next;do{if((M.tag&h)===h){var N=M.destroy;M.destroy=void 0,N!==void 0&&NS(p,b,N)}M=M.next}while(M!==C)}}function Vp(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&h)===h){var C=b.create;b.destroy=C()}b=b.next}while(b!==p)}}function kS(h){var p=h.ref;if(p!==null){var b=h.stateNode;switch(h.tag){case 5:h=Q(b);break;default:h=b}typeof p=="function"?p(h):p.current=h}}function dO(h,p,b){if(jo&&typeof jo.onCommitFiberUnmount=="function")try{jo.onCommitFiberUnmount(U0,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(h=p.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var C=h=h.next;do{var M=C,N=M.destroy;M=M.tag,N!==void 0&&(M&2||M&4)&&NS(p,b,N),C=C.next}while(C!==h)}break;case 1:if(dy(p,b),h=p.stateNode,typeof h.componentWillUnmount=="function")try{h.props=p.memoizedProps,h.state=p.memoizedState,h.componentWillUnmount()}catch(H){Xi(p,b,H)}break;case 5:dy(p,b);break;case 4:Ge?vO(h,p,b):me&&me&&(p=p.stateNode.containerInfo,b=on(p),Ni(p,b))}}function hO(h,p,b){for(var C=p;;)if(dO(h,C,b),C.child===null||Ge&&C.tag===4){if(C===p)break;for(;C.sibling===null;){if(C.return===null||C.return===p)return;C=C.return}C.sibling.return=C.return,C=C.sibling}else C.child.return=C,C=C.child}function fO(h){var p=h.alternate;p!==null&&(h.alternate=null,fO(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&Ye(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function pO(h){return h.tag===5||h.tag===3||h.tag===4}function mO(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||pO(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function gO(h){if(Ge){e:{for(var p=h.return;p!==null;){if(pO(p))break e;p=p.return}throw Error(o(160))}var b=p;switch(b.tag){case 5:p=b.stateNode,b.flags&32&&(bt(p),b.flags&=-33),b=mO(h),LS(h,b,p);break;case 3:case 4:p=b.stateNode.containerInfo,b=mO(h),OS(h,b,p);break;default:throw Error(o(161))}}}function OS(h,p,b){var C=h.tag;if(C===5||C===6)h=h.stateNode,p?Ae(b,h,p):ie(b,h);else if(C!==4&&(h=h.child,h!==null))for(OS(h,p,b),h=h.sibling;h!==null;)OS(h,p,b),h=h.sibling}function LS(h,p,b){var C=h.tag;if(C===5||C===6)h=h.stateNode,p?de(b,h,p):xe(b,h);else if(C!==4&&(h=h.child,h!==null))for(LS(h,p,b),h=h.sibling;h!==null;)LS(h,p,b),h=h.sibling}function vO(h,p,b){for(var C=p,M=!1,N,H;;){if(!M){M=C.return;e:for(;;){if(M===null)throw Error(o(160));switch(N=M.stateNode,M.tag){case 5:H=!1;break e;case 3:N=N.containerInfo,H=!0;break e;case 4:N=N.containerInfo,H=!0;break e}M=M.return}M=!0}if(C.tag===5||C.tag===6)hO(h,C,b),H?nt(N,C.stateNode):Oe(N,C.stateNode);else if(C.tag===18)H?lt(N,C.stateNode):zn(N,C.stateNode);else if(C.tag===4){if(C.child!==null){N=C.stateNode.containerInfo,H=!0,C.child.return=C,C=C.child;continue}}else if(dO(h,C,b),C.child!==null){C.child.return=C,C=C.child;continue}if(C===p)break;for(;C.sibling===null;){if(C.return===null||C.return===p)return;C=C.return,C.tag===4&&(M=!1)}C.sibling.return=C.return,C=C.sibling}}function BS(h,p){if(Ge){switch(p.tag){case 0:case 11:case 14:case 15:tu(3,p,p.return),Vp(3,p),tu(5,p,p.return);return;case 1:return;case 5:var b=p.stateNode;if(b!=null){var C=p.memoizedProps;h=h!==null?h.memoizedProps:C;var M=p.type,N=p.updateQueue;p.updateQueue=null,N!==null&&W(b,N,M,h,C,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));b=p.memoizedProps,oe(p.stateNode,h!==null?h.memoizedProps:b,b);return;case 3:_e&&h!==null&&h.memoizedState.isDehydrated&&Tt(p.stateNode.containerInfo);return;case 12:return;case 13:hy(p);return;case 19:hy(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:tu(3,p,p.return),Vp(3,p),tu(5,p,p.return);return;case 12:return;case 13:hy(p);return;case 19:hy(p);return;case 3:_e&&h!==null&&h.memoizedState.isDehydrated&&Tt(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(me){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,Ni(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function hy(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var b=h.stateNode;b===null&&(b=h.stateNode=new Wj),p.forEach(function(C){var M=t7.bind(null,h,C);b.has(C)||(b.add(C),C.then(M,M))})}}function $j(h,p){for(je=p;je!==null;){p=je;var b=p.deletions;if(b!==null)for(var C=0;C<b.length;C++){var M=b[C];try{var N=h;Ge?vO(N,M,p):hO(N,M,p);var H=M.alternate;H!==null&&(H.return=null),M.return=null}catch(rt){Xi(M,p,rt)}}if(b=p.child,p.subtreeFlags&12854&&b!==null)b.return=p,je=b;else for(;je!==null;){p=je;try{var Z=p.flags;if(Z&32&&Ge&&bt(p.stateNode),Z&512){var ve=p.alternate;if(ve!==null){var ze=ve.ref;ze!==null&&(typeof ze=="function"?ze(null):ze.current=null)}}if(Z&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var Ze=p.alternate;(Ze===null||Ze.memoizedState===null)&&(VS=Fr())}break;case 22:var yt=p.memoizedState!==null,ct=p.alternate,xn=ct!==null&&ct.memoizedState!==null;if(b=p,Ge){e:if(C=b,M=yt,N=null,Ge)for(var st=C;;){if(st.tag===5){if(N===null){N=st;var gi=st.stateNode;M?un(gi):ee(st.stateNode,st.memoizedProps)}}else if(st.tag===6){if(N===null){var Vs=st.stateNode;M?q(Vs):Pe(Vs,st.memoizedProps)}}else if((st.tag!==22&&st.tag!==23||st.memoizedState===null||st===C)&&st.child!==null){st.child.return=st,st=st.child;continue}if(st===C)break;for(;st.sibling===null;){if(st.return===null||st.return===C)break e;N===st&&(N=null),st=st.return}N===st&&(N=null),st.sibling.return=st.return,st=st.sibling}}if(yt&&!xn&&b.mode&1){je=b;for(var ce=b.child;ce!==null;){for(b=je=ce;je!==null;){C=je;var re=C.child;switch(C.tag){case 0:case 11:case 14:case 15:tu(4,C,C.return);break;case 1:dy(C,C.return);var he=C.stateNode;if(typeof he.componentWillUnmount=="function"){var Je=C.return;try{he.props=C.memoizedProps,he.state=C.memoizedState,he.componentWillUnmount()}catch(rt){Xi(C,Je,rt)}}break;case 5:dy(C,C.return);break;case 22:if(C.memoizedState!==null){xO(b);continue}}re!==null?(re.return=C,je=re):xO(b)}ce=ce.sibling}}}switch(Z&4102){case 2:gO(p),p.flags&=-3;break;case 6:gO(p),p.flags&=-3,BS(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,BS(p.alternate,p);break;case 4:BS(p.alternate,p)}}catch(rt){Xi(p,p.return,rt)}if(b=p.sibling,b!==null){b.return=p.return,je=b;break}je=p.return}}}function Jj(h,p,b){je=h,yO(h)}function yO(h,p,b){for(var C=(h.mode&1)!==0;je!==null;){var M=je,N=M.child;if(M.tag===22&&C){var H=M.memoizedState!==null||uy;if(!H){var Z=M.alternate,ve=Z!==null&&Z.memoizedState!==null||eu;Z=uy;var ze=eu;if(uy=H,(eu=ve)&&!ze)for(je=M;je!==null;)H=je,ve=H.child,H.tag===22&&H.memoizedState!==null?bO(M):ve!==null?(ve.return=H,je=ve):bO(M);for(;N!==null;)je=N,yO(N),N=N.sibling;je=M,uy=Z,eu=ze}_O(h)}else M.subtreeFlags&8772&&N!==null?(N.return=M,je=N):_O(h)}}function _O(h){for(;je!==null;){var p=je;if(p.flags&8772){var b=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:eu||Vp(5,p);break;case 1:var C=p.stateNode;if(p.flags&4&&!eu)if(b===null)C.componentDidMount();else{var M=p.elementType===p.type?b.memoizedProps:po(p.type,b.memoizedProps);C.componentDidUpdate(M,b.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var N=p.updateQueue;N!==null&&fk(p,N,C);break;case 3:var H=p.updateQueue;if(H!==null){if(b=null,p.child!==null)switch(p.child.tag){case 5:b=Q(p.child.stateNode);break;case 1:b=p.child.stateNode}fk(p,H,b)}break;case 5:var Z=p.stateNode;b===null&&p.flags&4&&Ne(Z,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(_e&&p.memoizedState===null){var ve=p.alternate;if(ve!==null){var ze=ve.memoizedState;if(ze!==null){var Ze=ze.dehydrated;Ze!==null&&kt(Ze)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}eu||p.flags&512&&kS(p)}catch(yt){Xi(p,p.return,yt)}}if(p===h){je=null;break}if(b=p.sibling,b!==null){b.return=p.return,je=b;break}je=p.return}}function xO(h){for(;je!==null;){var p=je;if(p===h){je=null;break}var b=p.sibling;if(b!==null){b.return=p.return,je=b;break}je=p.return}}function bO(h){for(;je!==null;){var p=je;try{switch(p.tag){case 0:case 11:case 15:var b=p.return;try{Vp(4,p)}catch(ve){Xi(p,b,ve)}break;case 1:var C=p.stateNode;if(typeof C.componentDidMount=="function"){var M=p.return;try{C.componentDidMount()}catch(ve){Xi(p,M,ve)}}var N=p.return;try{kS(p)}catch(ve){Xi(p,N,ve)}break;case 5:var H=p.return;try{kS(p)}catch(ve){Xi(p,H,ve)}}}catch(ve){Xi(p,p.return,ve)}if(p===h){je=null;break}var Z=p.sibling;if(Z!==null){Z.return=p.return,je=Z;break}je=p.return}}var fy=0,py=1,my=2,gy=3,vy=4;if(typeof Symbol=="function"&&Symbol.for){var Wp=Symbol.for;fy=Wp("selector.component"),py=Wp("selector.has_pseudo_class"),my=Wp("selector.role"),gy=Wp("selector.test_id"),vy=Wp("selector.text")}function DS(h){var p=ke(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(h=it(h),h===null)throw Error(o(362));return h.stateNode.current}function FS(h,p){switch(p.$$typeof){case fy:if(h.type===p.value)return!0;break;case py:e:{p=p.value,h=[h,0];for(var b=0;b<h.length;){var C=h[b++],M=h[b++],N=p[M];if(C.tag!==5||!ae(C)){for(;N!=null&&FS(C,N);)M++,N=p[M];if(M===p.length){p=!0;break e}else for(C=C.child;C!==null;)h.push(C,M),C=C.sibling}}p=!1}return p;case my:if(h.tag===5&&Te(h.stateNode,p.value))return!0;break;case vy:if((h.tag===5||h.tag===6)&&(h=B(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case gy:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function zS(h){switch(h.$$typeof){case fy:return"<"+(I(h.value)||"Unknown")+">";case py:return":has("+(zS(h)||"")+")";case my:return'[role="'+h.value+'"]';case vy:return'"'+h.value+'"';case gy:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function wO(h,p){var b=[];h=[h,0];for(var C=0;C<h.length;){var M=h[C++],N=h[C++],H=p[N];if(M.tag!==5||!ae(M)){for(;H!=null&&FS(M,H);)N++,H=p[N];if(N===p.length)b.push(M);else for(M=M.child;M!==null;)h.push(M,N),M=M.sibling}}return b}function US(h,p){if(!at)throw Error(o(363));h=DS(h),h=wO(h,p),p=[],h=Array.from(h);for(var b=0;b<h.length;){var C=h[b++];if(C.tag===5)ae(C)||p.push(C.stateNode);else for(C=C.child;C!==null;)h.push(C),C=C.sibling}return p}var Kj=Math.ceil,yy=a.ReactCurrentDispatcher,GS=a.ReactCurrentOwner,mr=a.ReactCurrentBatchConfig,Pt=0,br=null,wr=null,ti=0,ps=0,Hd=Un(0),Tr=0,jp=null,Vd=0,_y=0,HS=0,$p=null,Ji=null,VS=0,WS=1/0;function Wd(){WS=Fr()+500}var xy=!1,jS=null,Al=null,by=!1,Ml=null,wy=0,Jp=0,$S=null,Sy=-1,Ey=0;function Oi(){return Pt&6?Fr():Sy!==-1?Sy:Sy=Fr()}function Tl(h){return h.mode&1?Pt&2&&ti!==0?ti&-ti:Rj.transition!==null?(Ey===0&&(h=D0,D0<<=1,!(D0&4194240)&&(D0=64),Ey=h),Ey):(h=en,h!==0?h:Fe()):1}function Gs(h,p,b){if(50<Jp)throw Jp=0,$S=null,Error(o(185));var C=Cy(h,p);return C===null?null:(Rp(C,p,b),(!(Pt&2)||C!==br)&&(C===br&&(!(Pt&2)&&(_y|=p),Tr===4&&Pl(C,ti)),Ki(C,b),p===1&&Pt===0&&!(h.mode&1)&&(Wd(),G0&&Jo())),C)}function Cy(h,p){h.lanes|=p;var b=h.alternate;for(b!==null&&(b.lanes|=p),b=h,h=h.return;h!==null;)h.childLanes|=p,b=h.alternate,b!==null&&(b.childLanes|=p),b=h,h=h.return;return b.tag===3?b.stateNode:null}function Ki(h,p){var b=h.callbackNode;bj(h,p);var C=z0(h,h===br?ti:0);if(C===0)b!==null&&lk(b),h.callbackNode=null,h.callbackPriority=0;else if(p=C&-C,h.callbackPriority!==p){if(b!=null&&lk(b),p===1)h.tag===0?Pj(EO.bind(null,h)):ck(EO.bind(null,h)),Xe?et(function(){Pt===0&&Jo()}):eS(tS,Jo),b=null;else{switch(ak(C)){case 1:b=tS;break;case 4:b=Cj;break;case 16:b=nS;break;case 536870912:b=Aj;break;default:b=nS}b=kO(b,SO.bind(null,h))}h.callbackPriority=p,h.callbackNode=b}}function SO(h,p){if(Sy=-1,Ey=0,Pt&6)throw Error(o(327));var b=h.callbackNode;if(iu()&&h.callbackNode!==b)return null;var C=z0(h,h===br?ti:0);if(C===0)return null;if(C&30||C&h.expiredLanes||p)p=Ay(h,C);else{p=C;var M=Pt;Pt|=2;var N=MO();(br!==h||ti!==p)&&(Wd(),nu(h,p));do try{qj();break}catch(Z){AO(h,Z)}while(1);sS(),yy.current=N,Pt=M,wr!==null?p=0:(br=null,ti=0,p=Tr)}if(p!==0){if(p===2&&(M=q1(h),M!==0&&(C=M,p=JS(h,M))),p===1)throw b=jp,nu(h,0),Pl(h,C),Ki(h,Fr()),b;if(p===6)Pl(h,C);else{if(M=h.current.alternate,!(C&30)&&!Xj(M)&&(p=Ay(h,C),p===2&&(N=q1(h),N!==0&&(C=N,p=JS(h,N))),p===1))throw b=jp,nu(h,0),Pl(h,C),Ki(h,Fr()),b;switch(h.finishedWork=M,h.finishedLanes=C,p){case 0:case 1:throw Error(o(345));case 2:ru(h,Ji);break;case 3:if(Pl(h,C),(C&130023424)===C&&(p=VS+500-Fr(),10<p)){if(z0(h,0)!==0)break;if(M=h.suspendedLanes,(M&C)!==C){Oi(),h.pingedLanes|=h.suspendedLanes&M;break}h.timeoutHandle=Ee(ru.bind(null,h,Ji),p);break}ru(h,Ji);break;case 4:if(Pl(h,C),(C&4194240)===C)break;for(p=h.eventTimes,M=-1;0<C;){var H=31-fo(C);N=1<<H,H=p[H],H>M&&(M=H),C&=~N}if(C=M,C=Fr()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*Kj(C/1960))-C,10<C){h.timeoutHandle=Ee(ru.bind(null,h,Ji),C);break}ru(h,Ji);break;case 5:ru(h,Ji);break;default:throw Error(o(329))}}}return Ki(h,Fr()),h.callbackNode===b?SO.bind(null,h):null}function JS(h,p){var b=$p;return h.current.memoizedState.isDehydrated&&(nu(h,p).flags|=256),h=Ay(h,p),h!==2&&(p=Ji,Ji=b,p!==null&&KS(p)),h}function KS(h){Ji===null?Ji=h:Ji.push.apply(Ji,h)}function Xj(h){for(var p=h;;){if(p.flags&16384){var b=p.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var C=0;C<b.length;C++){var M=b[C],N=M.getSnapshot;M=M.value;try{if(!$o(N(),M))return!1}catch{return!1}}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Pl(h,p){for(p&=~HS,p&=~_y,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var b=31-fo(p),C=1<<b;h[b]=-1,p&=~C}}function EO(h){if(Pt&6)throw Error(o(327));iu();var p=z0(h,0);if(!(p&1))return Ki(h,Fr()),null;var b=Ay(h,p);if(h.tag!==0&&b===2){var C=q1(h);C!==0&&(p=C,b=JS(h,C))}if(b===1)throw b=jp,nu(h,0),Pl(h,p),Ki(h,Fr()),b;if(b===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,ru(h,Ji),Ki(h,Fr()),null}function CO(h){Ml!==null&&Ml.tag===0&&!(Pt&6)&&iu();var p=Pt;Pt|=1;var b=mr.transition,C=en;try{if(mr.transition=null,en=1,h)return h()}finally{en=C,mr.transition=b,Pt=p,!(Pt&6)&&Jo()}}function XS(){ps=Hd.current,Qt(Hd)}function nu(h,p){h.finishedWork=null,h.finishedLanes=0;var b=h.timeoutHandle;if(b!==Me&&(h.timeoutHandle=Me,Re(b)),wr!==null)for(b=wr.return;b!==null;){var C=b;switch(hS(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&L0();break;case 3:Ud(),Qt(hi),Qt(xr),_S();break;case 5:vS(C);break;case 4:Ud();break;case 13:Qt(Xn);break;case 19:Qt(Xn);break;case 10:oS(C.type._context);break;case 22:case 23:XS()}b=b.return}if(br=h,wr=h=Rl(h.current,null),ti=ps=p,Tr=0,jp=null,HS=_y=Vd=0,Ji=$p=null,Ko!==null){for(p=0;p<Ko.length;p++)if(b=Ko[p],C=b.interleaved,C!==null){b.interleaved=null;var M=C.next,N=b.pending;if(N!==null){var H=N.next;N.next=M,C.next=H}b.pending=C}Ko=null}return h}function AO(h,p){do{var b=wr;try{if(sS(),Q0.current=iy,Z0){for(var C=sr.memoizedState;C!==null;){var M=C.queue;M!==null&&(M.pending=null),C=C.next}Z0=!1}if(Gd=0,zr=fi=sr=null,Bp=!1,Dp=0,GS.current=null,b===null||b.return===null){Tr=1,jp=p,wr=null;break}e:{var N=h,H=b.return,Z=b,ve=p;if(p=ti,Z.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var ze=ve,Ze=Z,yt=Ze.tag;if(!(Ze.mode&1)&&(yt===0||yt===11||yt===15)){var ct=Ze.alternate;ct?(Ze.updateQueue=ct.updateQueue,Ze.memoizedState=ct.memoizedState,Ze.lanes=ct.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var xn=Jk(H);if(xn!==null){xn.flags&=-257,Kk(xn,H,Z,N,p),xn.mode&1&&$k(N,ze,p),p=xn,ve=ze;var st=p.updateQueue;if(st===null){var gi=new Set;gi.add(ve),p.updateQueue=gi}else st.add(ve);break e}else{if(!(p&1)){$k(N,ze,p),YS();break e}ve=Error(o(426))}}else if(Gn&&Z.mode&1){var Vs=Jk(H);if(Vs!==null){!(Vs.flags&65536)&&(Vs.flags|=256),Kk(Vs,H,Z,N,p),mS(ve);break e}}N=ve,Tr!==4&&(Tr=2),$p===null?$p=[N]:$p.push(N),ve=AS(ve,Z),Z=H;do{switch(Z.tag){case 3:Z.flags|=65536,p&=-p,Z.lanes|=p;var ce=Wk(Z,ve,p);hk(Z,ce);break e;case 1:N=ve;var re=Z.type,he=Z.stateNode;if(!(Z.flags&128)&&(typeof re.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(Al===null||!Al.has(he)))){Z.flags|=65536,p&=-p,Z.lanes|=p;var Je=jk(Z,N,p);hk(Z,Je);break e}}Z=Z.return}while(Z!==null)}PO(b)}catch(rt){p=rt,wr===b&&b!==null&&(wr=b=b.return);continue}break}while(1)}function MO(){var h=yy.current;return yy.current=iy,h===null?iy:h}function YS(){(Tr===0||Tr===3||Tr===2)&&(Tr=4),br===null||!(Vd&268435455)&&!(_y&268435455)||Pl(br,ti)}function Ay(h,p){var b=Pt;Pt|=2;var C=MO();br===h&&ti===p||nu(h,p);do try{Yj();break}catch(M){AO(h,M)}while(1);if(sS(),Pt=b,yy.current=C,wr!==null)throw Error(o(261));return br=null,ti=0,Tr}function Yj(){for(;wr!==null;)TO(wr)}function qj(){for(;wr!==null&&!Sj();)TO(wr)}function TO(h){var p=NO(h.alternate,h,ps);h.memoizedProps=h.pendingProps,p===null?PO(h):wr=p,GS.current=null}function PO(h){var p=h;do{var b=p.alternate;if(h=p.return,p.flags&32768){if(b=Vj(b,p),b!==null){b.flags&=32767,wr=b;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Tr=6,wr=null;return}}else if(b=Uj(b,p,ps),b!==null){wr=b;return}if(p=p.sibling,p!==null){wr=p;return}wr=p=h}while(p!==null);Tr===0&&(Tr=5)}function ru(h,p){var b=en,C=mr.transition;try{mr.transition=null,en=1,Qj(h,p,b)}finally{mr.transition=C,en=b}return null}function Qj(h,p,b){do iu();while(Ml!==null);if(Pt&6)throw Error(o(327));var C=h.finishedWork,M=h.finishedLanes;if(C===null)return null;if(h.finishedWork=null,h.finishedLanes=0,C===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var N=C.lanes|C.childLanes;if(wj(h,N),h===br&&(wr=br=null,ti=0),!(C.subtreeFlags&2064)&&!(C.flags&2064)||by||(by=!0,kO(nS,function(){return iu(),null})),N=(C.flags&15990)!==0,C.subtreeFlags&15990||N){N=mr.transition,mr.transition=null;var H=en;en=1;var Z=Pt;Pt|=4,GS.current=null,jj(h,C),$j(h,C),X(h.containerInfo),h.current=C,Jj(C),Ej(),Pt=Z,en=H,mr.transition=N}else h.current=C;if(by&&(by=!1,Ml=h,wy=M),N=h.pendingLanes,N===0&&(Al=null),Mj(C.stateNode),Ki(h,Fr()),p!==null)for(b=h.onRecoverableError,C=0;C<p.length;C++)b(p[C]);if(xy)throw xy=!1,h=jS,jS=null,h;return wy&1&&h.tag!==0&&iu(),N=h.pendingLanes,N&1?h===$S?Jp++:(Jp=0,$S=h):Jp=0,Jo(),null}function iu(){if(Ml!==null){var h=ak(wy),p=mr.transition,b=en;try{if(mr.transition=null,en=16>h?16:h,Ml===null)var C=!1;else{if(h=Ml,Ml=null,wy=0,Pt&6)throw Error(o(331));var M=Pt;for(Pt|=4,je=h.current;je!==null;){var N=je,H=N.child;if(je.flags&16){var Z=N.deletions;if(Z!==null){for(var ve=0;ve<Z.length;ve++){var ze=Z[ve];for(je=ze;je!==null;){var Ze=je;switch(Ze.tag){case 0:case 11:case 15:tu(8,Ze,N)}var yt=Ze.child;if(yt!==null)yt.return=Ze,je=yt;else for(;je!==null;){Ze=je;var ct=Ze.sibling,xn=Ze.return;if(fO(Ze),Ze===ze){je=null;break}if(ct!==null){ct.return=xn,je=ct;break}je=xn}}}var st=N.alternate;if(st!==null){var gi=st.child;if(gi!==null){st.child=null;do{var Vs=gi.sibling;gi.sibling=null,gi=Vs}while(gi!==null)}}je=N}}if(N.subtreeFlags&2064&&H!==null)H.return=N,je=H;else e:for(;je!==null;){if(N=je,N.flags&2048)switch(N.tag){case 0:case 11:case 15:tu(9,N,N.return)}var ce=N.sibling;if(ce!==null){ce.return=N.return,je=ce;break e}je=N.return}}var re=h.current;for(je=re;je!==null;){H=je;var he=H.child;if(H.subtreeFlags&2064&&he!==null)he.return=H,je=he;else e:for(H=re;je!==null;){if(Z=je,Z.flags&2048)try{switch(Z.tag){case 0:case 11:case 15:Vp(9,Z)}}catch(rt){Xi(Z,Z.return,rt)}if(Z===H){je=null;break e}var Je=Z.sibling;if(Je!==null){Je.return=Z.return,je=Je;break e}je=Z.return}}if(Pt=M,Jo(),jo&&typeof jo.onPostCommitFiberRoot=="function")try{jo.onPostCommitFiberRoot(U0,h)}catch{}C=!0}return C}finally{en=b,mr.transition=p}}return!1}function RO(h,p,b){p=AS(b,p),p=Wk(h,p,1),Cl(h,p),p=Oi(),h=Cy(h,1),h!==null&&(Rp(h,1,p),Ki(h,p))}function Xi(h,p,b){if(h.tag===3)RO(h,h,b);else for(;p!==null;){if(p.tag===3){RO(p,h,b);break}else if(p.tag===1){var C=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Al===null||!Al.has(C))){h=AS(b,h),h=jk(p,h,1),Cl(p,h),h=Oi(),p=Cy(p,1),p!==null&&(Rp(p,1,h),Ki(p,h));break}}p=p.return}}function Zj(h,p,b){var C=h.pingCache;C!==null&&C.delete(p),p=Oi(),h.pingedLanes|=h.suspendedLanes&b,br===h&&(ti&b)===b&&(Tr===4||Tr===3&&(ti&130023424)===ti&&500>Fr()-VS?nu(h,0):HS|=b),Ki(h,p)}function IO(h,p){p===0&&(h.mode&1?(p=F0,F0<<=1,!(F0&130023424)&&(F0=4194304)):p=1);var b=Oi();h=Cy(h,p),h!==null&&(Rp(h,p,b),Ki(h,b))}function e7(h){var p=h.memoizedState,b=0;p!==null&&(b=p.retryLane),IO(h,b)}function t7(h,p){var b=0;switch(h.tag){case 13:var C=h.stateNode,M=h.memoizedState;M!==null&&(b=M.retryLane);break;case 19:C=h.stateNode;break;default:throw Error(o(314))}C!==null&&C.delete(p),IO(h,b)}var NO;NO=function(h,p,b){if(h!==null)if(h.memoizedProps!==p.pendingProps||hi.current)fs=!0;else{if(!(h.lanes&b)&&!(p.flags&128))return fs=!1,Hj(h,p,b);fs=!!(h.flags&131072)}else fs=!1,Gn&&p.flags&1048576&&yk(p,X0,p.index);switch(p.lanes=0,p.tag){case 2:var C=p.type;h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps;var M=Nd(p,xr.current);Od(p,b),M=bS(null,p,C,h,M,b);var N=wS();return p.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,$i(C)?(N=!0,B0(p)):N=!1,p.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,lS(p),M.updater=J0,p.stateNode=M,M._reactInternals=p,uS(p,C,h,b),p=PS(null,p,C,!0,N,b)):(p.tag=0,Gn&&N&&dS(p),ki(null,p,M,b),p=p.child),p;case 16:C=p.elementType;e:{switch(h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps,M=C._init,C=M(C._payload),p.type=C,M=p.tag=r7(C),h=po(C,h),M){case 0:p=TS(null,p,C,h,b);break e;case 1:p=nO(null,p,C,h,b);break e;case 11:p=qk(null,p,C,h,b);break e;case 14:p=Qk(null,p,C,po(C.type,h),b);break e}throw Error(o(306,C,""))}return p;case 0:return C=p.type,M=p.pendingProps,M=p.elementType===C?M:po(C,M),TS(h,p,C,M,b);case 1:return C=p.type,M=p.pendingProps,M=p.elementType===C?M:po(C,M),nO(h,p,C,M,b);case 3:e:{if(rO(p),h===null)throw Error(o(387));C=p.pendingProps,N=p.memoizedState,M=N.element,dk(h,p),$0(p,C,null,b);var H=p.memoizedState;if(C=H.element,_e&&N.isDehydrated)if(N={element:C,isDehydrated:!1,cache:H.cache,transitions:H.transitions},p.updateQueue.baseState=N,p.memoizedState=N,p.flags&256){M=Error(o(423)),p=iO(h,p,C,b,M);break e}else if(C!==M){M=Error(o(424)),p=iO(h,p,C,b,M);break e}else for(_e&&(hs=be(p.stateNode.containerInfo),ds=p,Gn=!0,mo=null,Ip=!1),b=Ek(p,null,C,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Dd(),C===M){p=La(h,p,b);break e}ki(h,p,C,b)}p=p.child}return p;case 5:return Ck(p),h===null&&pS(p),C=p.type,M=p.pendingProps,N=h!==null?h.memoizedProps:null,H=M.children,ne(C,M)?H=null:N!==null&&ne(C,N)&&(p.flags|=32),tO(h,p),ki(h,p,H,b),p.child;case 6:return h===null&&pS(p),null;case 13:return sO(h,p,b);case 4:return gS(p,p.stateNode.containerInfo),C=p.pendingProps,h===null?p.child=Fd(p,null,C,b):ki(h,p,C,b),p.child;case 11:return C=p.type,M=p.pendingProps,M=p.elementType===C?M:po(C,M),qk(h,p,C,M,b);case 7:return ki(h,p,p.pendingProps,b),p.child;case 8:return ki(h,p,p.pendingProps.children,b),p.child;case 12:return ki(h,p,p.pendingProps.children,b),p.child;case 10:e:{if(C=p.type._context,M=p.pendingProps,N=p.memoizedProps,H=M.value,uk(p,C,H),N!==null)if($o(N.value,H)){if(N.children===M.children&&!hi.current){p=La(h,p,b);break e}}else for(N=p.child,N!==null&&(N.return=p);N!==null;){var Z=N.dependencies;if(Z!==null){H=N.child;for(var ve=Z.firstContext;ve!==null;){if(ve.context===C){if(N.tag===1){ve=Ia(-1,b&-b),ve.tag=2;var ze=N.updateQueue;if(ze!==null){ze=ze.shared;var Ze=ze.pending;Ze===null?ve.next=ve:(ve.next=Ze.next,Ze.next=ve),ze.pending=ve}}N.lanes|=b,ve=N.alternate,ve!==null&&(ve.lanes|=b),aS(N.return,b,p),Z.lanes|=b;break}ve=ve.next}}else if(N.tag===10)H=N.type===p.type?null:N.child;else if(N.tag===18){if(H=N.return,H===null)throw Error(o(341));H.lanes|=b,Z=H.alternate,Z!==null&&(Z.lanes|=b),aS(H,b,p),H=N.sibling}else H=N.child;if(H!==null)H.return=N;else for(H=N;H!==null;){if(H===p){H=null;break}if(N=H.sibling,N!==null){N.return=H.return,H=N;break}H=H.return}N=H}ki(h,p,M.children,b),p=p.child}return p;case 9:return M=p.type,C=p.pendingProps.children,Od(p,b),M=Bs(M),C=C(M),p.flags|=1,ki(h,p,C,b),p.child;case 14:return C=p.type,M=po(C,p.pendingProps),M=po(C.type,M),Qk(h,p,C,M,b);case 15:return Zk(h,p,p.type,p.pendingProps,b);case 17:return C=p.type,M=p.pendingProps,M=p.elementType===C?M:po(C,M),h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,$i(C)?(h=!0,B0(p)):h=!1,Od(p,b),gk(p,C,M),uS(p,C,M,b),PS(null,p,C,!0,h,b);case 19:return cO(h,p,b);case 22:return eO(h,p,b)}throw Error(o(156,p.tag))};function kO(h,p){return eS(h,p)}function n7(h,p,b,C){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(h,p,b,C){return new n7(h,p,b,C)}function qS(h){return h=h.prototype,!(!h||!h.isReactComponent)}function r7(h){if(typeof h=="function")return qS(h)?1:0;if(h!=null){if(h=h.$$typeof,h===v)return 11;if(h===w)return 14}return 2}function Rl(h,p){var b=h.alternate;return b===null?(b=Hs(h.tag,p,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=p,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&14680064,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,p=h.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b}function My(h,p,b,C,M,N){var H=2;if(C=h,typeof h=="function")qS(h)&&(H=1);else if(typeof h=="string")H=5;else e:switch(h){case u:return su(b.children,M,N,p);case d:H=8,M|=8;break;case f:return h=Hs(12,b,p,M|2),h.elementType=f,h.lanes=N,h;case _:return h=Hs(13,b,p,M),h.elementType=_,h.lanes=N,h;case x:return h=Hs(19,b,p,M),h.elementType=x,h.lanes=N,h;case E:return Ty(b,M,N,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case m:H=10;break e;case g:H=9;break e;case v:H=11;break e;case w:H=14;break e;case S:H=16,C=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return p=Hs(H,b,p,M),p.elementType=h,p.type=C,p.lanes=N,p}function su(h,p,b,C){return h=Hs(7,h,C,p),h.lanes=b,h}function Ty(h,p,b,C){return h=Hs(22,h,C,p),h.elementType=E,h.lanes=b,h.stateNode={},h}function QS(h,p,b){return h=Hs(6,h,null,p),h.lanes=b,h}function ZS(h,p,b){return p=Hs(4,h.children!==null?h.children:[],h.key,p),p.lanes=b,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function i7(h,p,b,C,M){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Me,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Q1(0),this.expirationTimes=Q1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Q1(0),this.identifierPrefix=C,this.onRecoverableError=M,_e&&(this.mutableSourceEagerHydrationData=null)}function OO(h,p,b,C,M,N,H,Z,ve){return h=new i7(h,p,b,Z,ve),p===1?(p=1,N===!0&&(p|=8)):p=0,N=Hs(3,null,null,p),h.current=N,N.stateNode=h,N.memoizedState={element:C,isDehydrated:b,cache:null,transitions:null},lS(N),h}function LO(h){if(!h)return ir;h=h._reactInternals;e:{if(R(h)!==h||h.tag!==1)throw Error(o(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if($i(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(h.tag===1){var b=h.type;if($i(b))return sk(h,b,p)}return p}function BO(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=J(p),h===null?null:h.stateNode}function DO(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<p?b:p}}function eE(h,p){DO(h,p),(h=h.alternate)&&DO(h,p)}function s7(h){return h=J(h),h===null?null:h.stateNode}function o7(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var p=Oi();Gs(h,134217728,p),eE(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=Oi(),b=Tl(h);Gs(h,b,p),eE(h,b)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var b=Pp(p.pendingLanes);b!==0&&(Z1(p,b|1),Ki(p,Fr()),!(Pt&6)&&(Wd(),Jo()))}break;case 13:var C=Oi();CO(function(){return Gs(h,1,C)}),eE(h,1)}},t.batchedUpdates=function(h,p){var b=Pt;Pt|=1;try{return h(p)}finally{Pt=b,Pt===0&&(Wd(),G0&&Jo())}},t.createComponentSelector=function(h){return{$$typeof:fy,value:h}},t.createContainer=function(h,p,b,C,M,N,H){return OO(h,p,!1,null,b,C,M,N,H)},t.createHasPseudoClassSelector=function(h){return{$$typeof:py,value:h}},t.createHydrationContainer=function(h,p,b,C,M,N,H,Z,ve){return h=OO(b,C,!0,h,M,N,H,Z,ve),h.context=LO(null),b=h.current,C=Oi(),M=Tl(b),N=Ia(C,M),N.callback=p??null,Cl(b,N),h.current.lanes=M,Rp(h,M,C),Ki(h,C),h},t.createPortal=function(h,p,b){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:h,containerInfo:p,implementation:b}},t.createRoleSelector=function(h){return{$$typeof:my,value:h}},t.createTestNameSelector=function(h){return{$$typeof:gy,value:h}},t.createTextSelector=function(h){return{$$typeof:vy,value:h}},t.deferredUpdates=function(h){var p=en,b=mr.transition;try{return mr.transition=null,en=16,h()}finally{en=p,mr.transition=b}},t.discreteUpdates=function(h,p,b,C,M){var N=en,H=mr.transition;try{return mr.transition=null,en=1,h(p,b,C,M)}finally{en=N,mr.transition=H,Pt===0&&Wd()}},t.findAllNodes=US,t.findBoundingRects=function(h,p){if(!at)throw Error(o(363));p=US(h,p),h=[];for(var b=0;b<p.length;b++)h.push(G(p[b]));for(p=h.length-1;0<p;p--){b=h[p];for(var C=b.x,M=C+b.width,N=b.y,H=N+b.height,Z=p-1;0<=Z;Z--)if(p!==Z){var ve=h[Z],ze=ve.x,Ze=ze+ve.width,yt=ve.y,ct=yt+ve.height;if(C>=ze&&N>=yt&&M<=Ze&&H<=ct){h.splice(p,1);break}else if(C!==ze||b.width!==ve.width||ct<N||yt>H){if(!(N!==yt||b.height!==ve.height||Ze<C||ze>M)){ze>C&&(ve.width+=ze-C,ve.x=C),Ze<M&&(ve.width=M-ze),h.splice(p,1);break}}else{yt>N&&(ve.height+=yt-N,ve.y=N),ct<H&&(ve.height=H-yt),h.splice(p,1);break}}}return h},t.findHostInstance=BO,t.findHostInstanceWithNoPortals=function(h){return h=L(h),h=h!==null?V(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return BO(h)},t.flushControlled=function(h){var p=Pt;Pt|=1;var b=mr.transition,C=en;try{mr.transition=null,en=1,h()}finally{en=C,mr.transition=b,Pt=p,Pt===0&&(Wd(),Jo())}},t.flushPassiveEffects=iu,t.flushSync=CO,t.focusWithin=function(h,p){if(!at)throw Error(o(363));for(h=DS(h),p=wO(h,p),p=Array.from(p),h=0;h<p.length;){var b=p[h++];if(!ae(b)){if(b.tag===5&&Ie(b.stateNode))return!0;for(b=b.child;b!==null;)p.push(b),b=b.sibling}}return!1},t.getCurrentUpdatePriority=function(){return en},t.getFindAllNodesFailureDescription=function(h,p){if(!at)throw Error(o(363));var b=0,C=[];h=[DS(h),0];for(var M=0;M<h.length;){var N=h[M++],H=h[M++],Z=p[H];if((N.tag!==5||!ae(N))&&(FS(N,Z)&&(C.push(zS(Z)),H++,H>b&&(b=H)),H<p.length))for(N=N.child;N!==null;)h.push(N,H),N=N.sibling}if(b<p.length){for(h=[];b<p.length;b++)h.push(zS(p[b]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return Q(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:s7,findFiberByHostInstance:h.findFiberByHostInstance||o7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{U0=p.inject(h),jo=p}catch{}h=!!p.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,p,b,C){if(!at)throw Error(o(363));h=US(h,p);var M=De(h,b,C).disconnect;return{disconnect:function(){M()}}},t.registerMutableSourceForHydration=function(h,p){var b=p._getVersion;b=b(p._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[p,b]:h.mutableSourceEagerHydrationData.push(p,b)},t.runWithPriority=function(h,p){var b=en;try{return en=h,p()}finally{en=b}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,p,b,C){var M=p.current,N=Oi(),H=Tl(M);return b=LO(b),p.context===null?p.context=b:p.pendingContext=b,p=Ia(N,H),p.payload={element:h},C=C===void 0?null:C,C!==null&&(p.callback=C),Cl(M,p),h=Gs(M,H,N),h!==null&&j0(h,M,H),H},t};(function(n){n.exports=KEe})($Ee);const XEe=qP(HP);function WW(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}const Ja=[];function jW(n,e,t=!1,r={}){for(const s of Ja)if(WW(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,promise:n(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=Ja.indexOf(i);s!==-1&&Ja.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(Ja.push(i),!t)throw i.promise}const YEe=(n,e,t)=>jW(n,e,!1,t),qEe=(n,e,t)=>void jW(n,e,!0,t),QEe=n=>{if(n===void 0||n.length===0)Ja.splice(0,Ja.length);else{const e=Ja.find(t=>WW(n,t.keys,t.equal));if(e){const t=Ja.indexOf(e);t!==-1&&Ja.splice(t,1)}}};var s4,o4;const $W=n=>n&&n.isOrthographicCamera,ZEe=n=>n&&n.hasOwnProperty("current"),k0=typeof window<"u"&&((s4=window.document)!=null&&s4.createElement||((o4=window.navigator)==null?void 0:o4.product)==="ReactNative")?k.useLayoutEffect:k.useEffect;function JW(n){const e=k.useRef(n);return k0(()=>void(e.current=n),[n]),e}function eCe({set:n}){return k0(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class KW extends k.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}KW.getDerivedStateFromError=()=>({error:!0});const XW="__default",a4=new Map,tCe=n=>n&&!!n.memoized&&!!n.changes;function YW(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const km=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Yn={obj:n=>n===Object(n)&&!Yn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Yn.str(n)||Yn.num(n))return n===e;const s=Yn.obj(n);if(s&&r==="reference")return n===e;const o=Yn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;for(a in i?e:n)if(n[a]!==e[a])return!1;if(Yn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function nCe(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function rCe(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Eh(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function VP(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const l4=/-\d+$/;function uA(n,e,t){if(Yn.str(t)){if(l4.test(t)){const s=t.replace(l4,""),{target:o,key:a}=VP(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=VP(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function c4(n,e,t){var r,i;if(Yn.str(t)){const{target:s,key:o}=VP(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function qW(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const d=(u=n==null?void 0:n.__r3f)!=null?u:{},f=Object.entries(i),m=[];if(c){const v=Object.keys(l);for(let _=0;_<v.length;_++)i.hasOwnProperty(v[_])||f.unshift([v[_],XW+"remove"])}f.forEach(([v,_])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&v==="object"||Yn.equ(_,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return m.push([v,_,!0,[]]);let w=[];v.includes("-")&&(w=v.split("-")),m.push([v,_,!1,w]);for(const S in i){const E=i[S];S.startsWith(`${v}-`)&&m.push([S,E,!1,S.split("-")])}});const g={...i};return d.memoizedProps&&d.memoizedProps.args&&(g.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(g.attach=d.memoizedProps.attach),{memoized:g,changes:m}}function dA(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=tCe(e)?e:qW(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let f=0;f<c.length;f++){let[m,g,v,_]=c[f],x=n,w=x[m];if(_.length&&(w=_.reduce((S,E)=>S[E],n),!(w&&w.set))){const[S,...E]=_.reverse();x=E.reverse().reduce((A,P)=>A[P],n),m=S}if(g===XW+"remove")if(x.constructor){let S=a4.get(x.constructor);S||(S=new x.constructor,a4.set(x.constructor,S)),g=S[m]}else g=0;if(v)g?s.handlers[m]=g:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(w&&w.set&&(w.copy||w instanceof td)){if(Array.isArray(g))w.fromArray?w.fromArray(g):w.set(...g);else if(w.copy&&g&&g.constructor&&w.constructor===g.constructor)w.copy(g);else if(g!==void 0){const S=w instanceof He;!S&&w.setScalar?w.setScalar(g):w instanceof td&&g instanceof td?w.mask=g.mask:w.set(g),!("ColorManagement"in Wb)&&!a.linear&&S&&w.convertSRGBToLinear()}}else x[m]=g,!a.linear&&x[m]instanceof Jn&&x[m].format===Qi&&x[m].type===gl&&(x[m].encoding=zt);Ch(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const f=a.internal.interaction.indexOf(n);f>-1&&a.internal.interaction.splice(f,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&WP(n),n}function Ch(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function WP(n){n.onUpdate==null||n.onUpdate(n)}function QW(n,e){n.manual||($W(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function iCe(n,e,t){const r=t.pop(),i=t.reduce((s,o)=>s[o],n);return i[r]=e}function W_(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function sCe(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return sc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return sc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return sc.ContinuousEventPriority;default:return sc.DefaultEventPriority}}function ZW(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function oCe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{ZW(t.capturedMap,e,r,i)})}function aCe(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),d=new Set,f=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let x=0;x<m.length;x++){const w=km(m[x]);w&&(w.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(x){const w=km(x);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var S;w.events.compute==null||w.events.compute(l,w,(S=w.previousRoot)==null?void 0:S.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(x,!0):[]}let v=m.flatMap(g).sort((x,w)=>{const S=km(x.object),E=km(w.object);return!S||!E?x.distance-w.distance:E.events.priority-S.events.priority||x.distance-w.distance}).filter(x=>{const w=W_(x);return d.has(w)?!1:(d.add(w),!0)});u.events.filter&&(v=u.events.filter(v,u));for(const x of v){let w=x.object;for(;w;){var _;(_=w.__r3f)!=null&&_.eventCount&&f.push({...x,eventObject:w}),w=w.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let x of u.internal.capturedMap.get(l.pointerId).values())d.has(W_(x.intersection))||f.push(x.intersection);return f}function i(l,c,u,d){const f=n.getState();if(l.length){const m={stopped:!1};for(const g of l){const v=km(g.object)||f,{raycaster:_,pointer:x,camera:w,internal:S}=v,E=new U(x.x,x.y,0).unproject(w),A=O=>{var L,J;return(L=(J=S.capturedMap.get(O))==null?void 0:J.has(g.eventObject))!=null?L:!1},P=O=>{const L={intersection:g,target:c.target};S.capturedMap.has(O)?S.capturedMap.get(O).set(g.eventObject,L):S.capturedMap.set(O,new Map([[g.eventObject,L]])),c.target.setPointerCapture(O)},I=O=>{const L=S.capturedMap.get(O);L&&ZW(S.capturedMap,g.eventObject,L,O)};let T={};for(let O in c){let L=c[O];typeof L!="function"&&(T[O]=L)}let R={...g,...T,pointer:x,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:E,ray:_.ray,camera:w,stopPropagation(){const O="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!O||O.has(g.eventObject))&&(R.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(L=>L.eventObject===g.eventObject))){const L=l.slice(0,l.indexOf(g));s([...L,g])}},target:{hasPointerCapture:A,setPointerCapture:P,releasePointerCapture:I},currentTarget:{hasPointerCapture:A,setPointerCapture:P,releasePointerCapture:I},nativeEvent:c};if(d(R),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const f=u.eventObject.__r3f,m=f==null?void 0:f.handlers;if(c.hovered.delete(W_(u)),f!=null&&f.eventCount){const g={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))}}return function(u){const{onPointerMissed:d,internal:f}=n.getState();f.lastEvent.current=u;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=r(u,m?t:void 0),x=g?e(u):0;l==="onPointerDown"&&(f.initialClick=[u.offsetX,u.offsetY],f.initialHits=_.map(S=>S.eventObject)),g&&!_.length&&x<=2&&(o(u,f.interaction),d&&d(u)),m&&s(_);function w(S){const E=S.eventObject,A=E.__r3f,P=A==null?void 0:A.handlers;if(A!=null&&A.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const I=W_(S),T=f.hovered.get(I);T?T.stopped&&S.stopPropagation():(f.hovered.set(I,S),P.onPointerOver==null||P.onPointerOver(S),P.onPointerEnter==null||P.onPointerEnter(S))}P.onPointerMove==null||P.onPointerMove(S)}else{const I=P[l];I?(!g||f.initialHits.includes(E))&&(o(u,f.interaction.filter(T=>!f.initialHits.includes(T))),I(S)):g&&f.initialHits.includes(E)&&o(u,f.interaction.filter(T=>!f.initialHits.includes(T)))}}i(_,u,x,w)}}return{handlePointer:a}}let jP={},ej=n=>void(jP={...jP,...n});function lCe(n,e){function t(u,{args:d=[],attach:f,...m},g){let v=`${u[0].toUpperCase()}${u.slice(1)}`,_;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=m.object;_=Eh(x,{type:u,root:g,attach:f,primitive:!0})}else{const x=jP[v];if(!x)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");_=Eh(new x(...d),{type:u,root:g,attach:f,memoizedProps:{args:d}})}return _.__r3f.attach===void 0&&(_ instanceof Ct?_.__r3f.attach="geometry":_ instanceof Mr&&(_.__r3f.attach="material")),v!=="inject"&&dA(_,m),_}function r(u,d){let f=!1;if(d){var m,g;(m=d.__r3f)!=null&&m.attach?uA(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),f=!0),f||(g=u.__r3f)==null||g.objects.push(d),d.__r3f||Eh(d,{}),d.__r3f.parent=u,WP(d),Ch(d)}}function i(u,d,f){let m=!1;if(d){var g,v;if((g=d.__r3f)!=null&&g.attach)uA(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"});const _=u.children.filter(w=>w!==d),x=_.indexOf(f);u.children=[..._.slice(0,x),d,..._.slice(x)],m=!0}m||(v=u.__r3f)==null||v.objects.push(d),d.__r3f||Eh(d,{}),d.__r3f.parent=u,WP(d),Ch(d)}}function s(u,d,f=!1){u&&[...u].forEach(m=>o(d,m,f))}function o(u,d,f){if(d){var m,g,v;if(d.__r3f&&(d.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(E=>E!==d)),(g=d.__r3f)!=null&&g.attach)c4(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var _;u.remove(d),(_=d.__r3f)!=null&&_.root&&oCe(d.__r3f.root,d)}const w=(v=d.__r3f)==null?void 0:v.primitive,S=f===void 0?d.dispose!==null&&!w:f;if(!w){var x;s((x=d.__r3f)==null?void 0:x.objects,d,S),s(d.children,d,S)}d.__r3f&&(delete d.__r3f.root,delete d.__r3f.objects,delete d.__r3f.handlers,delete d.__r3f.memoizedProps,w||delete d.__r3f),S&&d.dispose&&d.type!=="Scene"&&Nv.unstable_scheduleCallback(Nv.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),Ch(u)}}function a(u,d,f,m){var g;const v=(g=u.__r3f)==null?void 0:g.parent;if(!v)return;const _=t(d,f,u.__r3f.root);if(u.children){for(const x of u.children)x.__r3f&&r(_,x);u.children=u.children.filter(x=>!x.__r3f)}u.__r3f.objects.forEach(x=>r(_,x)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(v,u),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),r(v,_),_.raycast&&_.__r3f.eventCount&&_.__r3f.root.getState().internal.interaction.push(_),[m,m.alternate].forEach(x=>{x!==null&&(x.stateNode=_,x.ref&&(typeof x.ref=="function"?x.ref(_):x.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:XEe({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const f=u.getState().scene;f.__r3f&&(f.__r3f.root=u,r(f,d))},removeChildFromContainer:(u,d)=>{d&&o(u.getState().scene,d)},insertInContainerBefore:(u,d,f)=>{if(!d||!f)return;const m=u.getState().scene;m.__r3f&&i(m,d,f)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;const f=(d=u==null?void 0:u.__r3f)!=null?d:{};return Boolean(f.handlers)},prepareUpdate(u,d,f,m){if(u.__r3f.primitive&&m.object&&m.object!==u)return[!0];{const{args:g=[],children:v,..._}=m,{args:x=[],children:w,...S}=f;if(!Array.isArray(g))throw new Error("R3F: the args prop must be an array!");if(g.some((A,P)=>A!==x[P]))return[!0];const E=qW(u,_,S,!0);return E.changes.length?[!1,E]:null}},commitUpdate(u,[d,f],m,g,v,_){d?a(u,m,v,_):dA(u,f)},commitMount(u,d,f,m){var g;const v=(g=u.__r3f)!=null?g:{};u.raycast&&v.handlers&&v.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Eh(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:f,parent:m}=(d=u.__r3f)!=null?d:{};f&&m&&c4(m,u,f),u.isObject3D&&(u.visible=!1),Ch(u)},unhideInstance(u,d){var f;const{attach:m,parent:g}=(f=u.__r3f)!=null?f:{};m&&g&&uA(g,u,m),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),Ch(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():sc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Yn.fun(performance.now)?performance.now:Yn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Yn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Yn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:dA}}const cCe=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],tj=n=>!!(n!=null&&n.render),qN=k.createContext(null),uCe=(n,e)=>{const t=HW((a,l)=>{const c=new U,u=new U,d=new U;function f(x=l().camera,w=u,S=l().size){const{width:E,height:A,top:P,left:I}=S,T=E/A;w instanceof U?d.copy(w):d.set(...w);const R=x.getWorldPosition(c).distanceTo(d);if($W(x))return{width:E/x.zoom,height:A/x.zoom,top:P,left:I,factor:1,distance:R,aspect:T};{const O=x.fov*Math.PI/180,L=2*Math.tan(O/2)*R,J=L*(E/A);return{width:J,height:L,top:P,left:I,factor:E/J,distance:R,aspect:T}}}let m;const g=x=>a(w=>({performance:{...w.performance,current:x}})),v=new Se;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(x=1)=>n(l(),x),advance:(x,w)=>e(x,w,l()),legacy:!1,linear:!1,flat:!1,scene:Eh(new V1),controls:null,clock:new $N,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();m&&clearTimeout(m),x.performance.current!==x.performance.min&&g(x.performance.min),m=setTimeout(()=>g(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:x=>a(w=>({...w,events:{...w.events,...x}})),setSize:(x,w,S,E,A)=>{const P=l().camera,I={width:x,height:w,top:E||0,left:A||0,updateStyle:S};a(T=>({size:I,viewport:{...T.viewport,...f(P,u,I)}}))},setDpr:x=>a(w=>{const S=YW(x);return{viewport:{...w.viewport,dpr:S,initialDpr:w.viewport.initialDpr||S}}}),setFrameloop:(x="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,x!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:k.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,w,S)=>{const E=l().internal;return E.priority=E.priority+(w>0?1:0),E.subscribers.push({ref:x,priority:w,store:S}),E.subscribers=E.subscribers.sort((A,P)=>A.priority-P.priority),()=>{const A=l().internal;A!=null&&A.subscribers&&(A.priority=A.priority-(w>0?1:0),A.subscribers=A.subscribers.filter(P=>P.ref!==x))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=t.getState();(l!==i||c.dpr!==s)&&(i=l,s=c.dpr,QW(a,l),u.setPixelRatio(c.dpr),u.setSize(l.width,l.height,l.updateStyle)),a!==o&&(o=a,d(f=>({viewport:{...f.viewport,...f.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let j_,dCe=new Set,hCe=new Set,fCe=new Set;function hA(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Om(n,e){switch(n){case"before":return hA(dCe,e);case"after":return hA(hCe,e);case"tail":return hA(fCe,e)}}let fA,pA;function mA(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),fA=e.internal.subscribers,j_=0;j_<fA.length;j_++)pA=fA[j_],pA.ref.current(pA.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function pCe(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,Om("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=mA(l,i))}if(Om("after",l),t===0)return Om("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(d=>o(d.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,d){if(c&&Om("before",l),u)mA(l,u,d);else for(const f of n.values())mA(l,f.store.getState());c&&Om("after",l)}return{loop:s,invalidate:o,advance:a}}function QN(){const n=k.useContext(qN);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function $s(n=t=>t,e){return QN()(n,e)}function ZN(n,e=0){const t=QN(),r=t.getState().internal.subscribe,i=JW(n);return k0(()=>r(i,e,t),[e,r,t]),null}function nj(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,nCe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function Mp(n,e,t,r){const i=Array.isArray(e)?e:[e],s=YEe(nj(t,r),[n,...i],{equal:Yn.equ});return Array.isArray(e)?s:s[0]}Mp.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return qEe(nj(t),[n,...r])};Mp.clear=function(n,e){const t=Array.isArray(e)?e:[e];return QEe([n,...t])};const Qf=new Map,{invalidate:u4,advance:d4}=pCe(Qf),{reconciler:kv,applyProps:$_}=lCe(Qf,sCe),Lm={objects:"shallow",strict:!1},mCe=(n,e)=>{const t=typeof n=="function"?n(e):n;return tj(t)?t:new U1({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function gCe(n){return n instanceof HTMLCanvasElement}function vCe(n,e){if(e)return e;if(gCe(n)&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}return{width:0,height:0,top:0,left:0}}function yCe(n){const e=Qf.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||uCe(u4,d4),o=t||kv.createContainer(s,sc.ConcurrentRoot,null,!1,null,"",i,null);e||Qf.set(n,{fiber:o,store:s});let a,l=!1;return{configure(c={}){let{gl:u,size:d,events:f,onCreated:m,shadows:g=!1,linear:v=!1,flat:_=!1,legacy:x=!1,orthographic:w=!1,frameloop:S="always",dpr:E=[1,2],performance:A,raycaster:P,camera:I,onPointerMissed:T}=c,R=s.getState(),O=R.gl;R.gl||R.set({gl:O=mCe(u,n)});let L=R.raycaster;L||R.set({raycaster:L=new YN});const{params:J,...j}=P||{};if(Yn.equ(j,L,Lm)||$_(L,{...j}),Yn.equ(J,L.params,Lm)||$_(L,{params:{...L.params,...J}}),!R.camera){const D=I instanceof y0,$=D?I:w?new al(0,0,0,0,.1,1e3):new Bn(75,0,.1,1e3);D||($.position.z=5,I&&$_($,I),I!=null&&I.rotation||$.lookAt(0,0,0)),R.set({camera:$})}if(!R.xr){const D=(ue,Y)=>{const pe=s.getState();pe.frameloop!=="never"&&d4(ue,!0,pe,Y)},$=()=>{const ue=s.getState();ue.gl.xr.enabled=ue.gl.xr.isPresenting,ue.gl.xr.setAnimationLoop(ue.gl.xr.isPresenting?D:null),ue.gl.xr.isPresenting||u4(ue)},X={connect(){const ue=s.getState().gl;ue.xr.addEventListener("sessionstart",$),ue.xr.addEventListener("sessionend",$)},disconnect(){const ue=s.getState().gl;ue.xr.removeEventListener("sessionstart",$),ue.xr.removeEventListener("sessionend",$)}};O.xr&&X.connect(),R.set({xr:X})}if(O.shadowMap){const D=O.shadowMap.enabled,$=O.shadowMap.type;if(O.shadowMap.enabled=!!g,Yn.boo(g))O.shadowMap.type=Ag;else if(Yn.str(g)){var V;const X={basic:V8,percentage:k1,soft:Ag,variance:Uu};O.shadowMap.type=(V=X[g])!=null?V:Ag}else Yn.obj(g)&&Object.assign(O.shadowMap,g);(D!==O.shadowMap.enabled||$!==O.shadowMap.type)&&(O.shadowMap.needsUpdate=!0)}"ColorManagement"in Wb&&iCe(Wb,x,["ColorManagement","legacyMode"]);const K=v?Lo:zt,Q=_?ko:dN;O.outputEncoding!==K&&(O.outputEncoding=K),O.toneMapping!==Q&&(O.toneMapping=Q),R.legacy!==x&&R.set(()=>({legacy:x})),R.linear!==v&&R.set(()=>({linear:v})),R.flat!==_&&R.set(()=>({flat:_})),u&&!Yn.fun(u)&&!tj(u)&&!Yn.equ(u,O,Lm)&&$_(O,u),f&&!R.events.handlers&&R.set({events:f(s)}),E&&R.viewport.dpr!==YW(E)&&R.setDpr(E);const te=vCe(n,d);return Yn.equ(te,R.size,Lm)||R.setSize(te.width,te.height,te.updateStyle,te.top,te.left),R.frameloop!==S&&R.setFrameloop(S),R.onPointerMissed||R.set({onPointerMissed:T}),A&&!Yn.equ(A,R.performance,Lm)&&R.set(D=>({performance:{...D.performance,...A}})),a=m,l=!0,this},render(c){return l||this.configure(),kv.updateContainer(k.createElement(_Ce,{store:s,children:c,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){rj(n)}}}function _Ce({store:n,children:e,onCreated:t,rootElement:r}){return k0(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),k.createElement(qN.Provider,{value:n},e)}function rj(n,e){const t=Qf.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),kv.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),rCe(i),Qf.delete(n),e&&e(n)}catch{}},500)})}}function xCe(n,e,t){return k.createElement(bCe,{key:e.uuid,children:n,container:e,state:t})}function bCe({state:n={},children:e,container:t}){const{events:r,size:i,...s}=n,o=QN(),[a]=k.useState(()=>new YN),[l]=k.useState(()=>new Se),c=k.useCallback((d,f)=>{const m={...d};Object.keys(d).forEach(v=>{(cCe.includes(v)||d[v]!==f[v]&&f[v])&&delete m[v]});let g;if(f&&i){const v=f.camera;g=d.viewport.getCurrentViewport(v,new U,i),v!==d.camera&&QW(v,i)}return{...m,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...f==null?void 0:f.events,...r},size:{...d.size,...i},viewport:{...d.viewport,...g},...s}},[n]),[u]=k.useState(()=>{const d=o.getState();return HW((m,g)=>({...d,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...r},size:{...d.size,...i},...s,set:m,get:g,setEvents:v=>m(_=>({..._,events:{..._.events,...v}}))}))});return k.useEffect(()=>{const d=o.subscribe(f=>u.setState(m=>c(f,m)));return()=>{d(),u.destroy()}},[]),k.useEffect(()=>{u.setState(d=>c(o.getState(),d))},[c]),k.createElement(k.Fragment,null,kv.createPortal(k.createElement(qN.Provider,{value:u},e),u,null))}kv.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:k.version});function $P(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}$P.debounce=$P;var h4=$P;function wCe(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=k.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=k.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=k.useRef(!1);k.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[f,m,g]=k.useMemo(()=>{const w=()=>{if(!l.current.element)return;const{left:S,top:E,width:A,height:P,bottom:I,right:T,x:R,y:O}=l.current.element.getBoundingClientRect(),L={left:S,top:E,width:A,height:P,bottom:I,right:T,x:R,y:O};l.current.element instanceof HTMLElement&&i&&(L.height=l.current.element.offsetHeight,L.width=l.current.element.offsetWidth),Object.freeze(L),d.current&&!ACe(l.current.lastBounds,L)&&a(l.current.lastBounds=L)};return[w,u?h4(w,u):w,c?h4(w,c):w]},[a,i,c,u]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(w=>w.addEventListener("scroll",g,{capture:!0,passive:!0})))}const x=w=>{!w||w===l.current.element||(v(),l.current.element=w,l.current.scrollContainers=ij(w),_())};return ECe(g,Boolean(t)),SCe(m),k.useEffect(()=>{v(),_()},[t,g,m]),k.useEffect(()=>v,[]),[x,o,f]}function SCe(n){k.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function ECe(n,e){k.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function ij(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...ij(n.parentElement)]}const CCe=["x","y","top","bottom","left","right","width","height"],ACe=(n,e)=>CCe.every(t=>n[t]===e[t]);var MCe=Object.defineProperty,TCe=Object.defineProperties,PCe=Object.getOwnPropertyDescriptors,f4=Object.getOwnPropertySymbols,RCe=Object.prototype.hasOwnProperty,ICe=Object.prototype.propertyIsEnumerable,p4=(n,e,t)=>e in n?MCe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,m4=(n,e)=>{for(var t in e||(e={}))RCe.call(e,t)&&p4(n,t,e[t]);if(f4)for(var t of f4(e))ICe.call(e,t)&&p4(n,t,e[t]);return n},NCe=(n,e)=>TCe(n,PCe(e));function sj(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=sj(r,e,t);if(i)return i;r=e?null:r.sibling}}function oj(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const ek=oj(k.createContext(null));class aj extends k.Component{render(){return k.createElement(ek.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:kCe,ReactCurrentDispatcher:OCe}=k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function LCe(){const n=k.useContext(ek);if(!n)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=k.useId();return k.useMemo(()=>{var r;return(r=kCe.current)!=null?r:sj(n,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}function BCe(){var n,e;const t=LCe(),[r]=k.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==ek&&!r.has(s)&&r.set(s,(e=OCe.current)==null?void 0:e.readContext(oj(s))),i=i.return}return k.useMemo(()=>Array.from(r.keys()).reduce((s,o)=>a=>k.createElement(s,null,k.createElement(o.Provider,NCe(m4({},a),{value:r.get(o)}))),s=>k.createElement(aj,m4({},s))),[r])}const gA={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function DCe(n){const{handlePointer:e}=aCe(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(gA).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=gA[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=gA[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const FCe=k.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=DCe,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:f,orthographic:m,frameloop:g,dpr:v,performance:_,raycaster:x,camera:w,onPointerMissed:S,onCreated:E,...A},P){k.useMemo(()=>ej(Wb),[]);const I=BCe(),[T,R]=wCe({scroll:!0,debounce:{scroll:50,resize:0},...r}),O=k.useRef(null),L=k.useRef(null),[J,j]=k.useState(null);k.useImperativeHandle(P,()=>O.current);const V=JW(S),[K,Q]=k.useState(!1),[te,D]=k.useState(!1);if(K)throw K;if(te)throw te;const $=k.useRef(null);R.width>0&&R.height>0&&J&&($.current||($.current=yCe(J)),$.current.configure({gl:s,events:o,shadows:c,linear:u,flat:d,legacy:f,orthographic:m,frameloop:g,dpr:v,performance:_,raycaster:x,camera:w,size:R,onPointerMissed:(...ue)=>V.current==null?void 0:V.current(...ue),onCreated:ue=>{ue.events.connect==null||ue.events.connect(a?ZEe(a)?a.current:a:L.current),l&&ue.setEvents({compute:(Y,pe)=>{const ye=Y[l+"X"],ne=Y[l+"Y"];pe.pointer.set(ye/pe.size.width*2-1,-(ne/pe.size.height)*2+1),pe.raycaster.setFromCamera(pe.pointer,pe.camera)}}),E==null||E(ue)}}),$.current.render(k.createElement(I,null,k.createElement(KW,{set:D},k.createElement(k.Suspense,{fallback:k.createElement(eCe,{set:Q})},e))))),k0(()=>{j(O.current)},[]),k.useEffect(()=>{if(J)return()=>rj(J)},[J]);const X=a?"none":"auto";return k.createElement("div",Nt({ref:L,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:X,...i}},A),k.createElement("div",{ref:T,style:{width:"100%",height:"100%"}},k.createElement("canvas",{ref:O,style:{display:"block"}},t)))}),Hl=k.forwardRef(function(e,t){return k.createElement(aj,null,k.createElement(FCe,Nt({},e,{ref:t})))});function jb(){return jb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jb.apply(this,arguments)}function Ov(n){return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(n)}function zCe(n,e){if(Ov(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Ov(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function UCe(n){var e=zCe(n,"string");return Ov(e)==="symbol"?e:String(e)}function xt(n,e,t){return e=UCe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const GCe=n=>n&&n.isCubeTexture;class HCe extends Or{constructor(e,t){var r,i;const s=GCe(e),a=((r=s?(i=e.image[0])===null||i===void 0?void 0:i.width:e.image.width)!=null?r:1024)/4,l=Math.floor(Math.log2(a)),c=Math.pow(2,l),u=3*Math.max(c,16*7),d=4*c,f=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/d}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,g=f.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,v={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},_=new wp(1,16),x=new Do({uniforms:v,fragmentShader:g,vertexShader:m,side:To});super(_,x)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}const g4=(n,e)=>(n%e+e)%e;let VCe=class extends Ca{constructor(e,t){super(),xt(this,"object",void 0),xt(this,"domElement",void 0),xt(this,"enabled",!0),xt(this,"target",new U),xt(this,"minDistance",0),xt(this,"maxDistance",1/0),xt(this,"minZoom",0),xt(this,"maxZoom",1/0),xt(this,"minPolarAngle",0),xt(this,"maxPolarAngle",Math.PI),xt(this,"minAzimuthAngle",-1/0),xt(this,"maxAzimuthAngle",1/0),xt(this,"enableDamping",!1),xt(this,"dampingFactor",.05),xt(this,"enableZoom",!0),xt(this,"zoomSpeed",1),xt(this,"enableRotate",!0),xt(this,"rotateSpeed",1),xt(this,"enablePan",!0),xt(this,"panSpeed",1),xt(this,"screenSpacePanning",!0),xt(this,"keyPanSpeed",7),xt(this,"autoRotate",!1),xt(this,"autoRotateSpeed",2),xt(this,"reverseOrbit",!1),xt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),xt(this,"mouseButtons",{LEFT:Au.ROTATE,MIDDLE:Au.DOLLY,RIGHT:Au.PAN}),xt(this,"touches",{ONE:Mu.ROTATE,TWO:Mu.DOLLY_PAN}),xt(this,"target0",void 0),xt(this,"position0",void 0),xt(this,"zoom0",void 0),xt(this,"_domElementKeyEvents",null),xt(this,"getPolarAngle",void 0),xt(this,"getAzimuthalAngle",void 0),xt(this,"setPolarAngle",void 0),xt(this,"setAzimuthalAngle",void 0),xt(this,"getDistance",void 0),xt(this,"listenToKeyEvents",void 0),xt(this,"saveState",void 0),xt(this,"reset",void 0),xt(this,"update",void 0),xt(this,"connect",void 0),xt(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Bn?this.object.zoom:1,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=W=>{let de=g4(W,2*Math.PI),Ae=u.phi;Ae<0&&(Ae+=2*Math.PI),de<0&&(de+=2*Math.PI);let Oe=Math.abs(de-Ae);2*Math.PI-Oe<Oe&&(de<Ae?de+=2*Math.PI:Ae+=2*Math.PI),d.phi=de-Ae,r.update()},this.setAzimuthalAngle=W=>{let de=g4(W,2*Math.PI),Ae=u.theta;Ae<0&&(Ae+=2*Math.PI),de<0&&(de+=2*Math.PI);let Oe=Math.abs(de-Ae);2*Math.PI-Oe<Oe&&(de<Ae?de+=2*Math.PI:Ae+=2*Math.PI),d.theta=de-Ae,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=W=>{W.addEventListener("keydown",ae),this._domElementKeyEvents=W},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof Bn?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof Bn&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const W=new U,de=new li().setFromUnitVectors(e.up,new U(0,1,0)),Ae=de.clone().invert(),Oe=new U,nt=new li,bt=2*Math.PI;return function(){const q=r.object.position;W.copy(q).sub(r.target),W.applyQuaternion(de),u.setFromVector3(W),r.autoRotate&&l===a.NONE&&J(O()),r.enableDamping?(u.theta+=d.theta*r.dampingFactor,u.phi+=d.phi*r.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let ee=r.minAzimuthAngle,Pe=r.maxAzimuthAngle;return isFinite(ee)&&isFinite(Pe)&&(ee<-Math.PI?ee+=bt:ee>Math.PI&&(ee-=bt),Pe<-Math.PI?Pe+=bt:Pe>Math.PI&&(Pe-=bt),ee<=Pe?u.theta=Math.max(ee,Math.min(Pe,u.theta)):u.theta=u.theta>(ee+Pe)/2?Math.max(ee,u.theta):Math.min(Pe,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=f,u.radius=Math.max(r.minDistance,Math.min(r.maxDistance,u.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),W.setFromSpherical(u),W.applyQuaternion(Ae),q.copy(r.target).add(W),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),m.set(0,0,0)),f=1,g||Oe.distanceToSquared(r.object.position)>c||8*(1-nt.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Oe.copy(r.object.position),nt.copy(r.object.quaternion),g=!1,!0):!1}})(),this.connect=W=>{W===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=W,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",De),r.domElement.addEventListener("pointerdown",Ye),r.domElement.addEventListener("pointercancel",at),r.domElement.addEventListener("wheel",B)},this.dispose=()=>{var W,de,Ae,Oe,nt,bt;(W=r.domElement)===null||W===void 0||W.removeEventListener("contextmenu",De),(de=r.domElement)===null||de===void 0||de.removeEventListener("pointerdown",Ye),(Ae=r.domElement)===null||Ae===void 0||Ae.removeEventListener("pointercancel",at),(Oe=r.domElement)===null||Oe===void 0||Oe.removeEventListener("wheel",B),(nt=r.domElement)===null||nt===void 0||nt.ownerDocument.removeEventListener("pointermove",Xe),(bt=r.domElement)===null||bt===void 0||bt.ownerDocument.removeEventListener("pointerup",et),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ae)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new GP,d=new GP;let f=1;const m=new U;let g=!1;const v=new Se,_=new Se,x=new Se,w=new Se,S=new Se,E=new Se,A=new Se,P=new Se,I=new Se,T=[],R={};function O(){return 2*Math.PI/60/60*r.autoRotateSpeed}function L(){return Math.pow(.95,r.zoomSpeed)}function J(W){r.reverseOrbit?d.theta+=W:d.theta-=W}function j(W){r.reverseOrbit?d.phi+=W:d.phi-=W}const V=(()=>{const W=new U;return function(Ae,Oe){W.setFromMatrixColumn(Oe,0),W.multiplyScalar(-Ae),m.add(W)}})(),K=(()=>{const W=new U;return function(Ae,Oe){r.screenSpacePanning===!0?W.setFromMatrixColumn(Oe,1):(W.setFromMatrixColumn(Oe,0),W.crossVectors(r.object.up,W)),W.multiplyScalar(Ae),m.add(W)}})(),Q=(()=>{const W=new U;return function(Ae,Oe){const nt=r.domElement;if(nt&&r.object instanceof Bn&&r.object.isPerspectiveCamera){const bt=r.object.position;W.copy(bt).sub(r.target);let un=W.length();un*=Math.tan(r.object.fov/2*Math.PI/180),V(2*Ae*un/nt.clientHeight,r.object.matrix),K(2*Oe*un/nt.clientHeight,r.object.matrix)}else nt&&r.object instanceof al&&r.object.isOrthographicCamera?(V(Ae*(r.object.right-r.object.left)/r.object.zoom/nt.clientWidth,r.object.matrix),K(Oe*(r.object.top-r.object.bottom)/r.object.zoom/nt.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function te(W){r.object instanceof Bn&&r.object.isPerspectiveCamera?f/=W:r.object instanceof al&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*W)),r.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function D(W){r.object instanceof Bn&&r.object.isPerspectiveCamera?f*=W:r.object instanceof al&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/W)),r.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function $(W){v.set(W.clientX,W.clientY)}function X(W){A.set(W.clientX,W.clientY)}function ue(W){w.set(W.clientX,W.clientY)}function Y(W){_.set(W.clientX,W.clientY),x.subVectors(_,v).multiplyScalar(r.rotateSpeed);const de=r.domElement;de&&(J(2*Math.PI*x.x/de.clientHeight),j(2*Math.PI*x.y/de.clientHeight)),v.copy(_),r.update()}function pe(W){P.set(W.clientX,W.clientY),I.subVectors(P,A),I.y>0?te(L()):I.y<0&&D(L()),A.copy(P),r.update()}function ye(W){S.set(W.clientX,W.clientY),E.subVectors(S,w).multiplyScalar(r.panSpeed),Q(E.x,E.y),w.copy(S),r.update()}function ne(W){W.deltaY<0?D(L()):W.deltaY>0&&te(L()),r.update()}function fe(W){let de=!1;switch(W.code){case r.keys.UP:Q(0,r.keyPanSpeed),de=!0;break;case r.keys.BOTTOM:Q(0,-r.keyPanSpeed),de=!0;break;case r.keys.LEFT:Q(r.keyPanSpeed,0),de=!0;break;case r.keys.RIGHT:Q(-r.keyPanSpeed,0),de=!0;break}de&&(W.preventDefault(),r.update())}function Ee(){if(T.length==1)v.set(T[0].pageX,T[0].pageY);else{const W=.5*(T[0].pageX+T[1].pageX),de=.5*(T[0].pageY+T[1].pageY);v.set(W,de)}}function Re(){if(T.length==1)w.set(T[0].pageX,T[0].pageY);else{const W=.5*(T[0].pageX+T[1].pageX),de=.5*(T[0].pageY+T[1].pageY);w.set(W,de)}}function Me(){const W=T[0].pageX-T[1].pageX,de=T[0].pageY-T[1].pageY,Ae=Math.sqrt(W*W+de*de);A.set(0,Ae)}function Ue(){r.enableZoom&&Me(),r.enablePan&&Re()}function Ge(){r.enableZoom&&Me(),r.enableRotate&&Ee()}function me(W){if(T.length==1)_.set(W.pageX,W.pageY);else{const Ae=Ne(W),Oe=.5*(W.pageX+Ae.x),nt=.5*(W.pageY+Ae.y);_.set(Oe,nt)}x.subVectors(_,v).multiplyScalar(r.rotateSpeed);const de=r.domElement;de&&(J(2*Math.PI*x.x/de.clientHeight),j(2*Math.PI*x.y/de.clientHeight)),v.copy(_)}function _e(W){if(T.length==1)S.set(W.pageX,W.pageY);else{const de=Ne(W),Ae=.5*(W.pageX+de.x),Oe=.5*(W.pageY+de.y);S.set(Ae,Oe)}E.subVectors(S,w).multiplyScalar(r.panSpeed),Q(E.x,E.y),w.copy(S)}function ke(W){const de=Ne(W),Ae=W.pageX-de.x,Oe=W.pageY-de.y,nt=Math.sqrt(Ae*Ae+Oe*Oe);P.set(0,nt),I.set(0,Math.pow(P.y/A.y,r.zoomSpeed)),te(I.y),A.copy(P)}function $e(W){r.enableZoom&&ke(W),r.enablePan&&_e(W)}function Fe(W){r.enableZoom&&ke(W),r.enableRotate&&me(W)}function Ye(W){if(r.enabled!==!1){if(T.length===0){var de,Ae;(de=r.domElement)===null||de===void 0||de.ownerDocument.addEventListener("pointermove",Xe),(Ae=r.domElement)===null||Ae===void 0||Ae.ownerDocument.addEventListener("pointerup",et)}xe(W),W.pointerType==="touch"?Te(W):it(W)}}function Xe(W){r.enabled!==!1&&(W.pointerType==="touch"?Ie(W):G(W))}function et(W){if(ie(W),T.length===0){var de,Ae,Oe;(de=r.domElement)===null||de===void 0||de.releasePointerCapture(W.pointerId),(Ae=r.domElement)===null||Ae===void 0||Ae.ownerDocument.removeEventListener("pointermove",Xe),(Oe=r.domElement)===null||Oe===void 0||Oe.ownerDocument.removeEventListener("pointerup",et)}r.dispatchEvent(o),l=a.NONE}function at(W){ie(W)}function it(W){let de;switch(W.button){case 0:de=r.mouseButtons.LEFT;break;case 1:de=r.mouseButtons.MIDDLE;break;case 2:de=r.mouseButtons.RIGHT;break;default:de=-1}switch(de){case Au.DOLLY:if(r.enableZoom===!1)return;X(W),l=a.DOLLY;break;case Au.ROTATE:if(W.ctrlKey||W.metaKey||W.shiftKey){if(r.enablePan===!1)return;ue(W),l=a.PAN}else{if(r.enableRotate===!1)return;$(W),l=a.ROTATE}break;case Au.PAN:if(W.ctrlKey||W.metaKey||W.shiftKey){if(r.enableRotate===!1)return;$(W),l=a.ROTATE}else{if(r.enablePan===!1)return;ue(W),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function G(W){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Y(W);break;case a.DOLLY:if(r.enableZoom===!1)return;pe(W);break;case a.PAN:if(r.enablePan===!1)return;ye(W);break}}function B(W){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(W.preventDefault(),r.dispatchEvent(s),ne(W),r.dispatchEvent(o))}function ae(W){r.enabled===!1||r.enablePan===!1||fe(W)}function Te(W){switch(oe(W),T.length){case 1:switch(r.touches.ONE){case Mu.ROTATE:if(r.enableRotate===!1)return;Ee(),l=a.TOUCH_ROTATE;break;case Mu.PAN:if(r.enablePan===!1)return;Re(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Mu.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ue(),l=a.TOUCH_DOLLY_PAN;break;case Mu.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ge(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ie(W){switch(oe(W),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;me(W),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;_e(W),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;$e(W),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Fe(W),r.update();break;default:l=a.NONE}}function De(W){r.enabled!==!1&&W.preventDefault()}function xe(W){T.push(W)}function ie(W){delete R[W.pointerId];for(let de=0;de<T.length;de++)if(T[de].pointerId==W.pointerId){T.splice(de,1);return}}function oe(W){let de=R[W.pointerId];de===void 0&&(de=new Se,R[W.pointerId]=de),de.set(W.pageX,W.pageY)}function Ne(W){const de=W.pointerId===T[0].pointerId?T[1]:T[0];return R[de.pointerId]}t!==void 0&&this.connect(t),this.update()}};class tk extends ji{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new KCe(t)}),this.register(function(t){return new tAe(t)}),this.register(function(t){return new nAe(t)}),this.register(function(t){return new YCe(t)}),this.register(function(t){return new qCe(t)}),this.register(function(t){return new QCe(t)}),this.register(function(t){return new ZCe(t)}),this.register(function(t){return new JCe(t)}),this.register(function(t){return new eAe(t)}),this.register(function(t){return new XCe(t)}),this.register(function(t){return new jCe(t)}),this.register(function(t){return new rAe(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=va.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Is(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=e;else if(va.decodeText(new Uint8Array(e,0,4))===lj){try{o[Bt.KHR_BINARY_GLTF]=new iAe(e)}catch(d){i&&i(d);return}s=o[Bt.KHR_BINARY_GLTF].content}else s=va.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new vAe(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);a[d.name]=d,o[d.name]=!0}if(l.extensionsUsed)for(let u=0;u<l.extensionsUsed.length;++u){const d=l.extensionsUsed[u],f=l.extensionsRequired||[];switch(d){case Bt.KHR_MATERIALS_UNLIT:o[d]=new $Ce;break;case Bt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[d]=new aAe;break;case Bt.KHR_DRACO_MESH_COMPRESSION:o[d]=new sAe(l,this.dracoLoader);break;case Bt.KHR_TEXTURE_TRANSFORM:o[d]=new oAe;break;case Bt.KHR_MESH_QUANTIZATION:o[d]=new lAe;break;default:f.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function WCe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Bt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class jCe{constructor(e){this.parser=e,this.name=Bt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new He(16777215);l.color!==void 0&&u.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new WN(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new VN(u),c.distance=d;break;case"spot":c=new HN(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class $Ce{constructor(){this.name=Bt.KHR_MATERIALS_UNLIT}getMaterialType(){return Ss}extendParams(e,t,r){const i=[];e.color=new He(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,zt))}return Promise.all(i)}}class JCe{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class KCe{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:wl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Se(a,a)}return Promise.all(s)}}class XCe{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:wl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class YCe{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:wl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new He(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,zt)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class qCe{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:wl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class QCe{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:wl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new He(a[0],a[1],a[2]),Promise.all(s)}}class ZCe{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:wl}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class eAe{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:wl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new He(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,zt)),Promise.all(s)}}class tAe{constructor(e){this.parser=e,this.name=Bt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class nAe{constructor(e){this.parser=e,this.name=Bt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class rAe{constructor(e){this.name=Bt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,d=i.byteStride,f=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,d,f,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*d);return o.decodeGltfBuffer(new Uint8Array(m),u,d,f,i.mode,i.filter),m})})}else return null}}const lj="glTF",Bm=12,v4={JSON:1313821514,BIN:5130562};class iAe{constructor(e){this.name=Bt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Bm);if(this.header={magic:va.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==lj)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Bm,i=new DataView(e,Bm);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===v4.JSON){const l=new Uint8Array(e,Bm+s,o);this.content=va.decodeText(l)}else if(a===v4.BIN){const l=Bm+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class sAe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Bt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=KP[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=KP[u]||u.toLowerCase();if(o[u]!==void 0){const f=r.accessors[e.attributes[u]],m=Lv[f.componentType];c[d]=m.name,l[d]=f.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(d){i.decodeDracoFile(u,function(f){for(const m in f.attributes){const g=f.attributes[m],v=l[m];v!==void 0&&(g.normalized=v)}d(f)},a,c)})})}}class oAe{constructor(){this.name=Bt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class JP extends Cp{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new He().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const c in a)l.uniforms[c]=a[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class aAe{constructor(){this.name=Bt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return JP}extendParams(e,t,r){const i=t.extensions[this.name];e.color=new He(1,1,1),e.opacity=1;const s=[];if(Array.isArray(i.diffuseFactor)){const o=i.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(i.diffuseTexture!==void 0&&s.push(r.assignTexture(e,"map",i.diffuseTexture,zt)),e.emissive=new He(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new He(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const o=i.specularGlossinessTexture;s.push(r.assignTexture(e,"glossinessMap",o)),s.push(r.assignTexture(e,"specularMap",o,zt))}return Promise.all(s)}createMaterial(e){const t=new JP(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=xl,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class lAe{constructor(){this.name=Bt.KHR_MESH_QUANTIZATION}}class cj extends Ap{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,d=(r-t)/u,f=d*d,m=f*d,g=e*c,v=g-c,_=-2*m+3*f,x=m-f,w=1-_,S=x-f+d;for(let E=0;E!==a;E++){const A=o[v+E+a],P=o[v+E+l]*u,I=o[g+E+a],T=o[g+E]*u;s[E]=w*A+S*P+_*I+x*T}return s}}const cAe=new li;class uAe extends cj{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return cAe.fromArray(s).normalize().toArray(s),s}}const Va={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Lv={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},y4={9728:dr,9729:Ln,9984:wv,9985:L1,9986:cf,9987:Ea},_4={33071:si,33648:Wf,10497:Dc},x4={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},KP={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},zl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},dAe={CUBICSPLINE:void 0,LINEAR:yd,STEP:jf},vA={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function hAe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Cp({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Sa})),n.DefaultMaterial}function Dm(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Pu(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function fAe(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(r=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(r){const f=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(f)}if(i){const f=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(f)}if(s){const f=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(f)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=f),n.morphTargetsRelative=!0,n})}function pAe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function mAe(n){const e=n.extensions&&n.extensions[Bt.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+b4(e.attributes):t=n.indices+":"+b4(n.attributes)+":"+n.mode,t}function b4(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function XP(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function gAe(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class vAe{constructor(e={},t={}){var r,i;this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new WCe,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const s=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=typeof navigator<"u"&&((r=navigator.userAgent)===null||r===void 0?void 0:r.indexOf("Firefox"))>-1,a=typeof navigator<"u"&&o?(i=navigator.userAgent)===null||i===void 0?void 0:i.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||s||o&&a<98?this.textureLoader=new RW(this.options.manager):this.textureLoader=new DW(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Is(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Dm(s,a,i),Pu(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Bt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(va.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=x4[i.type],c=Lv[i.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,f=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let v,_;if(m&&m!==d){const x=Math.floor(f/m),w="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+x+":"+i.count;let S=t.cache.get(w);S||(v=new c(a,x*m,i.count*m/u),S=new x0(v,m/u),t.cache.add(w,S)),_=new Fc(S,l,f%m/u,g)}else a===null?v=new c(i.count*l):v=new c(a,f,i.count*l),_=new cn(v,l,g);if(i.sparse!==void 0){const x=x4.SCALAR,w=Lv[i.sparse.indices.componentType],S=i.sparse.indices.byteOffset||0,E=i.sparse.values.byteOffset||0,A=new w(o[1],S,i.sparse.count*x),P=new c(o[2],E,i.sparse.count*l);a!==null&&(_=new cn(_.array.slice(),_.itemSize,_.normalized));for(let I=0,T=A.length;I<T;I++){const R=A[I];if(_.setX(R,P[I*l]),l>=2&&_.setY(R,P[I*l+1]),l>=3&&_.setZ(R,P[I*l+2]),l>=4&&_.setW(R,P[I*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,o.name&&(u.name=o.name);const f=(s.samplers||{})[o.sampler]||{};return u.magFilter=y4[f.magFilter]||Ln,u.minFilter=y4[f.minFilter]||Ea,u.wrapS=_4[f.wrapS]||Dc,u.wrapT=_4[f.wrapT]||Dc,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const f=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(f),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(f,m){let g=f;t.isImageBitmapLoader===!0&&(g=function(v){const _=new Jn(v);_.needsUpdate=!0,f(_)}),t.load(va.resolveURL(d,s.path),g,void 0,m)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||gAe(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(r.texCoord!==void 0&&r.texCoord!=0&&!(t==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),s.extensions[Bt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Bt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Bt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new j1,Mr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Ii,Mr.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return Cp}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Bt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const d=i[Bt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else if(l[Bt.KHR_MATERIALS_UNLIT]){const d=i[Bt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new He(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;a.color.fromArray(f),a.opacity=f[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",d.baseColorTexture,zt)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=To);const u=s.alphaMode||vA.OPAQUE;if(u===vA.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===vA.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ss&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Se(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==Ss&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ss&&(a.emissive=new He().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Ss&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,zt)),Promise.all(c).then(function(){let d;return o===JP?d=i[Bt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):d=new o(a),s.name&&(d.name=s.name),Pu(d,s),t.associations.set(d,{materials:e}),s.extensions&&Dm(i,d,s),d})}createUniqueName(e){const t=Yt.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Bt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return w4(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=mAe(c),d=i[u];if(d)o.push(d.promise);else{let f;c.extensions&&c.extensions[Bt.KHR_DRACO_MESH_COMPRESSION]?f=s(c):f=w4(new Ct,c,t),i[u]={primitive:c,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?hAe(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let m=0,g=u.length;m<g;m++){const v=u[m],_=o[m];let x;const w=c[m];if(_.mode===Va.TRIANGLES||_.mode===Va.TRIANGLE_STRIP||_.mode===Va.TRIANGLE_FAN||_.mode===void 0)x=s.isSkinnedMesh===!0?new AN(v,w):new Or(v,w),x.isSkinnedMesh===!0&&!x.geometry.attributes.skinWeight.normalized&&x.normalizeSkinWeights(),_.mode===Va.TRIANGLE_STRIP?x.geometry=S4(x.geometry,k9):_.mode===Va.TRIANGLE_FAN&&(x.geometry=S4(x.geometry,pN));else if(_.mode===Va.LINES)x=new Uo(v,w);else if(_.mode===Va.LINE_STRIP)x=new vl(v,w);else if(_.mode===Va.LINE_LOOP)x=new MN(v,w);else if(_.mode===Va.POINTS)x=new TN(v,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(x.geometry.morphAttributes).length>0&&pAe(x,s),x.name=t.createUniqueName(s.name||"mesh_"+e),Pu(x,s),_.extensions&&Dm(i,x,_),t.assignFinalMaterial(x),d.push(x)}for(let m=0,g=d.length;m<g;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return d[0];const f=new Za;t.associations.set(f,{meshes:e});for(let m=0,g=d.length;m<g;m++)f.add(d[m]);return f})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Bn(U9.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new al(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Pu(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],s=[],o=[],a=[],l=[];for(let c=0,u=r.channels.length;c<u;c++){const d=r.channels[c],f=r.samplers[d.sampler],m=d.target,g=m.node,v=r.parameters!==void 0?r.parameters[f.input]:f.input,_=r.parameters!==void 0?r.parameters[f.output]:f.output;i.push(this.getDependency("node",g)),s.push(this.getDependency("accessor",v)),o.push(this.getDependency("accessor",_)),a.push(f),l.push(m)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2],m=c[3],g=c[4],v=[];for(let x=0,w=u.length;x<w;x++){const S=u[x],E=d[x],A=f[x],P=m[x],I=g[x];if(S===void 0)continue;S.updateMatrix();let T;switch(zl[I.path]){case zl.weights:T=Xf;break;case zl.rotation:T=zc;break;case zl.position:case zl.scale:default:T=Yf;break}const R=S.name?S.name:S.uuid,O=P.interpolation!==void 0?dAe[P.interpolation]:yd,L=[];zl[I.path]===zl.weights?S.traverse(function(j){j.morphTargetInfluences&&L.push(j.name?j.name:j.uuid)}):L.push(R);let J=A.array;if(A.normalized){const j=XP(J.constructor),V=new Float32Array(J.length);for(let K=0,Q=J.length;K<Q;K++)V[K]=J[K]*j;J=V}for(let j=0,V=L.length;j<V;j++){const K=new T(L[j]+"."+zl[I.path],E.array,J,O);P.interpolation==="CUBICSPLINE"&&(K.createInterpolant=function(te){const D=this instanceof zc?uAe:cj;return new D(this.times,this.values,this.getValueSize()/3,te)},K.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(K)}}const _=r.name?r.name:"animation_"+e;return new qf(_,void 0,v)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this.extensions,i=this,s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"";return function(){const a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new W1:a.length>1?l=new Za:a.length===1?l=a[0]:l=new qt,l!==a[0])for(let c=0,u=a.length;c<u;c++)l.add(a[c]);if(s.name&&(l.userData.name=s.name,l.name=o),Pu(l,s),s.extensions&&Dm(r,l,s),s.matrix!==void 0){const c=new gt;c.fromArray(s.matrix),l.applyMatrix4(c)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,r=this.extensions,i=this.json.scenes[e],s=this,o=new Za;i.name&&(o.name=s.createUniqueName(i.name)),Pu(o,i),i.extensions&&Dm(r,o,i);const a=i.nodes||[],l=[];for(let c=0,u=a.length;c<u;c++)l.push(uj(a[c],o,t,s));return Promise.all(l).then(function(){const c=u=>{const d=new Map;for(const[f,m]of s.associations)(f instanceof Mr||f instanceof Jn)&&d.set(f,m);return u.traverse(f=>{const m=s.associations.get(f);m!=null&&d.set(f,m)}),d};return s.associations=c(o),o})}}function uj(n,e,t,r){const i=t.nodes[n];return r.getDependency("node",n).then(function(s){if(i.skin===void 0)return s;let o;return r.getDependency("skin",i.skin).then(function(a){o=a;const l=[];for(let c=0,u=o.joints.length;c<u;c++)l.push(r.getDependency("node",o.joints[c]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const c=[],u=[];for(let d=0,f=a.length;d<f;d++){const m=a[d];if(m){c.push(m);const g=new gt;o.inverseBindMatrices!==void 0&&g.fromArray(o.inverseBindMatrices.array,d*16),u.push(g)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[d])}l.bind(new b0(c,u),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(i.children){const a=i.children;for(let l=0,c=a.length;l<c;l++){const u=a[l];o.push(uj(u,s,t,r))}}return Promise.all(o)})}function yAe(n,e,t){const r=e.attributes,i=new Jc;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new U(l[0],l[1],l[2]),new U(c[0],c[1],c[2])),a.normalized){const u=XP(Lv[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new U,l=new U;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d.POSITION!==void 0){const f=t.json.accessors[d.POSITION],m=f.min,g=f.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),f.normalized){const v=XP(Lv[f.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Kc;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function w4(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=KP[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Pu(n,e),yAe(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?fAe(n,e.targets,t):n})}function S4(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===pN)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s}class _Ae extends PW{constructor(e){super(e),this.type=Po}parse(e){const a=function(S,E){switch(S){case 1:console.error("THREE.RGBELoader Read Error: "+(E||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(E||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(E||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(E||""))}return-1},d=`
`,f=function(S,E,A){E=E||1024;let I=S.pos,T=-1,R=0,O="",L=String.fromCharCode.apply(null,new Uint16Array(S.subarray(I,I+128)));for(;0>(T=L.indexOf(d))&&R<E&&I<S.byteLength;)O+=L,R+=L.length,I+=128,L+=String.fromCharCode.apply(null,new Uint16Array(S.subarray(I,I+128)));return-1<T?(A!==!1&&(S.pos+=R+T+1),O+L.slice(0,T)):!1},m=function(S){const E=/^#\?(\S+)/,A=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,P=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,I=/^\s*FORMAT=(\S+)\s*$/,T=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,R={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let O,L;if(S.pos>=S.byteLength||!(O=f(S)))return a(1,"no header found");if(!(L=O.match(E)))return a(3,"bad initial token");for(R.valid|=1,R.programtype=L[1],R.string+=O+`
`;O=f(S),O!==!1;){if(R.string+=O+`
`,O.charAt(0)==="#"){R.comments+=O+`
`;continue}if((L=O.match(A))&&(R.gamma=parseFloat(L[1])),(L=O.match(P))&&(R.exposure=parseFloat(L[1])),(L=O.match(I))&&(R.valid|=2,R.format=L[1]),(L=O.match(T))&&(R.valid|=4,R.height=parseInt(L[1],10),R.width=parseInt(L[2],10)),R.valid&2&&R.valid&4)break}return R.valid&2?R.valid&4?R:a(3,"missing image size specifier"):a(3,"missing format specifier")},g=function(S,E,A){const P=E;if(P<8||P>32767||S[0]!==2||S[1]!==2||S[2]&128)return new Uint8Array(S);if(P!==(S[2]<<8|S[3]))return a(3,"wrong scanline width");const I=new Uint8Array(4*E*A);if(!I.length)return a(4,"unable to allocate buffer space");let T=0,R=0;const O=4*P,L=new Uint8Array(4),J=new Uint8Array(O);let j=A;for(;j>0&&R<S.byteLength;){if(R+4>S.byteLength)return a(1);if(L[0]=S[R++],L[1]=S[R++],L[2]=S[R++],L[3]=S[R++],L[0]!=2||L[1]!=2||(L[2]<<8|L[3])!=P)return a(3,"bad rgbe scanline format");let V=0,K;for(;V<O&&R<S.byteLength;){K=S[R++];const te=K>128;if(te&&(K-=128),K===0||V+K>O)return a(3,"bad scanline data");if(te){const D=S[R++];for(let $=0;$<K;$++)J[V++]=D}else J.set(S.subarray(R,R+K),V),V+=K,R+=K}const Q=P;for(let te=0;te<Q;te++){let D=0;I[T]=J[te+D],D+=P,I[T+1]=J[te+D],D+=P,I[T+2]=J[te+D],D+=P,I[T+3]=J[te+D],T+=4}j--}return I},v=function(S,E,A,P){const I=S[E+3],T=Math.pow(2,I-128)/255;A[P+0]=S[E+0]*T,A[P+1]=S[E+1]*T,A[P+2]=S[E+2]*T,A[P+3]=1},_=function(S,E,A,P){const I=S[E+3],T=Math.pow(2,I-128)/255;A[P+0]=Qm.toHalfFloat(Math.min(S[E+0]*T,65504)),A[P+1]=Qm.toHalfFloat(Math.min(S[E+1]*T,65504)),A[P+2]=Qm.toHalfFloat(Math.min(S[E+2]*T,65504)),A[P+3]=Qm.toHalfFloat(1)},x=new Uint8Array(e);x.pos=0;const w=m(x);if(w!==-1){const S=w.width,E=w.height,A=g(x.subarray(x.pos),S,E);if(A!==-1){let P,I,T;switch(this.type){case to:T=A.length/4;const R=new Float32Array(T*4);for(let L=0;L<T;L++)v(A,L*4,R,L*4);P=R,I=to;break;case Po:T=A.length/4;const O=new Uint16Array(T*4);for(let L=0;L<T;L++)_(A,L*4,O,L*4);P=O,I=Po;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:S,height:E,data:P,header:w.string,gamma:w.gamma,exposure:w.exposure,type:I}}}return null}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){switch(o.type){case to:case Po:o.encoding=Lo,o.minFilter=Ln,o.magFilter=Ln,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,r,i)}}const yA=new WeakMap;class xAe extends ji{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new Is(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(yA.has(e)){const l=yA.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),yA.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new Ct;e.index&&t.setIndex(new cn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new cn(o,a))}return t}_loadLibrary(e,t){const r=new Is(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=bAe.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function bAe(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const d=u.draco,f=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const g=t(d,f,m,c),v=g.attributes.map(_=>_.array.buffer);g.index&&v.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},v)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{d.destroy(m),d.destroy(f)}});break}};function t(o,a,l,c){const u=c.attributeIDs,d=c.attributeTypes;let f,m;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)f=new o.Mesh,m=a.DecodeBufferToMesh(l,f);else if(g===o.POINT_CLOUD)f=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const v={index:null,attributes:[]};for(const _ in u){const x=self[d[_]];let w,S;if(c.useUniqueIDs)S=u[_],w=a.GetAttributeByUniqueId(f,S);else{if(S=a.GetAttributeId(f,o[u[_]]),S===-1)continue;w=a.GetAttribute(f,S)}v.attributes.push(i(o,a,f,_,x,w))}return g===o.TRIANGULAR_MESH&&(v.index=r(o,a,f)),o.destroy(f),v}function r(o,a,l){const u=l.num_faces()*3,d=u*4,f=o._malloc(d);a.GetTrianglesUInt32Array(l,d,f);const m=new Uint32Array(o.HEAPF32.buffer,f,u).slice();return o._free(f),{array:m,itemSize:1}}function i(o,a,l,c,u,d){const f=d.num_components(),g=l.num_points()*f,v=g*u.BYTES_PER_ELEMENT,_=s(o,u),x=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,d,_,v,x);const w=new u(o.HEAPF32.buffer,x,g).slice();return o._free(x),{name:c,array:w,itemSize:f}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let J_;const _A=()=>{if(J_)return J_;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const f=new Uint8Array(d.length);for(let g=0;g<d.length;++g){const v=d.charCodeAt(g);f[g]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let m=0;for(let g=0;g<d.length;++g)f[m++]=f[g]<60?r[f[g]]:(f[g]-60)*64+f[++g];return f.buffer.slice(0,m)}function l(d,f,m,g,v,_){const x=s.exports.sbrk,w=m+3&-4,S=x(w*g),E=x(v.length),A=new Uint8Array(s.exports.memory.buffer);A.set(v,E);const P=d(S,m,g,E,v.length);if(P===0&&_&&_(S,w,g),f.set(A.subarray(S,S+m*g)),x(S-x(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return J_={ready:o,supported:!0,decodeVertexBuffer(d,f,m,g,v){l(s.exports.meshopt_decodeVertexBuffer,d,f,m,g,s.exports[c[v]])},decodeIndexBuffer(d,f,m,g){l(s.exports.meshopt_decodeIndexBuffer,d,f,m,g)},decodeIndexSequence(d,f,m,g){l(s.exports.meshopt_decodeIndexSequence,d,f,m,g)},decodeGltfBuffer(d,f,m,g,v,_){l(s.exports[u[v]],d,f,m,g,s.exports[c[_]])}},J_};let K_=null;function dj(n,e,t){return r=>{t&&t(r),n&&(K_||(K_=new xAe),K_.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(K_)),e&&r.setMeshoptDecoder(typeof _A=="function"?_A():_A)}}function Zr(n,e=!0,t=!0,r){return Mp(tk,n,dj(e,t,r))}Zr.preload=(n,e=!0,t=!0,r)=>Mp.preload(tk,n,dj(e,t,r));Zr.clear=n=>Mp.clear(tk,n);const Vl=k.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,onChange:s,onStart:o,onEnd:a,...l},c)=>{const u=$s(A=>A.invalidate),d=$s(A=>A.camera),f=$s(A=>A.gl),m=$s(A=>A.events),g=$s(A=>A.setEvents),v=$s(A=>A.set),_=$s(A=>A.get),x=$s(A=>A.performance),w=e||d,S=r||m.connected||f.domElement,E=k.useMemo(()=>new VCe(w),[w]);return ZN(()=>{E.enabled&&E.update()},-1),k.useEffect(()=>(E.connect(S),()=>void E.dispose()),[S,t,E,u]),k.useEffect(()=>{const A=T=>{u(),t&&x.regress(),s&&s(T)},P=T=>{o&&o(T)},I=T=>{a&&a(T)};return E.addEventListener("change",A),E.addEventListener("start",P),E.addEventListener("end",I),()=>{E.removeEventListener("start",P),E.removeEventListener("end",I),E.removeEventListener("change",A)}},[s,o,a,E,u,g]),k.useEffect(()=>{if(n){const A=_().controls;return v({controls:E}),()=>v({controls:A})}},[n,E]),k.createElement("primitive",jb({ref:c,object:E,enableDamping:i},l))});function hj(n,e){const t=k.useRef(),[r]=k.useState(()=>e?e instanceof qt?{current:e}:e:t),[i]=k.useState(()=>new UW(void 0)),s=k.useRef({}),[o]=k.useState(()=>{const a={};return n.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(r.current)return s.current[l.name]||(s.current[l.name]=i.clipAction(l,r.current))}})),{ref:r,clips:n,actions:a,names:n.map(l=>l.name),mixer:i}});return ZN((a,l)=>i.update(l)),k.useEffect(()=>{const a=r.current;return()=>{s.current={},Object.values(o.actions).forEach(l=>{a&&i.uncacheAction(l,a)})}},[n]),k.useEffect(()=>()=>{i.stopAllAction()},[i]),o}const xA={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},wAe="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/",SAe=n=>n.current&&n.current.isScene,EAe=n=>SAe(n)?n.current:n;function nk(n,e,t,r,i=0){const s=EAe(e||t),o=s.background,a=s.environment,l=s.backgroundBlurriness||0;return n!=="only"&&(s.environment=r),n&&(s.background=r),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=i),()=>{n!=="only"&&(s.environment=a),n&&(s.background=o),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=l)}}function rk({scene:n,background:e=!1,blur:t,map:r}){const i=$s(s=>s.scene);return k.useLayoutEffect(()=>{if(r)return nk(e,n,i,r,t)},[i,n,r,e,t]),null}function fj({files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,encoding:r=void 0,extensions:i}){if(t){if(!(t in xA))throw new Error("Preset must be one of: "+Object.keys(xA).join(", "));n=xA[t],e=wAe}const s=Array.isArray(n),a=Mp(s?TW:_Ae,s?[n]:n,c=>{c.setPath(e),i&&i(c)}),l=s?a[0]:a;return l.mapping=s?ml:Vf,l.encoding=r??s?zt:Lo,l}function pj({background:n=!1,scene:e,blur:t,...r}){const i=fj(r),s=$s(o=>o.scene);return k.useLayoutEffect(()=>nk(n,e,s,i,t),[i,n,e,s,t]),null}function CAe({children:n,near:e=1,far:t=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,scene:l,files:c,path:u,preset:d=void 0,extensions:f}){const m=$s(S=>S.gl),g=$s(S=>S.scene),v=k.useRef(null),[_]=k.useState(()=>new V1),x=k.useMemo(()=>{const S=new bN(r);return S.texture.type=Po,S},[r]);k.useLayoutEffect(()=>(i===1&&v.current.update(m,_),nk(o,l,g,x.texture,a)),[n,_,x.texture,l,g,o,i,m]);let w=1;return ZN(()=>{(i===1/0||w<i)&&(v.current.update(m,_),w++)}),k.createElement(k.Fragment,null,xCe(k.createElement(k.Fragment,null,n,k.createElement("cubeCamera",{ref:v,args:[e,t,x]}),c||d?k.createElement(pj,{background:!0,files:c,preset:d,path:u,extensions:f}):s?k.createElement(rk,{background:!0,map:s,extensions:f}):null),_))}function AAe(n){var e,t,r,i;const s=fj(n),o=n.map||s;k.useMemo(()=>ej({GroundProjectedEnvImpl:HCe}),[]);const a=k.useMemo(()=>[o],[o]),l=(e=n.ground)==null?void 0:e.height,c=(t=n.ground)==null?void 0:t.radius,u=(r=(i=n.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return k.createElement(k.Fragment,null,k.createElement(rk,jb({},n,{map:o})),k.createElement("groundProjectedEnvImpl",{args:a,scale:u,height:l,radius:c}))}function Wl(n){return n.ground?k.createElement(AAe,n):n.map?k.createElement(rk,n):n.children?k.createElement(CAe,n):k.createElement(pj,n)}function MAe(n){const{nodes:e,materials:t}=Zr("/rice-terraces.glb");return F("group",{...n,dispose:null,position:[-.3,0,0],rotation:[0,.6,0],scale:.6,children:[y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3838.geometry,material:t["Hut2:Grass.002"],position:[.12,1.29,-1.52],rotation:[Math.PI/2,0,-2.95],scale:1.38}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3837.geometry,material:t["Hut2:Grass.002"],position:[1.67,1.24,-1.5],rotation:[Math.PI/2,0,0],scale:[.84,1.23,.6]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3841.geometry,material:t["Hut2:Grass.002"],position:[-2.7,-.71,.88],rotation:[1.76,-.19,1.19],scale:[3.11,1.8,1.6]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3840.geometry,material:t["Hut2:Grass.002"],position:[-2.52,-.64,.3],rotation:[Math.PI/2,0,-2.96],scale:[2.22,1.28,1.14]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3839.geometry,material:t["Hut2:Grass.002"],position:[-.22,-.6,2.74],rotation:[Math.PI/2,0,.22],scale:[3.97,2.28,2.73]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3835.geometry,material:t["Hut2:Grass.002"],position:[-1.88,.39,-1.47],rotation:[1.57,0,-1.77],scale:[2.83,1.62,1.95]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3832.geometry,material:t["Hut2:Grass.002"],position:[.75,-.59,1.39],rotation:[1.57,0,1.4],scale:[3.97,2.28,2.73]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3831.geometry,material:t["Hut2:Grass.002"],position:[1.12,-.13,1.44],rotation:[1.76,-.19,2.37],scale:[3.11,1.8,1.6]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3825.geometry,material:t["Hut2:Grass.002"],position:[-1.47,-.18,-.22],rotation:[Math.PI/2,0,-1.78],scale:[2.22,1.28,1.14]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3826.geometry,material:t["Hut2:Grass.002"],position:[-1.69,-.15,-.39],rotation:[Math.PI/2,0,-2.73],scale:[2.83,1.62,1.95]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3829.geometry,material:t["Hut2:Grass.002"],position:[-2.18,-.16,-1.95],rotation:[1.46,.02,2.32],scale:[2.83,1.62,1.95]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3830.geometry,material:t["Hut2:Grass.002"],position:[1.72,-.69,3.32],rotation:[1.49,-.08,-3.02],scale:[3.11,1.8,1.6]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3828.geometry,material:t["Hut2:Grass.002"],position:[1.88,-.67,3.28],rotation:[Math.PI/2,0,1.4],scale:[3.97,2.28,2.73]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3827.geometry,material:t["Hut2:Grass.002"],position:[1.88,-.53,3.34],rotation:[Math.PI/2,0,2.35],scale:[3.11,1.8,1.6]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3842.geometry,material:t["Hut2:Grass.002"],position:[2.9,-.68,1.46],rotation:[Math.PI/2,0,0],scale:[.84,1.23,.6]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3843.geometry,material:t["Hut2:Grass.002"],position:[2.94,-.66,1.51],rotation:[Math.PI/2,0,0],scale:.84}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3838001.geometry,material:t["Hut2:Grass.002"],position:[-2.51,-.66,2.93],rotation:[Math.PI/2,0,.09],scale:.84}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3839001.geometry,material:t["Hut2:Grass.002"],position:[-2.54,-.66,2.85],rotation:[Math.PI/2,0,1.8],scale:[1.22,1.93,.91]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3839002.geometry,material:t["Hut2:Grass.002"],position:[-.41,.42,-.73],rotation:[Math.PI/2,0,.88],scale:[3.97,2.28,2.73]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.polySurface3838002.geometry,material:t["Hut2:Grass.002"],position:[-1,1.29,-2.7],rotation:[Math.PI/2,0,2.16],scale:1.38}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.pCube2002.geometry,material:t["Rice terraces"],position:[-.24,1.12,-2.22],rotation:[Math.PI/2,0,0],scale:[1.96,1.95,1.95]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.pCube3.geometry,material:t["Rice terraces"],position:[.04,.67,-1.85],rotation:[Math.PI/2,0,-.03],scale:[3.6,3.58,2.3]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.pCube4.geometry,material:t["Rice terraces"],position:[.31,.11,-1.54],rotation:[Math.PI/2,0,-.45],scale:[4.51,4.18,.59]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.pCube5.geometry,material:t["Rice terraces"],position:[.2,-.41,-1.07],rotation:[Math.PI/2,0,0],scale:[4.54,6.57,.57]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.pCube6.geometry,material:t["Rice terraces"],position:[.37,-1.18,0],rotation:[Math.PI/2,0,0],scale:[5.66,9.86,.99]})]})}Zr.preload("/rice-terraces.glb");const TAe=()=>{k.useState(!1),k.useState(!1);const[n,e]=k.useState(!1);return mt.useRef(),F("div",{className:"dev-carousel ",children:[F("div",{className:"prec-1",children:[F("h1",{className:"page-header-title",children:["chapter2",y("sup",{children:y("button",{className:"about-ch",onClick:()=>e(!0),children:"?"})})]}),y("p",{className:"page-header-subtitle",children:"pre-colonial"}),y(vp,{open:n,onClose:()=>e(!1)})]}),y("div",{className:"dev-slides-item dev-slide-1",id:"dev-slide-1","aria-label":"slide 1 of 2",tabIndex:"0",children:F("div",{className:"rice-terraces-container",children:[F(Hl,{className:"model-viewer",style:{width:"30vw",height:"30vw",padding:"0",margin:"0",borderRadius:"50%",border:"1.5vh solid lightyellow",top:"0",background:"linear-gradient(#f1ede6 10%,rgba(220, 208, 181)100%)",hover:{boxShadow:"0px 0px 100px 100px red"}},children:[F(k.Suspense,{fallback:null,children:[y(MAe,{}),y(Wl,{preset:"sunset"})]}),y(Vl,{})]}),y("div",{className:"rice-card-modal-container",children:F("div",{className:"rice-card-modal-p-container",children:[y("h2",{className:"rice-card-modal-h3",children:"Pre-Colonial Agricultural Developments"}),y("p",{className:"rice-card-modal-p",children:"Before we were colonized by the Spaniards, although the social systems were not perfect, not free from peasant oppression and slavery  land, at least in many parts of Luzon, was shared by everyone and was tilled for the whole community."}),y("p",{className:"rice-card-modal-p",children:"One well-known development is that there was already a prosperous irrigation system for their fields at that time. The famous rice terraces are worth mentioning, a product of the engineering genius of the early Ifugaos."}),y("p",{className:"rice-card-modal-p",children:"More so, pre-colonial Philippines had a great deal of achievements: livestock-raising, fishing, brewing, mining, lumbering, weapons and cannons, gunpowder, weaving, shipbuilding, and ornaments."})]})})]})}),F("div",{className:"dev-carousel__nav",children:[y(jn,{to:"/chapters-directory/chapter-2/pre-colonial",className:"dev-slider-nav",children:"1"}),y(jn,{to:"/chapters-directory/chapter-2/pre-colonial/2",className:"dev-slider-nav",children:"2"})]}),y(jn,{to:"/chapters-directory/chapter-2",children:y("div",{className:"chapter-two-btn chapter-two-btn-container",children:y("button",{className:"chapter-two-links back-btn",children:"Back"})})})]})},PAe=()=>{mt.useRef(),k.useState(!1),k.useState(!1);const[n,e]=k.useState(!1);return F("div",{className:"dev-cards-container",children:[" ",F("div",{className:"dev-cards-list",children:[F("div",{className:"page-header-container",children:[F("h1",{className:"page-header-title",children:["chapter2",y("sup",{children:y("button",{className:"about-ch",onClick:()=>e(!0),children:"?"})})]}),y("p",{className:"page-header-subtitle",children:"pre-colonial developments"}),y(vp,{open:n,onClose:()=>e(!1)})]}),y("label",{htmlFor:"dev-card-checkbox-toggle-1",className:"dev-1",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/8TRLrcdMbgSDpQctUI/giphy.gif"})})})}),y("label",{htmlFor:"dev-card-checkbox-toggle-2",className:"dev-2",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/FhuMeW4ne1Vi2vhEFS/giphy.gif"})})})}),y("label",{htmlFor:"dev-card-checkbox-toggle-3",className:"dev-3",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/InIHR2Xb6TG5sMHcLH/giphy.gif"})})})}),y("label",{htmlFor:"dev-card-checkbox-toggle-4",className:"dev-4",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/I5HmyWSIiRpbwzGV9i/giphy.gif"})})})}),y("label",{htmlFor:"dev-card-checkbox-toggle-5",className:"dev-5",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/Zd25ivbSfytMQekkoD/giphy.gif"})})})}),y("label",{htmlFor:"dev-card-checkbox-toggle-6",className:"dev-6",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/rkE1N3QnbYXuLeC3rl/giphy.gif"})})})}),y("label",{htmlFor:"dev-card-checkbox-toggle-7",className:"dev-7",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/uDBZo21lUHM2m8H3Ii/giphy.gif"})})})}),y("label",{htmlFor:"dev-card-checkbox-toggle-8",className:"dev-8",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/R6YfJusrNT87SkBoDy/giphy.gif"})})})}),y("label",{htmlFor:"dev-card-checkbox-toggle-9",className:"dev-9",children:y("div",{className:"dev-card-btn",children:y("div",{className:"dev-card-image",children:y("img",{className:"dev-card-image-img",src:"https://media.giphy.com/media/mw5BNeF0Gwnm58KpLI/giphy.gif"})})})})]}),F("div",{className:"dev-carousel__nav",children:[y(jn,{to:"/chapters-directory/chapter-2/pre-colonial",className:"dev-slider-nav",children:"1"}),y(jn,{to:"/chapters-directory/chapter-2/pre-colonial/2",className:"dev-slider-nav",children:"2"})]}),y(jn,{to:"/chapters-directory/chapter-2",style:{color:"white"},children:y("div",{className:"chapter-two-btn chapter-two-btn-container",children:y("button",{className:"chapter-two-links back-btn",children:"Back"})})})]})},RAe={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e3},IAe={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(2px)",zIndex:1e3};function NAe({open:n,onClose:e}){return n?ws.createPortal(F(Fo,{children:[y("div",{onClick:e}),y("div",{style:IAe,onClick:e}),y("div",{style:RAe,children:y("div",{className:"sol-modal-container",children:F("div",{className:"sol-modal-text",children:[y("h2",{className:"sol-modal-h2",children:"Chapter 3"}),y("h3",{className:"sol-modal-h3",children:"Plight of the Peasantry"}),y("p",{className:"sol-modal-p",children:"Chapter 3 contains a short list of the many ways the Filipino peasantry is being disenfranchised. These challenges perpetuate a cycle of poverty, making it difficult for the peasantry to assert their rights to land ownership and improve their livelihoods."}),y("p",{className:"sol-modal-p",children:y("i",{children:"To know more, open the Chapter Guide found at the top-right of your screen."})})]})})})]}),document.getElementById("portal")):null}const kAe=()=>{const[n,e]=k.useState(!1);return mt.useRef(),F("div",{children:[F("div",{className:"prec-1",children:[F("div",{className:"chiii-text-wrapper",children:[F("h1",{className:"page-header-title",children:["chapter3",y("sup",{children:y("button",{className:"about-ch",onClick:()=>e(!0),children:"?"})})]}),y("p",{className:"page-header-subtitle",children:"plight of the peasantry"})]}),y(NAe,{open:n,onClose:()=>e(!1)})]}),F("div",{className:"plight-carousel",children:[y("a",{className:"plight-carousel__skip-link",href:"#plight-skip-link",children:"Skip the plight-Carousel"}),F("div",{className:"plight-slides",children:[F("div",{className:"plight-slides-item plight-slide-1",id:"plight-slide-1","aria-label":"slide 1 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/FTttO6GosqxuvvsMHn/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"Landlessness"}),y("p",{className:"plight-card-modal-p",children:"At least 7 out of 10 farmers are landless and do not own the land they till. For a farmer, losing their land is like losing their basic right to existence."}),y("p",{className:"plight-card-modal-p",children:"The lack of access to land has resulted in the proliferation of informal settlements and urban slums, where people live in substandard housing and lack access to basic services such as water and sanitation."}),y("p",{className:"plight-card-modal-p",children:"One of the main causes of landlessness in the Philippines is the concentration of land ownership in the hands of a few wealthy families, who have the resources and influence to maintain their control over large tracts of land."}),y("p",{className:"plight-card-modal-p",children:"Giving peasants ownership of the land they work on could help to solve this problem. It would give them more control over their work environment and the ability to invest in their own farms. This could lead to greater stability, increased productivity, and improved livelihoods for Filipino peasants."})]})})]}),F("div",{className:"plight-slides-item plight-slide-2",id:"plight-slide-2","aria-label":"slide 2 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/sq9TLxv9OIV6G79nb9/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"Land Monopoly"}),y("p",{className:"plight-card-modal-p",children:"Today, peasants are still forced to give up their lands because of the conversion of agricultural lands to commercial use. Many are evicted from their lands through military means and anti-peasant laws and policies."}),y("p",{className:"plight-card-modal-p",children:"In many cases, there are peasants who are the owners of their lands as declared on paper, yet the agribusinesses are always the ones who control and benefit from them. Peasants cannot also grow their own crops on abandoned commercial lands they used to work on, do not have the autonomy to choose which types of crops and agricultural inputs to use, and are forced to buy and use expensive environment- and health-damaging foreign imports of agricultural inputs."})]})})]}),F("div",{className:"plight-slides-item plight-slide-3",id:"plight-slide-3","aria-label":"slide 3 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/uzrHKx47ihF4lQb0aC/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"Food Insecurity"}),y("p",{className:"plight-card-modal-p",children:"The ever-expansion of land monopoly among big landlords and agribusinesses are a threat to the food security of Filipinos, especially the peasants. Export crops have taken over and far exceeded the rice and corn farms, which the peasants mainly depend on for food and sustenance."}),y("p",{className:"plight-card-modal-p",children:"In addition to this, the influx of imported expensive agricultural products have taken a toll on their livelihoods and food as they end up earning next to nothing."})]})})]}),F("div",{className:"plight-slides-item plight-slide-4",id:"plight-slide-4","aria-label":"slide 4 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/GzSaTt5YK9xGw6aVy1/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"Low Wages"}),y("p",{className:"plight-card-modal-p",children:"Peasants in the Philippines often face low wages, which can make it difficult to make ends meet. Many agricultural workers in the Philippines are not even paid the minimum wage, as some employers are able to exploit loopholes in the law. This can lead to further economic hardship for workers, particularly those who are already living in poverty."})]})})]}),F("div",{className:"plight-slides-item plight-slide-5",id:"plight-slide-5","aria-label":"slide 5 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/Xev9ybCo8Nlo5QrxOs/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"High Land Rent"}),y("p",{className:"plight-card-modal-p",children:"Peasants in the Philippines often face high land rent costs that can be financially burdensome. In many cases, these costs are so high that peasants are forced to take out loans just to pay for them. This perpetuates a cycle of debt that can be difficult to break, as the high cost of land rent leaves peasants with little money to invest in their farms or improve their living conditions. As a result, many peasants struggle to make ends meet and are at risk of losing their land if they are unable to keep up with the rent payments."})]})})]}),F("div",{className:"plight-slides-item plight-slide-6",id:"plight-slide-6","aria-label":"slide 6 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/fZgaDnsLftBgD6LQIQ/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"High Loan and Tax Interest Rates"}),y("p",{className:"plight-card-modal-p",children:"The high loan and tax interest rates in the Philippines have been a major concern for the peasantry, who are among the most vulnerable and marginalized sectors of society. The Philippine government has implemented various programs and policies aimed at supporting the rural economy and improving the welfare of farmers, but many of these initiatives have fallen short in addressing the root causes of poverty and inequality in the countryside."}),F("p",{className:"plight-card-modal-p",children:["Such difficulties compel peasants to take out loans with high interest rates."," "]})]})})]}),F("div",{className:"plight-slides-item plight-slide-7",id:"plight-slide-7","aria-label":"slide 7 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/allqaf8rK2bG7hPci1/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"Forced Labor"}),y("p",{className:"plight-card-modal-p",children:"Many farmers and peasants in the Philippines rely heavily on their families to help them with their work. However, in some cases, these families are forced to work without pay or adequate compensation. This is especially true for children, who are often pulled out of school to work on farms."}),y("p",{className:"plight-card-modal-p",children:"One of the main reasons for forced family labor is poverty. Many families in rural areas are living in extreme poverty and are often forced to rely on their children to help them make ends meet. In some cases, these families are also indebted to landowners or moneylenders, which further exacerbates the problem."})]})})]}),F("div",{className:"plight-slides-item plight-slide-8",id:"plight-slide-8","aria-label":"slide 8 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/JPH7nyTLXN21Hl9QXj/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"Militarization"}),y("p",{className:"plight-card-modal-p",children:"The militarization of the Philippines peasantry is a long-standing issue in the country. For decades, the Philippine government has deployed military forces to rural areas to suppress armed rebellions and insurgencies. This has led to numerous human rights violations, including extrajudicial killings, forced disappearances, and displacement of communities."}),y("p",{className:"plight-card-modal-p",children:"The government's counter-insurgency programs, such as Oplan Bantay Laya, have often targeted farmers and other rural residents who are suspected of supporting or being members of insurgent groups. The military has also been accused of collaborating with private corporations, such as mining and logging companies, to forcibly remove farmers from their land to make way for large-scale development projects."}),y("p",{className:"plight-card-modal-p",children:"The militarization of the countryside has not only resulted in human rights abuses but has also disrupted the lives and livelihoods of rural communities. Farmers have been forced to abandon their crops and their homes, and many have been forced to flee to urban areas to seek refuge."}),y("p",{className:"plight-card-modal-p",children:"The Philippine government has been criticized by human rights groups and international organizations for its failure to hold accountable those responsible for the abuses committed by the military. The government has also been urged to address the root causes of the insurgency, including poverty, landlessness, and social inequality."}),y("p",{className:"plight-card-modal-p",children:"Efforts to address the militarization of the peasantry have included calls for the demilitarization of rural areas and the withdrawal of military forces from communities. There have also been efforts to promote agrarian reform and to protect the rights of farmers to their land and livelihoods. However, progress has been slow, and the militarization of the countryside remains a significant challenge in the Philippines."})]})})]}),F("div",{className:"plight-slides-item plight-slide-9",id:"plight-slide-9","aria-label":"slide 9 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/fhEYRG1rkFIC3AMfgI/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"Killings and Human Rights Abuses"}),y("p",{className:"plight-card-modal-p",children:"Extrajudicial killings (EJKs) and human rights abuses are serious violations of human rights and must be condemned. The fact that the majority of EJK victims are peasants is a cause for concern, as it points to a larger issue of inequality and injustice in society."}),y("p",{className:"plight-card-modal-p",children:"Peasants, who are often poor and marginalized, are particularly vulnerable to EJKs and other human rights abuses. They may be targeted by state actors or non-state actors, such as criminal gangs or private security forces, for various reasons, including their involvement in land disputes or their opposition to development projects that may displace them from their homes and livelihoods."}),y("p",{className:"plight-card-modal-p",children:"It is important for governments to take measures to protect the human rights of all their citizens, including peasants and other marginalized groups. This includes ensuring that those responsible for EJKs and other abuses are held accountable and brought to justice, and that victims and their families are provided with appropriate remedies and support."}),y("p",{className:"plight-card-modal-p",children:"Moreover, addressing the root causes of inequality and injustice is essential to prevent future violations of human rights. This may involve implementing policies and programs that promote social and economic inclusion and empower marginalized groups, such as peasants, to participate in decision-making processes that affect their lives and livelihoods."})]})})]}),F("div",{className:"plight-slides-item plight-slide-10",id:"plight-slide-10","aria-label":"slide 10 of 10",tabIndex:"0",children:[y("div",{className:"plight-card-image",children:y("img",{className:"plight-card-image-img",src:"https://media.giphy.com/media/lmKisCsdqmyZHhviNK/giphy.gif"})}),y("div",{className:"plight-card-modal-container",children:F("div",{className:"plight-card-modal-p-container",children:[y("h2",{className:"plight-card-modal-h3",children:"Bogus Land Reforms"}),y("p",{className:"plight-card-modal-p",children:"Land reform in the Philippines has been a contentious issue for many decades. While some land reform programs have achieved some success, others have been criticized for being ineffective, inadequate, or even fraudulent. Here are some examples of bogus land reforms in the Philippines:"}),F("ul",{children:[y("li",{className:"plight-card-modal-p",children:"Stock distribution option (SDO) - The Comprehensive Agrarian Reform Program (CARP) of 1988 allowed landowners to retain ownership of their land by distributing stocks in their corporations to farmers. However, this program was widely criticized for being a bogus land reform scheme because it did not transfer actual ownership of land to farmers. The farmers received shares of stocks that were often manipulated, undervalued, or easily diluted by the landowners."}),y("li",{className:"plight-card-modal-p",children:"Leaseback arrangement - Some landowners in the Philippines have used a leaseback arrangement to circumvent the land reform program. This scheme involves leasing the land to the government for distribution to landless farmers, then leasing it back from the government at an exorbitant price. The landowners retain control of the land while the farmers are left with the burden of paying high rent."}),y("li",{className:"plight-card-modal-p",children:"Land use conversion - Landowners can evade the land reform program by converting agricultural land into other uses, such as commercial or residential purposes. This practice is often facilitated by corrupt local officials who issue permits and approvals for the conversion of land, even if it is not legally allowed."}),y("li",{className:"plight-card-modal-p",children:"Violence and intimidation - Some landowners in the Philippines have resorted to violence and intimidation to prevent the implementation of land reform programs. Farmers who assert their rights to land ownership are often met with threats, harassment, and even physical violence."})]}),y("p",{className:"plight-card-modal-p",children:"These bogus land reform schemes have undermined the objective of redistributing land to farmers and alleviating rural poverty in the Philippines. Without genuine land reform, the rural poor will continue to suffer from landlessness, poverty, and inequality."})]})})]})]}),F("div",{className:"plight-carousel__nav",children:[y("a",{className:"plight-slider-nav",href:"#plight-slide-1","aria-label":"Go to slide 1",children:"1"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-2","aria-label":"Go to slide 2",children:"2"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-3","aria-label":"Go to slide 3",children:"3"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-4","aria-label":"Go to slide 4",children:"4"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-5","aria-label":"Go to slide 5",children:"5"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-6","aria-label":"Go to slide 6",children:"6"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-7","aria-label":"Go to slide 7",children:"7"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-8","aria-label":"Go to slide 8",children:"8"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-9","aria-label":"Go to slide 9",children:"9"}),y("a",{className:"plight-slider-nav",href:"#plight-slide-10","aria-label":"Go to slide 10",children:"10"})]}),y("div",{className:"plight-carousel__skip-message",id:"plight-skip-link",tabIndex:"0"})]})]})},OAe=()=>y("div",{children:y(kAe,{})}),LAe={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e3},BAe={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(2px)",zIndex:1e3};function DAe({open:n,onClose:e}){return n?ws.createPortal(F(Fo,{children:[y("div",{onClick:e}),y("div",{style:BAe,onClick:e}),y("div",{style:LAe,children:y("div",{className:"sol-modal-container",children:F("div",{className:"sol-modal-text",children:[y("h2",{className:"sol-modal-h2",children:"Chapter 4"}),y("h3",{className:"sol-modal-h3",children:"Roots of the Problems"}),y("p",{className:"sol-modal-p",children:"Imperialism, feudalism, and bureaucrat-capitalism have all had significant impacts on the material conditions of the Filipino peasantry. These issues have led to an unequal distribution of wealth and power, leaving the Filipino peasantry to face the negative consequences. Addressing these issues is essential to promote a fairer and more just society for all."}),y("p",{className:"sol-modal-p",children:y("i",{children:"To know more, open the Chapter Guide found at the top-right of your screen."})})]})})})]}),document.getElementById("portal")):null}const FAe=()=>{const[n,e]=k.useState(!1);return mt.useRef(),F("div",{className:"spanish-cards-container",children:[" ",F("div",{className:"spanish-cards-list",children:[F("div",{className:"page-header-container",children:[F("h1",{className:"page-header-title",children:["chapter4",y("sup",{children:y("button",{className:"about-ch",onClick:()=>e(!0),children:"?"})})]}),y("p",{className:"page-header-subtitle",children:"roots of the problems"}),y(DAe,{open:n,onClose:()=>e(!1)})]}),y("input",{type:"checkbox",id:"spanish-card-checkbox-toggle-1"}),y("input",{type:"checkbox",id:"spanish-card-checkbox-toggle-2"}),y("input",{type:"checkbox",id:"spanish-card-checkbox-toggle-3"}),F("label",{htmlFor:"spanish-card-checkbox-toggle-1",className:"spanish-1",children:[F("div",{className:"spanish-card-btn",children:[y("div",{className:"spanish-card-image",children:y("img",{className:"spanish-card-image-img",src:"https://media.giphy.com/media/STK4cRSyq7vhrWEMfl/giphy.gif"})}),y("div",{className:"spanish-card-title",children:y("div",{className:"spanish-card-p",children:"Imperialism"})})]}),y("div",{className:"spanish-card-modal-container",children:y("div",{className:"spanish-card-modal",children:F("div",{className:"spanish-card-modal-p-container",children:[y("h2",{className:"spanish-card-modal-h3",children:"Imperialism"}),y("p",{children:"Imperialism has led to the domination of the economy, politics, and culture of weaker nations by a few big capitalists. This has resulted in the concentration of wealth and power in the hands of a few, who control the markets, source of raw materials, modern technology, and skilled labor. As a result, the Filipino peasantry has been prevented from attaining food security, food sovereignty, and from their rights to safe, healthy, and ecologically sustainable production. The rich and powerful nations have been interested in the country as a source of cheap raw materials, cheap labor, and a market for their surplus goods and capital. This has had a negative impact on the Filipino peasantry, who have been left to face the consequences of imperialism."})]})})})]}),F("label",{htmlFor:"spanish-card-checkbox-toggle-2",className:"spanish-2",children:[F("div",{className:"spanish-card-btn",children:[y("div",{className:"spanish-card-image",children:y("img",{className:"spanish-card-image-img",src:"https://media.giphy.com/media/1VYWbsZGOYfAYa31dR/giphy.gif"})}),y("div",{className:"spanish-card-title",children:y("div",{className:"spanish-card-p",children:"Feudalism"})})]}),y("div",{className:"spanish-card-modal-container",children:y("div",{className:"spanish-card-modal",children:F("div",{className:"spanish-card-modal-p-container",children:[y("h2",{className:"spanish-card-modal-h3",children:"Feudalism"}),y("p",{children:"Feudalism is another issue that has affected the material conditions of the Filipino peasantry. In this system, agricultural lands are monopolized by a few landlords, leaving vast tracts of land to be tilled by the peasantry. This system has led to landlessness and food insecurity for the Filipino peasantry, who face exploitation through high land rent and high-interest and loan rates, slavery, cheap labor and products, and backward farming methods. This has resulted in an unequal distribution of wealth and power, with the Filipino peasantry being left behind."})]})})})]}),F("label",{htmlFor:"spanish-card-checkbox-toggle-3",className:"spanish-3",children:[F("div",{className:"spanish-card-btn",children:[y("div",{className:"spanish-card-image",children:y("img",{className:"spanish-card-image-img",src:"https://media.giphy.com/media/MCiJ3dGpVcH0YPL82B/giphy.gif"})}),y("div",{className:"spanish-card-title",children:y("div",{className:"spanish-card-p",children:"Bureaucrat-Capitalism"})})]}),y("div",{className:"spanish-card-modal-container",children:y("div",{className:"spanish-card-modal",children:F("div",{className:"spanish-card-modal-p-container",children:[y("h2",{className:"spanish-card-modal-h3",children:"Bureaucrat-Capitalism"}),y("p",{children:"Bureaucrat-capitalism is a phenomenon where the government operates as a business and enriches those sitting in power. Most top bureaucrats are in national, provincial, and municipal governments. The bureaucrat capitalists direct the operation of the reactionary state, wielding political power to serve imperialists, landlords, and the large comprador bourgeoisie. They also harness their position to loot from the people's money and expand land ownership and their businesses. This has led to the concentration of power and wealth in the hands of a few, further exacerbating the already prevalent issues of imperialism and feudalism."})]})})})]})]})]})},zAe=()=>y("div",{children:y(FAe,{})}),UAe={position:"fixed",overflow:"hidden",display:"flex",top:"50%",left:"50%",zIndex:1e3},GAe={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .3)",backdropFilter:"blur(2px)",zIndex:1e3};function HAe({open:n,onClose:e}){return n?ws.createPortal(F(Fo,{children:[y("div",{onClick:e}),y("div",{style:GAe,onClick:e}),y("div",{style:UAe,children:y("div",{className:"sol-modal-container",children:F("div",{className:"sol-modal-text",children:[y("h2",{className:"sol-modal-h2",children:"Chapter 5"}),y("h3",{className:"sol-modal-h3",children:"Solutions to the Problems"}),y("p",{className:"sol-modal-p",children:"There haven't been any agrarian reform policies that truly aim to answer the demand of Filipino farmers, which are free land distribution and social justice. Having said that, the Genuine Agrarian Reform Program (GARB) will implement these two, addressing landlessness and rural poverty."}),y("p",{className:"sol-modal-p",children:"With this bill, if passed, it will break up the monopoly of a few landowners and foreign control of agricultural lands, eliminate all forms of oppression and exploitation in the countryside, and pave the way for social justice."}),y("p",{className:"sol-modal-p",children:y("i",{children:"To know more, open the Chapter Guide found at the top-right of your screen."})})]})})})]}),document.getElementById("portal")):null}const VAe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function YP(n){return`scale(${n}, ${n**2})`}const WAe={entering:{opacity:1,transform:YP(1)},entered:{opacity:1,transform:"none"}},bA=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),mj=k.forwardRef(function(e,t){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:f,onExiting:m,style:g,timeout:v="auto",TransitionComponent:_=FG}=e,x=Kn(e,VAe),w=k.useRef(),S=k.useRef(),E=Jv(),A=k.useRef(null),P=_a(A,s.ref,t),I=K=>Q=>{if(K){const te=A.current;Q===void 0?K(te):K(te,Q)}},T=I(u),R=I((K,Q)=>{Dte(K);const{duration:te,delay:D,easing:$}=sb({style:g,timeout:v,easing:o},{mode:"enter"});let X;v==="auto"?(X=E.transitions.getAutoHeightDuration(K.clientHeight),S.current=X):X=te,K.style.transition=[E.transitions.create("opacity",{duration:X,delay:D}),E.transitions.create("transform",{duration:bA?X:X*.666,delay:D,easing:$})].join(","),l&&l(K,Q)}),O=I(c),L=I(m),J=I(K=>{const{duration:Q,delay:te,easing:D}=sb({style:g,timeout:v,easing:o},{mode:"exit"});let $;v==="auto"?($=E.transitions.getAutoHeightDuration(K.clientHeight),S.current=$):$=Q,K.style.transition=[E.transitions.create("opacity",{duration:$,delay:te}),E.transitions.create("transform",{duration:bA?$:$*.666,delay:bA?te:te||$*.333,easing:D})].join(","),K.style.opacity=0,K.style.transform=YP(.75),d&&d(K)}),j=I(f),V=K=>{v==="auto"&&(w.current=setTimeout(K,S.current||0)),r&&r(A.current,K)};return k.useEffect(()=>()=>{clearTimeout(w.current)},[]),y(_,Ce({appear:i,in:a,nodeRef:A,onEnter:R,onEntered:O,onEntering:T,onExit:J,onExited:j,onExiting:L,addEndListener:V,timeout:v==="auto"?null:v},x,{children:(K,Q)=>k.cloneElement(s,Ce({style:Ce({opacity:0,transform:YP(.75),visibility:K==="exited"&&!a?"hidden":void 0},WAe[K],g,s.props.style),ref:P},Q))}))});mj.muiSupportAuto=!0;const E4=mj,jAe=["components","componentsProps","slots","slotProps"],$Ae=sn(IY,{name:"MuiPopper",slot:"Root",overridesResolver:(n,e)=>e.root})({}),JAe=k.forwardRef(function(e,t){var r;const i=CG(),s=Qr({props:e,name:"MuiPopper"}),{components:o,componentsProps:a,slots:l,slotProps:c}=s,u=Kn(s,jAe),d=(r=l==null?void 0:l.root)!=null?r:o==null?void 0:o.Root;return y($Ae,Ce({direction:i==null?void 0:i.direction,slots:{root:d},slotProps:c??a},u,{ref:t}))}),gj=JAe;function KAe(n){return Xr("MuiTooltip",n)}const XAe=Yr("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),el=XAe,YAe=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function qAe(n){return Math.round(n*1e5)/1e5}const QAe=n=>{const{classes:e,disableInteractive:t,arrow:r,touch:i,placement:s}=n,o={popper:["popper",!t&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${pr(s.split("-")[0])}`],arrow:["arrow"]};return ui(o,KAe,e)},ZAe=sn(gj,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.popper,!t.disableInteractive&&e.popperInteractive,t.arrow&&e.popperArrow,!t.open&&e.popperClose]}})(({theme:n,ownerState:e,open:t})=>Ce({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!t&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${el.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${el.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${el.arrow}`]:Ce({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${el.arrow}`]:Ce({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),eMe=sn("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.tooltip,t.touch&&e.touch,t.arrow&&e.tooltipArrow,e[`tooltipPlacement${pr(t.placement.split("-")[0])}`]]}})(({theme:n,ownerState:e})=>Ce({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:Tf(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${qAe(16/14)}em`,fontWeight:n.typography.fontWeightRegular},{[`.${el.popper}[data-popper-placement*="left"] &`]:Ce({transformOrigin:"right center"},e.isRtl?Ce({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):Ce({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${el.popper}[data-popper-placement*="right"] &`]:Ce({transformOrigin:"left center"},e.isRtl?Ce({marginRight:"14px"},e.touch&&{marginRight:"24px"}):Ce({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${el.popper}[data-popper-placement*="top"] &`]:Ce({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${el.popper}[data-popper-placement*="bottom"] &`]:Ce({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),tMe=sn("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(n,e)=>e.arrow})(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:Tf(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let X_=!1,wA=null,Fm={x:0,y:0};function Y_(n,e){return t=>{e&&e(t),n(t)}}const nMe=k.forwardRef(function(e,t){var r,i,s,o,a,l,c,u,d,f,m,g,v,_,x,w,S,E,A;const P=Qr({props:e,name:"MuiTooltip"}),{arrow:I=!1,children:T,components:R={},componentsProps:O={},describeChild:L=!1,disableFocusListener:J=!1,disableHoverListener:j=!1,disableInteractive:V=!1,disableTouchListener:K=!1,enterDelay:Q=100,enterNextDelay:te=0,enterTouchDelay:D=700,followCursor:$=!1,id:X,leaveDelay:ue=0,leaveTouchDelay:Y=1500,onClose:pe,onOpen:ye,open:ne,placement:fe="bottom",PopperComponent:Ee,PopperProps:Re={},slotProps:Me={},slots:Ue={},title:Ge,TransitionComponent:me=E4,TransitionProps:_e}=P,ke=Kn(P,YAe),$e=Jv(),Fe=$e.direction==="rtl",[Ye,Xe]=k.useState(),[et,at]=k.useState(null),it=k.useRef(!1),G=V||$,B=k.useRef(),ae=k.useRef(),Te=k.useRef(),Ie=k.useRef(),[De,xe]=XR({controlled:ne,default:!1,name:"Tooltip",state:"open"});let ie=De;const oe=$5(X),Ne=k.useRef(),W=k.useCallback(()=>{Ne.current!==void 0&&(document.body.style.WebkitUserSelect=Ne.current,Ne.current=void 0),clearTimeout(Ie.current)},[]);k.useEffect(()=>()=>{clearTimeout(B.current),clearTimeout(ae.current),clearTimeout(Te.current),W()},[W]);const de=lt=>{clearTimeout(wA),X_=!0,xe(!0),ye&&!ie&&ye(lt)},Ae=Ya(lt=>{clearTimeout(wA),wA=setTimeout(()=>{X_=!1},800+ue),xe(!1),pe&&ie&&pe(lt),clearTimeout(B.current),B.current=setTimeout(()=>{it.current=!1},$e.transitions.duration.shortest)}),Oe=lt=>{it.current&&lt.type!=="touchstart"||(Ye&&Ye.removeAttribute("title"),clearTimeout(ae.current),clearTimeout(Te.current),Q||X_&&te?ae.current=setTimeout(()=>{de(lt)},X_?te:Q):de(lt))},nt=lt=>{clearTimeout(ae.current),clearTimeout(Te.current),Te.current=setTimeout(()=>{Ae(lt)},ue)},{isFocusVisibleRef:bt,onBlur:un,onFocus:q,ref:ee}=YR(),[,Pe]=k.useState(!1),Ke=lt=>{un(lt),bt.current===!1&&(Pe(!1),nt(lt))},Qe=lt=>{Ye||Xe(lt.currentTarget),q(lt),bt.current===!0&&(Pe(!0),Oe(lt))},on=lt=>{it.current=!0;const Nn=T.props;Nn.onTouchStart&&Nn.onTouchStart(lt)},Fn=Oe,_r=nt,Ni=lt=>{on(lt),clearTimeout(Te.current),clearTimeout(B.current),W(),Ne.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ie.current=setTimeout(()=>{document.body.style.WebkitUserSelect=Ne.current,Oe(lt)},D)},Cn=lt=>{T.props.onTouchEnd&&T.props.onTouchEnd(lt),W(),clearTimeout(Te.current),Te.current=setTimeout(()=>{Ae(lt)},Y)};k.useEffect(()=>{if(!ie)return;function lt(Nn){(Nn.key==="Escape"||Nn.key==="Esc")&&Ae(Nn)}return document.addEventListener("keydown",lt),()=>{document.removeEventListener("keydown",lt)}},[Ae,ie]);const ei=_a(T.ref,ee,Xe,t);!Ge&&Ge!==0&&(ie=!1);const di=k.useRef(),Tp=lt=>{const Nn=T.props;Nn.onMouseMove&&Nn.onMouseMove(lt),Fm={x:lt.clientX,y:lt.clientY},di.current&&di.current.update()},Aa={},Sl=typeof Ge=="string";L?(Aa.title=!ie&&Sl&&!j?Ge:null,Aa["aria-describedby"]=ie?oe:null):(Aa["aria-label"]=Sl?Ge:null,Aa["aria-labelledby"]=ie&&!Sl?oe:null);const z=Ce({},Aa,ke,T.props,{className:Dt(ke.className,T.props.className),onTouchStart:on,ref:ei},$?{onMouseMove:Tp}:{}),le={};K||(z.onTouchStart=Ni,z.onTouchEnd=Cn),j||(z.onMouseOver=Y_(Fn,z.onMouseOver),z.onMouseLeave=Y_(_r,z.onMouseLeave),G||(le.onMouseOver=Fn,le.onMouseLeave=_r)),J||(z.onFocus=Y_(Qe,z.onFocus),z.onBlur=Y_(Ke,z.onBlur),G||(le.onFocus=Qe,le.onBlur=Ke));const ge=k.useMemo(()=>{var lt;let Nn=[{name:"arrow",enabled:Boolean(et),options:{element:et,padding:4}}];return(lt=Re.popperOptions)!=null&&lt.modifiers&&(Nn=Nn.concat(Re.popperOptions.modifiers)),Ce({},Re.popperOptions,{modifiers:Nn})},[et,Re]),se=Ce({},P,{isRtl:Fe,arrow:I,disableInteractive:G,placement:fe,PopperComponentProp:Ee,touch:it.current}),be=QAe(se),ot=(r=(i=Ue.popper)!=null?i:R.Popper)!=null?r:ZAe,ft=(s=(o=(a=Ue.transition)!=null?a:R.Transition)!=null?o:me)!=null?s:E4,vt=(l=(c=Ue.tooltip)!=null?c:R.Tooltip)!=null?l:eMe,wt=(u=(d=Ue.arrow)!=null?d:R.Arrow)!=null?u:tMe,Ft=Vm(ot,Ce({},Re,(f=Me.popper)!=null?f:O.popper,{className:Dt(be.popper,Re==null?void 0:Re.className,(m=(g=Me.popper)!=null?g:O.popper)==null?void 0:m.className)}),se),Tt=Vm(ft,Ce({},_e,(v=Me.transition)!=null?v:O.transition),se),kt=Vm(vt,Ce({},(_=Me.tooltip)!=null?_:O.tooltip,{className:Dt(be.tooltip,(x=(w=Me.tooltip)!=null?w:O.tooltip)==null?void 0:x.className)}),se),zn=Vm(wt,Ce({},(S=Me.arrow)!=null?S:O.arrow,{className:Dt(be.arrow,(E=(A=Me.arrow)!=null?A:O.arrow)==null?void 0:E.className)}),se);return F(k.Fragment,{children:[k.cloneElement(T,z),y(ot,Ce({as:Ee??gj,placement:fe,anchorEl:$?{getBoundingClientRect:()=>({top:Fm.y,left:Fm.x,right:Fm.x,bottom:Fm.y,width:0,height:0})}:Ye,popperRef:di,open:Ye?ie:!1,id:oe,transition:!0},le,Ft,{popperOptions:ge,children:({TransitionProps:lt})=>y(ft,Ce({timeout:$e.transitions.duration.shorter},lt,Tt,{children:F(vt,Ce({},kt,{children:[Ge,I?y(wt,Ce({},zn,{ref:at})):null]}))}))}))]})}),rMe=nMe;function iMe(n){const e=k.useRef(),{nodes:t,materials:r,animations:i}=Zr("/FreeLand.glb");return hj(i,e),y("group",{ref:e,...n,dispose:null,children:y("group",{name:"Scene",children:F("group",{name:"pCube13",position:[0,0,.5],rotation:[3.3,0,.98],scale:[3.08,3.08,.12],children:[y("mesh",{name:"Mesh001",castShadow:!0,receiveShadow:!0,geometry:t.Mesh001.geometry,material:r.Material}),y("mesh",{name:"Mesh001_1",castShadow:!0,receiveShadow:!0,geometry:t.Mesh001_1.geometry,material:r.lambert1}),y("mesh",{name:"Mesh001_2",castShadow:!0,receiveShadow:!0,geometry:t.Mesh001_2.geometry,material:r["lambert1.001"]})]})})})}Zr.preload("/FreeLand.glb");function sMe(n){const e=k.useRef(),{nodes:t,materials:r,animations:i}=Zr("/SignBoard.glb");return hj(i,e),y("group",{ref:e,...n,dispose:null,children:y("group",{name:"Scene",children:F("group",{name:"Cylinder",position:[0,-.8,0],rotation:[0,.6,0],scale:.12,children:[y("mesh",{name:"Cylinder_1",castShadow:!0,receiveShadow:!0,geometry:t.Cylinder_1.geometry,material:r["Yellow stone"]}),y("mesh",{name:"Cylinder_2",castShadow:!0,receiveShadow:!0,geometry:t.Cylinder_2.geometry,material:r["Sign board"]})]})})})}Zr.preload("/SignBoard.glb");function oMe(n){const{nodes:e,materials:t}=Zr("/Shield.glb");return y("group",{...n,dispose:null,children:F("group",{position:[0,0,0],rotation:[1.49,.11,-.62],scale:2,children:[y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh066.geometry,material:t["lambert1.003"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh066_1.geometry,material:t.lambert2})]})})}Zr.preload("/Shield.glb");function aMe(n){const{nodes:e,materials:t}=Zr("/Benefits.glb");return y("group",{...n,dispose:null,children:F("group",{position:[0,-1.5,0],rotation:[.69182672,.12655814,.25218323],scale:[.07854235,.07854234,.07854234],children:[y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017.geometry,material:t.Hands}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_1.geometry,material:t["pasted__Material.005"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_2.geometry,material:t["pasted__Material.004"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_3.geometry,material:t["pasted__Material.010"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_4.geometry,material:t["pasted__Material.007"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_5.geometry,material:t["pasted__Material.017"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_6.geometry,material:t.he}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_7.geometry,material:t["pasted__Material.028"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_8.geometry,material:t["pasted__Material.029"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_9.geometry,material:t["pasted__Material.001"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_10.geometry,material:t["pasted__Material.033"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_11.geometry,material:t.pasted__Material}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_12.geometry,material:t["pasted__Material.035"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_13.geometry,material:t["pasted__Material.036"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_14.geometry,material:t.Coin}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_15.geometry,material:t.pasted__lambert5}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_16.geometry,material:t["Material.001"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh017_17.geometry,material:t["Material.003"]})]})})}Zr.preload("/Benefits.glb");function lMe(n){const{nodes:e,materials:t}=Zr("/PiggyBank.glb");return y("group",{...n,dispose:null,children:y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.pasted__Piggy_Bank001.geometry,material:t.Pig,position:[0,-1.5,0],rotation:[0,.56,0],scale:.04})})}Zr.preload("/PiggyBank.glb");function cMe(n){const{nodes:e,materials:t}=Zr("/Gear.glb");return y("group",{...n,dispose:null,children:y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cylinder002.geometry,material:t.Gear,position:[0,0,0],rotation:[1.4,0,-.7],scale:[1.68,.31,1.68]})})}Zr.preload("/Gear.glb");function uMe(n){const{nodes:e,materials:t}=Zr("/Factory.glb");return y("group",{...n,dispose:null,children:F("group",{position:[0,0,0],rotation:[3,1.03,-3.05],scale:.09,children:[y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053.geometry,material:t.Walls}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053_1.geometry,material:t.Windows}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053_2.geometry,material:t["Sliding door"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053_3.geometry,material:t.Borders}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053_4.geometry,material:t.Door}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053_5.geometry,material:t["More chimneys"]}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053_6.geometry,material:t.Smoke}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053_7.geometry,material:t.Chimneys}),y("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mesh053_8.geometry,material:t.Stairs})]})})}Zr.preload("/Factory.glb");const yu=sn(({className:n,...e})=>y(rMe,{...e,classes:{popper:n}}))(({theme:n})=>({[`& .${el.tooltip}`]:{backgroundColor:"#efcc42",color:"white",maxWidth:220,fontSize:n.typography.pxToRem(12),boxShadow:"0px 0px 10px 3px #d8a408",border:"none"}})),dMe=()=>{k.useState(!1),k.useState(!1);const[n,e]=k.useState(!1);return mt.useRef(),y("div",{className:"hehe",children:F("div",{className:"dev-cards-container",children:[" ",F("div",{className:"dev-cards-list",children:[F("div",{className:"page-header-container",children:[F("h1",{className:"page-header-title",children:["chapter5",y("sup",{children:y("button",{className:"about-ch",onClick:()=>e(!0),children:"?"})})]}),y("p",{className:"page-header-subtitle",children:"solutions"}),y(HAe,{open:n,onClose:()=>e(!1)})]}),y(yu,{title:y(mt.Fragment,{children:y(We,{color:"inherit",children:"Free land distribution"})}),children:y("div",{className:"dev-1 sol-btn",children:y("label",{children:y("div",{className:"dev-card-btn",children:y("div",{className:"sol-card-image",children:F(Hl,{className:"model-viewer",style:{width:"13vw",height:"13vw",padding:"0",margin:"0",borderRadius:"2vh",border:"1vh solid lightyellow",background:"linear-gradient(#f1ede6 10%,rgba(220, 208, 181)100%)",top:"0",hover:{boxShadow:"0px 0px 100px 100px red"}},children:[F(k.Suspense,{fallback:null,children:[y(iMe,{rotation:[30,0,0]}),y(Wl,{preset:"sunset"})]}),y(Vl,{})]})})})})})}),y(yu,{title:y(mt.Fragment,{children:y(We,{color:"inherit",children:"No exemptions"})}),children:y("label",{className:"dev-2 sol-btn",children:y("div",{className:"dev-card-btn",children:y("div",{className:"sol-card-image",children:F(Hl,{className:"model-viewer",style:{width:"13vw",height:"13vw",padding:"0",margin:"0",borderRadius:"2vh",border:"1vh solid lightyellow",background:"linear-gradient(#f1ede6 10%,rgba(220, 208, 181)100%)",top:"0",hover:{boxShadow:"0px 0px 100px 100px red"}},children:[F(k.Suspense,{fallback:null,children:[y(sMe,{}),y(Wl,{preset:"sunset"})]}),y(Vl,{})]})})})})}),y(yu,{title:y(mt.Fragment,{children:y(We,{color:"inherit",children:"Land protection"})}),children:y("label",{className:"dev-3 sol-btn",children:y("div",{className:"dev-card-btn",children:y("div",{className:"sol-card-image",children:F(Hl,{className:"model-viewer",style:{width:"13vw",height:"13vw",padding:"0",margin:"0",borderRadius:"2vh",border:"1vh solid lightyellow",background:"linear-gradient(#f1ede6 10%,rgba(220, 208, 181)100%)",top:"0",hover:{boxShadow:"0px 0px 100px 100px red"}},children:[F(k.Suspense,{fallback:null,children:[y(oMe,{}),y(Wl,{preset:"sunset"})]}),y(Vl,{})]})})})})}),y(yu,{title:y(mt.Fragment,{children:y(We,{color:"inherit",children:"Additional support"})}),children:y("label",{className:"dev-4 sol-btn",children:y("div",{className:"dev-card-btn",children:y("div",{className:"sol-card-image",children:F(Hl,{className:"model-viewer",style:{width:"13vw",height:"13vw",padding:"0",margin:"0",borderRadius:"2vh",border:"1vh solid lightyellow",background:"linear-gradient(#f1ede6 10%,rgba(220, 208, 181)100%)",top:"0",hover:{boxShadow:"0px 0px 100px 100px red"}},children:[F(k.Suspense,{fallback:null,children:[y(aMe,{}),y(Wl,{preset:"sunset"})]}),y(Vl,{})]})})})})}),y(yu,{title:y(mt.Fragment,{children:y(We,{color:"inherit",children:"Agriworker support"})}),children:y("label",{className:"dev-5 sol-btn",children:y("div",{className:"dev-card-btn",children:y("div",{className:"sol-card-image",children:F(Hl,{className:"model-viewer",style:{width:"13vw",height:"13vw",padding:"0",margin:"0",borderRadius:"2vh",border:"1vh solid lightyellow",background:"linear-gradient(#f1ede6 10%,rgba(220, 208, 181)100%)",top:"0",hover:{boxShadow:"0px 0px 100px 100px red"}},children:[F(k.Suspense,{fallback:null,children:[y(lMe,{}),y(Wl,{preset:"sunset"})]}),y(Vl,{})]})})})})}),y(yu,{title:y(mt.Fragment,{children:y(We,{color:"inherit",children:"Farmer participation"})}),children:y("label",{className:"dev-6 sol-btn",children:y("div",{className:"dev-card-btn",children:y("div",{className:"sol-card-image",children:F(Hl,{className:"model-viewer",style:{width:"13vw",height:"13vw",padding:"0",margin:"0",borderRadius:"2vh",border:"1vh solid lightyellow",background:"linear-gradient(#f1ede6 10%,rgba(220, 208, 181)100%)",top:"0",hover:{boxShadow:"0px 0px 100px 100px red"}},children:[F(k.Suspense,{fallback:null,children:[y(cMe,{}),y(Wl,{preset:"sunset"})]}),y(Vl,{})]})})})})}),y(yu,{title:y(mt.Fragment,{children:y(We,{color:"inherit",children:"National Industrialization"})}),children:y("label",{className:"dev-7 sol-btn",children:y("div",{className:"dev-card-btn",children:y("div",{className:"sol-card-image",children:F(Hl,{className:"model-viewer",style:{width:"13vw",height:"13vw",padding:"0",margin:"0",borderRadius:"2vh",border:"1vh solid lightyellow",background:"linear-gradient(#f1ede6 10%,rgba(220, 208, 181)100%)",top:"0",hover:{boxShadow:"0px 0px 100px 100px red"}},children:[F(k.Suspense,{fallback:null,children:[y(uMe,{}),y(Wl,{preset:"sunset"})]}),y(Vl,{})]})})})})})]})]})})},hMe=()=>y(Fo,{children:y(g0e,{children:F(IK,{children:[y(vs,{path:"/",element:y(B0e,{})}),y(vs,{path:"/chapters-directory",element:y(e6,{})}),y(vs,{path:"/chapters-directory/chapter-1",element:y(U8,{})}),y(vs,{path:"/chapters-directory/chapter-2",element:y(z0e,{})}),y(vs,{path:"/chapters-directory/chapter-2/pre-colonial",element:y(TAe,{})}),y(vs,{path:"/chapters-directory/chapter-2/pre-colonial/2",element:y(PAe,{})}),y(vs,{path:"/chapters-directory/chapter-2/spanish",element:y(U0e,{})}),y(vs,{path:"/chapters-directory/chapter-2/american",element:y(G0e,{})}),y(vs,{path:"/chapters-directory/chapter-2/philippines",element:y(H0e,{})}),y(vs,{path:"/chapters-directory/chapter-3",element:y(OAe,{})}),y(vs,{path:"/chapters-directory/chapter-4",element:y(zAe,{})}),y(vs,{path:"/chapters-directory/chapter-5",element:y(dMe,{})})]})})});SA.createRoot(document.getElementById("root")).render(y(mt.StrictMode,{children:y(BK,{children:y(hMe,{})})}));
